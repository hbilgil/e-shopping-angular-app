var S7=Object.defineProperty,T7=(d,h,p)=>h in d?S7(d,h,{enumerable:!0,configurable:!0,writable:!0,value:p}):d[h]=p,yn=(d,h,p)=>(T7(d,"symbol"!=typeof h?h+"":h,p),p);(self.webpackChunke_shopping_angular_app=self.webpackChunke_shopping_angular_app||[]).push([[179],{2011:(d,h,p)=>{"use strict";p.d(h,{Dh:()=>z,GT:()=>L,cc:()=>K,hO:()=>j,on:()=>P,pX:()=>F,xv:()=>Q});var s=p(4650),y=p(127),w=p(5813);d=p.hmd(d);const x=["ngOnDestroy"],F=(I,q,J,te={})=>new Proxy(I,{get:(ne,me)=>J.runOutsideAngular(()=>{var Pe;if(I[me])return!(null===(Pe=te?.spy)||void 0===Pe)&&Pe.get&&te.spy.get(me,I[me]),I[me];if(x.indexOf(me)>-1)return()=>{};const _e=q.toPromise().then(ve=>{const Ie=ve&&ve[me];return"function"==typeof Ie?Ie.bind(ve):Ie&&Ie.then?Ie.then(be=>J.run(()=>be)):J.run(()=>Ie)});return new Proxy(()=>{},{get:(ve,Ie)=>_e[Ie],apply:(ve,Ie,be)=>_e.then(de=>{var ae;const X=de&&de(...be);return!(null===(ae=te?.spy)||void 0===ae)&&ae.apply&&te.spy.apply(me,be,X),X})})})}),L=(I,q)=>{q.forEach(J=>{Object.getOwnPropertyNames(J.prototype||J).forEach(te=>{Object.defineProperty(I.prototype,te,Object.getOwnPropertyDescriptor(J.prototype||J,te))})})};class H{constructor(q){return q}}const z=new s.OlP("angularfire2.app.options"),Q=new s.OlP("angularfire2.app.name");function P(I,q,J){const ne="object"==typeof J&&J||{};ne.name=ne.name||"string"==typeof J&&J||"[DEFAULT]";const Pe=y.Z.apps.filter(_e=>_e&&_e.name===ne.name)[0]||q.runOutsideAngular(()=>y.Z.initializeApp(I,ne));try{JSON.stringify(I)!==JSON.stringify(Pe.options)&&U("error",`${Pe.name} Firebase App already initialized with different options${d.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new H(Pe)}const U=(I,...q)=>{(0,s.X6Q)()&&typeof console<"u"&&console[I](...q)},G={provide:H,useFactory:P,deps:[z,s.R0b,[new s.FiY,Q]]};let j=(()=>{class I{constructor(J){y.Z.registerVersion("angularfire",w.q4.full,"core"),y.Z.registerVersion("angularfire",w.q4.full,"app-compat"),y.Z.registerVersion("angular",s.q4F.full,J.toString())}static initializeApp(J,te){return{ngModule:I,providers:[{provide:z,useValue:J},{provide:Q,useValue:te}]}}}return I.\u0275fac=function(J){return new(J||I)(s.LFG(s.Lbi))},I.\u0275mod=s.oAB({type:I}),I.\u0275inj=s.cJS({providers:[G]}),I})();function K(I,q,J,te,ne){const[,me,Pe]=globalThis.\u0275AngularfireInstanceCache.find(_e=>_e[0]===I)||[];if(me)return function A(I,q){try{return I.toString()===q.toString()}catch{return I===q}}(ne,Pe)||(T("error",`${q} was already initialized on the ${J} Firebase App with different settings.${O?" You may need to reload as Firebase is not HMR aware.":""}`),T("warn",{is:ne,was:Pe})),me;{const _e=te();return globalThis.\u0275AngularfireInstanceCache.push([I,_e,ne]),_e}}const O=!!d.hot,T=(I,...q)=>{(0,s.X6Q)()&&typeof console<"u"&&console[I](...q)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(d,h,p)=>{"use strict";p.d(h,{q4:()=>zi,iC:()=>Lo,fc:()=>ed,HU:()=>dl,vb:()=>Zc,JM:()=>nc});var s=p(4650),y=p(5867),w=p(5861),x=p(9681),F=p(2090),L=p(4859),H=p(1877),z=p(8766);const Q="@firebase/installations",P="0.5.16",G=`w:${P}`,j="FIS_v2",q=new F.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function J($){return $ instanceof F.ZR&&$.code.includes("request-failed")}function te({projectId:$}){return`https://firebaseinstallations.googleapis.com/v1/projects/${$}/installations`}function ne($){return{token:$.token,requestStatus:2,expiresIn:de($.expiresIn),creationTime:Date.now()}}function me($,Z){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,w.Z)(function*($,Z){const Ee=(yield Z.json()).error;return q.create("request-failed",{requestName:$,serverCode:Ee.code,serverMessage:Ee.message,serverStatus:Ee.status})})).apply(this,arguments)}function _e({apiKey:$}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$})}function ve($,{refreshToken:Z}){const oe=_e($);return oe.append("Authorization",function ae($){return`${j} ${$}`}(Z)),oe}function Ie($){return be.apply(this,arguments)}function be(){return(be=(0,w.Z)(function*($){const Z=yield $();return Z.status>=500&&Z.status<600?$():Z})).apply(this,arguments)}function de($){return Number($.replace("s","000"))}function X($,Z){return ee.apply(this,arguments)}function ee(){return(ee=(0,w.Z)(function*({appConfig:$,heartbeatServiceProvider:Z},{fid:oe}){const Ee=te($),Oe=_e($),Be=Z.getImmediate({optional:!0});if(Be){const Qt=yield Be.getHeartbeatsHeader();Qt&&Oe.append("x-firebase-client",Qt)}const ct={method:"POST",headers:Oe,body:JSON.stringify({fid:oe,authVersion:j,appId:$.appId,sdkVersion:G})},Lt=yield Ie(()=>fetch(Ee,ct));if(Lt.ok){const Qt=yield Lt.json();return{fid:Qt.fid||oe,registrationStatus:2,refreshToken:Qt.refreshToken,authToken:ne(Qt.authToken)}}throw yield me("Create Installation",Lt)})).apply(this,arguments)}function ue($){return new Promise(Z=>{setTimeout(Z,$)})}const ke=/^[cdef][\w-]{21}$/;function $e(){try{const $=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues($),$[0]=112+$[0]%16;const oe=function ut($){return function Re($){return btoa(String.fromCharCode(...$)).replace(/\+/g,"-").replace(/\//g,"_")}($).substr(0,22)}($);return ke.test(oe)?oe:""}catch{return""}}function Ut($){return`${$.appName}!${$.appId}`}const St=new Map;function Ot($,Z){const oe=Ut($);Sn(oe,Z),function sn($,Z){const oe=function at(){return!In&&"BroadcastChannel"in self&&(In=new BroadcastChannel("[Firebase] FID Change"),In.onmessage=$=>{Sn($.data.key,$.data.fid)}),In}();oe&&oe.postMessage({key:$,fid:Z}),function _n(){0===St.size&&In&&(In.close(),In=null)}()}(oe,Z)}function Sn($,Z){const oe=St.get($);if(oe)for(const Ee of oe)Ee(Z)}let In=null;const cn="firebase-installations-store";let jn=null;function mn(){return jn||(jn=(0,z.X3)("firebase-installations-database",1,{upgrade:($,Z)=>{0===Z&&$.createObjectStore(cn)}})),jn}function nt($,Z){return vn.apply(this,arguments)}function vn(){return(vn=(0,w.Z)(function*($,Z){const oe=Ut($),Oe=(yield mn()).transaction(cn,"readwrite"),Be=Oe.objectStore(cn),Qe=yield Be.get(oe);return yield Be.put(Z,oe),yield Oe.done,(!Qe||Qe.fid!==Z.fid)&&Ot($,Z.fid),Z})).apply(this,arguments)}function Dn($){return $t.apply(this,arguments)}function $t(){return($t=(0,w.Z)(function*($){const Z=Ut($),Ee=(yield mn()).transaction(cn,"readwrite");yield Ee.objectStore(cn).delete(Z),yield Ee.done})).apply(this,arguments)}function Ln($,Z){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,w.Z)(function*($,Z){const oe=Ut($),Oe=(yield mn()).transaction(cn,"readwrite"),Be=Oe.objectStore(cn),Qe=yield Be.get(oe),ct=Z(Qe);return void 0===ct?yield Be.delete(oe):yield Be.put(ct,oe),yield Oe.done,ct&&(!Qe||Qe.fid!==ct.fid)&&Ot($,ct.fid),ct})).apply(this,arguments)}function an($){return wn.apply(this,arguments)}function wn(){return(wn=(0,w.Z)(function*($){let Z;const oe=yield Ln($.appConfig,Ee=>{const Oe=xn(Ee),Be=Tt($,Oe);return Z=Be.registrationPromise,Be.installationEntry});return""===oe.fid?{installationEntry:yield Z}:{installationEntry:oe,registrationPromise:Z}})).apply(this,arguments)}function xn($){return Gt($||{fid:$e(),registrationStatus:0})}function Tt($,Z){if(0===Z.registrationStatus){if(!navigator.onLine)return{installationEntry:Z,registrationPromise:Promise.reject(q.create("app-offline"))};const oe={fid:Z.fid,registrationStatus:1,registrationTime:Date.now()},Ee=function rt($,Z){return Wt.apply(this,arguments)}($,oe);return{installationEntry:oe,registrationPromise:Ee}}return 1===Z.registrationStatus?{installationEntry:Z,registrationPromise:Wr($)}:{installationEntry:Z}}function Wt(){return(Wt=(0,w.Z)(function*($,Z){try{const oe=yield X($,Z);return nt($.appConfig,oe)}catch(oe){throw J(oe)&&409===oe.customData.serverCode?yield Dn($.appConfig):yield nt($.appConfig,{fid:Z.fid,registrationStatus:0}),oe}})).apply(this,arguments)}function Wr($){return ar.apply(this,arguments)}function ar(){return(ar=(0,w.Z)(function*($){let Z=yield Ur($.appConfig);for(;1===Z.registrationStatus;)yield ue(100),Z=yield Ur($.appConfig);if(0===Z.registrationStatus){const{installationEntry:oe,registrationPromise:Ee}=yield an($);return Ee||oe}return Z})).apply(this,arguments)}function Ur($){return Ln($,Z=>{if(!Z)throw q.create("installation-not-found");return Gt(Z)})}function Gt($){return function lr($){return 1===$.registrationStatus&&$.registrationTime+1e4<Date.now()}($)?{fid:$.fid,registrationStatus:0}:$}function tn($,Z){return ri.apply(this,arguments)}function ri(){return(ri=(0,w.Z)(function*({appConfig:$,heartbeatServiceProvider:Z},oe){const Ee=gn($,oe),Oe=ve($,oe),Be=Z.getImmediate({optional:!0});if(Be){const Qt=yield Be.getHeartbeatsHeader();Qt&&Oe.append("x-firebase-client",Qt)}const ct={method:"POST",headers:Oe,body:JSON.stringify({installation:{sdkVersion:G,appId:$.appId}})},Lt=yield Ie(()=>fetch(Ee,ct));if(Lt.ok)return ne(yield Lt.json());throw yield me("Generate Auth Token",Lt)})).apply(this,arguments)}function gn($,{fid:Z}){return`${te($)}/${Z}/authTokens:generate`}function wr($){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,w.Z)(function*($,Z=!1){let oe;const Ee=yield Ln($.appConfig,Be=>{if(!bn(Be))throw q.create("not-registered");const Qe=Be.authToken;if(!Z&&Ae(Qe))return Be;if(1===Qe.requestStatus)return oe=mt($,Z),Be;{if(!navigator.onLine)throw q.create("app-offline");const ct=xe(Be);return oe=At($,ct),ct}});return oe?yield oe:Ee.authToken})).apply(this,arguments)}function mt($,Z){return qe.apply(this,arguments)}function qe(){return(qe=(0,w.Z)(function*($,Z){let oe=yield yt($.appConfig);for(;1===oe.authToken.requestStatus;)yield ue(100),oe=yield yt($.appConfig);const Ee=oe.authToken;return 0===Ee.requestStatus?wr($,Z):Ee})).apply(this,arguments)}function yt($){return Ln($,Z=>{if(!bn(Z))throw q.create("not-registered");return function Ce($){return 1===$.requestStatus&&$.requestTime+1e4<Date.now()}(Z.authToken)?Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}}):Z})}function At($,Z){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,w.Z)(function*($,Z){try{const oe=yield tn($,Z),Ee=Object.assign(Object.assign({},Z),{authToken:oe});return yield nt($.appConfig,Ee),oe}catch(oe){if(!J(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const Ee=Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}});yield nt($.appConfig,Ee)}else yield Dn($.appConfig);throw oe}})).apply(this,arguments)}function bn($){return void 0!==$&&2===$.registrationStatus}function Ae($){return 2===$.requestStatus&&!function Te($){const Z=Date.now();return Z<$.creationTime||$.creationTime+$.expiresIn<Z+36e5}($)}function xe($){const Z={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},$),{authToken:Z})}function ye(){return(ye=(0,w.Z)(function*($){const Z=$,{installationEntry:oe,registrationPromise:Ee}=yield an(Z);return Ee?Ee.catch(console.error):wr(Z).catch(console.error),oe.fid})).apply(this,arguments)}function Je(){return(Je=(0,w.Z)(function*($,Z=!1){const oe=$;return yield vt(oe),(yield wr(oe,Z)).token})).apply(this,arguments)}function vt($){return bt.apply(this,arguments)}function bt(){return(bt=(0,w.Z)(function*($){const{registrationPromise:Z}=yield an($);Z&&(yield Z)})).apply(this,arguments)}function hr($){return q.create("missing-app-config-values",{valueName:$})}const bo="installations",$s=$=>{const Z=$.getProvider("app").getImmediate(),oe=function Bn($){if(!$||!$.options)throw hr("App Configuration");if(!$.name)throw hr("App Name");const Z=["projectId","apiKey","appId"];for(const oe of Z)if(!$.options[oe])throw hr(oe);return{appName:$.name,projectId:$.options.projectId,apiKey:$.options.apiKey,appId:$.options.appId}}(Z);return{app:Z,appConfig:oe,heartbeatServiceProvider:(0,x._getProvider)(Z,"heartbeat"),_delete:()=>Promise.resolve()}},Es=$=>{const Z=$.getProvider("app").getImmediate(),oe=(0,x._getProvider)(Z,bo).getImmediate();return{getId:()=>function le($){return ye.apply(this,arguments)}(oe),getToken:Oe=>function Fe($){return Je.apply(this,arguments)}(oe,Oe)}};(function Ba(){(0,x._registerComponent)(new L.wA(bo,$s,"PUBLIC")),(0,x._registerComponent)(new L.wA("installations-internal",Es,"PRIVATE"))})(),(0,x.registerVersion)(Q,P),(0,x.registerVersion)(Q,P,"esm2017");const ss="@firebase/remote-config",pr=new F.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ua{constructor(Z,oe,Ee,Oe){this.client=Z,this.storage=oe,this.storageCache=Ee,this.logger=Oe}isCachedDataFresh(Z,oe){if(!oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ee=Date.now()-oe,Oe=Ee<=Z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${Z}. Is cache hit: ${Oe}.`),Oe}fetch(Z){var oe=this;return(0,w.Z)(function*(){const[Ee,Oe]=yield Promise.all([oe.storage.getLastSuccessfulFetchTimestampMillis(),oe.storage.getLastSuccessfulFetchResponse()]);if(Oe&&oe.isCachedDataFresh(Z.cacheMaxAgeMillis,Ee))return Oe;Z.eTag=Oe&&Oe.eTag;const Be=yield oe.client.fetch(Z),Qe=[oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Be.status&&Qe.push(oe.storage.setLastSuccessfulFetchResponse(Be)),yield Promise.all(Qe),Be})()}}function Eo($=navigator){return $.languages&&$.languages[0]||$.language}class qs{constructor(Z,oe,Ee,Oe,Be,Qe){this.firebaseInstallations=Z,this.sdkVersion=oe,this.namespace=Ee,this.projectId=Oe,this.apiKey=Be,this.appId=Qe}fetch(Z){var oe=this;return(0,w.Z)(function*(){var Ee,Oe,Be;const[Qe,ct]=yield Promise.all([oe.firebaseInstallations.getId(),oe.firebaseInstallations.getToken()]),Qt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${oe.projectId}/namespaces/${oe.namespace}:fetch?key=${oe.apiKey}`,un={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Z.eTag||"*"},Vt={sdk_version:oe.sdkVersion,app_instance_id:Qe,app_instance_id_token:ct,app_id:oe.appId,language_code:Eo()},Cr={method:"POST",headers:un,body:JSON.stringify(Vt)},jr=fetch(Qt,Cr),ic=new Promise((ba,oo)=>{Z.signal.addEventListener(()=>{const pl=new Error("The operation was aborted.");pl.name="AbortError",oo(pl)})});let hl;try{yield Promise.race([jr,ic]),hl=yield jr}catch(ba){let oo="fetch-client-network";throw"AbortError"===(null===(Ee=ba)||void 0===Ee?void 0:Ee.name)&&(oo="fetch-timeout"),pr.create(oo,{originalErrorMessage:null===(Oe=ba)||void 0===Oe?void 0:Oe.message})}let fl=hl.status;const wa=hl.headers.get("ETag")||void 0;let hs,qi;if(200===hl.status){let ba;try{ba=yield hl.json()}catch(oo){throw pr.create("fetch-client-parse",{originalErrorMessage:null===(Be=oo)||void 0===Be?void 0:Be.message})}hs=ba.entries,qi=ba.state}if("INSTANCE_STATE_UNSPECIFIED"===qi?fl=500:"NO_CHANGE"===qi?fl=304:("NO_TEMPLATE"===qi||"EMPTY_CONFIG"===qi)&&(hs={}),304!==fl&&200!==fl)throw pr.create("fetch-status",{httpStatus:fl});return{status:fl,eTag:wa,config:hs}})()}}class as{constructor(Z,oe){this.client=Z,this.storage=oe}fetch(Z){var oe=this;return(0,w.Z)(function*(){const Ee=(yield oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return oe.attemptFetch(Z,Ee)})()}attemptFetch(Z,{throttleEndTimeMillis:oe,backoffCount:Ee}){var Oe=this;return(0,w.Z)(function*(){yield function _i($,Z){return new Promise((oe,Ee)=>{const Oe=Math.max(Z-Date.now(),0),Be=setTimeout(oe,Oe);$.addEventListener(()=>{clearTimeout(Be),Ee(pr.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}(Z.signal,oe);try{const Be=yield Oe.client.fetch(Z);return yield Oe.storage.deleteThrottleMetadata(),Be}catch(Be){if(!function Yd($){if(!($ instanceof F.ZR&&$.customData))return!1;const Z=Number($.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}(Be))throw Be;const Qe={throttleEndTimeMillis:Date.now()+(0,F.$s)(Ee),backoffCount:Ee+1};return yield Oe.storage.setThrottleMetadata(Qe),Oe.attemptFetch(Z,Qe)}})()}}class Lu{constructor(Z,oe,Ee,Oe,Be){this.app=Z,this._client=oe,this._storageCache=Ee,this._storage=Oe,this._logger=Be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ra($,Z){var oe;const Ee=$.target.error||void 0;return pr.create(Z,{originalErrorMessage:Ee&&(null===(oe=Ee)||void 0===oe?void 0:oe.message)})}const So="app_namespace_store";class Dc{constructor(Z,oe,Ee,Oe=function Jd(){return new Promise(($,Z)=>{var oe;try{const Ee=indexedDB.open("firebase_remote_config",1);Ee.onerror=Oe=>{Z(ra(Oe,"storage-open"))},Ee.onsuccess=Oe=>{$(Oe.target.result)},Ee.onupgradeneeded=Oe=>{0===Oe.oldVersion&&Oe.target.result.createObjectStore(So,{keyPath:"compositeKey"})}}catch(Ee){Z(pr.create("storage-open",{originalErrorMessage:null===(oe=Ee)||void 0===oe?void 0:oe.message}))}})}()){this.appId=Z,this.appName=oe,this.namespace=Ee,this.openDbPromise=Oe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Z){return this.set("last_fetch_status",Z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Z){return this.set("last_successful_fetch_timestamp_millis",Z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Z){return this.set("last_successful_fetch_response",Z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Z){return this.set("active_config",Z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Z){return this.set("active_config_etag",Z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Z){return this.set("throttle_metadata",Z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Z){var oe=this;return(0,w.Z)(function*(){const Ee=yield oe.openDbPromise;return new Promise((Oe,Be)=>{var Qe;const Lt=Ee.transaction([So],"readonly").objectStore(So),Qt=oe.createCompositeKey(Z);try{const un=Lt.get(Qt);un.onerror=Vt=>{Be(ra(Vt,"storage-get"))},un.onsuccess=Vt=>{const Cr=Vt.target.result;Oe(Cr?Cr.value:void 0)}}catch(un){Be(pr.create("storage-get",{originalErrorMessage:null===(Qe=un)||void 0===Qe?void 0:Qe.message}))}})})()}set(Z,oe){var Ee=this;return(0,w.Z)(function*(){const Oe=yield Ee.openDbPromise;return new Promise((Be,Qe)=>{var ct;const Qt=Oe.transaction([So],"readwrite").objectStore(So),un=Ee.createCompositeKey(Z);try{const Vt=Qt.put({compositeKey:un,value:oe});Vt.onerror=Cr=>{Qe(ra(Cr,"storage-set"))},Vt.onsuccess=()=>{Be()}}catch(Vt){Qe(pr.create("storage-set",{originalErrorMessage:null===(ct=Vt)||void 0===ct?void 0:ct.message}))}})})()}delete(Z){var oe=this;return(0,w.Z)(function*(){const Ee=yield oe.openDbPromise;return new Promise((Oe,Be)=>{var Qe;const Lt=Ee.transaction([So],"readwrite").objectStore(So),Qt=oe.createCompositeKey(Z);try{const un=Lt.delete(Qt);un.onerror=Vt=>{Be(ra(Vt,"storage-delete"))},un.onsuccess=()=>{Oe()}}catch(un){Be(pr.create("storage-delete",{originalErrorMessage:null===(Qe=un)||void 0===Qe?void 0:Qe.message}))}})})()}createCompositeKey(Z){return[this.appId,this.appName,this.namespace,Z].join()}}class To{constructor(Z){this.storage=Z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Z=this;return(0,w.Z)(function*(){const oe=Z.storage.getLastFetchStatus(),Ee=Z.storage.getLastSuccessfulFetchTimestampMillis(),Oe=Z.storage.getActiveConfig(),Be=yield oe;Be&&(Z.lastFetchStatus=Be);const Qe=yield Ee;Qe&&(Z.lastSuccessfulFetchTimestampMillis=Qe);const ct=yield Oe;ct&&(Z.activeConfig=ct)})()}setLastFetchStatus(Z){return this.lastFetchStatus=Z,this.storage.setLastFetchStatus(Z)}setLastSuccessfulFetchTimestampMillis(Z){return this.lastSuccessfulFetchTimestampMillis=Z,this.storage.setLastSuccessfulFetchTimestampMillis(Z)}setActiveConfig(Z){return this.activeConfig=Z,this.storage.setActiveConfig(Z)}}function Ff(){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,w.Z)(function*(){if(!(0,F.hl)())return!1;try{return yield(0,F.eu)()}catch{return!1}})).apply(this,arguments)}!function xc(){(0,x._registerComponent)(new L.wA("remote-config",function $(Z,{instanceIdentifier:oe}){const Ee=Z.getProvider("app").getImmediate(),Oe=Z.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw pr.create("registration-window");if(!(0,F.hl)())throw pr.create("indexed-db-unavailable");const{projectId:Be,apiKey:Qe,appId:ct}=Ee.options;if(!Be)throw pr.create("registration-project-id");if(!Qe)throw pr.create("registration-api-key");if(!ct)throw pr.create("registration-app-id");const Lt=new Dc(ct,Ee.name,oe=oe||"firebase"),Qt=new To(Lt),un=new H.Yd(ss);un.logLevel=H.in.ERROR;const Vt=new qs(Oe,x.SDK_VERSION,oe,Be,Qe,ct),Cr=new as(Vt,Lt),jr=new Ua(Cr,Lt,Qt,un),ic=new Lu(Ee,jr,Qt,Lt,un);return function Un($){const Z=(0,F.m9)($);Z._initializePromise||(Z._initializePromise=Z._storageCache.loadFromStorage().then(()=>{Z._isInitializationComplete=!0}))}(ic),ic},"PUBLIC").setMultipleInstances(!0)),(0,x.registerVersion)(ss,"0.3.15"),(0,x.registerVersion)(ss,"0.3.15","esm2017")}();const Or="/firebase-messaging-sw.js",Io="/firebase-cloud-messaging-push-scope",As="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ja="google.c.a.c_id",Fl="google.c.a.c_l",Mc="google.c.a.ts",Ks="google.c.a.e";var li=(()=>{return($=li||(li={})).PUSH_RECEIVED="push-received",$.NOTIFICATION_CLICKED="notification-clicked",li;var $})();function ls($){const Z=new Uint8Array($);return btoa(String.fromCharCode(...Z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ci($){const oe=($+"=".repeat((4-$.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ee=atob(oe),Oe=new Uint8Array(Ee.length);for(let Be=0;Be<Ee.length;++Be)Oe[Be]=Ee.charCodeAt(Be);return Oe}const Ys="fcm_token_details_db",Do="fcm_token_object_Store";function Xd($){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,w.Z)(function*($){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Be=>Be.name).includes(Ys))return null;let Z=null;return(yield(0,z.X3)(Ys,5,{upgrade:(Ee=(0,w.Z)(function*(Oe,Be,Qe,ct){var Lt;if(Be<2||!Oe.objectStoreNames.contains(Do))return;const Qt=ct.objectStore(Do),un=yield Qt.index("fcmSenderId").get($);if(yield Qt.clear(),un)if(2===Be){const Vt=un;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;Z={token:Vt.fcmToken,createTime:null!==(Lt=Vt.createTime)&&void 0!==Lt?Lt:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:ls(Vt.vapidKey)}}}else if(3===Be){const Vt=un;Z={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:ls(Vt.auth),p256dh:ls(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:ls(Vt.vapidKey)}}}else if(4===Be){const Vt=un;Z={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:ls(Vt.auth),p256dh:ls(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:ls(Vt.vapidKey)}}}}),function(Be,Qe,ct,Lt){return Ee.apply(this,arguments)})})).close(),yield(0,z.Lj)(Ys),yield(0,z.Lj)("fcm_vapid_details_db"),yield(0,z.Lj)("undefined"),Gn(Z)?Z:null;var Ee}),Ll.apply(this,arguments)}function Gn($){if(!$||!$.subscriptionOptions)return!1;const{subscriptionOptions:Z}=$;return"number"==typeof $.createTime&&$.createTime>0&&"string"==typeof $.token&&$.token.length>0&&"string"==typeof Z.auth&&Z.auth.length>0&&"string"==typeof Z.p256dh&&Z.p256dh.length>0&&"string"==typeof Z.endpoint&&Z.endpoint.length>0&&"string"==typeof Z.swScope&&Z.swScope.length>0&&"string"==typeof Z.vapidKey&&Z.vapidKey.length>0}const Ai="firebase-messaging-store";let xr=null;function ia(){return xr||(xr=(0,z.X3)("firebase-messaging-database",1,{upgrade:($,Z)=>{0===Z&&$.createObjectStore(Ai)}})),xr}function Ds($){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,w.Z)(function*($){const Z=vi($),Ee=yield(yield ia()).transaction(Ai).objectStore(Ai).get(Z);if(Ee)return Ee;{const Oe=yield Xd($.appConfig.senderId);if(Oe)return yield Mn($,Oe),Oe}})).apply(this,arguments)}function Mn($,Z){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,w.Z)(function*($,Z){const oe=vi($),Oe=(yield ia()).transaction(Ai,"readwrite");return yield Oe.objectStore(Ai).put(Z,oe),yield Oe.done,Z})).apply(this,arguments)}function xs($){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,w.Z)(function*($){const Z=vi($),Ee=(yield ia()).transaction(Ai,"readwrite");yield Ee.objectStore(Ai).delete(Z),yield Ee.done})).apply(this,arguments)}function vi({appConfig:$}){return $.appId}const cr=new F.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yt($,Z){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,w.Z)(function*($,Z){var oe;const Ee=yield aa($),Oe=Ke(Z),Be={method:"POST",headers:Ee,body:JSON.stringify(Oe)};let Qe;try{Qe=yield(yield fetch(Js($.appConfig),Be)).json()}catch(ct){throw cr.create("token-subscribe-failed",{errorInfo:null===(oe=ct)||void 0===oe?void 0:oe.toString()})}if(Qe.error)throw cr.create("token-subscribe-failed",{errorInfo:Qe.error.message});if(!Qe.token)throw cr.create("token-subscribe-no-token");return Qe.token})).apply(this,arguments)}function Bu($,Z){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,w.Z)(function*($,Z){var oe;const Ee=yield aa($),Oe=Ke(Z.subscriptionOptions),Be={method:"PATCH",headers:Ee,body:JSON.stringify(Oe)};let Qe;try{Qe=yield(yield fetch(`${Js($.appConfig)}/${Z.token}`,Be)).json()}catch(ct){throw cr.create("token-update-failed",{errorInfo:null===(oe=ct)||void 0===oe?void 0:oe.toString()})}if(Qe.error)throw cr.create("token-update-failed",{errorInfo:Qe.error.message});if(!Qe.token)throw cr.create("token-update-no-token");return Qe.token})).apply(this,arguments)}function Oc($,Z){return oa.apply(this,arguments)}function oa(){return(oa=(0,w.Z)(function*($,Z){var oe;const Oe={method:"DELETE",headers:yield aa($)};try{const Qe=yield(yield fetch(`${Js($.appConfig)}/${Z}`,Oe)).json();if(Qe.error)throw cr.create("token-unsubscribe-failed",{errorInfo:Qe.error.message})}catch(Be){throw cr.create("token-unsubscribe-failed",{errorInfo:null===(oe=Be)||void 0===oe?void 0:oe.toString()})}})).apply(this,arguments)}function Js({projectId:$}){return`https://fcmregistrations.googleapis.com/v1/projects/${$}/registrations`}function aa($){return xo.apply(this,arguments)}function xo(){return(xo=(0,w.Z)(function*({appConfig:$,installations:Z}){const oe=yield Z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$.apiKey,"x-goog-firebase-installations-auth":`FIS ${oe}`})})).apply(this,arguments)}function Ke({p256dh:$,auth:Z,endpoint:oe,vapidKey:Ee}){const Oe={web:{endpoint:oe,auth:Z,p256dh:$}};return Ee!==As&&(Oe.web.applicationPubKey=Ee),Oe}const dn=6048e5;function Uu($){return Po.apply(this,arguments)}function Po(){return(Po=(0,w.Z)(function*($){const Z=yield Hu($.swRegistration,$.vapidKey),oe={vapidKey:$.vapidKey,swScope:$.swRegistration.scope,endpoint:Z.endpoint,auth:ls(Z.getKey("auth")),p256dh:ls(Z.getKey("p256dh"))},Ee=yield Ds($.firebaseDependencies);if(Ee){if(ju(Ee.subscriptionOptions,oe))return Date.now()>=Ee.createTime+dn?$a($,{token:Ee.token,createTime:Date.now(),subscriptionOptions:oe}):Ee.token;try{yield Oc($.firebaseDependencies,Ee.token)}catch(Oe){console.warn(Oe)}return za($.firebaseDependencies,oe)}return za($.firebaseDependencies,oe)})).apply(this,arguments)}function ur($){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,w.Z)(function*($){const Z=yield Ds($.firebaseDependencies);Z&&(yield Oc($.firebaseDependencies,Z.token),yield xs($.firebaseDependencies));const oe=yield $.swRegistration.pushManager.getSubscription();return!oe||oe.unsubscribe()})).apply(this,arguments)}function $a($,Z){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,w.Z)(function*($,Z){try{const oe=yield Bu($.firebaseDependencies,Z),Ee=Object.assign(Object.assign({},Z),{token:oe,createTime:Date.now()});return yield Mn($.firebaseDependencies,Ee),oe}catch(oe){throw yield ur($),oe}})).apply(this,arguments)}function za($,Z){return eo.apply(this,arguments)}function eo(){return(eo=(0,w.Z)(function*($,Z){const Ee={token:yield Yt($,Z),createTime:Date.now(),subscriptionOptions:Z};return yield Mn($,Ee),Ee.token})).apply(this,arguments)}function Hu($,Z){return to.apply(this,arguments)}function to(){return(to=(0,w.Z)(function*($,Z){return(yield $.pushManager.getSubscription())||$.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ci(Z)})})).apply(this,arguments)}function ju($,Z){return Z.vapidKey===$.vapidKey&&Z.endpoint===$.endpoint&&Z.auth===$.auth&&Z.p256dh===$.p256dh}function Ps($){const Z={from:$.from,collapseKey:$.collapse_key,messageId:$.fcmMessageId};return function dr($,Z){if(!Z.notification)return;$.notification={};const oe=Z.notification.title;oe&&($.notification.title=oe);const Ee=Z.notification.body;Ee&&($.notification.body=Ee);const Oe=Z.notification.image;Oe&&($.notification.image=Oe);const Be=Z.notification.icon;Be&&($.notification.icon=Be)}(Z,$),function Hi($,Z){!Z.data||($.data=Z.data)}(Z,$),function la($,Z){var oe,Ee,Oe,Be,Qe;if(!(Z.fcmOptions||null!==(oe=Z.notification)&&void 0!==oe&&oe.click_action))return;$.fcmOptions={};const ct=null!==(Oe=null===(Ee=Z.fcmOptions)||void 0===Ee?void 0:Ee.link)&&void 0!==Oe?Oe:null===(Be=Z.notification)||void 0===Be?void 0:Be.click_action;ct&&($.fcmOptions.link=ct);const Lt=null===(Qe=Z.fcmOptions)||void 0===Qe?void 0:Qe.analytics_label;Lt&&($.fcmOptions.analyticsLabel=Lt)}(Z,$),Z}function ca($){return"object"==typeof $&&!!$&&ja in $}function wi($,Z){const oe=[];for(let Ee=0;Ee<$.length;Ee++)oe.push($.charAt(Ee)),Ee<Z.length&&oe.push(Z.charAt(Ee));return oe.join("")}function Ul($){return cr.create("missing-app-config-values",{valueName:$})}wi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nc{constructor(Z,oe,Ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Oe=function Rc($){if(!$||!$.options)throw Ul("App Configuration Object");if(!$.name)throw Ul("App Name");const Z=["projectId","apiKey","appId","messagingSenderId"],{options:oe}=$;for(const Ee of Z)if(!oe[Ee])throw Ul(Ee);return{appName:$.name,projectId:oe.projectId,apiKey:oe.apiKey,appId:oe.appId,senderId:oe.messagingSenderId}}(Z);this.firebaseDependencies={app:Z,appConfig:Oe,installations:oe,analyticsProvider:Ee}}_delete(){return Promise.resolve()}}function Gu($){return no.apply(this,arguments)}function no(){return(no=(0,w.Z)(function*($){var Z;try{$.swRegistration=yield navigator.serviceWorker.register(Or,{scope:Io}),$.swRegistration.update().catch(()=>{})}catch(oe){throw cr.create("failed-service-worker-registration",{browserErrorMessage:null===(Z=oe)||void 0===Z?void 0:Z.message})}})).apply(this,arguments)}function Hl($,Z){return ua.apply(this,arguments)}function ua(){return(ua=(0,w.Z)(function*($,Z){if(!Z&&!$.swRegistration&&(yield Gu($)),Z||!$.swRegistration){if(!(Z instanceof ServiceWorkerRegistration))throw cr.create("invalid-sw-registration");$.swRegistration=Z}})).apply(this,arguments)}function jl($,Z){return da.apply(this,arguments)}function da(){return(da=(0,w.Z)(function*($,Z){Z?$.vapidKey=Z:$.vapidKey||($.vapidKey=As)})).apply(this,arguments)}function ro(){return(ro=(0,w.Z)(function*($,Z){if(!navigator)throw cr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cr.create("permission-blocked");return yield jl($,Z?.vapidKey),yield Hl($,Z?.serviceWorkerRegistration),Uu($)})).apply(this,arguments)}function $u($,Z,oe){return ha.apply(this,arguments)}function ha(){return(ha=(0,w.Z)(function*($,Z,oe){const Ee=zu(Z);(yield $.firebaseDependencies.analyticsProvider.get()).logEvent(Ee,{message_id:oe[ja],message_name:oe[Fl],message_time:oe[Mc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zu($){switch($){case li.NOTIFICATION_CLICKED:return"notification_open";case li.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ji(){return(ji=(0,w.Z)(function*($,Z){const oe=Z.data;if(!oe.isFirebaseMessaging)return;$.onMessageHandler&&oe.messageType===li.PUSH_RECEIVED&&("function"==typeof $.onMessageHandler?$.onMessageHandler(Ps(oe)):$.onMessageHandler.next(Ps(oe)));const Ee=oe.data;ca(Ee)&&"1"===Ee[Ks]&&(yield $u($,oe.messageType,Ee))})).apply(this,arguments)}const Ms="@firebase/messaging",Xn=$=>{const Z=new Nc($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),$.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",oe=>function $l($,Z){return ji.apply(this,arguments)}(Z,oe)),Z},cs=$=>{const Z=$.getProvider("messaging").getImmediate();return{getToken:Ee=>function Gl($,Z){return ro.apply(this,arguments)}(Z,Ee)}};function Lc(){return zl.apply(this,arguments)}function zl(){return(zl=(0,w.Z)(function*(){try{yield(0,F.eu)()}catch{return!1}return typeof window<"u"&&(0,F.hl)()&&(0,F.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Yn(){(0,x._registerComponent)(new L.wA("messaging",Xn,"PUBLIC")),(0,x._registerComponent)(new L.wA("messaging-internal",cs,"PRIVATE")),(0,x.registerVersion)(Ms,"0.11.0"),(0,x.registerVersion)(Ms,"0.11.0","esm2017")}();const io="analytics",Vc="firebase_id",Kl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bc="https://www.googletagmanager.com/gtag/js",nr=new H.Yd("@firebase/analytics");function Wa($){return Promise.all($.map(Z=>Z.catch(oe=>oe)))}function Za($,Z){const oe=document.createElement("script");oe.src=`${Bc}?l=${$}&id=${Z}`,oe.async=!0,document.head.appendChild(oe)}function Gi($,Z,oe,Ee,Oe,Be){return $i.apply(this,arguments)}function $i(){return($i=(0,w.Z)(function*($,Z,oe,Ee,Oe,Be){const Qe=Ee[Oe];try{if(Qe)yield Z[Qe];else{const Lt=(yield Wa(oe)).find(Qt=>Qt.measurementId===Oe);Lt&&(yield Z[Lt.appId])}}catch(ct){nr.error(ct)}$("config",Oe,Be)})).apply(this,arguments)}function us($,Z,oe,Ee,Oe){return fa.apply(this,arguments)}function fa(){return(fa=(0,w.Z)(function*($,Z,oe,Ee,Oe){try{let Be=[];if(Oe&&Oe.send_to){let Qe=Oe.send_to;Array.isArray(Qe)||(Qe=[Qe]);const ct=yield Wa(oe);for(const Lt of Qe){const Qt=ct.find(Vt=>Vt.measurementId===Lt),un=Qt&&Z[Qt.appId];if(!un){Be=[];break}Be.push(un)}}0===Be.length&&(Be=Object.values(Z)),yield Promise.all(Be),$("event",Ee,Oe||{})}catch(Be){nr.error(Be)}})).apply(this,arguments)}function Uc($){const Z=window.document.getElementsByTagName("script");for(const oe of Object.values(Z))if(oe.src&&oe.src.includes(Bc)&&oe.src.includes($))return oe;return null}const yr=new F.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),re=new class B{constructor(Z={},oe=1e3){this.throttleMetadata=Z,this.intervalMillis=oe}getThrottleMetadata(Z){return this.throttleMetadata[Z]}setThrottleMetadata(Z,oe){this.throttleMetadata[Z]=oe}deleteThrottleMetadata(Z){delete this.throttleMetadata[Z]}};function Se($){return new Headers({Accept:"application/json","x-goog-api-key":$})}function Ge($){return lt.apply(this,arguments)}function lt(){return(lt=(0,w.Z)(function*($){var Z;const{appId:oe,apiKey:Ee}=$,Oe={method:"GET",headers:Se(Ee)},Be=Kl.replace("{app-id}",oe),Qe=yield fetch(Be,Oe);if(200!==Qe.status&&304!==Qe.status){let ct="";try{const Lt=yield Qe.json();null!==(Z=Lt.error)&&void 0!==Z&&Z.message&&(ct=Lt.error.message)}catch{}throw yr.create("config-fetch-failed",{httpStatus:Qe.status,responseMessage:ct})}return Qe.json()})).apply(this,arguments)}function rr($){return ir.apply(this,arguments)}function ir(){return(ir=(0,w.Z)(function*($,Z=re,oe){const{appId:Ee,apiKey:Oe,measurementId:Be}=$.options;if(!Ee)throw yr.create("no-app-id");if(!Oe){if(Be)return{measurementId:Be,appId:Ee};throw yr.create("no-api-key")}const Qe=Z.getThrottleMetadata(Ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new Ql;return setTimeout((0,w.Z)(function*(){ct.abort()}),void 0!==oe?oe:6e4),Rr({appId:Ee,apiKey:Oe,measurementId:Be},Qe,ct,Z)})).apply(this,arguments)}function Rr($,Z,oe){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,w.Z)(function*($,{throttleEndTimeMillis:Z,backoffCount:oe},Ee,Oe=re){var Be,Qe;const{appId:ct,measurementId:Lt}=$;try{yield ma(Ee,Z)}catch(Qt){if(Lt)return nr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${null===(Be=Qt)||void 0===Be?void 0:Be.message}]`),{appId:ct,measurementId:Lt};throw Qt}try{const Qt=yield Ge($);return Oe.deleteThrottleMetadata(ct),Qt}catch(Qt){const un=Qt;if(!Hc(un)){if(Oe.deleteThrottleMetadata(ct),Lt)return nr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${un?.message}]`),{appId:ct,measurementId:Lt};throw Qt}const Vt=503===Number(null===(Qe=un?.customData)||void 0===Qe?void 0:Qe.httpStatus)?(0,F.$s)(oe,Oe.intervalMillis,30):(0,F.$s)(oe,Oe.intervalMillis),Cr={throttleEndTimeMillis:Date.now()+Vt,backoffCount:oe+1};return Oe.setThrottleMetadata(ct,Cr),nr.debug(`Calling attemptFetch again in ${Vt} millis`),Rr($,Cr,Ee,Oe)}})).apply(this,arguments)}function ma($,Z){return new Promise((oe,Ee)=>{const Oe=Math.max(Z-Date.now(),0),Be=setTimeout(oe,Oe);$.addEventListener(()=>{clearTimeout(Be),Ee(yr.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}function Hc($){if(!($ instanceof F.ZR&&$.customData))return!1;const Z=Number($.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}class Ql{constructor(){this.listeners=[]}addEventListener(Z){this.listeners.push(Z)}abort(){this.listeners.forEach(Z=>Z())}}let ga,Gc;function Qa(){return(Qa=(0,w.Z)(function*($,Z,oe,Ee,Oe){if(Oe&&Oe.global)$("event",oe,Ee);else{const Be=yield Z;$("event",oe,Object.assign(Object.assign({},Ee),{send_to:Be}))}})).apply(this,arguments)}function el($){Gc=$}function Zu($){ga=$}function Oo(){return tl.apply(this,arguments)}function tl(){return(tl=(0,w.Z)(function*(){var $;if(!(0,F.hl)())return nr.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,F.eu)()}catch(Z){return nr.warn(yr.create("indexeddb-unavailable",{errorInfo:null===($=Z)||void 0===$?void 0:$.toString()}).message),!1}return!0})).apply(this,arguments)}function nl(){return(nl=(0,w.Z)(function*($,Z,oe,Ee,Oe,Be,Qe){var ct;const Lt=rr($);Lt.then(jr=>{oe[jr.measurementId]=jr.appId,$.options.measurementId&&jr.measurementId!==$.options.measurementId&&nr.warn(`The measurement ID in the local Firebase config (${$.options.measurementId}) does not match the measurement ID fetched from the server (${jr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jr=>nr.error(jr)),Z.push(Lt);const Qt=Oo().then(jr=>{if(jr)return Ee.getId()}),[un,Vt]=yield Promise.all([Lt,Qt]);Uc(Be)||Za(Be,un.measurementId),Gc&&(Oe("consent","default",Gc),el(void 0)),Oe("js",new Date);const Cr=null!==(ct=Qe?.config)&&void 0!==ct?ct:{};return Cr.origin="firebase",Cr.update=!0,null!=Vt&&(Cr[Vc]=Vt),Oe("config",un.measurementId,Cr),ga&&(Oe("set",ga),Zu(void 0)),un.measurementId})).apply(this,arguments)}class $c{constructor(Z){this.app=Z}_delete(){return delete ui[this.app.options.appId],Promise.resolve()}}let ui={},rl=[];const _a={};let sl,Rs,il="dataLayer",th=!1;function Bf($,Z,oe){!function mg(){const $=[];if((0,F.ru)()&&$.push("This is a browser extension environment."),(0,F.zI)()||$.push("Cookies are not available."),$.length>0){const Z=$.map((Ee,Oe)=>`(${Oe+1}) ${Ee}`).join(" "),oe=yr.create("invalid-analytics-context",{errorInfo:Z});nr.warn(oe.message)}}();const Ee=$.options.appId;if(!Ee)throw yr.create("no-app-id");if(!$.options.apiKey){if(!$.options.measurementId)throw yr.create("no-api-key");nr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${$.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ui[Ee])throw yr.create("already-exists",{id:Ee});if(!th){!function Ka($){let Z=[];Array.isArray(window[$])?Z=window[$]:window[$]=Z}(il);const{wrappedGtag:Be,gtagCore:Qe}=function pa($,Z,oe,Ee,Oe){let Be=function(...Qe){window[Ee].push(arguments)};return window[Oe]&&"function"==typeof window[Oe]&&(Be=window[Oe]),window[Oe]=function Yl($,Z,oe,Ee){function Be(){return(Be=(0,w.Z)(function*(Qe,ct,Lt){try{"event"===Qe?yield us($,Z,oe,ct,Lt):"config"===Qe?yield Gi($,Z,oe,Ee,ct,Lt):"consent"===Qe?$("consent","update",Lt):$("set",ct)}catch(Qt){nr.error(Qt)}})).apply(this,arguments)}return function Oe(Qe,ct,Lt){return Be.apply(this,arguments)}}(Be,$,Z,oe),{gtagCore:Be,wrappedGtag:window[Oe]}}(ui,rl,_a,il,"gtag");Rs=Be,sl=Qe,th=!0}return ui[Ee]=function Vf($,Z,oe,Ee,Oe,Be,Qe){return nl.apply(this,arguments)}($,rl,_a,Z,sl,il,oe),new $c($)}function X_(){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,w.Z)(function*(){if((0,F.ru)()||!(0,F.zI)()||!(0,F.hl)())return!1;try{return yield(0,F.eu)()}catch{return!1}})).apply(this,arguments)}const ds="@firebase/analytics";!function Yr(){(0,x._registerComponent)(new L.wA(io,(Z,{options:oe})=>Bf(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,x._registerComponent)(new L.wA("analytics-internal",function $(Z){try{const oe=Z.getProvider(io).getImmediate();return{logEvent:(Ee,Oe,Be)=>function ol($,Z,oe,Ee){$=(0,F.m9)($),function Jl($,Z,oe,Ee,Oe){return Qa.apply(this,arguments)}(Rs,ui[$.app.options.appId],Z,oe,Ee).catch(Oe=>nr.error(Oe))}(oe,Ee,Oe,Be)}}catch(oe){throw yr.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,x.registerVersion)(ds,"0.8.4"),(0,x.registerVersion)(ds,"0.8.4","esm2017")}();var Ro=p(4408),Ns=p(7565);const Hf=new class No extends Ns.v{}(class ec extends Ro.o{constructor(Z,oe){super(Z,oe),this.scheduler=Z,this.work=oe}schedule(Z,oe=0){return oe>0?super.schedule(Z,oe):(this.delay=oe,this.state=Z,this.scheduler.flush(this),this)}execute(Z,oe){return oe>0||this.closed?super.execute(Z,oe):this._execute(Z,oe)}requestAsyncId(Z,oe,Ee=0){return null!=Ee&&Ee>0||null==Ee&&this.delay>0?super.requestAsyncId(Z,oe,Ee):(Z.flush(this),0)}});var gg=p(4986),tc=p(8505),rh=p(5363),jf=p(9468);const zi=new s.GfV("7.4.1"),al="__angularfire_symbol__analyticsIsSupportedValue",Ei="__angularfire_symbol__analyticsIsSupported",Wc="__angularfire_symbol__remoteConfigIsSupportedValue",ll="__angularfire_symbol__remoteConfigIsSupported",ih="__angularfire_symbol__messagingIsSupportedValue",cl="__angularfire_symbol__messagingIsSupported";function nc($,Z,oe){if(Z){if(1===Z.length)return Z[0];const Be=Z.filter(Qe=>Qe.app===oe);if(1===Be.length)return Be[0]}return oe.container.getProvider($).getImmediate({optional:!0})}globalThis[Ei]||(globalThis[Ei]=X_().then($=>globalThis[al]=$).catch(()=>globalThis[al]=!1)),globalThis[cl]||(globalThis[cl]=Lc().then($=>globalThis[ih]=$).catch(()=>globalThis[ih]=!1)),globalThis[ll]||(globalThis[ll]=Ff().then($=>globalThis[Wc]=$).catch(()=>globalThis[Wc]=!1));const Zc=($,Z)=>{const oe=Z?[Z]:(0,y.C6)(),Ee=[];return oe.forEach(Oe=>{Oe.container.getProvider($).instances.forEach(Qe=>{Ee.includes(Qe)||Ee.push(Qe)})}),Ee};function so(){}class ul{constructor(Z,oe=Hf){this.zone=Z,this.delegate=oe}now(){return this.delegate.now()}schedule(Z,oe,Ee){const Oe=this.zone;return this.delegate.schedule(function(Qe){Oe.runGuarded(()=>{Z.apply(this,[Qe])})},oe,Ee)}}class Ju{constructor(Z){this.zone=Z,this.task=null}call(Z,oe){const Ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",so,{},so,so)),oe.pipe((0,tc.b)({next:Ee,complete:Ee,error:Ee})).subscribe(Z).add(Ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let dl=(()=>{class ${constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new ul(Zone.current)),this.insideAngular=oe.run(()=>new ul(Zone.current,gg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return $.\u0275fac=function(oe){return new(oe||$)(s.LFG(s.R0b))},$.\u0275prov=s.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();function Fo(){const $=globalThis.\u0275AngularFireScheduler;if(!$)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return $}function ed($){return $.pipe((0,rh.Q)(Fo().outsideAngular))}function Lo($){return Fo(),function Gf($){return function(oe){return(oe=oe.lift(new Ju($.ngZone))).pipe((0,jf.R)($.outsideAngular),(0,rh.Q)($.insideAngular))}}(Fo())($)}},8247:(d,h,p)=>{"use strict";p.d(h,{$:()=>Js,A:()=>U,B:()=>K,G:()=>Es,H:()=>ii,J:()=>as,L:()=>Ae,M:()=>Zs,N:()=>Ao,P:()=>gg,Q:()=>ja,R:()=>ev,T:()=>Fl,U:()=>As,V:()=>li,W:()=>ls,X:()=>Xd,Y:()=>sa,Z:()=>Yt,_:()=>Bu,a:()=>R,a0:()=>Uu,a1:()=>ur,a2:()=>$a,a3:()=>za,a4:()=>Hu,a5:()=>ju,a6:()=>dr,a7:()=>Hi,a8:()=>ca,a9:()=>wi,aA:()=>Te,aB:()=>Lt,aC:()=>ed,aD:()=>va,aE:()=>Pt,aI:()=>Se,aL:()=>Ks,aa:()=>Gu,ab:()=>Hl,ac:()=>jl,af:()=>$u,ag:()=>zu,ah:()=>$l,ak:()=>Ai,al:()=>ql,an:()=>Bc,ao:()=>$i,ap:()=>Ie,aq:()=>et,ar:()=>vt,as:()=>J,at:()=>sc,au:()=>wa,av:()=>Zt,aw:()=>te,ax:()=>_e,ay:()=>jr,az:()=>de,b:()=>yr,c:()=>ih,d:()=>yg,e:()=>Qu,f:()=>Gf,g:()=>Ee,h:()=>$,i:()=>tl,j:()=>Qe,k:()=>Vo,l:()=>nh,m:()=>yl,o:()=>z,r:()=>Ro,s:()=>qc,u:()=>Hf});var s=p(5861),y=p(2090),w=p(9681),x=p(1877),F=p(655),L=p(4859);const z={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},U={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const K=function G(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},A=function j(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},O=new y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),I=new x.Yd("@firebase/auth");function q(D,...b){I.logLevel<=x.in.ERROR&&I.error(`Auth (${w.SDK_VERSION}): ${D}`,...b)}function J(D,...b){throw Pe(D,...b)}function te(D,...b){return Pe(D,...b)}function ne(D,b,C){const k=Object.assign(Object.assign({},A()),{[b]:C});return new y.LL("auth","Firebase",k).create(b,{appName:D.name})}function me(D,b,C){if(!(b instanceof C))throw C.name!==b.constructor.name&&J(D,"argument-error"),ne(D,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(D,...b){if("string"!=typeof D){const C=b[0],k=[...b.slice(1)];return k[0]&&(k[0].appName=D.name),D._errorFactory.create(C,...k)}return O.create(D,...b)}function _e(D,b,...C){if(!D)throw Pe(b,...C)}function ve(D){const b="INTERNAL ASSERTION FAILED: "+D;throw q(b),new Error(b)}function Ie(D,b){D||ve(b)}const be=new Map;function de(D){Ie(D instanceof Function,"Expected a class definition");let b=be.get(D);return b?(Ie(b instanceof D,"Instance stored in cache mismatched with class"),b):(b=new D,be.set(D,b),b)}function ee(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function ue(){return"http:"===Re()||"https:"===Re()}function Re(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class $e{constructor(b,C){this.shortDelay=b,this.longDelay=C,Ie(C>b,"Short delay should be less than long delay!"),this.isMobile=(0,y.uI)()||(0,y.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ue()||(0,y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ut(D,b){Ie(D.emulator,"Emulator should always be set here");const{url:C}=D.emulator;return b?`${C}${b.startsWith("/")?b.slice(1):b}`:C}class Ut{static initialize(b,C,k){this.fetchImpl=b,C&&(this.headersImpl=C),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const St={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ot=new $e(3e4,6e4);function Et(D,b){return D.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:D.tenantId}):b}function wt(D,b,C,k){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,s.Z)(function*(D,b,C,k,ie={}){return sn(D,ie,(0,s.Z)(function*(){let he={},Ne={};k&&("GET"===b?Ne=k:he={body:JSON.stringify(k)});const Ze=(0,y.xO)(Object.assign({key:D.config.apiKey},Ne)).slice(1),Ct=yield D._getAdditionalHeaders();return Ct["Content-Type"]="application/json",D.languageCode&&(Ct["X-Firebase-Locale"]=D.languageCode),Ut.fetch()(Nt(D,D.config.apiHost,C,Ze),Object.assign({method:b,headers:Ct,referrerPolicy:"no-referrer"},he))}))})).apply(this,arguments)}function sn(D,b,C){return In.apply(this,arguments)}function In(){return(In=(0,s.Z)(function*(D,b,C){D._canInitEmulator=!1;const k=Object.assign(Object.assign({},St),b);try{const ie=new An(D),he=yield Promise.race([C(),ie.promise]);ie.clearNetworkTimeout();const Ne=yield he.json();if("needConfirmation"in Ne)throw cn(D,"account-exists-with-different-credential",Ne);if(he.ok&&!("errorMessage"in Ne))return Ne;{const Ze=he.ok?Ne.errorMessage:Ne.error.message,[Ct,Ht]=Ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ct)throw cn(D,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Ct)throw cn(D,"email-already-in-use",Ne);if("USER_DISABLED"===Ct)throw cn(D,"user-disabled",Ne);const zt=k[Ct]||Ct.toLowerCase().replace(/[_\s]+/g,"-");if(Ht)throw ne(D,zt,Ht);J(D,zt)}}catch(ie){if(ie instanceof y.ZR)throw ie;J(D,"network-request-failed")}})).apply(this,arguments)}function at(D,b,C,k){return _n.apply(this,arguments)}function _n(){return(_n=(0,s.Z)(function*(D,b,C,k,ie={}){const he=yield wt(D,b,C,k,ie);return"mfaPendingCredential"in he&&J(D,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function Nt(D,b,C,k){const ie=`${b}${C}?${k}`;return D.config.emulator?ut(D.config,ie):`${D.config.apiScheme}://${ie}`}class An{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((C,k)=>{this.timer=setTimeout(()=>k(te(this.auth,"network-request-failed")),Ot.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cn(D,b,C){const k={appName:D.name};C.email&&(k.email=C.email),C.phoneNumber&&(k.phoneNumber=C.phoneNumber);const ie=te(D,b,k);return ie.customData._tokenResponse=C,ie}function mn(){return(mn=(0,s.Z)(function*(D,b){return wt(D,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function nt(D,b){return vn.apply(this,arguments)}function vn(){return(vn=(0,s.Z)(function*(D,b){return wt(D,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Dn(D,b){return $t.apply(this,arguments)}function $t(){return($t=(0,s.Z)(function*(D,b){return wt(D,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function Ln(D){if(D)try{const b=new Date(Number(D));if(!isNaN(b.getTime()))return b.toUTCString()}catch{}}function wn(){return(wn=(0,s.Z)(function*(D,b=!1){const C=(0,y.m9)(D),k=yield C.getIdToken(b),ie=Tt(k);_e(ie&&ie.exp&&ie.auth_time&&ie.iat,C.auth,"internal-error");const he="object"==typeof ie.firebase?ie.firebase:void 0,Ne=he?.sign_in_provider;return{claims:ie,token:k,authTime:Ln(xn(ie.auth_time)),issuedAtTime:Ln(xn(ie.iat)),expirationTime:Ln(xn(ie.exp)),signInProvider:Ne||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function xn(D){return 1e3*Number(D)}function Tt(D){var b;const[C,k,ie]=D.split(".");if(void 0===C||void 0===k||void 0===ie)return q("JWT malformed, contained fewer than 3 sections"),null;try{const he=(0,y.tV)(k);return he?JSON.parse(he):(q("Failed to decode base64 JWT payload"),null)}catch(he){return q("Caught error parsing JWT payload as JSON",null===(b=he)||void 0===b?void 0:b.toString()),null}}function Wt(D,b){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,s.Z)(function*(D,b,C=!1){if(C)return b;try{return yield b}catch(k){throw k instanceof y.ZR&&ar(k)&&D.auth.currentUser===D&&(yield D.auth.signOut()),k}})).apply(this,arguments)}function ar({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class Ur{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var C;if(b){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const ie=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(b=!1){var C=this;if(!this.isRunning)return;const k=this.getInterval(b);this.timerId=setTimeout((0,s.Z)(function*(){yield C.iteration()}),k)}iteration(){var b=this;return(0,s.Z)(function*(){var C;try{yield b.user.getIdToken(!0)}catch(k){return void("auth/network-request-failed"===(null===(C=k)||void 0===C?void 0:C.code)&&b.schedule(!0))}b.schedule()})()}}class Gt{constructor(b,C){this.createdAt=b,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ln(this.lastLoginAt),this.creationTime=Ln(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lr(D){return tn.apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(D){var b;const C=D.auth,k=yield D.getIdToken(),ie=yield Wt(D,Dn(C,{idToken:k}));_e(ie?.users.length,C,"internal-error");const he=ie.users[0];D._notifyReloadListener(he);const Ne=null!==(b=he.providerUserInfo)&&void 0!==b&&b.length?Kn(he.providerUserInfo):[],Ze=wr(D.providerData,Ne),zt=!!D.isAnonymous&&!(D.email&&he.passwordHash||Ze?.length),tr={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:Ze,metadata:new Gt(he.createdAt,he.lastLoginAt),isAnonymous:zt};Object.assign(D,tr)})).apply(this,arguments)}function gn(){return(gn=(0,s.Z)(function*(D){const b=(0,y.m9)(D);yield lr(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function wr(D,b){return[...D.filter(k=>!b.some(ie=>ie.providerId===k.providerId)),...b]}function Kn(D){return D.map(b=>{var{providerId:C}=b,k=(0,F._T)(b,["providerId"]);return{providerId:C,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}function qe(){return(qe=(0,s.Z)(function*(D,b){const C=yield sn(D,{},(0,s.Z)(function*(){const k=(0,y.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:ie,apiKey:he}=D.config,Ne=Nt(D,ie,"/v1/token",`key=${he}`),Ze=yield D._getAdditionalHeaders();return Ze["Content-Type"]="application/x-www-form-urlencoded",Ut.fetch()(Ne,{method:"POST",headers:Ze,body:k})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){_e(b.idToken,"internal-error"),_e(typeof b.idToken<"u","internal-error"),_e(typeof b.refreshToken<"u","internal-error");const C="expiresIn"in b&&typeof b.expiresIn<"u"?Number(b.expiresIn):function rt(D){const b=Tt(D);return _e(b,"internal-error"),_e(typeof b.exp<"u","internal-error"),_e(typeof b.iat<"u","internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,C)}getToken(b,C=!1){var k=this;return(0,s.Z)(function*(){return _e(!k.accessToken||k.refreshToken,b,"user-token-expired"),C||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(b,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,C){var k=this;return(0,s.Z)(function*(){const{accessToken:ie,refreshToken:he,expiresIn:Ne}=yield function mt(D,b){return qe.apply(this,arguments)}(b,C);k.updateTokensAndExpiration(ie,he,Number(Ne))})()}updateTokensAndExpiration(b,C,k){this.refreshToken=C||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(b,C){const{refreshToken:k,accessToken:ie,expirationTime:he}=C,Ne=new yt;return k&&(_e("string"==typeof k,"internal-error",{appName:b}),Ne.refreshToken=k),ie&&(_e("string"==typeof ie,"internal-error",{appName:b}),Ne.accessToken=ie),he&&(_e("number"==typeof he,"internal-error",{appName:b}),Ne.expirationTime=he),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new yt,this.toJSON())}_performRefresh(){return ve("not implemented")}}function At(D,b){_e("string"==typeof D||typeof D>"u","internal-error",{appName:b})}class Ft{constructor(b){var{uid:C,auth:k,stsTokenManager:ie}=b,he=(0,F._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=k,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new Gt(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(b){var C=this;return(0,s.Z)(function*(){const k=yield Wt(C,C.stsTokenManager.getToken(C.auth,b));return _e(k,C.auth,"internal-error"),C.accessToken!==k&&(C.accessToken=k,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),k})()}getIdTokenResult(b){return function an(D){return wn.apply(this,arguments)}(this,b)}reload(){return function ri(D){return gn.apply(this,arguments)}(this)}_assign(b){this!==b&&(_e(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(C=>Object.assign({},C)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new Ft(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,C=!1){var k=this;return(0,s.Z)(function*(){let ie=!1;b.idToken&&b.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(b),ie=!0),C&&(yield lr(k)),yield k.auth._persistUserIfCurrent(k),ie&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var b=this;return(0,s.Z)(function*(){const C=yield b.getIdToken();return yield Wt(b,function jn(D,b){return mn.apply(this,arguments)}(b.auth,{idToken:C})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,C){var k,ie,he,Ne,Ze,Ct,Ht,zt;const tr=null!==(k=C.displayName)&&void 0!==k?k:void 0,Di=null!==(ie=C.email)&&void 0!==ie?ie:void 0,Uo=null!==(he=C.phoneNumber)&&void 0!==he?he:void 0,ep=null!==(Ne=C.photoURL)&&void 0!==Ne?Ne:void 0,tp=null!==(Ze=C.tenantId)&&void 0!==Ze?Ze:void 0,np=null!==(Ct=C._redirectEventId)&&void 0!==Ct?Ct:void 0,av=null!==(Ht=C.createdAt)&&void 0!==Ht?Ht:void 0,lv=null!==(zt=C.lastLoginAt)&&void 0!==zt?zt:void 0,{uid:Yc,emailVerified:rp,isAnonymous:ad,providerData:ip,stsTokenManager:lc}=C;_e(Yc&&lc,b,"internal-error");const hh=yt.fromJSON(this.name,lc);_e("string"==typeof Yc,b,"internal-error"),At(tr,b.name),At(Di,b.name),_e("boolean"==typeof rp,b,"internal-error"),_e("boolean"==typeof ad,b,"internal-error"),At(Uo,b.name),At(ep,b.name),At(tp,b.name),At(np,b.name),At(av,b.name),At(lv,b.name);const _r=new Ft({uid:Yc,auth:b,email:Di,emailVerified:rp,displayName:tr,isAnonymous:ad,photoURL:ep,phoneNumber:Uo,tenantId:tp,stsTokenManager:hh,createdAt:av,lastLoginAt:lv});return ip&&Array.isArray(ip)&&(_r.providerData=ip.map(sp=>Object.assign({},sp))),np&&(_r._redirectEventId=np),_r}static _fromIdTokenResponse(b,C,k=!1){return(0,s.Z)(function*(){const ie=new yt;ie.updateFromServerResponse(C);const he=new Ft({uid:C.localId,auth:b,stsTokenManager:ie,isAnonymous:k});return yield lr(he),he})()}}const Ae=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(C,k){var ie=this;return(0,s.Z)(function*(){ie.storage[C]=k})()}_get(C){var k=this;return(0,s.Z)(function*(){const ie=k.storage[C];return void 0===ie?null:ie})()}_remove(C){var k=this;return(0,s.Z)(function*(){delete k.storage[C]})()}_addListener(C,k){}_removeListener(C,k){}}return D.type="NONE",D})();function Te(D,b,C){return`firebase:${D}:${b}:${C}`}class xe{constructor(b,C,k){this.persistence=b,this.auth=C,this.userKey=k;const{config:ie,name:he}=this.auth;this.fullUserKey=Te(this.userKey,ie.apiKey,he),this.fullPersistenceKey=Te("persistence",ie.apiKey,he),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,s.Z)(function*(){const C=yield b.persistence._get(b.fullUserKey);return C?Ft._fromJSON(b.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var C=this;return(0,s.Z)(function*(){if(C.persistence===b)return;const k=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=b,k?C.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,C,k="authUser"){return(0,s.Z)(function*(){if(!C.length)return new xe(de(Ae),b,k);const ie=(yield Promise.all(C.map(function(){var Ht=(0,s.Z)(function*(zt){if(yield zt._isAvailable())return zt});return function(zt){return Ht.apply(this,arguments)}}()))).filter(Ht=>Ht);let he=ie[0]||de(Ae);const Ne=Te(k,b.config.apiKey,b.name);let Ze=null;for(const Ht of C)try{const zt=yield Ht._get(Ne);if(zt){const tr=Ft._fromJSON(b,zt);Ht!==he&&(Ze=tr),he=Ht;break}}catch{}const Ct=ie.filter(Ht=>Ht._shouldAllowMigration);return he._shouldAllowMigration&&Ct.length?(he=Ct[0],Ze&&(yield he._set(Ne,Ze.toJSON())),yield Promise.all(C.map(function(){var Ht=(0,s.Z)(function*(zt){if(zt!==he)try{yield zt._remove(Ne)}catch{}});return function(zt){return Ht.apply(this,arguments)}}())),new xe(he,b,k)):new xe(he,b,k)})()}}function Ce(D){const b=D.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(Je(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(le(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(bt(b))return"Blackberry";if(We(b))return"Webos";if(ye(b))return"Safari";if((b.includes("chrome/")||Fe(b))&&!b.includes("edge/"))return"Chrome";if(vt(b))return"Android";{const k=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function le(D=(0,y.z$)()){return/firefox\//i.test(D)}function ye(D=(0,y.z$)()){const b=D.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function Fe(D=(0,y.z$)()){return/crios\//i.test(D)}function Je(D=(0,y.z$)()){return/iemobile/i.test(D)}function vt(D=(0,y.z$)()){return/android/i.test(D)}function bt(D=(0,y.z$)()){return/blackberry/i.test(D)}function We(D=(0,y.z$)()){return/webos/i.test(D)}function et(D=(0,y.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function Zt(D=(0,y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Pn(D=(0,y.z$)()){return et(D)||vt(D)||We(D)||bt(D)||/windows phone/i.test(D)||Je(D)}function Bn(D,b=[]){let C;switch(D){case"Browser":C=Ce((0,y.z$)());break;case"Worker":C=`${Ce((0,y.z$)())}-${D}`;break;default:C=D}const k=b.length?b.join(","):"FirebaseCore-web";return`${C}/JsCore/${w.SDK_VERSION}/${k}`}class hr{constructor(b){this.auth=b,this.queue=[]}pushCallback(b,C){const k=he=>new Promise((Ne,Ze)=>{try{Ne(b(he))}catch(Ct){Ze(Ct)}});k.onAbort=C,this.queue.push(k);const ie=this.queue.length-1;return()=>{this.queue[ie]=()=>Promise.resolve()}}runMiddleware(b){var C=this;return(0,s.Z)(function*(){var k;if(C.auth.currentUser===b)return;const ie=[];try{for(const he of C.queue)yield he(b),he.onAbort&&ie.push(he.onAbort)}catch(he){ie.reverse();for(const Ne of ie)try{Ne()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:null===(k=he)||void 0===k?void 0:k.message})}})()}}class bo{constructor(b,C,k){this.app=b,this.heartbeatServiceProvider=C,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $s(this),this.idTokenSubscription=new $s(this),this.beforeStateQueue=new hr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(b,C){var k=this;return C&&(this._popupRedirectResolver=de(C)),this._initializationPromise=this.queue((0,s.Z)(function*(){var ie,he;if(!k._deleted&&(k.persistenceManager=yield xe.create(k,b),!k._deleted)){if(null!==(ie=k._popupRedirectResolver)&&void 0!==ie&&ie._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(C),k.lastNotifiedUid=(null===(he=k.currentUser)||void 0===he?void 0:he.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,s.Z)(function*(){if(b._deleted)return;const C=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||C){if(b.currentUser&&C&&b.currentUser.uid===C.uid)return b._currentUser._assign(C),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(C,!0)}})()}initializeCurrentUser(b){var C=this;return(0,s.Z)(function*(){var k;const ie=yield C.assertedPersistence.getCurrentUser();let he=ie,Ne=!1;if(b&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const Ze=null===(k=C.redirectUser)||void 0===k?void 0:k._redirectEventId,Ct=he?._redirectEventId,Ht=yield C.tryRedirectSignIn(b);(!Ze||Ze===Ct)&&Ht?.user&&(he=Ht.user,Ne=!0)}if(!he)return C.directlySetCurrentUser(null);if(!he._redirectEventId){if(Ne)try{yield C.beforeStateQueue.runMiddleware(he)}catch(Ze){he=ie,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(Ze))}return he?C.reloadAndSetCurrentUserOrClear(he):C.directlySetCurrentUser(null)}return _e(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===he._redirectEventId?C.directlySetCurrentUser(he):C.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(b){var C=this;return(0,s.Z)(function*(){let k=null;try{k=yield C._popupRedirectResolver._completeRedirectFn(C,b,!0)}catch{yield C._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(b){var C=this;return(0,s.Z)(function*(){var k;try{yield lr(b)}catch(ie){if("auth/network-request-failed"!==(null===(k=ie)||void 0===k?void 0:k.code))return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function Ye(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var b=this;return(0,s.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var C=this;return(0,s.Z)(function*(){const k=b?(0,y.m9)(b):null;return k&&_e(k.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(k&&k._clone(C))})()}_updateCurrentUser(b,C=!1){var k=this;return(0,s.Z)(function*(){if(!k._deleted)return b&&_e(k.tenantId===b.tenantId,k,"tenant-id-mismatch"),C||(yield k.beforeStateQueue.runMiddleware(b)),k.queue((0,s.Z)(function*(){yield k.directlySetCurrentUser(b),k.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,s.Z)(function*(){return yield b.beforeStateQueue.runMiddleware(null),(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null,!0)})()}setPersistence(b){var C=this;return this.queue((0,s.Z)(function*(){yield C.assertedPersistence.setPersistence(de(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new y.LL("auth","Firebase",b())}onAuthStateChanged(b,C,k){return this.registerStateListener(this.authStateSubscription,b,C,k)}beforeAuthStateChanged(b,C){return this.beforeStateQueue.pushCallback(b,C)}onIdTokenChanged(b,C,k){return this.registerStateListener(this.idTokenSubscription,b,C,k)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,C){var k=this;return(0,s.Z)(function*(){const ie=yield k.getOrInitRedirectPersistenceManager(C);return null===b?ie.removeCurrentUser():ie.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var C=this;return(0,s.Z)(function*(){if(!C.redirectPersistenceManager){const k=b&&de(b)||C._popupRedirectResolver;_e(k,C,"argument-error"),C.redirectPersistenceManager=yield xe.create(C,[de(k._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(b){var C=this;return(0,s.Z)(function*(){var k,ie;return C._isInitialized&&(yield C.queue((0,s.Z)(function*(){}))),(null===(k=C._currentUser)||void 0===k?void 0:k._redirectEventId)===b?C._currentUser:(null===(ie=C.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===b?C.redirectUser:null})()}_persistUserIfCurrent(b){var C=this;return(0,s.Z)(function*(){if(b===C.currentUser)return C.queue((0,s.Z)(function*(){return C.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(C=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,C,k,ie){if(this._deleted)return()=>{};const he="function"==typeof C?C:C.next.bind(C),Ne=this._isInitialized?Promise.resolve():this._initializationPromise;return _e(Ne,this,"internal-error"),Ne.then(()=>he(this.currentUser)),"function"==typeof C?b.addObserver(C,k,ie):b.addObserver(C)}directlySetCurrentUser(b){var C=this;return(0,s.Z)(function*(){C.currentUser&&C.currentUser!==b&&C._currentUser._stopProactiveRefresh(),b&&C.isProactiveRefreshEnabled&&b._startProactiveRefresh(),C.currentUser=b,b?yield C.assertedPersistence.setCurrentUser(b):yield C.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=Bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var b=this;return(0,s.Z)(function*(){var C;const k={"X-Client-Version":b.clientVersion};b.app.options.appId&&(k["X-Firebase-gmpid"]=b.app.options.appId);const ie=yield null===(C=b.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return ie&&(k["X-Firebase-Client"]=ie),k})()}}function Pt(D){return(0,y.m9)(D)}class $s{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,y.ne)(C=>this.observer=C)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Es(D,b,C){const k=Pt(D);_e(k._canInitEmulator,k,"emulator-config-failed"),_e(/^https?:\/\//.test(b),k,"invalid-emulator-scheme");const ie=!!C?.disableWarnings,he=Ba(b),{host:Ne,port:Ze}=function ss(D){const b=Ba(D),C=/(\/\/)?([^?#/]+)/.exec(D.substr(b.length));if(!C)return{host:"",port:null};const k=C[2].split("@").pop()||"",ie=/^(\[[^\]]+\])(:|$)/.exec(k);if(ie){const he=ie[1];return{host:he,port:fr(k.substr(he.length+1))}}{const[he,Ne]=k.split(":");return{host:he,port:fr(Ne)}}}(b);k.config.emulator={url:`${he}//${Ne}${null===Ze?"":`:${Ze}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:Ne,port:Ze,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:ie})}),ie||function Ss(){function D(){const b=document.createElement("p"),C=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function Ba(D){const b=D.indexOf(":");return b<0?"":D.substr(0,b+1)}function fr(D){if(!D)return null;const b=Number(D);return isNaN(b)?null:b}class ii{constructor(b,C){this.providerId=b,this.signInMethod=C}toJSON(){return ve("not implemented")}_getIdTokenResponse(b){return ve("not implemented")}_linkToIdToken(b,C){return ve("not implemented")}_getReauthenticationResolver(b){return ve("not implemented")}}function si(D,b){return pr.apply(this,arguments)}function pr(){return(pr=(0,s.Z)(function*(D,b){return wt(D,"POST","/v1/accounts:resetPassword",Et(D,b))})).apply(this,arguments)}function Nl(D,b){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(function*(D,b){return wt(D,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Ru(D,b){return ea.apply(this,arguments)}function ea(){return(ea=(0,s.Z)(function*(D,b){return wt(D,"POST","/v1/accounts:update",Et(D,b))})).apply(this,arguments)}function zs(){return(zs=(0,s.Z)(function*(D,b){return at(D,"POST","/v1/accounts:signInWithPassword",Et(D,b))})).apply(this,arguments)}function oi(D,b){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,s.Z)(function*(D,b){return wt(D,"POST","/v1/accounts:sendOobCode",Et(D,b))})).apply(this,arguments)}function os(D,b){return Un.apply(this,arguments)}function Un(){return(Un=(0,s.Z)(function*(D,b){return oi(D,b)})).apply(this,arguments)}function Nu(D,b){return mr.apply(this,arguments)}function mr(){return(mr=(0,s.Z)(function*(D,b){return oi(D,b)})).apply(this,arguments)}function yi(D,b){return Is.apply(this,arguments)}function Is(){return(Is=(0,s.Z)(function*(D,b){return oi(D,b)})).apply(this,arguments)}function Vi(D,b){return Co.apply(this,arguments)}function Co(){return(Co=(0,s.Z)(function*(D,b){return oi(D,b)})).apply(this,arguments)}function na(){return(na=(0,s.Z)(function*(D,b){return at(D,"POST","/v1/accounts:signInWithEmailLink",Et(D,b))})).apply(this,arguments)}function Ua(){return(Ua=(0,s.Z)(function*(D,b){return at(D,"POST","/v1/accounts:signInWithEmailLink",Et(D,b))})).apply(this,arguments)}class Eo extends ii{constructor(b,C,k,ie=null){super("password",k),this._email=b,this._password=C,this._tenantId=ie}static _fromEmailAndPassword(b,C){return new Eo(b,C,"password")}static _fromEmailAndCode(b,C,k=null){return new Eo(b,C,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const C="string"==typeof b?JSON.parse(b):b;if(C?.email&&C?.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(b){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return function ta(D,b){return zs.apply(this,arguments)}(b,{returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function ai(D,b){return na.apply(this,arguments)}(b,{email:C._email,oobCode:C._password});default:J(b,"internal-error")}})()}_linkToIdToken(b,C){var k=this;return(0,s.Z)(function*(){switch(k.signInMethod){case"password":return Nl(b,{idToken:C,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function Fu(D,b){return Ua.apply(this,arguments)}(b,{idToken:C,email:k._email,oobCode:k._password});default:J(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function qs(D,b){return _i.apply(this,arguments)}function _i(){return(_i=(0,s.Z)(function*(D,b){return at(D,"POST","/v1/accounts:signInWithIdp",Et(D,b))})).apply(this,arguments)}class as extends ii{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const C=new as(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(C.idToken=b.idToken),b.accessToken&&(C.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(C.nonce=b.nonce),b.pendingToken&&(C.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(C.accessToken=b.oauthToken,C.secret=b.oauthTokenSecret):J("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const C="string"==typeof b?JSON.parse(b):b,{providerId:k,signInMethod:ie}=C,he=(0,F._T)(C,["providerId","signInMethod"]);if(!k||!ie)return null;const Ne=new as(k,ie);return Ne.idToken=he.idToken||void 0,Ne.accessToken=he.accessToken||void 0,Ne.secret=he.secret,Ne.nonce=he.nonce,Ne.pendingToken=he.pendingToken||null,Ne}_getIdTokenResponse(b){return qs(b,this.buildRequest())}_linkToIdToken(b,C){const k=this.buildRequest();return k.idToken=C,qs(b,k)}_getReauthenticationResolver(b){const C=this.buildRequest();return C.autoCreate=!1,qs(b,C)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),b.postBody=(0,y.xO)(C)}return b}}function Ha(D,b){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,s.Z)(function*(D,b){return wt(D,"POST","/v1/accounts:sendVerificationCode",Et(D,b))})).apply(this,arguments)}function ra(){return(ra=(0,s.Z)(function*(D,b){return at(D,"POST","/v1/accounts:signInWithPhoneNumber",Et(D,b))})).apply(this,arguments)}function Ac(){return(Ac=(0,s.Z)(function*(D,b){const C=yield at(D,"POST","/v1/accounts:signInWithPhoneNumber",Et(D,b));if(C.temporaryProof)throw cn(D,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const Qd={USER_NOT_FOUND:"user-not-found"};function Dc(){return(Dc=(0,s.Z)(function*(D,b){return at(D,"POST","/v1/accounts:signInWithPhoneNumber",Et(D,Object.assign(Object.assign({},b),{operation:"REAUTH"})),Qd)})).apply(this,arguments)}class To extends ii{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,C){return new To({verificationId:b,verificationCode:C})}static _fromTokenResponse(b,C){return new To({phoneNumber:b,temporaryProof:C})}_getIdTokenResponse(b){return function Lu(D,b){return ra.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,C){return function So(D,b){return Ac.apply(this,arguments)}(b,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function Jd(D,b){return Dc.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:C,verificationId:k,verificationCode:ie}=this.params;return b&&C?{temporaryProof:b,phoneNumber:C}:{sessionInfo:k,code:ie}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:C,verificationCode:k,phoneNumber:ie,temporaryProof:he}=b;return k||C||ie||he?new To({verificationId:C,verificationCode:k,phoneNumber:ie,temporaryProof:he}):null}}class Ws{constructor(b){var C,k,ie,he,Ne,Ze;const Ct=(0,y.zd)((0,y.pd)(b)),Ht=null!==(C=Ct.apiKey)&&void 0!==C?C:null,zt=null!==(k=Ct.oobCode)&&void 0!==k?k:null,tr=function xc(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ie=Ct.mode)&&void 0!==ie?ie:null);_e(Ht&&zt&&tr,"argument-error"),this.apiKey=Ht,this.operation=tr,this.code=zt,this.continueUrl=null!==(he=Ct.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(Ne=Ct.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(Ze=Ct.tenantId)&&void 0!==Ze?Ze:null}static parseLink(b){const C=function Pc(D){const b=(0,y.zd)((0,y.pd)(D)).link,C=b?(0,y.zd)((0,y.pd)(b)).deep_link_id:null,k=(0,y.zd)((0,y.pd)(D)).deep_link_id;return(k?(0,y.zd)((0,y.pd)(k)).link:null)||k||C||b||D}(b);try{return new Ws(C)}catch{return null}}}let Zs=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(C,k){return Eo._fromEmailAndPassword(C,k)}static credentialWithLink(C,k){const ie=Ws.parseLink(k);return _e(ie,"argument-error"),Eo._fromEmailAndCode(C,ie.code,ie.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Or{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class Io extends Or{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class As extends Io{static credentialFromJSON(b){const C="string"==typeof b?JSON.parse(b):b;return _e("providerId"in C&&"signInMethod"in C,"argument-error"),as._fromParams(C)}credential(b){return this._credential(Object.assign(Object.assign({},b),{nonce:b.rawNonce}))}_credential(b){return _e(b.idToken||b.accessToken,"argument-error"),as._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return As.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return As.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:C,oauthAccessToken:k,oauthTokenSecret:ie,pendingToken:he,nonce:Ne,providerId:Ze}=b;if(!k&&!ie&&!C&&!he||!Ze)return null;try{return new As(Ze)._credential({idToken:C,accessToken:k,nonce:Ne,pendingToken:he})}catch{return null}}}let Ao=(()=>{class D extends Io{constructor(){super("facebook.com")}static credential(C){return as._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return D.credentialFromTaggedObject(C)}static credentialFromError(C){return D.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return D.credential(C.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),ja=(()=>{class D extends Io{constructor(){super("google.com"),this.addScope("profile")}static credential(C,k){return as._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:k})}static credentialFromResult(C){return D.credentialFromTaggedObject(C)}static credentialFromError(C){return D.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:k,oauthAccessToken:ie}=C;if(!k&&!ie)return null;try{return D.credential(k,ie)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Fl=(()=>{class D extends Io{constructor(){super("github.com")}static credential(C){return as._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return D.credentialFromTaggedObject(C)}static credentialFromError(C){return D.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return D.credential(C.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Ks extends ii{constructor(b,C){super(b,b),this.pendingToken=C}_getIdTokenResponse(b){return qs(b,this.buildRequest())}_linkToIdToken(b,C){const k=this.buildRequest();return k.idToken=C,qs(b,k)}_getReauthenticationResolver(b){const C=this.buildRequest();return C.autoCreate=!1,qs(b,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const C="string"==typeof b?JSON.parse(b):b,{providerId:k,signInMethod:ie,pendingToken:he}=C;return k&&ie&&he&&k===ie?new Ks(k,he):null}static _create(b,C){return new Ks(b,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class li extends Or{constructor(b){_e(b.startsWith("saml."),"argument-error"),super(b)}static credentialFromResult(b){return li.samlCredentialFromTaggedObject(b)}static credentialFromError(b){return li.samlCredentialFromTaggedObject(b.customData||{})}static credentialFromJSON(b){const C=Ks.fromJSON(b);return _e(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{pendingToken:C,providerId:k}=b;if(!C||!k)return null;try{return Ks._create(k,C)}catch{return null}}}let ls=(()=>{class D extends Io{constructor(){super("twitter.com")}static credential(C,k){return as._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:k})}static credentialFromResult(C){return D.credentialFromTaggedObject(C)}static credentialFromError(C){return D.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:k,oauthTokenSecret:ie}=C;if(!k||!ie)return null;try{return D.credential(k,ie)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function ci(D,b){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,s.Z)(function*(D,b){return at(D,"POST","/v1/accounts:signUp",Et(D,b))})).apply(this,arguments)}class Ii{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,C,k,ie=!1){return(0,s.Z)(function*(){const he=yield Ft._fromIdTokenResponse(b,k,ie),Ne=Do(k);return new Ii({user:he,providerId:Ne,_tokenResponse:k,operationType:C})})()}static _forOperation(b,C,k){return(0,s.Z)(function*(){yield b._updateTokensIfNecessary(k,!0);const ie=Do(k);return new Ii({user:b,providerId:ie,_tokenResponse:k,operationType:C})})()}}function Do(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Xd(D){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,s.Z)(function*(D){var b;const C=Pt(D);if(yield C._initializationPromise,null!==(b=C.currentUser)&&void 0!==b&&b.isAnonymous)return new Ii({user:C.currentUser,providerId:null,operationType:"signIn"});const k=yield ci(C,{returnSecureToken:!0}),ie=yield Ii._fromIdTokenResponse(C,"signIn",k,!0);return yield C._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class Gn extends y.ZR{constructor(b,C,k,ie){var he;super(C.code,C.message),this.operationType=k,this.user=ie,Object.setPrototypeOf(this,Gn.prototype),this.customData={appName:b.name,tenantId:null!==(he=b.tenantId)&&void 0!==he?he:void 0,_serverResponse:C.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(b,C,k,ie){return new Gn(b,C,k,ie)}}function kc(D,b,C,k){return("reauthenticate"===b?C._getReauthenticationResolver(D):C._getIdTokenResponse(D)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?Gn._fromErrorAndOperation(D,he,b,k):he})}function Vu(D){return new Set(D.map(({providerId:b})=>b).filter(b=>!!b))}function Ai(D,b){return xr.apply(this,arguments)}function xr(){return(xr=(0,s.Z)(function*(D,b){const C=(0,y.m9)(D);yield Bi(!0,C,b);const{providerUserInfo:k}=yield nt(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[b]}),ie=Vu(k||[]);return C.providerData=C.providerData.filter(he=>ie.has(he.providerId)),ie.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C})).apply(this,arguments)}function ia(D,b){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,s.Z)(function*(D,b,C=!1){const k=yield Wt(D,b._linkToIdToken(D.auth,yield D.getIdToken()),C);return Ii._forOperation(D,"link",k)})).apply(this,arguments)}function Bi(D,b,C){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,s.Z)(function*(D,b,C){yield lr(b);const ie=!1===D?"provider-already-linked":"no-such-provider";_e(Vu(b.providerData).has(C)===D,b.auth,ie)})).apply(this,arguments)}function Vl(D,b){return xs.apply(this,arguments)}function xs(){return(xs=(0,s.Z)(function*(D,b,C=!1){var k;const{auth:ie}=D,he="reauthenticate";try{const Ne=yield Wt(D,kc(ie,he,b,D),C);_e(Ne.idToken,ie,"internal-error");const Ze=Tt(Ne.idToken);_e(Ze,ie,"internal-error");const{sub:Ct}=Ze;return _e(D.uid===Ct,ie,"user-mismatch"),Ii._forOperation(D,he,Ne)}catch(Ne){throw"auth/user-not-found"===(null===(k=Ne)||void 0===k?void 0:k.code)&&J(ie,"user-mismatch"),Ne}})).apply(this,arguments)}function Bl(D,b){return vi.apply(this,arguments)}function vi(){return(vi=(0,s.Z)(function*(D,b,C=!1){const k="signIn",ie=yield kc(D,k,b),he=yield Ii._fromIdTokenResponse(D,k,ie);return C||(yield D._updateCurrentUser(he.user)),he})).apply(this,arguments)}function sa(D,b){return cr.apply(this,arguments)}function cr(){return(cr=(0,s.Z)(function*(D,b){return Bl(Pt(D),b)})).apply(this,arguments)}function Yt(D,b){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,s.Z)(function*(D,b){const C=(0,y.m9)(D);return yield Bi(!1,C,b.providerId),ia(C,b)})).apply(this,arguments)}function Bu(D,b){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,s.Z)(function*(D,b){return Vl((0,y.m9)(D),b)})).apply(this,arguments)}function Oc(D,b){return oa.apply(this,arguments)}function oa(){return(oa=(0,s.Z)(function*(D,b){return at(D,"POST","/v1/accounts:signInWithCustomToken",Et(D,b))})).apply(this,arguments)}function Js(D,b){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(D,b){const C=Pt(D),k=yield Oc(C,{token:b,returnSecureToken:!0}),ie=yield Ii._fromIdTokenResponse(C,"signIn",k);return yield C._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class xo{constructor(b,C){this.factorId=b,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(b,C){return"phoneInfo"in C?Ke._fromServerResponse(b,C):J(b,"internal-error")}}class Ke extends xo{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,C){return new Ke(C)}}function dn(D,b,C){var k;_e((null===(k=C.url)||void 0===k?void 0:k.length)>0,D,"invalid-continue-uri"),_e(typeof C.dynamicLinkDomain>"u"||C.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),b.continueUrl=C.url,b.dynamicLinkDomain=C.dynamicLinkDomain,b.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(_e(C.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),b.iOSBundleId=C.iOS.bundleId),C.android&&(_e(C.android.packageName.length>0,D,"missing-android-pkg-name"),b.androidInstallApp=C.android.installApp,b.androidMinimumVersionCode=C.android.minimumVersion,b.androidPackageName=C.android.packageName)}function Uu(D,b,C){return Po.apply(this,arguments)}function Po(){return(Po=(0,s.Z)(function*(D,b,C){const k=(0,y.m9)(D),ie={requestType:"PASSWORD_RESET",email:b};C&&dn(k,ie,C),yield Nu(k,ie)})).apply(this,arguments)}function ur(D,b,C){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,s.Z)(function*(D,b,C){yield si((0,y.m9)(D),{oobCode:b,newPassword:C})})).apply(this,arguments)}function $a(D,b){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,s.Z)(function*(D,b){yield Ru((0,y.m9)(D),{oobCode:b})})).apply(this,arguments)}function za(D,b){return eo.apply(this,arguments)}function eo(){return(eo=(0,s.Z)(function*(D,b){const C=(0,y.m9)(D),k=yield si(C,{oobCode:b}),ie=k.requestType;switch(_e(ie,C,"internal-error"),ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_e(k.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_e(k.mfaInfo,C,"internal-error");default:_e(k.email,C,"internal-error")}let he=null;return k.mfaInfo&&(he=xo._fromServerResponse(Pt(C),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:he},operation:ie}})).apply(this,arguments)}function Hu(D,b){return to.apply(this,arguments)}function to(){return(to=(0,s.Z)(function*(D,b){const{data:C}=yield za((0,y.m9)(D),b);return C.email})).apply(this,arguments)}function ju(D,b,C){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,s.Z)(function*(D,b,C){const k=Pt(D),ie=yield ci(k,{returnSecureToken:!0,email:b,password:C}),he=yield Ii._fromIdTokenResponse(k,"signIn",ie);return yield k._updateCurrentUser(he.user),he})).apply(this,arguments)}function dr(D,b,C){return sa((0,y.m9)(D),Zs.credential(b,C))}function Hi(D,b,C){return la.apply(this,arguments)}function la(){return(la=(0,s.Z)(function*(D,b,C){const k=(0,y.m9)(D),ie={requestType:"EMAIL_SIGNIN",email:b};_e(C.handleCodeInApp,k,"argument-error"),C&&dn(k,ie,C),yield yi(k,ie)})).apply(this,arguments)}function ca(D,b){return"EMAIL_SIGNIN"===Ws.parseLink(b)?.operation}function wi(D,b,C){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,s.Z)(function*(D,b,C){const k=(0,y.m9)(D),ie=Zs.credentialWithLink(b,C||ee());return _e(ie._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),sa(k,ie)})).apply(this,arguments)}function Ul(D,b){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,s.Z)(function*(D,b){return wt(D,"POST","/v1/accounts:createAuthUri",Et(D,b))})).apply(this,arguments)}function Gu(D,b){return no.apply(this,arguments)}function no(){return(no=(0,s.Z)(function*(D,b){const k={identifier:b,continueUri:ue()?ee():"http://localhost"},{signinMethods:ie}=yield Ul((0,y.m9)(D),k);return ie||[]})).apply(this,arguments)}function Hl(D,b){return ua.apply(this,arguments)}function ua(){return(ua=(0,s.Z)(function*(D,b){const C=(0,y.m9)(D),ie={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};b&&dn(C.auth,ie,b);const{email:he}=yield os(C.auth,ie);he!==D.email&&(yield D.reload())})).apply(this,arguments)}function jl(D,b,C){return da.apply(this,arguments)}function da(){return(da=(0,s.Z)(function*(D,b,C){const k=(0,y.m9)(D),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:b};C&&dn(k.auth,he,C);const{email:Ne}=yield Vi(k.auth,he);Ne!==D.email&&(yield D.reload())})).apply(this,arguments)}function Gl(D,b){return ro.apply(this,arguments)}function ro(){return(ro=(0,s.Z)(function*(D,b){return wt(D,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function $u(D,b){return ha.apply(this,arguments)}function ha(){return(ha=(0,s.Z)(function*(D,{displayName:b,photoURL:C}){if(void 0===b&&void 0===C)return;const k=(0,y.m9)(D),he={idToken:yield k.getIdToken(),displayName:b,photoUrl:C,returnSecureToken:!0},Ne=yield Wt(k,Gl(k.auth,he));k.displayName=Ne.displayName||null,k.photoURL=Ne.photoUrl||null;const Ze=k.providerData.find(({providerId:Ct})=>"password"===Ct);Ze&&(Ze.displayName=k.displayName,Ze.photoURL=k.photoURL),yield k._updateTokensIfNecessary(Ne)})).apply(this,arguments)}function zu(D,b){return ji((0,y.m9)(D),b,null)}function $l(D,b){return ji((0,y.m9)(D),null,b)}function ji(D,b,C){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,s.Z)(function*(D,b,C){const{auth:k}=D,he={idToken:yield D.getIdToken(),returnSecureToken:!0};b&&(he.email=b),C&&(he.password=C);const Ne=yield Wt(D,Nl(k,he));yield D._updateTokensIfNecessary(Ne,!0)})).apply(this,arguments)}class Xn{constructor(b,C,k={}){this.isNewUser=b,this.providerId=C,this.profile=k}}class cs extends Xn{constructor(b,C,k,ie){super(b,C,k),this.username=ie}}class Yn extends Xn{constructor(b,C){super(b,"facebook.com",C)}}class Lc extends cs{constructor(b,C){super(b,"github.com",C,"string"==typeof C?.login?C?.login:null)}}class zl extends Xn{constructor(b,C){super(b,"google.com",C)}}class qu extends cs{constructor(b,C,k){super(b,"twitter.com",C,k)}}function ql(D){const{user:b,_tokenResponse:C}=D;return b.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function Fc(D){var b,C;if(!D)return null;const{providerId:k}=D,ie=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},he=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!k&&D?.idToken){const Ne=null===(C=null===(b=Tt(D.idToken))||void 0===b?void 0:b.firebase)||void 0===C?void 0:C.sign_in_provider;if(Ne)return new Xn(he,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!k)return null;switch(k){case"facebook.com":return new Yn(he,ie);case"github.com":return new Lc(he,ie);case"google.com":return new zl(he,ie);case"twitter.com":return new qu(he,ie,D.screenName||null);case"custom":case"anonymous":return new Xn(he,null);default:return new Xn(he,k,ie)}}(C)}class Ci{constructor(b,C,k){this.type=b,this.credential=C,this.auth=k}static _fromIdtoken(b,C){return new Ci("enroll",b,C)}static _fromMfaPendingCredential(b){return new Ci("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var C,k;if(b?.multiFactorSession){if(null!==(C=b.multiFactorSession)&&void 0!==C&&C.pendingCredential)return Ci._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null!==(k=b.multiFactorSession)&&void 0!==k&&k.idToken)return Ci._fromIdtoken(b.multiFactorSession.idToken)}return null}}class Kl{constructor(b,C,k){this.session=b,this.hints=C,this.signInResolver=k}static _fromError(b,C){const k=Pt(b),ie=C.customData._serverResponse,he=(ie.mfaInfo||[]).map(Ze=>xo._fromServerResponse(k,Ze));_e(ie.mfaPendingCredential,k,"internal-error");const Ne=Ci._fromMfaPendingCredential(ie.mfaPendingCredential);return new Kl(Ne,he,function(){var Ze=(0,s.Z)(function*(Ct){const Ht=yield Ct._process(k,Ne);delete ie.mfaInfo,delete ie.mfaPendingCredential;const zt=Object.assign(Object.assign({},ie),{idToken:Ht.idToken,refreshToken:Ht.refreshToken});switch(C.operationType){case"signIn":const tr=yield Ii._fromIdTokenResponse(k,C.operationType,zt);return yield k._updateCurrentUser(tr.user),tr;case"reauthenticate":return _e(C.user,k,"internal-error"),Ii._forOperation(C.user,C.operationType,zt);default:J(k,"internal-error")}});return function(Ct){return Ze.apply(this,arguments)}}())}resolveSignIn(b){var C=this;return(0,s.Z)(function*(){return C.signInResolver(b)})()}}function Bc(D,b){var C;const k=(0,y.m9)(D),ie=b;return _e(b.customData.operationType,k,"argument-error"),_e(null===(C=ie.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,k,"argument-error"),Kl._fromError(k,ie)}function nr(D,b){return wt(D,"POST","/v2/accounts/mfaEnrollment:start",Et(D,b))}class Ka{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(k=>xo._fromServerResponse(b.auth,k)))})}static _fromUser(b){return new Ka(b)}getSession(){var b=this;return(0,s.Z)(function*(){return Ci._fromIdtoken(yield b.user.getIdToken(),b.user.auth)})()}enroll(b,C){var k=this;return(0,s.Z)(function*(){const ie=b,he=yield k.getSession(),Ne=yield Wt(k.user,ie._process(k.user.auth,he,C));return yield k.user._updateTokensIfNecessary(Ne),k.user.reload()})()}unenroll(b){var C=this;return(0,s.Z)(function*(){var k;const ie="string"==typeof b?b:b.uid,he=yield C.user.getIdToken(),Ne=yield Wt(C.user,function Za(D,b){return wt(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Et(D,b))}(C.user.auth,{idToken:he,mfaEnrollmentId:ie}));C.enrolledFactors=C.enrolledFactors.filter(({uid:Ze})=>Ze!==ie),yield C.user._updateTokensIfNecessary(Ne);try{yield C.user.reload()}catch(Ze){if("auth/user-token-expired"!==(null===(k=Ze)||void 0===k?void 0:k.code))throw Ze}})()}}const Gi=new WeakMap;function $i(D){const b=(0,y.m9)(D);return Gi.has(b)||Gi.set(b,Ka._fromUser(b)),Gi.get(b)}const us="__sak";class fa{constructor(b,C){this.storageRetriever=b,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(us,"1"),this.storage.removeItem(us),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(b,C){return this.storage.setItem(b,JSON.stringify(C)),Promise.resolve()}_get(b){const C=this.storage.getItem(b);return Promise.resolve(C?JSON.parse(C):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}get storage(){return this.storageRetriever()}}const yr=(()=>{class D extends fa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,k)=>this.onStorageEvent(C,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yl(){const D=(0,y.z$)();return ye(D)||et(D)}()&&function Li(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pn(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const k of Object.keys(this.listeners)){const ie=this.storage.getItem(k),he=this.localCache[k];ie!==he&&C(k,he,ie)}}onStorageEvent(C,k=!1){if(!C.key)return void this.forAllChangedKeys((Ze,Ct,Ht)=>{this.notifyListeners(Ze,Ht)});const ie=C.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ze=this.storage.getItem(ie);if(C.newValue!==Ze)null!==C.newValue?this.storage.setItem(ie,C.newValue):this.storage.removeItem(ie);else if(this.localCache[ie]===C.newValue&&!k)return}const he=()=>{const Ze=this.storage.getItem(ie);!k&&this.localCache[ie]===Ze||this.notifyListeners(ie,Ze)},Ne=this.storage.getItem(ie);!function Kt(){return(0,y.w1)()&&10===document.documentMode}()||Ne===C.newValue||C.newValue===C.oldValue?he():setTimeout(he,10)}notifyListeners(C,k){this.localCache[C]=k;const ie=this.listeners[C];if(ie)for(const he of Array.from(ie))he(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,k,ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:k,newValue:ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(k)}_removeListener(C,k){this.listeners[C]&&(this.listeners[C].delete(k),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,k){var ie=()=>super._set,he=this;return(0,s.Z)(function*(){yield ie().call(he,C,k),he.localCache[C]=JSON.stringify(k)})()}_get(C){var k=()=>super._get,ie=this;return(0,s.Z)(function*(){const he=yield k().call(ie,C);return ie.localCache[C]=JSON.stringify(he),he})()}_remove(C){var k=()=>super._remove,ie=this;return(0,s.Z)(function*(){yield k().call(ie,C),delete ie.localCache[C]})()}}return D.type="LOCAL",D})(),R=(()=>{class D extends fa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,k){}_removeListener(C,k){}}return D.type="SESSION",D})();let re=(()=>{class D{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const k=this.receivers.find(he=>he.isListeningto(C));if(k)return k;const ie=new D(C);return this.receivers.push(ie),ie}isListeningto(C){return this.eventTarget===C}handleEvent(C){var k=this;return(0,s.Z)(function*(){const ie=C,{eventId:he,eventType:Ne,data:Ze}=ie.data,Ct=k.handlersMap[Ne];if(!Ct?.size)return;ie.ports[0].postMessage({status:"ack",eventId:he,eventType:Ne});const Ht=Array.from(Ct).map(function(){var tr=(0,s.Z)(function*(Di){return Di(ie.origin,Ze)});return function(Di){return tr.apply(this,arguments)}}()),zt=yield function B(D){return Promise.all(D.map(function(){var b=(0,s.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(k){return{fulfilled:!1,reason:k}}});return function(C){return b.apply(this,arguments)}}()))}(Ht);ie.ports[0].postMessage({status:"done",eventId:he,eventType:Ne,response:zt})})()}_subscribe(C,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(k)}_unsubscribe(C,k){this.handlersMap[C]&&k&&this.handlersMap[C].delete(k),(!k||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Se(D="",b=10){let C="";for(let k=0;k<b;k++)C+=Math.floor(10*Math.random());return D+C}class Ge{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,C,k=50){var ie=this;return(0,s.Z)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let Ne,Ze;return new Promise((Ct,Ht)=>{const zt=Se("",20);he.port1.start();const tr=setTimeout(()=>{Ht(new Error("unsupported_event"))},k);Ze={messageChannel:he,onMessage(Di){const Uo=Di;if(Uo.data.eventId===zt)switch(Uo.data.status){case"ack":clearTimeout(tr),Ne=setTimeout(()=>{Ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Ct(Uo.data.response);break;default:clearTimeout(tr),clearTimeout(Ne),Ht(new Error("invalid_response"))}}},ie.handlers.add(Ze),he.port1.addEventListener("message",Ze.onMessage),ie.target.postMessage({eventType:b,eventId:zt,data:C},[he.port2])}).finally(()=>{Ze&&ie.removeMessageHandler(Ze)})})()}}function lt(){return window}function ir(){return typeof lt().WorkerGlobalScope<"u"&&"function"==typeof lt().importScripts}function Kr(){return(Kr=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ql="firebaseLocalStorageDb",Jl="firebaseLocalStorage",Qa="fbase_key";class ya{constructor(b){this.request=b}toPromise(){return new Promise((b,C)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function Ja(D,b){return D.transaction([Jl],b?"readwrite":"readonly").objectStore(Jl)}function jc(){const D=indexedDB.open(Ql,1);return new Promise((b,C)=>{D.addEventListener("error",()=>{C(D.error)}),D.addEventListener("upgradeneeded",()=>{const k=D.result;try{k.createObjectStore(Jl,{keyPath:Qa})}catch(ie){C(ie)}}),D.addEventListener("success",(0,s.Z)(function*(){const k=D.result;k.objectStoreNames.contains(Jl)?b(k):(k.close(),yield function eh(){const D=indexedDB.deleteDatabase(Ql);return new ya(D).toPromise()}(),b(yield jc()))}))})}function Xl(D,b,C){return Os.apply(this,arguments)}function Os(){return(Os=(0,s.Z)(function*(D,b,C){const k=Ja(D,!0).put({[Qa]:b,value:C});return new ya(k).toPromise()})).apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(function*(D,b){const C=Ja(D,!1).get(b),k=yield new ya(C).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function Gc(D,b){const C=Ja(D,!0).delete(b);return new ya(C).toPromise()}const tl=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,s.Z)(function*(){return C.db||(C.db=yield jc()),C.db})()}_withRetries(C){var k=this;return(0,s.Z)(function*(){let ie=0;for(;;)try{const he=yield k._openDb();return yield C(he)}catch(he){if(ie++>3)throw he;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,s.Z)(function*(){return ir()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,s.Z)(function*(){C.receiver=re._getInstance(function Hc(){return ir()?self:null}()),C.receiver._subscribe("keyChanged",function(){var k=(0,s.Z)(function*(ie,he){return{keyProcessed:(yield C._poll()).includes(he.key)}});return function(ie,he){return k.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var k=(0,s.Z)(function*(ie,he){return["keyChanged"]});return function(ie,he){return k.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,s.Z)(function*(){var k,ie;if(C.activeServiceWorker=yield function Rr(){return Kr.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new Ge(C.activeServiceWorker);const he=yield C.sender._send("ping",{},800);!he||(null===(k=he[0])||void 0===k?void 0:k.fulfilled)&&(null===(ie=he[0])||void 0===ie?void 0:ie.value.includes("keyChanged"))&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var k=this;return(0,s.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function ma(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:C},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const C=yield jc();return yield Xl(C,us,"1"),yield Gc(C,us),!0}catch{}return!1})()}_withPendingWrite(C){var k=this;return(0,s.Z)(function*(){k.pendingWrites++;try{yield C()}finally{k.pendingWrites--}})()}_set(C,k){var ie=this;return(0,s.Z)(function*(){return ie._withPendingWrite((0,s.Z)(function*(){return yield ie._withRetries(he=>Xl(he,C,k)),ie.localCache[C]=k,ie.notifyServiceWorker(C)}))})()}_get(C){var k=this;return(0,s.Z)(function*(){const ie=yield k._withRetries(he=>function Lf(D,b){return Xa.apply(this,arguments)}(he,C));return k.localCache[C]=ie,ie})()}_remove(C){var k=this;return(0,s.Z)(function*(){return k._withPendingWrite((0,s.Z)(function*(){return yield k._withRetries(ie=>Gc(ie,C)),delete k.localCache[C],k.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,s.Z)(function*(){const k=yield C._withRetries(Ne=>{const Ze=Ja(Ne,!1).getAll();return new ya(Ze).toPromise()});if(!k)return[];if(0!==C.pendingWrites)return[];const ie=[],he=new Set;for(const{fbase_key:Ne,value:Ze}of k)he.add(Ne),JSON.stringify(C.localCache[Ne])!==JSON.stringify(Ze)&&(C.notifyListeners(Ne,Ze),ie.push(Ne));for(const Ne of Object.keys(C.localCache))C.localCache[Ne]&&!he.has(Ne)&&(C.notifyListeners(Ne,null),ie.push(Ne));return ie})()}notifyListeners(C,k){this.localCache[C]=k;const ie=this.listeners[C];if(ie)for(const he of Array.from(ie))he(k)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(k)}_removeListener(C,k){this.listeners[C]&&(this.listeners[C].delete(k),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Vf(D,b){return wt(D,"POST","/v2/accounts/mfaSignIn:start",Et(D,b))}function ui(){return(ui=(0,s.Z)(function*(D){return(yield wt(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _a(D){return new Promise((b,C)=>{const k=document.createElement("script");k.setAttribute("src",D),k.onload=b,k.onerror=ie=>{const he=te("internal-error");he.customData=ie,C(he)},k.type="text/javascript",k.charset="UTF-8",function rl(){var D,b;return null!==(b=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==b?b:document}().appendChild(k)})}function il(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Rs=1e12;class th{constructor(b){this.auth=b,this.counter=Rs,this._widgets=new Map}render(b,C){const k=this.counter;return this._widgets.set(k,new er(b,this.auth.name,C||{})),this.counter++,k}reset(b){var C;const k=b||Rs;null===(C=this._widgets.get(k))||void 0===C||C.delete(),this._widgets.delete(k)}getResponse(b){var C;return(null===(C=this._widgets.get(b||Rs))||void 0===C?void 0:C.getResponse())||""}execute(b){var C=this;return(0,s.Z)(function*(){var k;return null===(k=C._widgets.get(b||Rs))||void 0===k||k.execute(),""})()}}class er{constructor(b,C,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ie="string"==typeof b?document.getElementById(b):b;_e(ie,"argument-error",{appName:C}),this.container=ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function mg(D){const b=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<D;k++)b.push(C.charAt(Math.floor(Math.random()*C.length)));return b.join("")}(50);const{callback:b,"expired-callback":C}=this.params;if(b)try{b(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bf=il("rcb"),uC=new $e(3e4,6e4);class X_{constructor(){var b;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(b=lt().grecaptcha)||void 0===b||!b.render)}load(b,C=""){return _e(function Uf(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(C),b,"argument-error"),this.shouldResolveImmediately(C)?Promise.resolve(lt().grecaptcha):new Promise((k,ie)=>{const he=lt().setTimeout(()=>{ie(te(b,"network-request-failed"))},uC.get());lt()[Bf]=()=>{lt().clearTimeout(he),delete lt()[Bf];const Ze=lt().grecaptcha;if(!Ze)return void ie(te(b,"internal-error"));const Ct=Ze.render;Ze.render=(Ht,zt)=>{const tr=Ct(Ht,zt);return this.counter++,tr},this.hostLanguage=C,k(Ze)},_a(`https://www.google.com/recaptcha/api.js??${(0,y.xO)({onload:Bf,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(he),ie(te(b,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){var C;return!(null===(C=lt().grecaptcha)||void 0===C||!C.render)&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dC{load(b){return(0,s.Z)(function*(){return new th(b)})()}clearedOneInstance(){}}const zc="recaptcha",hC={theme:"light",type:"image"};class ev{constructor(b,C=Object.assign({},hC),k){this.parameters=C,this.type=zc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pt(k),this.isInvisible="invisible"===this.parameters.size,_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ie="string"==typeof b?document.getElementById(b):b;_e(ie,this.auth,"argument-error"),this.container=ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dC:new X_,this.validateStartingState()}verify(){var b=this;return(0,s.Z)(function*(){b.assertNotDestroyed();const C=yield b.render(),k=b.getAssertedRecaptcha();return k.getResponse(C)||new Promise(he=>{const Ne=Ze=>{!Ze||(b.tokenChangeListeners.delete(Ne),he(Ze))};b.tokenChangeListeners.add(Ne),b.isInvisible&&k.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){_e(!this.parameters.sitekey,this.auth,"argument-error"),_e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return C=>{if(this.tokenChangeListeners.forEach(k=>k(C)),"function"==typeof b)b(C);else if("string"==typeof b){const k=lt()[b];"function"==typeof k&&k(C)}}}assertNotDestroyed(){_e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,s.Z)(function*(){if(yield b.init(),!b.widgetId){let C=b.container;if(!b.isInvisible){const k=document.createElement("div");C.appendChild(k),C=k}b.widgetId=b.getAssertedRecaptcha().render(C,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,s.Z)(function*(){_e(ue()&&!ir(),b.auth,"internal-error"),yield function Hr(){let D=null;return new Promise(b=>{"complete"!==document.readyState?(D=()=>b(),window.addEventListener("load",D)):b()}).catch(b=>{throw D&&window.removeEventListener("load",D),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const C=yield function $c(D){return ui.apply(this,arguments)}(b.auth);_e(C,b.auth,"internal-error"),b.parameters.sitekey=C})()}getAssertedRecaptcha(){return _e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ol{constructor(b,C){this.verificationId=b,this.onConfirmation=C}confirm(b){const C=To._fromVerification(this.verificationId,b);return this.onConfirmation(C)}}function qc(D,b,C){return ds.apply(this,arguments)}function ds(){return(ds=(0,s.Z)(function*(D,b,C){const k=Pt(D),ie=yield Ns(k,b,(0,y.m9)(C));return new ol(ie,he=>sa(k,he))})).apply(this,arguments)}function nh(D,b,C){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,s.Z)(function*(D,b,C){const k=(0,y.m9)(D);yield Bi(!1,k,"phone");const ie=yield Ns(k.auth,b,(0,y.m9)(C));return new ol(ie,he=>Yt(k,he))})).apply(this,arguments)}function Ro(D,b,C){return ec.apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(D,b,C){const k=(0,y.m9)(D),ie=yield Ns(k.auth,b,(0,y.m9)(C));return new ol(ie,he=>Bu(k,he))})).apply(this,arguments)}function Ns(D,b,C){return No.apply(this,arguments)}function No(){return(No=(0,s.Z)(function*(D,b,C){var k;const ie=yield C.verify();try{let he;if(_e("string"==typeof ie,D,"argument-error"),_e(C.type===zc,D,"argument-error"),he="string"==typeof b?{phoneNumber:b}:b,"session"in he){const Ne=he.session;if("phoneNumber"in he)return _e("enroll"===Ne.type,D,"internal-error"),(yield nr(D,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:ie}})).phoneSessionInfo.sessionInfo;{_e("signin"===Ne.type,D,"internal-error");const Ze=(null===(k=he.multiFactorHint)||void 0===k?void 0:k.uid)||he.multiFactorUid;return _e(Ze,D,"missing-multi-factor-info"),(yield Vf(D,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:Ze,phoneSignInInfo:{recaptchaToken:ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield Ha(D,{phoneNumber:he.phoneNumber,recaptchaToken:ie});return Ne}}finally{C._reset()}})).apply(this,arguments)}function Hf(D,b){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,s.Z)(function*(D,b){yield ia((0,y.m9)(D),b)})).apply(this,arguments)}let gg=(()=>{class D{constructor(C){this.providerId=D.PROVIDER_ID,this.auth=Pt(C)}verifyPhoneNumber(C,k){return Ns(this.auth,C,(0,y.m9)(k))}static credential(C,k){return To._fromVerification(C,k)}static credentialFromResult(C){return D.credentialFromTaggedObject(C)}static credentialFromError(C){return D.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:k,temporaryProof:ie}=C;return k&&ie?To._fromTokenResponse(k,ie):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function tc(D,b){return b?de(b):(_e(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class rh extends ii{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return qs(b,this._buildIdpRequest())}_linkToIdToken(b,C){return qs(b,this._buildIdpRequest(C))}_getReauthenticationResolver(b){return qs(b,this._buildIdpRequest())}_buildIdpRequest(b){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(C.idToken=b),C}}function jf(D){return Bl(D.auth,new rh(D),D.bypassAuthState)}function zi(D){const{auth:b,user:C}=D;return _e(C,b,"internal-error"),Vl(C,new rh(D),D.bypassAuthState)}function al(D){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,s.Z)(function*(D){const{auth:b,user:C}=D;return _e(C,b,"internal-error"),ia(C,new rh(D),D.bypassAuthState)})).apply(this,arguments)}class Wc{constructor(b,C,k,ie,he=!1){this.auth=b,this.resolver=k,this.user=ie,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var b=this;return new Promise(function(){var C=(0,s.Z)(function*(k,ie){b.pendingPromise={resolve:k,reject:ie};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(he){b.reject(he)}});return function(k,ie){return C.apply(this,arguments)}}())}onAuthEvent(b){var C=this;return(0,s.Z)(function*(){const{urlResponse:k,sessionId:ie,postBody:he,tenantId:Ne,error:Ze,type:Ct}=b;if(Ze)return void C.reject(Ze);const Ht={auth:C.auth,requestUri:k,sessionId:ie,tenantId:Ne||void 0,postBody:he||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(Ct)(Ht))}catch(zt){C.reject(zt)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return jf;case"linkViaPopup":case"linkViaRedirect":return al;case"reauthViaPopup":case"reauthViaRedirect":return zi;default:J(this.auth,"internal-error")}}resolve(b){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ll=new $e(2e3,1e4);function ih(D,b,C){return cl.apply(this,arguments)}function cl(){return(cl=(0,s.Z)(function*(D,b,C){const k=Pt(D);me(D,b,Or);const ie=tc(k,C);return new nc(k,"signInViaPopup",b,ie).executeNotNull()})).apply(this,arguments)}function Qu(D,b,C){return sh.apply(this,arguments)}function sh(){return(sh=(0,s.Z)(function*(D,b,C){const k=(0,y.m9)(D);me(k.auth,b,Or);const ie=tc(k.auth,C);return new nc(k.auth,"reauthViaPopup",b,ie,k).executeNotNull()})).apply(this,arguments)}function yg(D,b,C){return oh.apply(this,arguments)}function oh(){return(oh=(0,s.Z)(function*(D,b,C){const k=(0,y.m9)(D);me(k.auth,b,Or);const ie=tc(k.auth,C);return new nc(k.auth,"linkViaPopup",b,ie,k).executeNotNull()})).apply(this,arguments)}let nc=(()=>{class D extends Wc{constructor(C,k,ie,he,Ne){super(C,k,he,Ne),this.provider=ie,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var C=this;return(0,s.Z)(function*(){const k=yield C.execute();return _e(k,C.auth,"internal-error"),k})()}onExecution(){var C=this;return(0,s.Z)(function*(){Ie(1===C.filter.length,"Popup operations only handle one event");const k=Se();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],k),C.authWindow.associatedEvent=k,C.resolver._originValidation(C.auth).catch(ie=>{C.reject(ie)}),C.resolver._isIframeWebStorageSupported(C.auth,ie=>{ie||C.reject(te(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const C=()=>{var k,ie;this.pollId=null!==(ie=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==ie&&ie.closed?window.setTimeout(()=>{this.pollId=null,this.reject(te(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(C,ll.get())};C()}}return D.currentPopupAction=null,D})();const so=new Map;class ul extends Wc{constructor(b,C,k=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,k),this.eventId=null}execute(){var b=()=>super.execute,C=this;return(0,s.Z)(function*(){let k=so.get(C.auth._key());if(!k){try{const he=(yield function Ju(D,b){return dl.apply(this,arguments)}(C.resolver,C.auth))?yield b().call(C):null;k=()=>Promise.resolve(he)}catch(ie){k=()=>Promise.reject(ie)}so.set(C.auth._key(),k)}return C.bypassAuthState||so.set(C.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(b){var C=()=>super.onAuthEvent,k=this;return(0,s.Z)(function*(){if("signInViaRedirect"===b.type)return C().call(k,b);if("unknown"!==b.type){if(b.eventId){const ie=yield k.auth._redirectUserForId(b.eventId);if(ie)return k.user=ie,C().call(k,b);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function dl(){return(dl=(0,s.Z)(function*(D,b){const C=Lo(b),k=rc(D);if(!(yield k._isAvailable()))return!1;const ie="true"===(yield k._get(C));return yield k._remove(C),ie})).apply(this,arguments)}function Fo(D,b){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,s.Z)(function*(D,b){return rc(D)._set(Lo(b),"true")})).apply(this,arguments)}function va(){so.clear()}function ed(D,b){so.set(D._key(),b)}function rc(D){return de(D._redirectPersistence)}function Lo(D){return Te("pendingRedirect",D.config.apiKey,D.name)}function Gf(D,b,C){return function br(D,b,C){return td.apply(this,arguments)}(D,b,C)}function td(){return(td=(0,s.Z)(function*(D,b,C){const k=Pt(D);me(D,b,Or);const ie=tc(k,C);return yield Fo(ie,k),ie._openRedirect(k,b,"signInViaRedirect")})).apply(this,arguments)}function $(D,b,C){return function Z(D,b,C){return oe.apply(this,arguments)}(D,b,C)}function oe(){return(oe=(0,s.Z)(function*(D,b,C){const k=(0,y.m9)(D);me(k.auth,b,Or);const ie=tc(k.auth,C);yield Fo(ie,k.auth);const he=yield un(k);return ie._openRedirect(k.auth,b,"reauthViaRedirect",he)})).apply(this,arguments)}function Ee(D,b,C){return function Oe(D,b,C){return Be.apply(this,arguments)}(D,b,C)}function Be(){return(Be=(0,s.Z)(function*(D,b,C){const k=(0,y.m9)(D);me(k.auth,b,Or);const ie=tc(k.auth,C);yield Bi(!1,k,b.providerId),yield Fo(ie,k.auth);const he=yield un(k);return ie._openRedirect(k.auth,b,"linkViaRedirect",he)})).apply(this,arguments)}function Qe(D,b){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)(function*(D,b){return yield Pt(D)._initializationPromise,Lt(D,b,!1)})).apply(this,arguments)}function Lt(D,b){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(D,b,C=!1){const k=Pt(D),ie=tc(k,b),Ne=yield new ul(k,ie,C).execute();return Ne&&!C&&(delete Ne.user._redirectEventId,yield k._persistUserIfCurrent(Ne.user),yield k._setRedirectUser(null,b)),Ne})).apply(this,arguments)}function un(D){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,s.Z)(function*(D){const b=Se(`${D.uid}:::`);return D._redirectEventId=b,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),b})).apply(this,arguments)}class jr{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let C=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(b,k)&&(C=!0,this.sendToConsumer(b,k),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function fl(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hl(D);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=b,C=!0)),C}sendToConsumer(b,C){var k;if(b.error&&!hl(b)){const ie=(null===(k=b.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";C.onError(te(this.auth,ie))}else C.onAuthEvent(b)}isEventForConsumer(b,C){const k=null===C.eventId||!!b.eventId&&b.eventId===C.eventId;return C.filter.includes(b.type)&&k}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ic(b))}saveEventToCache(b){this.cachedEventUids.add(ic(b)),this.lastProcessedEventTime=Date.now()}}function ic(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(b=>b).join("-")}function hl({type:D,error:b}){return"unknown"===D&&"auth/no-auth-event"===b?.code}function wa(D){return hs.apply(this,arguments)}function hs(){return(hs=(0,s.Z)(function*(D,b={}){return wt(D,"GET","/v1/projects",b)})).apply(this,arguments)}const qi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ba=/^https?/;function pl(){return(pl=(0,s.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:b}=yield wa(D);for(const C of b)try{if(_g(C))return}catch{}J(D,"unauthorized-domain")})).apply(this,arguments)}function _g(D){const b=ee(),{protocol:C,hostname:k}=new URL(b);if(D.startsWith("chrome-extension://")){const Ne=new URL(D);return""===Ne.hostname&&""===k?"chrome-extension:"===C&&D.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===C&&Ne.hostname===k}if(!ba.test(C))return!1;if(qi.test(D))return k===D;const ie=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ie+"|"+ie+")$","i").test(k)}const fs=new $e(3e4,6e4);function $f(){const D=lt().___jsl;if(D?.H)for(const b of Object.keys(D.H))if(D.H[b].r=D.H[b].r||[],D.H[b].L=D.H[b].L||[],D.H[b].r=[...D.H[b].L],D.CP)for(let C=0;C<D.CP.length;C++)D.CP[C]=null}let ml=null;function qf(D){return ml=ml||function zf(D){return new Promise((b,C)=>{var k,ie,he;function Ne(){$f(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{$f(),C(te(D,"network-request-failed"))},timeout:fs.get()})}if(null!==(ie=null===(k=lt().gapi)||void 0===k?void 0:k.iframes)&&void 0!==ie&&ie.Iframe)b(gapi.iframes.getContext());else{if(null===(he=lt().gapi)||void 0===he||!he.load){const Ze=il("iframefcb");return lt()[Ze]=()=>{gapi.load?Ne():C(te(D,"network-request-failed"))},_a(`https://apis.google.com/js/api.js?onload=${Ze}`).catch(Ct=>C(Ct))}Ne()}}).catch(b=>{throw ml=null,b})}(D),ml}const Wf=new $e(5e3,15e3),gl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zf(D){const b=D.config;_e(b.authDomain,D,"auth-domain-config-required");const C=b.emulator?ut(b,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,k={apiKey:b.apiKey,appName:D.name,v:w.SDK_VERSION},ie=nv.get(D.config.apiHost);ie&&(k.eid=ie);const he=D._getFrameworks();return he.length&&(k.fw=he.join(",")),`${C}?${(0,y.xO)(k).slice(1)}`}function ah(){return ah=(0,s.Z)(function*(D){const b=yield qf(D),C=lt().gapi;return _e(C,D,"internal-error"),b.open({where:document.body,url:Zf(D),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gl,dontclear:!0},k=>new Promise(function(){var ie=(0,s.Z)(function*(he,Ne){yield k.restyle({setHideOnLeave:!1});const Ze=te(D,"network-request-failed"),Ct=lt().setTimeout(()=>{Ne(Ze)},Wf.get());function Ht(){lt().clearTimeout(Ct),he(k)}k.ping(Ht).then(Ht,()=>{Ne(Ze)})});return function(he,Ne){return ie.apply(this,arguments)}}()))}),ah.apply(this,arguments)}const nd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rv{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sc(D,b,C,k,ie,he){_e(D.config.authDomain,D,"auth-domain-config-required"),_e(D.config.apiKey,D,"invalid-api-key");const Ne={apiKey:D.config.apiKey,appName:D.name,authType:C,redirectUrl:k,v:w.SDK_VERSION,eventId:ie};if(b instanceof Or){b.setDefaultLanguage(D.languageCode),Ne.providerId=b.providerId||"",(0,y.xb)(b.getCustomParameters())||(Ne.customParameters=JSON.stringify(b.getCustomParameters()));for(const[Ct,Ht]of Object.entries(he||{}))Ne[Ct]=Ht}if(b instanceof Io){const Ct=b.getScopes().filter(Ht=>""!==Ht);Ct.length>0&&(Ne.scopes=Ct.join(","))}D.tenantId&&(Ne.tid=D.tenantId);const Ze=Ne;for(const Ct of Object.keys(Ze))void 0===Ze[Ct]&&delete Ze[Ct];return`${function od({config:D}){return D.emulator?ut(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,y.xO)(Ze).slice(1)}`}const uh="webStorageSupport",Vo=class Qf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R,this._completeRedirectFn=Lt,this._overrideRedirectResult=ed}_openPopup(b,C,k,ie){var he=this;return(0,s.Z)(function*(){var Ne;Ie(null===(Ne=he.eventManagers[b._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const Ze=sc(b,C,k,ee(),ie);return function id(D,b,C,k=500,ie=600){const he=Math.max((window.screen.availHeight-ie)/2,0).toString(),Ne=Math.max((window.screen.availWidth-k)/2,0).toString();let Ze="";const Ct=Object.assign(Object.assign({},nd),{width:k.toString(),height:ie.toString(),top:he,left:Ne}),Ht=(0,y.z$)().toLowerCase();C&&(Ze=Fe(Ht)?"_blank":C),le(Ht)&&(b=b||"http://localhost",Ct.scrollbars="yes");const zt=Object.entries(Ct).reduce((Di,[Uo,ep])=>`${Di}${Uo}=${ep},`,"");if(function Vn(D=(0,y.z$)()){var b;return et(D)&&!(null===(b=window.navigator)||void 0===b||!b.standalone)}(Ht)&&"_self"!==Ze)return function Yf(D,b){const C=document.createElement("a");C.href=D,C.target=b;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(k)}(b||"",Ze),new rv(null);const tr=window.open(b||"",Ze,zt);_e(tr,D,"popup-blocked");try{tr.focus()}catch{}return new rv(tr)}(b,Ze,Se())})()}_openRedirect(b,C,k,ie){var he=this;return(0,s.Z)(function*(){return yield he._originValidation(b),function rr(D){lt().location.href=D}(sc(b,C,k,ee(),ie)),new Promise(()=>{})})()}_initialize(b){const C=b._key();if(this.eventManagers[C]){const{manager:ie,promise:he}=this.eventManagers[C];return ie?Promise.resolve(ie):(Ie(he,"If manager is not set, promise should be"),he)}const k=this.initAndGetManager(b);return this.eventManagers[C]={promise:k},k.catch(()=>{delete this.eventManagers[C]}),k}initAndGetManager(b){var C=this;return(0,s.Z)(function*(){const k=yield function pC(D){return ah.apply(this,arguments)}(b),ie=new jr(b);return k.register("authEvent",he=>(_e(he?.authEvent,b,"invalid-auth-event"),{status:ie.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[b._key()]={manager:ie},C.iframes[b._key()]=k,ie})()}_isIframeWebStorageSupported(b,C){this.iframes[b._key()].send(uh,{type:uh},ie=>{var he;const Ne=null===(he=ie?.[0])||void 0===he?void 0:he[uh];void 0!==Ne&&C(!!Ne),J(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const C=b._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function oo(D){return pl.apply(this,arguments)}(b)),this.originValidationPromises[C]}get _shouldInitProactively(){return Pn()||ye()||et()}};class Kc extends class Jf{constructor(b){this.factorId=b}_process(b,C,k){switch(C.type){case"enroll":return this._finalizeEnroll(b,C.credential,k);case"signin":return this._finalizeSignIn(b,C.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new Kc(b)}_finalizeEnroll(b,C,k){return function Wa(D,b){return wt(D,"POST","/v2/accounts/mfaEnrollment:finalize",Et(D,b))}(b,{idToken:C,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,C){return function nl(D,b){return wt(D,"POST","/v2/accounts/mfaSignIn:finalize",Et(D,b))}(b,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yl=(()=>{class D{constructor(){}static assertion(C){return Kc._fromCredential(C)}}return D.FACTOR_ID="phone",D})();var Bo="@firebase/auth",Xf="0.20.11";class mC{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var C=this;return(0,s.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const C=this.auth.onIdTokenChanged(k=>{var ie;b((null===(ie=k)||void 0===ie?void 0:ie.stsTokenManager.accessToken)||null)});this.internalListeners.set(b,C),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const C=this.internalListeners.get(b);!C||(this.internalListeners.delete(b),C(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,y.Pz)("authIdTokenMaxAge"),function oc(D){(0,w._registerComponent)(new L.wA("auth",(b,{options:C})=>{const k=b.getProvider("app").getImmediate(),ie=b.getProvider("heartbeat"),{apiKey:he,authDomain:Ne}=k.options;return((Ze,Ct)=>{_e(he&&!he.includes(":"),"invalid-api-key",{appName:Ze.name}),_e(!Ne?.includes(":"),"argument-error",{appName:Ze.name});const Ht={apiKey:he,authDomain:Ne,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bn(D)},zt=new bo(Ze,Ct,Ht);return function X(D,b){const C=b?.persistence||[],k=(Array.isArray(C)?C:[C]).map(de);b?.errorMap&&D._updateErrorMap(b.errorMap),D._initializeWithPersistence(k,b?.popupRedirectResolver)}(zt,C),zt})(k,ie)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,C,k)=>{b.getProvider("auth-internal").initialize()})),(0,w._registerComponent)(new L.wA("auth-internal",b=>{const C=Pt(b.getProvider("auth").getImmediate());return new mC(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,w.registerVersion)(Bo,Xf,function iv(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,w.registerVersion)(Bo,Xf,"esm2017")}("Browser")},2090:(d,h,p)=>{"use strict";p.d(h,{$s:()=>yt,BH:()=>Ye,DV:()=>cn,Dv:()=>Wr,G6:()=>me,GJ:()=>Nt,L:()=>z,LL:()=>St,Pz:()=>ke,Sg:()=>$e,UG:()=>A,UI:()=>mn,US:()=>L,Wj:()=>Gt,Wl:()=>Sn,Yr:()=>ne,ZB:()=>U,ZR:()=>Ut,aH:()=>Re,b$:()=>I,cI:()=>wt,dS:()=>tn,eu:()=>_e,g5:()=>w,gK:()=>ar,gQ:()=>an,h$:()=>H,hl:()=>Pe,hu:()=>y,jU:()=>O,lb:()=>lr,m9:()=>bn,ne:()=>wn,p$:()=>P,pd:()=>Dr,r3:()=>An,ru:()=>T,tV:()=>Q,uI:()=>K,ug:()=>ri,vZ:()=>nt,w1:()=>J,w9:()=>_n,xO:()=>$t,xb:()=>jn,z$:()=>j,zI:()=>ve,zd:()=>Ln});const y=function(Ae,Te){if(!Ae)throw w(Te)},w=function(Ae){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ae)},x=function(Ae){const Te=[];let xe=0;for(let Ce=0;Ce<Ae.length;Ce++){let le=Ae.charCodeAt(Ce);le<128?Te[xe++]=le:le<2048?(Te[xe++]=le>>6|192,Te[xe++]=63&le|128):55296==(64512&le)&&Ce+1<Ae.length&&56320==(64512&Ae.charCodeAt(Ce+1))?(le=65536+((1023&le)<<10)+(1023&Ae.charCodeAt(++Ce)),Te[xe++]=le>>18|240,Te[xe++]=le>>12&63|128,Te[xe++]=le>>6&63|128,Te[xe++]=63&le|128):(Te[xe++]=le>>12|224,Te[xe++]=le>>6&63|128,Te[xe++]=63&le|128)}return Te},L={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,Te){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const xe=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let le=0;le<Ae.length;le+=3){const ye=Ae[le],Fe=le+1<Ae.length,Je=Fe?Ae[le+1]:0,vt=le+2<Ae.length,bt=vt?Ae[le+2]:0;let Zt=(15&Je)<<2|bt>>6,Vn=63&bt;vt||(Vn=64,Fe||(Zt=64)),Ce.push(xe[ye>>2],xe[(3&ye)<<4|Je>>4],xe[Zt],xe[Vn])}return Ce.join("")},encodeString(Ae,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(Ae):this.encodeByteArray(x(Ae),Te)},decodeString(Ae,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(Ae):function(Ae){const Te=[];let xe=0,Ce=0;for(;xe<Ae.length;){const le=Ae[xe++];if(le<128)Te[Ce++]=String.fromCharCode(le);else if(le>191&&le<224){const ye=Ae[xe++];Te[Ce++]=String.fromCharCode((31&le)<<6|63&ye)}else if(le>239&&le<365){const vt=((7&le)<<18|(63&Ae[xe++])<<12|(63&Ae[xe++])<<6|63&Ae[xe++])-65536;Te[Ce++]=String.fromCharCode(55296+(vt>>10)),Te[Ce++]=String.fromCharCode(56320+(1023&vt))}else{const ye=Ae[xe++],Fe=Ae[xe++];Te[Ce++]=String.fromCharCode((15&le)<<12|(63&ye)<<6|63&Fe)}}return Te.join("")}(this.decodeStringToByteArray(Ae,Te))},decodeStringToByteArray(Ae,Te){this.init_();const xe=Te?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let le=0;le<Ae.length;){const ye=xe[Ae.charAt(le++)],Je=le<Ae.length?xe[Ae.charAt(le)]:0;++le;const bt=le<Ae.length?xe[Ae.charAt(le)]:64;++le;const et=le<Ae.length?xe[Ae.charAt(le)]:64;if(++le,null==ye||null==Je||null==bt||null==et)throw Error();Ce.push(ye<<2|Je>>4),64!==bt&&(Ce.push(Je<<4&240|bt>>2),64!==et&&Ce.push(bt<<6&192|et))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}},H=function(Ae){const Te=x(Ae);return L.encodeByteArray(Te,!0)},z=function(Ae){return H(Ae).replace(/\./g,"")},Q=function(Ae){try{return L.decodeString(Ae,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function P(Ae){return U(void 0,Ae)}function U(Ae,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return Te}for(const xe in Te)!Te.hasOwnProperty(xe)||!G(xe)||(Ae[xe]=U(Ae[xe],Te[xe]));return Ae}function G(Ae){return"__proto__"!==Ae}function j(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j())}function A(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function O(){return"object"==typeof self&&self.self===self}function T(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function I(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function J(){const Ae=j();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function ne(){return!1}function me(){return!A()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pe(){return"object"==typeof indexedDB}function _e(){return new Promise((Ae,Te)=>{try{let xe=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(Ce);le.onsuccess=()=>{le.result.close(),xe||self.indexedDB.deleteDatabase(Ce),Ae(!0)},le.onupgradeneeded=()=>{xe=!1},le.onerror=()=>{var ye;Te((null===(ye=le.error)||void 0===ye?void 0:ye.message)||"")}}catch(xe){Te(xe)}})}function ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const X=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ae=process.env.__FIREBASE_DEFAULTS__;return Ae?JSON.parse(Ae):void 0})()||(()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Te=Ae&&Q(Ae[1]);return Te&&JSON.parse(Te)})()}catch(Ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`)}},Re=()=>{var Ae;return null===(Ae=X())||void 0===Ae?void 0:Ae.config},ke=Ae=>{var Te;return null===(Te=X())||void 0===Te?void 0:Te[`_${Ae}`]};class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,xe)=>{this.resolve=Te,this.reject=xe})}wrapCallback(Te){return(xe,Ce)=>{xe?this.reject(xe):this.resolve(Ce),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(xe):Te(xe,Ce))}}}function $e(Ae,Te){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=Te||"demo-project",le=Ae.iat||0,ye=Ae.sub||Ae.user_id;if(!ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:le,exp:le+3600,auth_time:le,sub:ye,user_id:ye,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(Fe)),""].join(".")}class Ut extends Error{constructor(Te,xe,Ce){super(xe),this.code=Te,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,Ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(Te,xe,Ce){this.service=Te,this.serviceName=xe,this.errors=Ce}create(Te,...xe){const Ce=xe[0]||{},le=`${this.service}/${Te}`,ye=this.errors[Te],Fe=ye?function Ot(Ae,Te){return Ae.replace(Et,(xe,Ce)=>{const le=Te[Ce];return null!=le?String(le):`<${Ce}?>`})}(ye,Ce):"Error";return new Ut(le,`${this.serviceName}: ${Fe} (${le}).`,Ce)}}const Et=/\{\$([^}]+)}/g;function wt(Ae){return JSON.parse(Ae)}function Sn(Ae){return JSON.stringify(Ae)}const sn=function(Ae){let Te={},xe={},Ce={},le="";try{const ye=Ae.split(".");Te=wt(Q(ye[0])||""),xe=wt(Q(ye[1])||""),le=ye[2],Ce=xe.d||{},delete xe.d}catch{}return{header:Te,claims:xe,data:Ce,signature:le}},_n=function(Ae){const xe=sn(Ae).claims;return!!xe&&"object"==typeof xe&&xe.hasOwnProperty("iat")},Nt=function(Ae){const Te=sn(Ae).claims;return"object"==typeof Te&&!0===Te.admin};function An(Ae,Te){return Object.prototype.hasOwnProperty.call(Ae,Te)}function cn(Ae,Te){if(Object.prototype.hasOwnProperty.call(Ae,Te))return Ae[Te]}function jn(Ae){for(const Te in Ae)if(Object.prototype.hasOwnProperty.call(Ae,Te))return!1;return!0}function mn(Ae,Te,xe){const Ce={};for(const le in Ae)Object.prototype.hasOwnProperty.call(Ae,le)&&(Ce[le]=Te.call(xe,Ae[le],le,Ae));return Ce}function nt(Ae,Te){if(Ae===Te)return!0;const xe=Object.keys(Ae),Ce=Object.keys(Te);for(const le of xe){if(!Ce.includes(le))return!1;const ye=Ae[le],Fe=Te[le];if(vn(ye)&&vn(Fe)){if(!nt(ye,Fe))return!1}else if(ye!==Fe)return!1}for(const le of Ce)if(!xe.includes(le))return!1;return!0}function vn(Ae){return null!==Ae&&"object"==typeof Ae}function $t(Ae){const Te=[];for(const[xe,Ce]of Object.entries(Ae))Array.isArray(Ce)?Ce.forEach(le=>{Te.push(encodeURIComponent(xe)+"="+encodeURIComponent(le))}):Te.push(encodeURIComponent(xe)+"="+encodeURIComponent(Ce));return Te.length?"&"+Te.join("&"):""}function Ln(Ae){const Te={};return Ae.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[le,ye]=Ce.split("=");Te[decodeURIComponent(le)]=decodeURIComponent(ye)}}),Te}function Dr(Ae){const Te=Ae.indexOf("?");if(!Te)return"";const xe=Ae.indexOf("#",Te);return Ae.substring(Te,xe>0?xe:void 0)}class an{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Te=1;Te<this.blockSize;++Te)this.pad_[Te]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Te,xe){xe||(xe=0);const Ce=this.W_;if("string"==typeof Te)for(let et=0;et<16;et++)Ce[et]=Te.charCodeAt(xe)<<24|Te.charCodeAt(xe+1)<<16|Te.charCodeAt(xe+2)<<8|Te.charCodeAt(xe+3),xe+=4;else for(let et=0;et<16;et++)Ce[et]=Te[xe]<<24|Te[xe+1]<<16|Te[xe+2]<<8|Te[xe+3],xe+=4;for(let et=16;et<80;et++){const Zt=Ce[et-3]^Ce[et-8]^Ce[et-14]^Ce[et-16];Ce[et]=4294967295&(Zt<<1|Zt>>>31)}let bt,We,le=this.chain_[0],ye=this.chain_[1],Fe=this.chain_[2],Je=this.chain_[3],vt=this.chain_[4];for(let et=0;et<80;et++){et<40?et<20?(bt=Je^ye&(Fe^Je),We=1518500249):(bt=ye^Fe^Je,We=1859775393):et<60?(bt=ye&Fe|Je&(ye|Fe),We=2400959708):(bt=ye^Fe^Je,We=3395469782);const Zt=(le<<5|le>>>27)+bt+vt+We+Ce[et]&4294967295;vt=Je,Je=Fe,Fe=4294967295&(ye<<30|ye>>>2),ye=le,le=Zt}this.chain_[0]=this.chain_[0]+le&4294967295,this.chain_[1]=this.chain_[1]+ye&4294967295,this.chain_[2]=this.chain_[2]+Fe&4294967295,this.chain_[3]=this.chain_[3]+Je&4294967295,this.chain_[4]=this.chain_[4]+vt&4294967295}update(Te,xe){if(null==Te)return;void 0===xe&&(xe=Te.length);const Ce=xe-this.blockSize;let le=0;const ye=this.buf_;let Fe=this.inbuf_;for(;le<xe;){if(0===Fe)for(;le<=Ce;)this.compress_(Te,le),le+=this.blockSize;if("string"==typeof Te){for(;le<xe;)if(ye[Fe]=Te.charCodeAt(le),++Fe,++le,Fe===this.blockSize){this.compress_(ye),Fe=0;break}}else for(;le<xe;)if(ye[Fe]=Te[le],++Fe,++le,Fe===this.blockSize){this.compress_(ye),Fe=0;break}}this.inbuf_=Fe,this.total_+=xe}digest(){const Te=[];let xe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let le=this.blockSize-1;le>=56;le--)this.buf_[le]=255&xe,xe/=256;this.compress_(this.buf_);let Ce=0;for(let le=0;le<5;le++)for(let ye=24;ye>=0;ye-=8)Te[Ce]=this.chain_[le]>>ye&255,++Ce;return Te}}function wn(Ae,Te){const xe=new xn(Ae,Te);return xe.subscribe.bind(xe)}class xn{constructor(Te,xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xe,this.task.then(()=>{Te(this)}).catch(Ce=>{this.error(Ce)})}next(Te){this.forEachObserver(xe=>{xe.next(Te)})}error(Te){this.forEachObserver(xe=>{xe.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,xe,Ce){let le;if(void 0===Te&&void 0===xe&&void 0===Ce)throw new Error("Missing Observer.");le=function rt(Ae,Te){if("object"!=typeof Ae||null===Ae)return!1;for(const xe of Te)if(xe in Ae&&"function"==typeof Ae[xe])return!0;return!1}(Te,["next","error","complete"])?Te:{next:Te,error:xe,complete:Ce},void 0===le.next&&(le.next=Wt),void 0===le.error&&(le.error=Wt),void 0===le.complete&&(le.complete=Wt);const ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch{}}),this.observers.push(le),ye}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let xe=0;xe<this.observers.length;xe++)this.sendOne(xe,Te)}sendOne(Te,xe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{xe(this.observers[Te])}catch(Ce){typeof console<"u"&&console.error&&console.error(Ce)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wt(){}const Wr=function(Ae,Te,xe,Ce){let le;if(Ce<Te?le="at least "+Te:Ce>xe&&(le=0===xe?"none":"no more than "+xe),le)throw new Error(Ae+" failed: Was called with "+Ce+(1===Ce?" argument.":" arguments.")+" Expects "+le+".")};function ar(Ae,Te){return`${Ae} failed: ${Te} argument `}function Gt(Ae,Te,xe,Ce){if((!Ce||xe)&&"function"!=typeof xe)throw new Error(ar(Ae,Te)+"must be a valid function.")}function lr(Ae,Te,xe,Ce){if((!Ce||xe)&&("object"!=typeof xe||null===xe))throw new Error(ar(Ae,Te)+"must be a valid context object.")}const tn=function(Ae){const Te=[];let xe=0;for(let Ce=0;Ce<Ae.length;Ce++){let le=Ae.charCodeAt(Ce);if(le>=55296&&le<=56319){const ye=le-55296;Ce++,y(Ce<Ae.length,"Surrogate pair missing trail surrogate."),le=65536+(ye<<10)+(Ae.charCodeAt(Ce)-56320)}le<128?Te[xe++]=le:le<2048?(Te[xe++]=le>>6|192,Te[xe++]=63&le|128):le<65536?(Te[xe++]=le>>12|224,Te[xe++]=le>>6&63|128,Te[xe++]=63&le|128):(Te[xe++]=le>>18|240,Te[xe++]=le>>12&63|128,Te[xe++]=le>>6&63|128,Te[xe++]=63&le|128)}return Te},ri=function(Ae){let Te=0;for(let xe=0;xe<Ae.length;xe++){const Ce=Ae.charCodeAt(xe);Ce<128?Te++:Ce<2048?Te+=2:Ce>=55296&&Ce<=56319?(Te+=4,xe++):Te+=3}return Te};function yt(Ae,Te=1e3,xe=2){const Ce=Te*Math.pow(xe,Ae),le=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+le)}function bn(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},3272:(d,h,p)=>{"use strict";var s=p(4650);let y=null;function w(){return y}const H=new s.OlP("DocumentToken");let z=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Q(){return(0,s.LFG)(U)}()},providedIn:"platform"}),n})();const P=new s.OlP("Location Initialized");let U=(()=>{class n extends z{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return w().getBaseHref(this._doc)}onPopState(t){const r=w().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=w().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){G()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){G()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function j(){return new U((0,s.LFG)(H))}()},providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function K(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function A(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function O(n){return n&&"?"!==n[0]?"?"+n:n}let T=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(q)},providedIn:"root"}),n})();const I=new s.OlP("appBaseHref");let q=(()=>{class n extends T{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(H).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return K(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+O(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+O(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+O(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(z),s.LFG(I,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J=(()=>{class n extends T{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=K(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+O(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+O(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(z),s.LFG(I,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),te=(()=>{class n{constructor(t){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=A(Pe(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+O(r))}normalize(t){return n.stripTrailingSlash(function me(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Pe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+O(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+O(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=O,n.joinWithSlash=K,n.stripTrailingSlash=A,n.\u0275fac=function(t){return new(t||n)(s.LFG(T))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ne(){return new te((0,s.LFG)(T))}()},providedIn:"root"}),n})();function Pe(n){return n.replace(/\/index.html$/,"")}let Nn=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class zs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oi=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new zs(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const m=r.get(a);r.move(m,u),Ts(m,i)}});for(let i=0,a=r.length;i<a;i++){const m=r.get(i).context;m.index=i,m.count=a,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ts(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ts(n,e){n.context.$implicit=e.item}let Un=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Nu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Nu{constructor(){this.$implicit=null,this.ngIf=null}}function mr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}class yi{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Is=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Vi=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new yi(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Is,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ua=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split("."),u=-1===i.indexOf("-")?void 0:s.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,a?`${r}${a}`:r,u):this._renderer.removeStyle(this._ngEl.nativeElement,i,u)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Eo=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,a,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})(),Ga=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Do(n){return"server"===n}let kc=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Vu((0,s.LFG)(H),window)}),n})();class Vu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function xr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ai(this.window.history)||Ai(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ai(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ji extends class $l extends class L{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function F(n){y||(y=n)}(new ji)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Fc(){return Ms=Ms||document.querySelector("base"),Ms?Ms.getAttribute("href"):null}();return null==t?null:function cs(n){Xn=Xn||document.createElement("a"),Xn.setAttribute("href",n);const e=Xn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ms=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Nl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Xn,Ms=null;const Yn=new s.OlP("TRANSITION_ID"),zl=[{provide:s.ip1,useFactory:function Lc(n,e,t){return()=>{t.get(s.CZH).donePromise.then(()=>{const r=w(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Yn,H,s.zs3],multi:!0}];let ql=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Wl=new s.OlP("EventManagerPlugins");let Zl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Wl),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class qa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=w().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Mo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ko=(()=>{class n extends Mo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ks),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ks))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function ks(n){w().remove(n)}const io={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vc=/%COMP%/g;function Za(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Za(n,i,t):(i=i.replace(Vc,n),t.push(i))}return t}function Ka(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let $i=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new us(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case s.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Uc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case s.ifc.ShadowDom:return new Wu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Za(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Zl),s.LFG(ko),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class us{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(io[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(pa(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(pa(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=io[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=io[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,r,i&s.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ka(r)):this.eventManager.addEventListener(e,t,Ka(r))}}function pa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Uc extends us{constructor(e,t,r,i){super(e),this.component=r;const a=Za(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function nr(n){return"_ngcontent-%COMP%".replace(Vc,n)}(i+"-"+r.id),this.hostAttr=function Wa(n){return"_nghost-%COMP%".replace(Vc,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Wu extends us{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Za(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const m=document.createElement("style");m.textContent=a[u],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let yr=(()=>{class n extends qa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ya=["alt","control","meta","shift"],R={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let re=(()=>{class n extends qa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>w().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),u="code."),Ya.forEach(E=>{const N=r.indexOf(E);N>-1&&(r.splice(N,1),u+=E+".")}),u+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=u,_}static matchEventFullKeyCode(t,r){let i=R[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ya.forEach(u=>{u!==i&&(0,B[u])(t)&&(a+=u+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ql=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function Rr(){ji.makeCurrent()},multi:!0},{provide:H,useFactory:function ma(){return(0,s.RDi)(document),document},deps:[]}]),ga=new s.OlP(""),Jl=[{provide:s.rWj,useClass:class qu{addToWindow(e){s.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const m=function(_){u=u||_,a--,0==a&&r(u)};i.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?w().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Qa=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Kr(){return new s.qLn},deps:[]},{provide:Wl,useClass:yr,multi:!0,deps:[H,s.R0b,s.Lbi]},{provide:Wl,useClass:re,multi:!0,deps:[H]},{provide:$i,useClass:$i,deps:[Zl,ko,s.AFp]},{provide:s.FYo,useExisting:$i},{provide:Mo,useExisting:ko},{provide:ko,useClass:ko,deps:[H]},{provide:Zl,useClass:Zl,deps:[Wl,s.R0b]},{provide:class Ds{},useClass:ql,deps:[]},[]];let ya=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId},{provide:Yn,useExisting:s.AFp},zl]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ga,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Qa,...Jl],imports:[Ga,s.hGG]}),n})(),Os=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Xl(){return new Os((0,s.LFG)(H))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;class ol{}const ds="*";function nh(n,e){return{type:7,name:n,definitions:e,options:{}}}function Yr(n,e=null){return{type:4,styles:e,timings:n}}function ec(n,e=null){return{type:2,steps:n,options:e}}function Ns(n){return{type:6,styles:n,offset:null}}function No(n,e,t){return{type:0,name:n,styles:e,options:t}}function Yu(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function al(n){Promise.resolve().then(n)}class Ei{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){al(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Wc{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?al(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++r==a&&this._onDestroy()}),u.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,m)=>Math.max(u,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function cl(n){return new s.vHH(3e3,!1)}function wa(){return typeof window<"u"&&typeof window.document<"u"}function hs(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function qi(n){switch(n.length){case 0:return new Ei;case 1:return n[0];default:return new Wc(n)}}function ba(n,e,t,r,i=new Map,a=new Map){const u=[],m=[];let _=-1,E=null;if(r.forEach(N=>{const W=N.get("offset"),se=W==_,pe=se&&E||new Map;N.forEach((we,Me)=>{let Ve=Me,st=we;if("offset"!==Me)switch(Ve=e.normalizePropertyName(Ve,u),st){case"!":st=i.get(Me);break;case ds:st=a.get(Me);break;default:st=e.normalizeStyleValue(Me,Ve,st,u)}pe.set(Ve,st)}),se||m.push(pe),E=pe,_=W}),u.length)throw function Oe(n){return new s.vHH(3502,!1)}();return m}function oo(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&pl(t,"start",n)));break;case"done":n.onDone(()=>r(t&&pl(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&pl(t,"destroy",n)))}}function pl(n,e,t){const a=_g(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function _g(n,e,t,r,i="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!u}}function fs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function $f(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let zf=(n,e)=>!1,ml=(n,e,t)=>[],qf=null;function Wf(n){const e=n.parentNode||n.host;return e===qf?null:e}(hs()||typeof Element<"u")&&(wa()?(qf=(()=>document.documentElement)(),zf=(n,e)=>{for(;e;){if(e===n)return!0;e=Wf(e)}return!1}):zf=(n,e)=>n.contains(e),ml=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let gl=null,nv=!1;const nd=zf,lh=ml;let vg=(()=>{class n{validateStyleProperty(t){return function Zf(n){gl||(gl=function ah(){return typeof document<"u"?document.body:null}()||{},nv=!!gl.style&&"WebkitAppearance"in gl.style);let e=!0;return gl.style&&!function fC(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in gl.style,!e&&nv&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in gl.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return nd(t,r)}getParentElement(t){return Wf(t)}query(t,r,i){return lh(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,u,m=[],_){return new Ei(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Kf=(()=>{class n{}return n.NOOP=new vg,n})();const ch="ng-enter",sd="ng-leave",sc="ng-trigger",od=".ng-trigger",uh="ng-animating",Qf=".ng-animating";function Vo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Jf(parseFloat(e[1]),e[2])}function Jf(n,e){return"s"===e?1e3*n:n}function Kc(n,e,t){return n.hasOwnProperty("duration")?n:function yl(n,e,t){let i,a=0,u="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(cl()),{duration:0,delay:0,easing:""};i=Jf(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(a=Jf(parseFloat(_),m[4]));const E=m[5];E&&(u=E)}else i=n;if(!t){let m=!1,_=e.length;i<0&&(e.push(function Qu(){return new s.vHH(3100,!1)}()),m=!0),a<0&&(e.push(function sh(){return new s.vHH(3101,!1)}()),m=!0),m&&e.splice(_,0,cl())}return{duration:i,delay:a,easing:u}}(n,e,t)}function Bo(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Xf(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function oc(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function sv(n,e,t){return t?e+":"+t+";":""}function ov(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=sv(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=sv(0,Ze(t),n.style[t]));n.setAttribute("style",e)}function Fs(n,e,t){n.style&&(e.forEach((r,i)=>{const a=Ne(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),hs()&&ov(n))}function ac(n,e){n.style&&(e.forEach((t,r)=>{const i=Ne(r);n.style[i]=""}),hs()&&ov(n))}function dh(n){return Array.isArray(n)?1==n.length?n[0]:ec(n):n}const b=new RegExp("{{\\s*(.+?)\\s*}}","g");function C(n){let e=[];if("string"==typeof n){let t;for(;t=b.exec(n);)e.push(t[1]);b.lastIndex=0}return e}function k(n,e,t){const r=n.toString(),i=r.replace(b,(a,u)=>{let m=e[u];return null==m&&(t.push(function oh(n){return new s.vHH(3003,!1)}()),m=""),m.toString()});return i==r?n:i}function ie(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const he=/-+([a-z0-9])/g;function Ne(n){return n.replace(he,(...e)=>e[1].toUpperCase())}function Ze(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zt(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function nc(n){return new s.vHH(3004,!1)}()}}function tr(n,e){return window.getComputedStyle(n)[e]}function rp(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ad(n,e,t){if(":"==n[0]){const _=function ip(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function $(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function td(n){return new s.vHH(3015,!1)}()),e;const i=r[1],a=r[2],u=r[3];e.push(_r(i,u));"<"==a[0]&&!("*"==i&&"*"==u)&&e.push(_r(u,i))}(r,t,e)):t.push(n),t}const lc=new Set(["true","1"]),hh=new Set(["false","0"]);function _r(n,e){const t=lc.has(n)||hh.has(n),r=lc.has(e)||hh.has(e);return(i,a)=>{let u="*"==n||n==i,m="*"==e||e==a;return!u&&t&&"boolean"==typeof i&&(u=i?lc.has(n):hh.has(n)),!m&&r&&"boolean"==typeof a&&(m=a?lc.has(e):hh.has(e)),u&&m}}const K1=new RegExp("s*:selfs*,?","g");function op(n,e,t,r){return new Y1(n).build(e,t,r)}class Y1{constructor(e){this._driver=e}build(e,t,r){const i=new X1(t);return this._resetContextStyleTimingState(i),zt(this,dh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function so(){return new s.vHH(3006,!1)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const _=m,E=_.name;E.toString().split(/\s*,\s*/).forEach(N=>{_.name=N,a.push(this.visitState(_,t))}),_.name=E}else if(1==m.type){const _=this.visitTransition(m,t);r+=_.queryCount,i+=_.depCount,u.push(_)}else t.errors.push(function ul(){return new s.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,u=i||{};r.styles.forEach(m=>{m instanceof Map&&m.forEach(_=>{C(_).forEach(E=>{u.hasOwnProperty(E)||a.add(E)})})}),a.size&&(ie(a.values()),t.errors.push(function Ju(n,e){return new s.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=zt(this,dh(e.animation),t);return{type:1,matchers:rp(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:fh(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>zt(this,r,t)),options:fh(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(u=>{t.currentTime=r;const m=zt(this,u,t);return i=Math.max(i,t.currentTime),m});return t.currentTime=i,{type:3,steps:a,options:fh(e.options)}}visitAnimate(e,t){const r=function ZR(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ld(Kc(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=ld(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=Kc(t,e);return ld(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Ns({});if(5==a.type)i=this.visitKeyframes(a,t);else{let u=e.styles,m=!1;if(!u){m=!0;const E={};r.easing&&(E.easing=r.easing),u=Ns(E)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(u,t);_.isEmptyStep=m,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let m of i)"string"==typeof m?m===ds?r.push(m):t.errors.push(new s.vHH(3002,!1)):r.push(Xf(m));let a=!1,u=null;return r.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(u=m.get("easing"),m.delete("easing")),!a))for(let _ of m.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((m,_)=>{const E=t.collectedStyles.get(t.currentQuerySelector),N=E.get(_);let W=!0;N&&(a!=i&&a>=N.startTime&&i<=N.endTime&&(t.errors.push(function Xu(n,e,t,r,i){return new s.vHH(3010,!1)}()),W=!1),a=N.startTime),W&&E.set(_,{startTime:a,endTime:i}),t.options&&function D(n,e,t){const r=e.params||{},i=C(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function yg(n){return new s.vHH(3001,!1)}())})}(m,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function va(){return new s.vHH(3011,!1)}()),r;let a=0;const u=[];let m=!1,_=!1,E=0;const N=e.steps.map(st=>{const ht=this._makeStyleAst(st,t);let ft=null!=ht.offset?ht.offset:function eA(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ht.styles),pt=0;return null!=ft&&(a++,pt=ht.offset=ft),_=_||pt<0||pt>1,m=m||pt<E,E=pt,u.push(pt),ht});_&&t.errors.push(function ed(){return new s.vHH(3012,!1)}()),m&&t.errors.push(function rc(){return new s.vHH(3200,!1)}());const W=e.steps.length;let se=0;a>0&&a<W?t.errors.push(function Lo(){return new s.vHH(3202,!1)}()):0==a&&(se=1/(W-1));const pe=W-1,we=t.currentTime,Me=t.currentAnimateTimings,Ve=Me.duration;return N.forEach((st,ht)=>{const ft=se>0?ht==pe?1:se*ht:u[ht],pt=ft*Ve;t.currentTime=we+Me.delay+pt,Me.duration=pt,this._validateStyleAst(st,t),st.offset=ft,r.styles.push(st)}),r}visitReference(e,t){return{type:8,animation:zt(this,dh(e.animation),t),options:fh(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:fh(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:fh(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function Q1(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(K1,"")),n=n.replace(/@\*/g,od).replace(/@\w+/g,t=>od+"-"+t.slice(1)).replace(/:animating/g,Qf),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,fs(t.collectedStyles,t.currentQuerySelector,new Map);const m=zt(this,dh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:m,originalSelector:e.selector,options:fh(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Gf(){return new s.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Kc(e.timings,t.errors,!0);return{type:12,animation:zt(this,dh(e.animation),t),timings:r,options:null}}}class X1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fh(n){return n?(n=Bo(n)).params&&(n.params=function J1(n){return n?Bo(n):null}(n.params)):n={},n}function ld(n,e,t){return{duration:n,delay:e,easing:t}}function ap(n,e,t,r,i,a,u=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:u,subTimeline:m}}class lp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const tA=new RegExp(":enter","g"),vC=new RegExp(":leave","g");function cp(n,e,t,r,i,a=new Map,u=new Map,m,_,E=[]){return(new KR).buildKeyframes(n,e,t,r,i,a,u,m,_,E)}class KR{buildKeyframes(e,t,r,i,a,u,m,_,E,N=[]){E=E||new lp;const W=new up(e,t,E,i,a,N,[]);W.options=_;const se=_.delay?Vo(_.delay):0;W.currentTimeline.delayNextStep(se),W.currentTimeline.setStyles([u],null,W.errors,_),zt(this,r,W);const pe=W.timelines.filter(we=>we.containsAnimation());if(pe.length&&m.size){let we;for(let Me=pe.length-1;Me>=0;Me--){const Ve=pe[Me];if(Ve.element===t){we=Ve;break}}we&&!we.allowOnlyTimelineStyles()&&we.setStyles([m],null,W.errors,_)}return pe.length?pe.map(we=>we.buildKeyframes()):[ap(t,[],[],[],0,se,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const u="number"==typeof a?a:Vo(k(a,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const u=null!=r.duration?Vo(r.duration):null,m=null!=r.delay?Vo(r.delay):null;return 0!==u&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,u,m);a=Math.max(a,E.duration+E.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),zt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=wg);const u=Vo(a.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>zt(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Vo(e.options.delay):0;e.steps.forEach(u=>{const m=t.createSubContext(e.options);a&&m.delayNextStep(a),zt(this,u,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Kc(t.params?k(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(_=>{m.forwardTime((_.offset||0)*a),m.setStyles(_.styles,_.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Vo(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=wg);let u=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=m.length;let _=null;m.forEach((E,N)=>{t.currentQueryIndex=N;const W=t.createSubContext(e.options,E);a&&W.delayNextStep(a),E===t.element&&(_=W.currentTimeline),zt(this,e.animation,W),W.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,W.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),m=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=m-_;break;case"full":_=r.currentStaggerTime}const N=t.currentTimeline;_&&N.delayNextStep(_);const W=N.currentTime;zt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-W+(i.startTime-r.currentTimeline.startTime)}}const wg={};class up{constructor(e,t,r,i,a,u,m,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=u,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new dp(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Vo(r.duration)),null!=r.delay&&(i.delay=Vo(r.delay));const a=r.params;if(a){let u=i.params;u||(u=this.options.params={}),Object.keys(a).forEach(m=>{(!t||!u.hasOwnProperty(m))&&(u[m]=k(a[m],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new up(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=wg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new wC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,u){let m=[];if(i&&m.push(this.element),e.length>0){e=(e=e.replace(tA,"."+this._enterClassName)).replace(vC,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),m.push(...E)}return!a&&0==m.length&&u.push(function br(n){return new s.vHH(3014,!1)}()),m}}class dp{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new dp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ds),this._currentKeyframe.set(t,ds);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},u=function nA(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,ds)}else oc(i,t)}),t}(e,this._globalTimelineStyles);for(let[m,_]of u){const E=k(_,a,r);this._pendingStyles.set(m,E),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??ds),this._updateStyle(m,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,_)=>{const E=oc(m,new Map,this._backFill);E.forEach((N,W)=>{"!"===N?e.add(W):N===ds&&t.add(W)}),r||E.set("offset",_/this.duration),i.push(E)});const a=e.size?ie(e.values()):[],u=t.size?ie(t.values()):[];if(r){const m=i[0],_=new Map(m);m.set("offset",0),_.set("offset",1),i=[m,_]}return ap(this.element,i,a,u,this.duration,this.startTime,this.easing,!1)}}class wC extends dp{constructor(e,t,r,i,a,u,m=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=m,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=r+t,m=t/u,_=oc(e[0]);_.set("offset",0),a.push(_);const E=oc(e[0]);E.set("offset",Qc(m)),a.push(E);const N=e.length-1;for(let W=1;W<=N;W++){let se=oc(e[W]);const pe=se.get("offset");se.set("offset",Qc((t+pe*r)/u)),a.push(se)}r=u,t=0,i="",e=a}return ap(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Qc(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ph{}const uv=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bg extends ph{normalizePropertyName(e,t){return Ne(e)}normalizeStyleValue(e,t,r,i){let a="";const u=r.toString().trim();if(uv.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function Zc(n,e){return new s.vHH(3005,!1)}())}return u+a}}function Jc(n,e,t,r,i,a,u,m,_,E,N,W,se){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:u,timelines:m,queriedElements:_,preStyleProps:E,postStyleProps:N,totalTime:W,errors:se}}const Cg={};class Eg{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function rA(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,u,m,_,E,N){const W=[],se=this.ast.options&&this.ast.options.params||Cg,we=this.buildStyles(r,m&&m.params||Cg,W),Me=_&&_.params||Cg,Ve=this.buildStyles(i,Me,W),st=new Set,ht=new Map,ft=new Map,pt="void"===i,Bt={params:CC(Me,se),delay:this.ast.options?.delay},jt=N?[]:cp(e,t,this.ast.animation,a,u,we,Ve,Bt,E,W);let Rn=0;if(jt.forEach(La=>{Rn=Math.max(La.duration+La.delay,Rn)}),W.length)return Jc(t,this._triggerName,r,i,pt,we,Ve,[],[],ht,ft,Rn,W);jt.forEach(La=>{const Kd=La.element,NH=fs(ht,Kd,new Set);La.preStyleProps.forEach(fg=>NH.add(fg));const cC=fs(ft,Kd,new Set);La.postStyleProps.forEach(fg=>cC.add(fg)),Kd!==t&&st.add(Kd)});const gi=ie(st.values());return Jc(t,this._triggerName,r,i,pt,we,Ve,jt,gi,ht,ft,Rn)}}function CC(n,e){const t=Bo(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class mh{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Bo(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(i[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,m)=>{u&&(u=k(u,i,t));const _=this.normalizer.normalizePropertyName(m,t);u=this.normalizer.normalizeStyleValue(m,_,u,t),r.set(_,u)})}),r}}class sA{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new mh(i.style,i.options&&i.options.params||{},r))}),EC(this.states,"true","1"),EC(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Eg(e,i,this.states))}),this.fallbackTransition=function oA(n,e,t){return new Eg(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function EC(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const dv=new lp;class aA{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=op(this._driver,t,r,[]);if(r.length)throw function Be(n){return new s.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=ba(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let u;const m=new Map;if(a?(u=cp(this._driver,t,a,ch,sd,new Map,new Map,r,dv,i),u.forEach(N=>{const W=fs(m,N.element,new Map);N.postStyleProps.forEach(se=>W.set(se,null))})):(i.push(function Qe(){return new s.vHH(3300,!1)}()),u=[]),i.length)throw function ct(n){return new s.vHH(3504,!1)}();m.forEach((N,W)=>{N.forEach((se,pe)=>{N.set(pe,this._driver.computeStyle(W,pe,ds))})});const E=qi(u.map(N=>{const W=m.get(N.element);return this._buildPlayer(N,new Map,W)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Lt(n){return new s.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=_g(t,"","","");return oo(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const hv="ng-animate-queued",Sg="ng-animate-disabled",uA=[],cd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ho="__ng_removed";class SC{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function pv(n){return n??null}(r?e.value:e),r){const a=Bo(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const gh="void",fv=new SC(gh);class dA{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ls(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Qt(n,e){return new s.vHH(3302,!1)}();if(null==r||0==r.length)throw function un(n){return new s.vHH(3303,!1)}();if(!function fA(n){return"start"==n||"done"==n}(r))throw function Vt(n,e){return new s.vHH(3400,!1)}();const a=fs(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};a.push(u);const m=fs(this._engine.statesByElement,e,new Map);return m.has(t)||(Ls(e,sc),Ls(e,sc+"-"+t),m.set(t,fv)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||m.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Cr(n){return new s.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),u=new Tg(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(Ls(e,sc),Ls(e,sc+"-"+t),this._engine.statesByElement.set(e,m=new Map));let _=m.get(t);const E=new SC(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),m.set(t,E),_||(_=fv),E.value!==gh&&_.value===E.value){if(!function tN(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,E.params)){const Me=[],Ve=a.matchStyles(_.value,_.params,Me),st=a.matchStyles(E.value,E.params,Me);Me.length?this._engine.reportError(Me):this._engine.afterFlush(()=>{ac(e,Ve),Fs(e,st)})}return}const se=fs(this._engine.playersByElement,e,[]);se.forEach(Me=>{Me.namespaceId==this.id&&Me.triggerName==t&&Me.queued&&Me.destroy()});let pe=a.matchTransition(_.value,E.value,e,E.params),we=!1;if(!pe){if(!i)return;pe=a.fallbackTransition,we=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:pe,fromState:_,toState:E,player:u,isFallbackTransition:we}),we||(Ls(e,hv),u.onStart(()=>{pp(e,hv)})),u.onDone(()=>{let Me=this.players.indexOf(u);Me>=0&&this.players.splice(Me,1);const Ve=this._engine.playersByElement.get(e);if(Ve){let st=Ve.indexOf(u);st>=0&&Ve.splice(st,1)}}),this.players.push(u),se.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,od,!0);r.forEach(i=>{if(i[Ho])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const m=[];if(a.forEach((_,E)=>{if(u.set(E,_.value),this._triggers.has(E)){const N=this.trigger(e,E,gh,i);N&&m.push(N)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&qi(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const u=a.name;if(i.has(u))return;i.add(u);const _=this._triggers.get(u).fallbackTransition,E=r.get(u)||fv,N=new SC(gh),W=new Tg(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:E,toState:N,player:W,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ho];(!a||a===cd)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ls(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,u=this._elementListeners.get(a);u&&u.forEach(m=>{if(m.name==r.triggerName){const _=_g(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,oo(r.player,m.phase,_,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class hA{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new dA(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,m=this.driver.getParentElement(t);for(;m;){const _=i.get(m);if(_){const E=r.indexOf(_);r.splice(E+1,0,e),u=!0;break}m=this.driver.getParentElement(m)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(Ig(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ig(t))return;const a=t[Ho];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ls(e,Sg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),pp(e,Sg))}removeNode(e,t,r,i){if(Ig(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Ho]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Ig(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,od,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Qf,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return qi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ho];if(t&&t.setForRemoval){if(e[Ho]=cd,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Sg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ls(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?qi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function jr(n){return new s.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new lp,i=[],a=new Map,u=[],m=new Map,_=new Map,E=new Map,N=new Set;this.disabledNodes.forEach(Rt=>{N.add(Rt);const en=this.driver.query(Rt,".ng-animate-queued",!0);for(let on=0;on<en.length;on++)N.add(en[on])});const W=this.bodyNode,se=Array.from(this.statesByElement.keys()),pe=mA(se,this.collectedEnterElements),we=new Map;let Me=0;pe.forEach((Rt,en)=>{const on=ch+Me++;we.set(en,on),Rt.forEach(Zn=>Ls(Zn,on))});const Ve=[],st=new Set,ht=new Set;for(let Rt=0;Rt<this.collectedLeaveElements.length;Rt++){const en=this.collectedLeaveElements[Rt],on=en[Ho];on&&on.setForRemoval&&(Ve.push(en),st.add(en),on.hasAnimation?this.driver.query(en,".ng-star-inserted",!0).forEach(Zn=>st.add(Zn)):ht.add(en))}const ft=new Map,pt=mA(se,Array.from(st));pt.forEach((Rt,en)=>{const on=sd+Me++;ft.set(en,on),Rt.forEach(Zn=>Ls(Zn,on))}),e.push(()=>{pe.forEach((Rt,en)=>{const on=we.get(en);Rt.forEach(Zn=>pp(Zn,on))}),pt.forEach((Rt,en)=>{const on=ft.get(en);Rt.forEach(Zn=>pp(Zn,on))}),Ve.forEach(Rt=>{this.processLeaveNode(Rt)})});const Bt=[],jt=[];for(let Rt=this._namespaceList.length-1;Rt>=0;Rt--)this._namespaceList[Rt].drainQueuedTransitions(t).forEach(on=>{const Zn=on.player,is=on.element;if(Bt.push(Zn),this.collectedEnterElements.length){const Gs=is[Ho];if(Gs&&Gs.setForMove){if(Gs.previousTriggersValues&&Gs.previousTriggersValues.has(on.triggerName)){const pg=Gs.previousTriggersValues.get(on.triggerName),Rl=this.statesByElement.get(on.element);if(Rl&&Rl.has(on.triggerName)){const Z1=Rl.get(on.triggerName);Z1.value=pg,Rl.set(on.triggerName,Z1)}}return void Zn.destroy()}}const Ou=!W||!this.driver.containsElement(W,is),Va=ft.get(is),Nf=we.get(is),qr=this._buildInstruction(on,r,Nf,Va,Ou);if(qr.errors&&qr.errors.length)return void jt.push(qr);if(Ou)return Zn.onStart(()=>ac(is,qr.fromStyles)),Zn.onDestroy(()=>Fs(is,qr.toStyles)),void i.push(Zn);if(on.isFallbackTransition)return Zn.onStart(()=>ac(is,qr.fromStyles)),Zn.onDestroy(()=>Fs(is,qr.toStyles)),void i.push(Zn);const VH=[];qr.timelines.forEach(Gs=>{Gs.stretchStartingKeyframe=!0,this.disabledNodes.has(Gs.element)||VH.push(Gs)}),qr.timelines=VH,r.append(is,qr.timelines),u.push({instruction:qr,player:Zn,element:is}),qr.queriedElements.forEach(Gs=>fs(m,Gs,[]).push(Zn)),qr.preStyleProps.forEach((Gs,pg)=>{if(Gs.size){let Rl=_.get(pg);Rl||_.set(pg,Rl=new Set),Gs.forEach((Z1,WR)=>Rl.add(WR))}}),qr.postStyleProps.forEach((Gs,pg)=>{let Rl=E.get(pg);Rl||E.set(pg,Rl=new Set),Gs.forEach((Z1,WR)=>Rl.add(WR))})});if(jt.length){const Rt=[];jt.forEach(en=>{Rt.push(function hl(n,e){return new s.vHH(3505,!1)}())}),Bt.forEach(en=>en.destroy()),this.reportError(Rt)}const Rn=new Map,gi=new Map;u.forEach(Rt=>{const en=Rt.element;r.has(en)&&(gi.set(en,en),this._beforeAnimationBuild(Rt.player.namespaceId,Rt.instruction,Rn))}),i.forEach(Rt=>{const en=Rt.element;this._getPreviousPlayers(en,!1,Rt.namespaceId,Rt.triggerName,null).forEach(Zn=>{fs(Rn,en,[]).push(Zn),Zn.destroy()})});const La=Ve.filter(Rt=>IC(Rt,_,E)),Kd=new Map;pA(Kd,this.driver,ht,E,ds).forEach(Rt=>{IC(Rt,_,E)&&La.push(Rt)});const cC=new Map;pe.forEach((Rt,en)=>{pA(cC,this.driver,new Set(Rt),_,"!")}),La.forEach(Rt=>{const en=Kd.get(Rt),on=cC.get(Rt);Kd.set(Rt,new Map([...Array.from(en?.entries()??[]),...Array.from(on?.entries()??[])]))});const fg=[],FH=[],LH={};u.forEach(Rt=>{const{element:en,player:on,instruction:Zn}=Rt;if(r.has(en)){if(N.has(en))return on.onDestroy(()=>Fs(en,Zn.toStyles)),on.disabled=!0,on.overrideTotalTime(Zn.totalTime),void i.push(on);let is=LH;if(gi.size>1){let Va=en;const Nf=[];for(;Va=Va.parentNode;){const qr=gi.get(Va);if(qr){is=qr;break}Nf.push(Va)}Nf.forEach(qr=>gi.set(qr,is))}const Ou=this._buildAnimation(on.namespaceId,Zn,Rn,a,cC,Kd);if(on.setRealPlayer(Ou),is===LH)fg.push(on);else{const Va=this.playersByElement.get(is);Va&&Va.length&&(on.parentPlayer=qi(Va)),i.push(on)}}else ac(en,Zn.fromStyles),on.onDestroy(()=>Fs(en,Zn.toStyles)),FH.push(on),N.has(en)&&i.push(on)}),FH.forEach(Rt=>{const en=a.get(Rt.element);if(en&&en.length){const on=qi(en);Rt.setRealPlayer(on)}}),i.forEach(Rt=>{Rt.parentPlayer?Rt.syncPlayerEvents(Rt.parentPlayer):Rt.destroy()});for(let Rt=0;Rt<Ve.length;Rt++){const en=Ve[Rt],on=en[Ho];if(pp(en,sd),on&&on.hasAnimation)continue;let Zn=[];if(m.size){let Ou=m.get(en);Ou&&Ou.length&&Zn.push(...Ou);let Va=this.driver.query(en,Qf,!0);for(let Nf=0;Nf<Va.length;Nf++){let qr=m.get(Va[Nf]);qr&&qr.length&&Zn.push(...qr)}}const is=Zn.filter(Ou=>!Ou.destroyed);is.length?XR(this,en,is):this.processLeaveNode(en)}return Ve.length=0,fg.forEach(Rt=>{this.players.push(Rt),Rt.onDone(()=>{Rt.destroy();const en=this.players.indexOf(Rt);this.players.splice(en,1)}),Rt.play()}),fg}elementContainsData(e,t){let r=!1;const i=t[Ho];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let u=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(u=m)}else{const m=this.playersByElement.get(e);if(m){const _=!a||a==gh;m.forEach(E=>{E.queued||!_&&E.triggerName!=i||u.push(E)})}}return(r||i)&&(u=u.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),u}_beforeAnimationBuild(e,t,r){const a=t.element,u=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,N=E!==a,W=fs(r,E,[]);this._getPreviousPlayers(E,N,u,m,t.toState).forEach(pe=>{const we=pe.getRealPlayer();we.beforeDestroy&&we.beforeDestroy(),pe.destroy(),W.push(pe)})}ac(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,u){const m=t.triggerName,_=t.element,E=[],N=new Set,W=new Set,se=t.timelines.map(we=>{const Me=we.element;N.add(Me);const Ve=Me[Ho];if(Ve&&Ve.removedBeforeQueried)return new Ei(we.duration,we.delay);const st=Me!==_,ht=function eN(n){const e=[];return gA(n,e),e}((r.get(Me)||uA).map(Rn=>Rn.getRealPlayer())).filter(Rn=>!!Rn.element&&Rn.element===Me),ft=a.get(Me),pt=u.get(Me),Bt=ba(0,this._normalizer,0,we.keyframes,ft,pt),jt=this._buildPlayer(we,Bt,ht);if(we.subTimeline&&i&&W.add(Me),st){const Rn=new Tg(e,m,Me);Rn.setRealPlayer(jt),E.push(Rn)}return jt});E.forEach(we=>{fs(this.playersByQueriedElement,we.element,[]).push(we),we.onDone(()=>function TC(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,we.element,we))}),N.forEach(we=>Ls(we,uh));const pe=qi(se);return pe.onDestroy(()=>{N.forEach(we=>pp(we,uh)),Fs(_,t.toStyles)}),W.forEach(we=>{fs(i,we,[]).push(pe)}),pe}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ei(e.duration,e.delay)}}class Tg{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ei,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>oo(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){fs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ig(n){return n&&1===n.nodeType}function Ag(n,e){const t=n.style.display;return n.style.display=e??"none",t}function pA(n,e,t,r,i){const a=[];t.forEach(_=>a.push(Ag(_)));const u=[];r.forEach((_,E)=>{const N=new Map;_.forEach(W=>{const se=e.computeStyle(E,W,i);N.set(W,se),(!se||0==se.length)&&(E[Ho]=fp,u.push(E))}),n.set(E,N)});let m=0;return t.forEach(_=>Ag(_,a[m++])),u}function mA(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const i=new Set(e),a=new Map;function u(m){if(!m)return 1;let _=a.get(m);if(_)return _;const E=m.parentNode;return _=t.has(E)?E:i.has(E)?1:u(E),a.set(m,_),_}return e.forEach(m=>{const _=u(m);1!==_&&t.get(_).push(m)}),t}function Ls(n,e){n.classList?.add(e)}function pp(n,e){n.classList?.remove(e)}function XR(n,e,t){qi(t).onDone(()=>n.processLeaveNode(e))}function gA(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Wc?gA(r.players,e):e.push(r)}}function IC(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class mp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new hA(e,t,r),this._timelineEngine=new aA(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const u=e+"-"+i;let m=this._triggerCache[u];if(!m){const _=[],N=op(this._driver,a,_,[]);if(_.length)throw function Ee(n,e){return new s.vHH(3404,!1)}();m=function iA(n,e,t){return new sA(n,e,t)}(i,N,this._normalizer),this._triggerCache[u]=m}this._transitionEngine.registerTrigger(t,i,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,u]=$f(r);this._timelineEngine.command(a,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[u,m]=$f(r);return this._timelineEngine.listen(u,t,m,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let AC=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Fs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fs(this._element,this._initialStyles),this._endStyles&&(Fs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ac(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ac(this._element,this._endStyles),this._endStyles=null),Fs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Dg(n){let e=null;return n.forEach((t,r)=>{(function DC(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class xg{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:tr(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class yA{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return nd(e,t)}getParentElement(e){return Wf(e)}query(e,t,r){return lh(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,u=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const E=new Map,N=u.filter(pe=>pe instanceof xg);(function Ct(n,e){return 0===n||0===e})(r,i)&&N.forEach(pe=>{pe.currentSnapshot.forEach((we,Me)=>E.set(Me,we))});let W=function mC(n){return n.length?n[0]instanceof Map?n:n.map(e=>Xf(e)):[]}(t).map(pe=>oc(pe));W=function Ht(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,u)=>{r.has(u)||i.push(u),r.set(u,a)}),i.length)for(let a=1;a<e.length;a++){let u=e[a];i.forEach(m=>u.set(m,tr(n,m)))}}return e}(e,W,E);const se=function mv(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Dg(e[0]),e.length>1&&(r=Dg(e[e.length-1]))):e instanceof Map&&(t=Dg(e)),t||r?new AC(n,t,r):null}(e,W);return new xg(e,W,_,se)}}let gv=(()=>{class n extends ol{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?ec(t):t;return xC(this._renderer,null,r,"register",[i]),new gp(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class gp extends class qc{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new _A(this._id,e,t||{},this._renderer)}}class _A{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return xC(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xC(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const yv="@.disabled";let vA=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,u)=>{const m=u?.parentNode(a);m&&u.removeChild(m,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let N=this._rendererCache.get(a);return N||(N=new PC("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,N)),N}const u=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const _=N=>{Array.isArray(N)?N.forEach(_):this.engine.registerTrigger(u,m,t,N.name,N)};return r.data.animation.forEach(_),new wA(this,m,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,m]=a;u(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(mp),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class PC{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==yv?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class wA extends PC{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==yv?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function bA(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function _v(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,u,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let CA=(()=>{class n extends mp{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H),s.LFG(Kf),s.LFG(ph),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const vv=[{provide:ol,useClass:gv},{provide:ph,useFactory:function EA(){return new bg}},{provide:mp,useClass:CA},{provide:s.FYo,useFactory:function SA(n,e,t){return new vA(n,e,t)},deps:[$i,mp,s.R0b]}],wv=[{provide:Kf,useFactory:()=>new yA},{provide:s.QbO,useValue:"BrowserAnimations"},...vv],MC=[{provide:Kf,useClass:vg},{provide:s.QbO,useValue:"NoopAnimations"},...vv];let ps=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?MC:wv}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:wv,imports:[ya]}),n})();const Wi=["*"];let PA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:Wi,decls:1,vars:0,template:function(t,r){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),MA=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),kA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ga]}),n})();function OA(n,e){if(1&n&&(s.TgZ(0,"span",9),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.hij(" ",t.header," ")}}function RA(n,e){1&n&&s.GkF(0)}function lN(n,e){1&n&&s.Hsn(0,1,["*ngIf","hasHeaderFacet"])}function cN(n,e){1&n&&s.GkF(0)}function RC(n,e){if(1&n&&(s.ynx(0),s.YNc(1,cN,1,0,"ng-container",5),s.BQk()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",t.contentTemplate)}}const uN=["*",[["p-header"]]],_l=function(n){return{"p-accordion-tab-active":n}},bv=function(n,e){return{"p-highlight":n,"p-disabled":e}},kg=function(n){return{transitionParams:n}},NA=function(n){return{value:"visible",params:n}},NC=function(n){return{value:"hidden",params:n}},FA=["*","p-header"],_p=["*"];let LA=0,FC=(()=>{class n{constructor(t,r){this.changeDetector=r,this.cache=!0,this.selectedChange=new s.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+LA++,this.accordion=t}get selected(){return this._selected}set selected(t){this._selected=t,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template}})}toggle(t){if(this.disabled)return!1;let r=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:t,index:r});else{if(!this.accordion.multiple)for(var i=0;i<this.accordion.tabs.length;i++)this.accordion.tabs[i].selected&&(this.accordion.tabs[i].selected=!1,this.accordion.tabs[i].selectedChange.emit(!1),this.accordion.tabs[i].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:t,index:r})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),t.preventDefault()}findTabIndex(){let t=-1;for(var r=0;r<this.accordion.tabs.length;r++)if(this.accordion.tabs[r]==this){t=r;break}return t}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(t){(32===t.which||13===t.which)&&(this.toggle(t),t.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36((0,s.Gpc)(()=>Og)),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-accordionTab"]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,PA,4),s.Suo(i,MA,4)),2&t){let a;s.iGM(a=s.CRH())&&(r.headerFacet=a),s.iGM(a=s.CRH())&&(r.templates=a)}},hostAttrs:[1,"p-element"],inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:FA,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(t,r){1&t&&(s.F$t(uN),s.TgZ(0,"div",0)(1,"div",1)(2,"a",2),s.NdJ("click",function(a){return r.toggle(a)})("keydown",function(a){return r.onKeydown(a)}),s._UZ(3,"span",3),s.YNc(4,OA,2,1,"span",4),s.YNc(5,RA,1,0,"ng-container",5),s.YNc(6,lN,1,0,"ng-content",6),s.qZA()(),s.TgZ(7,"div",7)(8,"div",8),s.Hsn(9),s.YNc(10,RC,2,1,"ng-container",6),s.qZA()()()),2&t&&(s.Q6J("ngClass",s.VKq(15,_l,r.selected)),s.xp6(1),s.Q6J("ngClass",s.WLB(17,bv,r.selected,r.disabled)),s.xp6(1),s.uIk("tabindex",r.disabled?null:0)("id",r.id)("aria-controls",r.id+"-content")("aria-expanded",r.selected),s.xp6(1),s.Q6J("ngClass",r.selected?r.accordion.collapseIcon:r.accordion.expandIcon),s.xp6(1),s.Q6J("ngIf",!r.hasHeaderFacet),s.xp6(1),s.Q6J("ngTemplateOutlet",r.headerTemplate),s.xp6(1),s.Q6J("ngIf",r.hasHeaderFacet),s.xp6(1),s.Q6J("@tabContent",r.selected?s.VKq(22,NA,s.VKq(20,kg,r.transitionOptions)):s.VKq(26,NC,s.VKq(24,kg,r.transitionOptions))),s.uIk("id",r.id+"-content")("aria-hidden",!r.selected)("aria-labelledby",r.id),s.xp6(3),s.Q6J("ngIf",r.contentTemplate&&(r.cache?r.loaded:r.selected)))},dependencies:[Nn,Un,Eo],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active>.p-toggleable-content:not(.ng-animating){overflow:inherit}\n"],encapsulation:2,data:{animation:[nh("tabContent",[No("hidden",Ns({height:"0"})),No("visible",Ns({height:"*"})),Yu("visible <=> hidden",[Yr("{{transitionParams}}")]),Yu("void => *",Yr(0))])]},changeDetection:0}),n})(),Og=(()=>{class n{constructor(t,r){this.el=t,this.changeDetector=r,this.onClose=new s.vpe,this.onOpen=new s.vpe,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new s.vpe,this.tabs=[]}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(t=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let t=0;t<this.tabs.length;t++){let r=this.multiple?this._activeIndex.includes(t):t===this._activeIndex;r!==this.tabs[t].selected&&(this.tabs[t].selected=r,this.tabs[t].selectedChange.emit(r),this.tabs[t].changeDetector.markForCheck())}}updateActiveIndex(){let t=this.multiple?[]:null;this.tabs.forEach((r,i)=>{if(r.selected){if(!this.multiple)return void(t=i);t.push(i)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(t)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-accordion"]],contentQueries:function(t,r,i){if(1&t&&s.Suo(i,FC,4),2&t){let a;s.iGM(a=s.CRH())&&(r.tabList=a)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:_p,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngClass","p-accordion p-component")("ngStyle",r.style))},dependencies:[Nn,Ua],encapsulation:2,changeDetection:0}),n})(),Cv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ga,kA]}),n})();var Qn=p(8996),vl=p(9751);const{isArray:yh}=Array,{getPrototypeOf:Ev,prototype:LC,keys:VA}=Object;function Rg(n){if(1===n.length){const e=n[0];if(yh(e))return{args:e,keys:null};if(function BA(n){return n&&"object"==typeof n&&Ev(n)===LC}(e)){const t=VA(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var vp=p(8421),ud=p(7669),Qr=p(5403),qt=p(4004);const{isArray:UA}=Array;function Ng(n){return(0,qt.U)(e=>function VC(n,e){return UA(e)?n(...e):n(e)}(n,e))}function Sv(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let BC=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),dd=(()=>{class n extends BC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Ca=new s.OlP("NgValueAccessor"),HC={provide:Ca,useExisting:(0,s.Gpc)(()=>wp),multi:!0},HA=new s.OlP("CompositionEventMode");let wp=(()=>{class n extends BC{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jC(){const n=w()?w().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(HA,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&s.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[s._Bn([HC]),s.qOj]}),n})();const xi=new s.OlP("NgValidators"),cc=new s.OlP("NgAsyncValidators");function $C(n){return null!=n}function zC(n){return(0,s.QGY)(n)?(0,Qn.D)(n):n}function Pv(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Bg(n,e){return e.map(t=>t(n))}function GA(n){return n.map(e=>function qC(n){return!n.validate}(e)?e:t=>e.validate(t))}function kv(n){return null!=n?function Mv(n){if(!n)return null;const e=n.filter($C);return 0==e.length?null:function(t){return Pv(Bg(t,e))}}(GA(n)):null}function Rv(n){return null!=n?function Ov(n){if(!n)return null;const e=n.filter($C);return 0==e.length?null:function(t){return function Tv(...n){const e=(0,ud.jO)(n),{args:t,keys:r}=Rg(n),i=new vl.y(a=>{const{length:u}=t;if(!u)return void a.complete();const m=new Array(u);let _=u,E=u;for(let N=0;N<u;N++){let W=!1;(0,vp.Xf)(t[N]).subscribe((0,Qr.x)(a,se=>{W||(W=!0,E--),m[N]=se},()=>_--,void 0,()=>{(!_||!W)&&(E||a.next(r?Sv(r,m):m),a.complete())}))}});return e?i.pipe(Ng(e)):i}(Bg(t,e).map(zC)).pipe((0,qt.U)(Pv))}}(GA(n)):null}function WC(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ug(n){return n?Array.isArray(n)?n:[n]:[]}function Hg(n,e){return Array.isArray(n)?n.includes(e):n===e}function KC(n,e){const t=Ug(e);return Ug(n).forEach(i=>{Hg(t,i)||t.push(i)}),t}function YC(n,e){return Ug(e).filter(t=>!Hg(n,t))}class QC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Rv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Zi extends QC{get formDirective(){return null}get path(){return null}}class nu extends QC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Sp=(()=>{class n extends class JC{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(nu,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[s.qOj]}),n})();const qg="VALID",Wg="INVALID",hd="PENDING",Zg="DISABLED";function fd(n){return Array.isArray(n)?kv(n):n||null}function Vv(n){return Array.isArray(n)?Rv(n):n||null}function pd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function wh(n,e){(function Ip(n,e){const t=function jo(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(WC(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function ZC(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(WC(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();bh(e._rawValidators,i),bh(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function _N(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Hv(n,e)})}(n,e),function rE(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ch(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Hv(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function yN(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Hv(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ey(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ty(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const lE={provide:nu,useExisting:(0,s.Gpc)(()=>md)},cE=(()=>Promise.resolve())();let md=(()=>{class n extends nu{constructor(t,r,i,a,u){super(),this._changeDetectorRef=u,this.control=new class extends class nE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=fd(this._rawValidators),this._composedAsyncValidatorFn=Vv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===qg}get invalid(){return this.status===Wg}get pending(){return this.status==hd}get disabled(){return this.status===Zg}get enabled(){return this.status!==Zg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=fd(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Vv(e)}addValidators(e){this.setValidators(KC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YC(e,this._rawAsyncValidators))}hasValidator(e){return Hg(this._rawValidators,e)}hasAsyncValidator(e){return Hg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qg||this.status===hd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zg:qg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hd,this._hasOwnPendingAsyncValidator=!0;const t=zC(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Zg:this.errors?Wg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hd)?hd:this._anyControlsHaveStatus(Wg)?Wg:qg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,r){super(function Fv(n){return(pd(n)?n.validators:n)||null}(t),function Lv(n,e){return(pd(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ty(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ey(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ey(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ty(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new s.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function sE(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===wp?t=a:function iE(n){return Object.getPrototypeOf(n.constructor)===dd}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Dp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){cE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,s.D6c)(r);cE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Kg(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Zi,9),s.Y36(xi,10),s.Y36(cc,10),s.Y36(Ca,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([lE]),s.qOj,s.TTD]}),n})();const TN={provide:Ca,useExisting:(0,s.Gpc)(()=>uE),multi:!0};let sD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),IN=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:sD}),n})(),uE=(()=>{class n extends dd{constructor(t,r,i,a){super(t,r),this._registry=i,this._injector=a,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(nu),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(IN),s.Y36(s.zs3))},n.\u0275dir=s.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[s._Bn([TN]),s.qOj]}),n})();const mE={provide:Ca,useExisting:(0,s.Gpc)(()=>gd),multi:!0};function gE(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let gd=(()=>{class n extends dd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=gE(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function cD(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([mE]),s.qOj]}),n})(),yd=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(gE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(gd,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const zv={provide:Ca,useExisting:(0,s.Gpc)(()=>ny),multi:!0};function _d(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ny=(()=>{class n extends dd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,u)=>{a._setSelected(i.indexOf(u.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const u=a;for(let m=0;m<u.length;m++){const E=this._getOptionValue(u[m].value);i.push(E)}}else{const u=r.options;for(let m=0;m<u.length;m++){const _=u[m];if(_.selected){const E=this._getOptionValue(_.value);i.push(E)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function qv(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([zv]),s.qOj]}),n})(),Zv=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(_d(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(_d(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(ny,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),EE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[sD]}),n})(),hD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[EE]}),n})();function Mt(...n){const e=(0,ud.yG)(n);return(0,Qn.D)(n,e)}var ou=p(7579);class Go extends ou.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const oy=(0,p(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Eh=p(4671),Xv=p(9672);function TE(...n){const e=(0,ud.yG)(n),t=(0,ud.jO)(n),{args:r,keys:i}=Rg(n);if(0===r.length)return(0,Qn.D)([],e);const a=new vl.y(function _D(n,e,t=Eh.y){return r=>{kp(e,()=>{const{length:i}=n,a=new Array(i);let u=i,m=i;for(let _=0;_<i;_++)kp(e,()=>{const E=(0,Qn.D)(n[_],e);let N=!1;E.subscribe((0,Qr.x)(r,W=>{a[_]=W,N||(N=!0,m--),m||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>Sv(i,u):Eh.y));return t?a.pipe(Ng(t)):a}function kp(n,e,t){n?(0,Xv.f)(t,n,e):e()}var vd=p(8189);function IE(...n){return function ay(){return(0,vd.J)(1)}()((0,Qn.D)(n,(0,ud.yG)(n)))}function ly(n){return new vl.y(e=>{(0,vp.Xf)(n()).subscribe(e)})}var FN=p(9635),cy=p(576);function Sh(n,e){const t=(0,cy.m)(n)?n:()=>n,r=i=>i.error(t());return new vl.y(e?i=>e.schedule(r,0,i):r)}var au=p(515),e0=p(727),Jr=p(4482);function Sa(){return(0,Jr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Qr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Op extends vl.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Jr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new e0.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Qr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=e0.w0.EMPTY)}return e}refCount(){return Sa()(this)}}function Er(n,e){return(0,Jr.e)((t,r)=>{let i=null,a=0,u=!1;const m=()=>u&&!i&&r.complete();t.subscribe((0,Qr.x)(r,_=>{i?.unsubscribe();let E=0;const N=a++;(0,vp.Xf)(n(_,N)).subscribe(i=(0,Qr.x)(r,W=>r.next(e?e(_,W,N,E++):W),()=>{i=null,m()}))},()=>{u=!0,m()}))})}function hc(n){return n<=0?()=>au.E:(0,Jr.e)((e,t)=>{let r=0;e.subscribe((0,Qr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function uy(...n){const e=(0,ud.yG)(n);return(0,Jr.e)((t,r)=>{(e?IE(n,t,e):IE(n,t)).subscribe(r)})}function ao(n,e){return(0,Jr.e)((t,r)=>{let i=0;t.subscribe((0,Qr.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Ki=p(5577);function dy(n){return(0,Jr.e)((e,t)=>{let r=!1;e.subscribe((0,Qr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function AE(n=Rp){return(0,Jr.e)((e,t)=>{let r=!1;e.subscribe((0,Qr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Rp(){return new oy}function fc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ao((i,a)=>n(i,a,r)):Eh.y,hc(1),t?dy(e):AE(()=>new oy))}function Th(n,e){return(0,cy.m)(e)?(0,Ki.z)(n,e,1):(0,Ki.z)(n,1)}var Yi=p(8505);function wd(n){return(0,Jr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Qr.x)(t,void 0,void 0,u=>{a=(0,vp.Xf)(n(u,wd(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function vD(n,e,t,r,i){return(a,u)=>{let m=t,_=e,E=0;a.subscribe((0,Qr.x)(u,N=>{const W=E++;_=m?n(_,N,W):(m=!0,N),r&&u.next(_)},i&&(()=>{m&&u.next(_),u.complete()})))}}function bd(n,e){return(0,Jr.e)(vD(n,e,arguments.length>=2,!0))}function t0(n){return n<=0?()=>au.E:(0,Jr.e)((e,t)=>{let r=[];e.subscribe((0,Qr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function n0(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ao((i,a)=>n(i,a,r)):Eh.y,t0(1),t?dy(e):AE(()=>new oy))}function Np(n){return(0,Jr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Tn="primary",Fp=Symbol("RouteTitle");class bD{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ih(n){return new bD(n)}function CD(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],m=n[a];if(u.startsWith(":"))i[u.substring(1)]=m;else if(u!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function lo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!lu(n[i],e[i]))return!1;return!0}function lu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function SD(n){return Array.prototype.concat.apply([],n)}function Ah(n){return n.length>0?n[n.length-1]:null}function Pi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function bl(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Qn.D)(Promise.resolve(n)):Mt(n)}const Lp={exact:function co(n,e,t){if(!zo(n.segments,e.segments)||!pc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!co(n.children[r],e.children[r],t))return!1;return!0},subset:Cd},Mi={exact:function hy(n,e){return lo(n,e)},subset:function o0(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lu(n[t],e[t]))},ignored:()=>!0};function cu(n,e,t){return Lp[t.paths](n.root,e.root,t.matrixParams)&&Mi[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Cd(n,e,t){return Ed(n,e,e.segments,t)}function Ed(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!zo(i,t)||e.hasChildren()||!pc(i,t,r))}if(n.segments.length===t.length){if(!zo(n.segments,t)||!pc(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Cd(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(zo(n.segments,i)&&pc(n.segments,i,r)&&n.children[Tn])&&Ed(n.children[Tn],e,a,r)}}function pc(n,e,t){return e.every((r,i)=>Mi[t](n[i].parameters,r.parameters))}class $o{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ih(this.queryParams)),this._queryParamMap}toString(){return DE.serialize(this)}}class fn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Pi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vp(this)}}class El{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ih(this.parameters)),this._parameterMap}toString(){return c0(this)}}function zo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let a0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new fy},providedIn:"root"}),n})();class fy{parse(e){const t=new AD(e);return new $o(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ph(e.root,!0)}`,r=function ME(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Bp(t)}=${Bp(i)}`).join("&"):`${Bp(t)}=${Bp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function xE(n){return encodeURI(n)}(e.fragment)}`:""}`}}const DE=new fy;function Vp(n){return n.segments.map(e=>c0(e)).join("/")}function Ph(n,e){if(!n.hasChildren())return Vp(n);if(e){const t=n.children[Tn]?Ph(n.children[Tn],!1):"",r=[];return Pi(n.children,(i,a)=>{a!==Tn&&r.push(`${a}:${Ph(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function xh(n,e){let t=[];return Pi(n.children,(r,i)=>{i===Tn&&(t=t.concat(e(r,i)))}),Pi(n.children,(r,i)=>{i!==Tn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Tn?[Ph(n.children[Tn],!1)]:[`${i}:${Ph(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Tn]?`${Vp(n)}/${t[0]}`:`${Vp(n)}/(${t.join("//")})`}}function l0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bp(n){return l0(n).replace(/%3B/gi,";")}function py(n){return l0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function my(n){return decodeURIComponent(n)}function PE(n){return my(n.replace(/\+/g,"%20"))}function c0(n){return`${py(n.path)}${function TD(n){return Object.keys(n).map(e=>`;${py(e)}=${py(n[e])}`).join("")}(n.parameters)}`}const u0=/^[^\/()?;=#]+/;function Mh(n){const e=n.match(u0);return e?e[0]:""}const ID=/^[^=?&#]+/,yy=/^[^&#]+/;class AD{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Tn]=new fn(e,t)),r}parseSegment(){const e=Mh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(e),new El(my(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Mh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Mh(this.remaining);i&&(r=i,this.capture(r))}e[my(t)]=my(r)}parseQueryParam(e){const t=function gy(n){const e=n.match(ID);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function d0(n){const e=n.match(yy);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=PE(t),a=PE(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Mh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new s.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Tn);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Tn]:new fn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new s.vHH(4011,!1)}}function kh(n){return n.segments.length>0?new fn([],{[Tn]:n}):n}function Sd(n){const e={};for(const r of Object.keys(n.children)){const a=Sd(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function h0(n){if(1===n.numberOfChildren&&n.children[Tn]){const e=n.children[Tn];return new fn(n.segments.concat(e.segments),e.children)}return n}(new fn(n.segments,e))}function uu(n){return n instanceof $o}function OE(n,e,t,r,i){if(0===t.length)return Td(e.root,e.root,e.root,r,i);const a=function RE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new m0(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const m={};return Pi(a.outlets,(_,E)=>{m[E]="string"==typeof _?_.split("/"):_}),[...i,{outlets:m}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,a]},[]);return new m0(t,e,r)}(t);return a.toRoot()?Td(e.root,e.root,new fn([],{}),r,i):function u(_){const E=function g0(n,e,t,r){if(n.isAbsolute)return new Id(e.root,!0,0);if(-1===r)return new Id(t,t===e.root,0);return function jp(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new s.vHH(4005,!1);i=r.segments.length}return new Id(r,!1,i-a)}(t,r+(Hp(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),N=E.processChildren?Rh(E.segmentGroup,E.index,a.commands):_y(E.segmentGroup,E.index,a.commands);return Td(e.root,E.segmentGroup,N,r,i)}(n.snapshot?._lastPathIndex)}function Hp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Oh(n){return"object"==typeof n&&null!=n&&n.outlets}function Td(n,e,t,r,i){let u,a={};r&&Pi(r,(_,E)=>{a[E]=Array.isArray(_)?_.map(N=>`${N}`):`${_}`}),u=n===e?t:p0(n,e,t);const m=kh(Sd(u));return new $o(m,a,i)}function p0(n,e,t){const r={};return Pi(n.children,(i,a)=>{r[a]=i===e?t:p0(i,e,t)}),new fn(n.segments,r)}class m0{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Hp(r[0]))throw new s.vHH(4003,!1);const i=r.find(Oh);if(i&&i!==Ah(r))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Id{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function _y(n,e,t){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return Rh(n,e,t);const r=function FE(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],m=t[r];if(Oh(m))break;const _=`${m}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!v0(_,E,u))return a;r+=2}else{if(!v0(_,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new fn(n.segments.slice(0,r.pathIndex),{});return a.children[Tn]=new fn(n.segments.slice(r.pathIndex),n.children),Rh(a,0,i)}return r.match&&0===i.length?new fn(n.segments,{}):r.match&&!n.hasChildren()?vy(n,e,t):r.match?Rh(n,0,i):vy(n,e,t)}function Rh(n,e,t){if(0===t.length)return new fn(n.segments,{});{const r=function y0(n){return Oh(n[0])?n[0].outlets:{[Tn]:n}}(t),i={};return Pi(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=_y(n.children[u],e,a))}),Pi(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new fn(n.segments,i)}}function vy(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Oh(a)){const _=LE(a.outlets);return new fn(r,_)}if(0===i&&Hp(t[0])){r.push(new El(n.segments[e].path,_0(t[0]))),i++;continue}const u=Oh(a)?a.outlets[Tn]:`${a}`,m=i<t.length-1?t[i+1]:null;u&&m&&Hp(m)?(r.push(new El(u,_0(m))),i+=2):(r.push(new El(u,{})),i++)}return new fn(r,{})}function LE(n){const e={};return Pi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=vy(new fn([],{}),0,t))}),e}function _0(n){const e={};return Pi(n,(t,r)=>e[r]=`${t}`),e}function v0(n,e,t){return n==t.path&&lo(e,t.parameters)}class du{constructor(e,t){this.id=e,this.url=t}}class w0 extends du{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ad extends du{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gp extends du{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class VE extends du{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class di extends du{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BE extends du{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xD extends du{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class PD extends du{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UE extends du{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MD{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HE{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jE{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nh{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kD{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OD{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b0{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class C0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=GE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=GE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=wy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wy(e,this._root).map(t=>t.value)}}function GE(n,e){if(n===e.value)return e;for(const t of e.children){const r=GE(n,t);if(r)return r}return null}function wy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=wy(n,t);if(r.length)return r.unshift(e),r}return[]}class Ta{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ms(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class $E extends C0{constructor(e,t){super(e),this.snapshot=t,S0(this,e)}toString(){return this.snapshot.toString()}}function E0(n,e){const t=function Sl(n,e){const u=new $p([],{},{},"",{},Tn,e,null,n.root,-1,{});return new qE("",new Ta(u,[]))}(n,e),r=new Go([new El("",{})]),i=new Go({}),a=new Go({}),u=new Go({}),m=new Go(""),_=new Gr(r,i,u,m,a,Tn,e,t.root);return _.snapshot=t.root,new $E(new Ta(_,[]),t)}class Gr{constructor(e,t,r,i,a,u,m,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=m,this.title=this.data?.pipe((0,qt.U)(E=>E[Fp]))??Mt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qt.U)(e=>Ih(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qt.U)(e=>Ih(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qo(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function zE(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class $p{constructor(e,t,r,i,a,u,m,_,E,N,W,se){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=m,this.title=this.data?.[Fp],this.routeConfig=_,this._urlSegment=E,this._lastPathIndex=N,this._correctedLastPathIndex=se??N,this._resolve=W}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ih(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ih(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qE extends C0{constructor(e,t){super(t),this.url=e,S0(this,t)}toString(){return WE(this._root)}}function S0(n,e){e.value._routerState=n,e.children.forEach(t=>S0(n,t))}function WE(n){const e=n.children.length>0?` { ${n.children.map(WE).join(", ")} } `:"";return`${n.value}${e}`}function T0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,lo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),lo(e.params,t.params)||n.params.next(t.params),function ED(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!lo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),lo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zp(n,e){const t=lo(n.params,e.params)&&function Dh(n,e){return zo(n,e)&&n.every((t,r)=>lo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||zp(n.parent,e.parent))}function Wp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function ZE(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wp(n,r,i);return Wp(n,r)})}(n,e,t);return new Ta(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(m=>Wp(n,m)),u}}const r=function ND(n){return new Gr(new Go(n.url),new Go(n.params),new Go(n.queryParams),new Go(n.fragment),new Go(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Wp(n,a));return new Ta(r,i)}}const by="ngNavigationCancelingError";function I0(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=uu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Zp(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Zp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[by]=!0,r.cancellationCode=e,t&&(r.url=t),r}function KE(n){return A0(n)&&uu(n.url)}function A0(n){return n&&n[by]}class YE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Dd,this.attachRef=null}}let Dd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new YE,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xd=!1;let Kp=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=i||Tn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,xd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,xd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,xd);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new s.vHH(4013,xd);this._activatedRoute=t;const i=this.location,u=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,_=new QE(t,m,i.injector);if(r&&function JE(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(u);this.activated=i.createComponent(E,i.length,_)}else this.activated=i.createComponent(u,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Dd),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class QE{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Gr?this.route:e===Dd?this.childContexts:this.parent.get(e,t)}}let Cy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")},dependencies:[Kp],encapsulation:2}),n})();function D0(n,e){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function P0(n){const e=n.children&&n.children.map(P0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Tn&&(t.component=Cy),t}function Wo(n){return n.outlet||Tn}function XE(n,e){const t=n.filter(r=>Wo(r)===e);return t.push(...n.filter(r=>Wo(r)!==e)),t}function Yp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class GD{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),T0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ms(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),Pi(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ms(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ms(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ms(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new OD(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Nh(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(T0(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(m.contexts),u.attachRef=m.componentRef,u.route=m.route.value,u.outlet&&u.outlet.attach(m.componentRef,m.route.value),T0(m.route.value),this.activateChildRoutes(e,null,u.children)}else{const m=Yp(i.snapshot),_=m?.get(s._Vd)??null;u.attachRef=null,u.route=i,u.resolver=_,u.injector=m,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class eS{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ey{constructor(e,t){this.component=e,this.route=t}}function $D(n,e,t){const r=n._root;return Qp(r,e?e._root:null,t,[r.value])}function Fh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,s.Z0I)(n)?e.get(n):n:r}function Qp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=ms(e);return n.children.forEach(u=>{(function qD(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function tS(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!zo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!zo(n.url,e.url)||!lo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zp(n,e)||!lo(n.queryParams,e.queryParams);default:return!zp(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new eS(r)):(a.data=u.data,a._resolvedData=u._resolvedData),Qp(n,e,a.component?m?m.children:null:t,r,i),_&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new Ey(m.outlet.component,u))}else u&&Lh(e,m,i),i.canActivateChecks.push(new eS(r)),Qp(n,null,a.component?m?m.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),Pi(a,(u,m)=>Lh(u,t.getContext(m),i)),i}function Lh(n,e,t){const r=ms(n),i=n.value;Pi(r,(a,u)=>{Lh(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ey(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Vh(n){return"function"==typeof n}function mc(n){return n instanceof oy||"EmptyError"===n?.name}const Sy=Symbol("INITIAL_VALUE");function Bh(){return Er(n=>TE(n.map(e=>e.pipe(hc(1),uy(Sy)))).pipe((0,qt.U)(e=>{for(const t of e)if(!0!==t){if(t===Sy)return Sy;if(!1===t||t instanceof $o)return t}return!0}),ao(e=>e!==Sy),hc(1)))}function dS(n){return(0,FN.z)((0,Yi.b)(e=>{if(uu(e))throw I0(0,e)}),(0,qt.U)(e=>!0===e))}const hu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hS(n,e,t,r,i){const a=Hh(n,e,t);return a.matched?function KD(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Mt(i.map(u=>{const m=Fh(u,n);return bl(function aS(n){return n&&Vh(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Bh(),dS()):Mt(!0)}(r=D0(e,r),e,t).pipe((0,qt.U)(u=>!0===u?a:{...hu})):Mt(a)}function Hh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...hu}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||CD)(t,n,e);if(!i)return{...hu};const a={};Pi(i.posParams,(m,_)=>{a[_]=m.path});const u=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Pd(n,e,t,r,i="corrected"){if(t.length>0&&function fS(n,e,t){return t.some(r=>Ty(n,e,r)&&Wo(r)!==Tn)}(n,t,r)){const u=new fn(e,function jN(n,e,t,r){const i={};i[Tn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Wo(a)!==Tn){const u=new fn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[Wo(a)]=u}return i}(n,e,r,new fn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function pS(n,e,t){return t.some(r=>Ty(n,e,r))}(n,t,r)){const u=new fn(n.segments,function Nr(n,e,t,r,i,a){const u={};for(const m of r)if(Ty(n,t,m)&&!i[Wo(m)]){const _=new fn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[Wo(m)]=_}return{...i,...u}}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new fn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Ty(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function k0(n,e,t,r){return!!(Wo(n)===r||r!==Tn&&Ty(e,t,n))&&("**"===n.path||Hh(e,n,t).matched)}function O0(n,e,t){return 0===e.length&&!n.children[t]}const Jp=!1;class Xp{constructor(e){this.segmentGroup=e||null}}class mS{constructor(e){this.urlTree=e}}function em(n){return Sh(new Xp(n))}function gS(n){return Sh(new mS(n))}class JD{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Pd(this.urlTree.root,[],[],this.config).segmentGroup,t=new fn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Tn).pipe((0,qt.U)(a=>this.createUrlTree(Sd(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wd(a=>{if(a instanceof mS)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Xp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Tn).pipe((0,qt.U)(i=>this.createUrlTree(Sd(i),e.queryParams,e.fragment))).pipe(wd(i=>{throw i instanceof Xp?this.noMatchError(i):i}))}noMatchError(e){return new s.vHH(4002,Jp)}createUrlTree(e,t,r){const i=kh(e);return new $o(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,qt.U)(a=>new fn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Qn.D)(i).pipe(Th(a=>{const u=r.children[a],m=XE(t,a);return this.expandSegmentGroup(e,m,u,a).pipe((0,qt.U)(_=>({segment:_,outlet:a})))}),bd((a,u)=>(a[u.outlet]=u.segment,a),{}),n0())}expandSegment(e,t,r,i,a,u){return(0,Qn.D)(r).pipe(Th(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,a,u).pipe(wd(E=>{if(E instanceof Xp)return Mt(null);throw E}))),fc(m=>!!m),wd((m,_)=>{if(mc(m))return O0(t,i,a)?Mt(new fn([],{})):em(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,a,u,m){return k0(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):em(t):em(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?gS(a):this.lineralizeSegments(r,a).pipe((0,Ki.z)(u=>{const m=new fn(u,{});return this.expandSegment(e,m,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:m,consumedSegments:_,remainingSegments:E,positionalParamSegments:N}=Hh(t,i,a);if(!m)return em(t);const W=this.applyRedirectCommands(_,i.redirectTo,N);return i.redirectTo.startsWith("/")?gS(W):this.lineralizeSegments(i,W).pipe((0,Ki.z)(se=>this.expandSegment(e,t,r,se.concat(E),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=D0(r,e),r.loadChildren?(r._loadedRoutes?Mt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,qt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new fn(i,{})))):Mt(new fn(i,{}))):hS(t,r,i,e).pipe(Er(({matched:u,consumedSegments:m,remainingSegments:_})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ki.z)(N=>{const W=N.injector??e,se=N.routes,{segmentGroup:pe,slicedSegments:we}=Pd(t,m,_,se),Me=new fn(pe.segments,pe.children);if(0===we.length&&Me.hasChildren())return this.expandChildren(W,se,Me).pipe((0,qt.U)(ft=>new fn(m,ft)));if(0===se.length&&0===we.length)return Mt(new fn(m,{}));const Ve=Wo(r)===a;return this.expandSegment(W,Me,se,we,Ve?Tn:a,!0).pipe((0,qt.U)(ht=>new fn(m.concat(ht.segments),ht.children)))})):em(t)))}getChildConfig(e,t,r){return t.children?Mt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Mt({routes:t._loadedRoutes,injector:t._loadedInjector}):function ZD(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Mt(!0):Mt(i.map(u=>{const m=Fh(u,n);return bl(function rS(n){return n&&Vh(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Bh(),dS())}(e,t,r).pipe((0,Ki.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Yi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function YD(n){return Sh(Zp(Jp,3))}())):Mt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Mt(r);if(i.numberOfChildren>1||!i.children[Tn])return Sh(new s.vHH(4e3,Jp));i=i.children[Tn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new $o(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Pi(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[a]=t[m]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return Pi(t.children,(m,_)=>{u[_]=this.createSegmentGroup(e,m,r,i)}),new fn(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new s.vHH(4001,Jp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class yS{}class rm{constructor(e,t,r,i,a,u,m,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=m,this.urlSerializer=_}recognize(){const e=Pd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Tn).pipe((0,qt.U)(t=>{if(null===t)return null;const r=new $p([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ta(r,t),a=new qE(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=qo(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Qn.D)(Object.keys(r.children)).pipe(Th(i=>{const a=r.children[i],u=XE(t,i);return this.processSegmentGroup(e,u,a,i)}),bd((i,a)=>i&&a?(i.push(...a),i):null),function r0(n,e=!1){return(0,Jr.e)((t,r)=>{let i=0;t.subscribe((0,Qr.x)(r,a=>{const u=n(a,i++);(u||e)&&r.next(a),!u&&r.complete()}))})}(i=>null!==i),dy(null),n0(),(0,qt.U)(i=>{if(null===i)return null;const a=vS(i);return function im(n){n.sort((e,t)=>e.value.outlet===Tn?-1:t.value.outlet===Tn?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Qn.D)(t).pipe(Th(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,a)),fc(u=>!!u),wd(u=>{if(mc(u))return O0(r,i,a)?Mt([]):Mt(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!k0(t,r,i,a))return Mt(null);let u;if("**"===t.path){const m=i.length>0?Ah(i).parameters:{},_=N0(r)+i.length;u=Mt({snapshot:new $p(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F0(t),Wo(t),t.component??t._loadedComponent??null,t,R0(r),_,CS(t),_),consumedSegments:[],remainingSegments:[]})}else u=hS(r,t,i,e).pipe((0,qt.U)(({matched:m,consumedSegments:_,remainingSegments:E,parameters:N})=>{if(!m)return null;const W=N0(r)+_.length;return{snapshot:new $p(_,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F0(t),Wo(t),t.component??t._loadedComponent??null,t,R0(r),W,CS(t),W),consumedSegments:_,remainingSegments:E}}));return u.pipe(Er(m=>{if(null===m)return Mt(null);const{snapshot:_,consumedSegments:E,remainingSegments:N}=m;e=t._injector??e;const W=t._loadedInjector??e,se=function ex(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:pe,slicedSegments:we}=Pd(r,E,N,se.filter(Ve=>void 0===Ve.redirectTo),this.relativeLinkResolution);if(0===we.length&&pe.hasChildren())return this.processChildren(W,se,pe).pipe((0,qt.U)(Ve=>null===Ve?null:[new Ta(_,Ve)]));if(0===se.length&&0===we.length)return Mt([new Ta(_,[])]);const Me=Wo(t)===a;return this.processSegment(W,se,pe,we,Me?Tn:a).pipe((0,qt.U)(Ve=>null===Ve?null:[new Ta(_,Ve)]))}))}}function tx(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vS(n){const e=[],t=new Set;for(const r of n){if(!tx(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=vS(r.children);e.push(new Ta(r.value,i))}return e.filter(r=>!t.has(r))}function R0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function N0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function F0(n){return n.data||{}}function CS(n){return n.resolve||{}}function sm(n){return"string"==typeof n.title||null===n.title}function L0(n){return Er(e=>{const t=n(e);return t?(0,Qn.D)(t).pipe((0,qt.U)(()=>e)):Mt(e)})}let SS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Tn);return r}getResolvedTitleForRoute(t){return t.data[Fp]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(V0)},providedIn:"root"}),n})(),V0=(()=>{class n extends SS{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Os))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rx{}class sx extends class ix{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Dy=new s.OlP("",{providedIn:"root",factory:()=>({})}),U0=new s.OlP("ROUTES");let H0=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=bl(t.loadComponent()).pipe((0,Yi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Np(()=>{this.componentLoaders.delete(t)})),i=new Op(r,()=>new ou.x).pipe(Sa());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Mt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,qt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,E,N=!1;Array.isArray(m)?E=m:(_=m.create(t).injector,E=SD(_.get(U0,[],s.XFs.Self|s.XFs.Optional)));return{routes:E.map(P0),injector:_}}),Np(()=>{this.childrenLoaders.delete(r)})),u=new Op(a,()=>new ou.x).pipe(Sa());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return bl(t()).pipe((0,Ki.z)(r=>r instanceof s.YKP||Array.isArray(r)?Mt(r):(0,Qn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class om{}class ax{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function lx(n){throw n}function TS(n,e,t){return e.parse("/")}const cx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function xy(){const n=(0,s.f3M)(a0),e=(0,s.f3M)(Dd),t=(0,s.f3M)(te),r=(0,s.f3M)(s.zs3),i=(0,s.f3M)(s.Sil),a=(0,s.f3M)(U0,{optional:!0})??[],u=(0,s.f3M)(Dy,{optional:!0})??{},m=(0,s.f3M)(V0),_=(0,s.f3M)(SS,{optional:!0}),E=(0,s.f3M)(om,{optional:!0}),N=(0,s.f3M)(rx,{optional:!0}),W=new hi(null,n,e,t,r,i,SD(a));return E&&(W.urlHandlingStrategy=E),N&&(W.routeReuseStrategy=N),W.titleStrategy=_??m,function ux(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,W),W}let hi=(()=>{class n{constructor(t,r,i,a,u,m,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ou.x,this.errorHandler=lx,this.malformedUriErrorHandler=TS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Mt(void 0),this.urlHandlingStrategy=new ax,this.routeReuseStrategy=new sx,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(H0),this.configLoader.onLoadEndListener=se=>this.triggerEvent(new HE(se)),this.configLoader.onLoadStartListener=se=>this.triggerEvent(new MD(se)),this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const W=u.get(s.R0b);this.isNgZoneEnabled=W instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Cl(){return new $o(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=E0(this.currentUrlTree,this.rootComponentType),this.transitions=new Go({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ao(i=>0!==i.id),(0,qt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Er(i=>{let a=!1,u=!1;return Mt(i).pipe((0,Yi.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Er(m=>{const _=this.browserUrlTree.toString(),E=!this.navigated||m.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return j0(m.source)&&(this.browserUrlTree=m.extractedUrl),Mt(m).pipe(Er(W=>{const se=this.transitions.getValue();return r.next(new w0(W.id,this.serializeUrl(W.extractedUrl),W.source,W.restoredState)),se!==this.transitions.getValue()?au.E:Promise.resolve(W)}),function Iy(n,e,t,r){return Er(i=>function QD(n,e,t,r,i){return new JD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,qt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yi.b)(W=>{this.currentNavigation={...this.currentNavigation,finalUrl:W.urlAfterRedirects},i.urlAfterRedirects=W.urlAfterRedirects}),function nx(n,e,t,r,i,a){return(0,Ki.z)(u=>function XD(n,e,t,r,i,a,u="emptyOnly",m="legacy"){return new rm(n,e,t,r,i,u,m,a).recognize().pipe(Er(_=>null===_?function _S(n){return new vl.y(e=>e.error(n))}(new yS):Mt(_)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,a).pipe((0,qt.U)(m=>({...u,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yi.b)(W=>{if(i.targetSnapshot=W.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!W.extras.skipLocationChange){const pe=this.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl);this.setBrowserUrl(pe,W)}this.browserUrlTree=W.urlAfterRedirects}const se=new di(W.id,this.serializeUrl(W.extractedUrl),this.serializeUrl(W.urlAfterRedirects),W.targetSnapshot);r.next(se)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:se,extractedUrl:pe,source:we,restoredState:Me,extras:Ve}=m,st=new w0(se,this.serializeUrl(pe),we,Me);r.next(st);const ht=E0(pe,this.rootComponentType).snapshot;return Mt(i={...m,targetSnapshot:ht,urlAfterRedirects:pe,extras:{...Ve,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),au.E}),(0,Yi.b)(m=>{const _=new BE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(_)}),(0,qt.U)(m=>i={...m,guards:$D(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function Uh(n,e){return(0,Ki.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?Mt({...t,guardsResult:!0}):function BN(n,e,t,r){return(0,Qn.D)(n).pipe((0,Ki.z)(i=>function Jt(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Mt(a.map(m=>{const _=Yp(e)??i,E=Fh(m,_);return bl(function oS(n){return n&&Vh(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):_.runInContext(()=>E(n,e,t,r))).pipe(fc())})).pipe(Bh()):Mt(!0)}(i.component,i.route,t,e,r)),fc(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Ki.z)(m=>m&&function nS(n){return"boolean"==typeof n}(m)?function M0(n,e,t,r){return(0,Qn.D)(e).pipe(Th(i=>IE(function cS(n,e){return null!==n&&e&&e(new jE(n)),Mt(!0)}(i.route.parent,r),function UN(n,e){return null!==n&&e&&e(new kD(n)),Mt(!0)}(i.route,r),function HN(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function zD(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>ly(()=>Mt(u.guards.map(_=>{const E=Yp(u.node)??t,N=Fh(_,E);return bl(function sS(n){return n&&Vh(n.canActivateChild)}(N)?N.canActivateChild(r,n):E.runInContext(()=>N(r,n))).pipe(fc())})).pipe(Bh())));return Mt(a).pipe(Bh())}(n,i.path,t),function uS(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Mt(!0);const i=r.map(a=>ly(()=>{const u=Yp(e)??t,m=Fh(a,u);return bl(function iS(n){return n&&Vh(n.canActivate)}(m)?m.canActivate(e,n):u.runInContext(()=>m(e,n))).pipe(fc())}));return Mt(i).pipe(Bh())}(n,i.route,t))),fc(i=>!0!==i,!0))}(r,a,n,e):Mt(m)),(0,qt.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Yi.b)(m=>{if(i.guardsResult=m.guardsResult,uu(m.guardsResult))throw I0(0,m.guardsResult);const _=new xD(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(_)}),ao(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),L0(m=>{if(m.guards.canActivateChecks.length)return Mt(m).pipe((0,Yi.b)(_=>{const E=new PD(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),Er(_=>{let E=!1;return Mt(_).pipe(function GN(n,e){return(0,Ki.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Mt(t);let a=0;return(0,Qn.D)(i).pipe(Th(u=>function $N(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!sm(i)&&(a[Fp]=i.title),function zN(n,e,t,r){const i=function qN(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Mt({});const a={};return(0,Qn.D)(i).pipe((0,Ki.z)(u=>function ES(n,e,t,r){const i=Yp(e)??r,a=Fh(n,i);return bl(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[u],e,t,r).pipe(fc(),(0,Yi.b)(m=>{a[u]=m}))),t0(1),function wD(n){return(0,qt.U)(()=>n)}(a),wd(u=>mc(u)?au.E:Sh(u)))}(a,n,e,r).pipe((0,qt.U)(u=>(n._resolvedData=u,n.data=qo(n,t).resolve,i&&sm(i)&&(n.data[Fp]=i.title),null)))}(u.route,r,n,e)),(0,Yi.b)(()=>a++),t0(1),(0,Ki.z)(u=>a===i.length?Mt(t):au.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yi.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Yi.b)(_=>{const E=new UE(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}))}),L0(m=>{const _=E=>{const N=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,Yi.b)(W=>{E.component=W}),(0,qt.U)(()=>{})));for(const W of E.children)N.push(..._(W));return N};return TE(_(m.targetSnapshot.root)).pipe(dy(),hc(1))}),L0(()=>this.afterPreactivation()),(0,qt.U)(m=>{const _=function qp(n,e,t){const r=Wp(n,e._root,t?t._root:void 0);return new $E(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return i={...m,targetRouterState:_}}),(0,Yi.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,qt.U)(r=>(new GD(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Yi.b)({next(){a=!0},complete(){a=!0}}),Np(()=>{a||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),wd(m=>{if(u=!0,A0(m)){KE(m)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new Gp(i.id,this.serializeUrl(i.extractedUrl),m.message,m.cancellationCode);if(r.next(_),KE(m)){const E=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),N={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||j0(i.source)};this.scheduleNavigation(E,"imperative",null,N,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new VE(i.id,this.serializeUrl(i.extractedUrl),m,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(m))}catch(E){i.reject(E)}}return au.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const m={...a};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(i.state=m)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(P0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:m,preserveFragment:_}=r,E=i||this.routerState.root,N=_?this.currentUrlTree.fragment:u;let W=null;switch(m){case"merge":W={...this.currentUrlTree.queryParams,...a};break;case"preserve":W=this.currentUrlTree.queryParams;break;default:W=a||null}return null!==W&&(W=this.removeEmptyProps(W)),OE(E,this.currentUrlTree,t,W,N??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=uu(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function AS(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new s.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...cx}:!1===r?{...IS}:r,uu(t))return cu(this.currentUrlTree,t,i);const a=this.parseUrl(t);return cu(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ad(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){if(this.disposed)return Promise.resolve(!1);let m,_,E;u?(m=u.resolve,_=u.reject,E=u.promise):E=new Promise((se,pe)=>{m=se,_=pe});const N=++this.navigationId;let W;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),W=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):W=0,this.setTransition({id:N,targetPageId:W,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:m,reject:_,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(se=>Promise.reject(se))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new Gp(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return xy()},providedIn:"root"}),n})();function j0(n){return"imperative"!==n}let fu=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ou.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,s.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,s.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,s.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(hi),s.Y36(Gr),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&s.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),uo=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ou.x,this.subscription=t.events.subscribe(a=>{a instanceof Ad&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,s.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,s.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,s.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,u){return!!(0!==t||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(hi),s.Y36(Gr),s.Y36(T))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&s.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&s.uIk("target",r.target)("href",r.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),G0=(()=>{class n{constructor(t,r,i,a,u,m){this.router=t,this.element=r,this.renderer=i,this.cdr=a,this.link=u,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof Ad&&this.update()})}ngAfterContentInit(){Mt(this.links.changes,this.linksWithHrefs.changes,Mt(null)).pipe((0,vd.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Qn.D)(t).pipe((0,vd.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function $0(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(hi),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(fu,8),s.Y36(uo,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,fu,5),s.Suo(i,uo,5)),2&t){let a;s.iGM(a=s.CRH())&&(r.links=a),s.iGM(a=s.CRH())&&(r.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.TTD]}),n})();class DS{}let hx=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(ao(t=>t instanceof Ad),Th(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,s.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,m=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(m,a.children??a._loadedRoutes))}return(0,Qn.D)(i).pipe((0,vd.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Mt(null);const a=i.pipe((0,Ki.z)(u=>null===u?Mt(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,Qn.D)([a,u]).pipe((0,vd.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(hi),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(DS),s.LFG(H0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z0=new s.OlP("");let xS=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof w0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ad&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof b0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new b0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function jh(n,e){return{\u0275kind:n,\u0275providers:e}}function My(n){return[{provide:U0,multi:!0,useValue:n}]}function MS(){const n=(0,s.f3M)(s.zs3);return e=>{const t=n.get(s.z2F);if(e!==t.components[0])return;const r=n.get(hi),i=n.get(kS);1===n.get(ky)&&r.initialNavigation(),n.get(Oy,null,s.XFs.Optional)?.setUpPreloading(),n.get(z0,null,s.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const kS=new s.OlP("",{factory:()=>new ou.x}),ky=new s.OlP("",{providedIn:"root",factory:()=>1});const Oy=new s.OlP("");function q0(n){return jh(0,[{provide:Oy,useExisting:hx},{provide:DS,useExisting:n}])}const OS=new s.OlP("ROUTER_FORROOT_GUARD"),W0=[te,{provide:a0,useClass:fy},{provide:hi,useFactory:xy},Dd,{provide:Gr,useFactory:function PS(n){return n.routerState.root},deps:[hi]},H0];function _x(){return new s.PXZ("Router",hi)}let Z0=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[W0,[],My(t),{provide:OS,useFactory:YN,deps:[[hi,new s.FiY,new s.tp0]]},{provide:Dy,useValue:r||{}},r?.useHash?{provide:T,useClass:J}:{provide:T,useClass:q},{provide:z0,useFactory:()=>{const n=(0,s.f3M)(hi),e=(0,s.f3M)(kc),t=(0,s.f3M)(Dy);return t.scrollOffset&&e.setOffset(t.scrollOffset),new xS(n,e,t)}},r?.preloadingStrategy?q0(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:_x},r?.initialNavigation?NS(r):[],[{provide:Ry,useFactory:MS},{provide:s.tb,multi:!0,useExisting:Ry}]]}}static forChild(t){return{ngModule:n,providers:[My(t)]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(OS,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Cy]}),n})();function YN(n){return"guarded"}function NS(n){return["disabled"===n.initialNavigation?jh(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const e=(0,s.f3M)(hi);return()=>{e.setUpLocationChangeListener()}}},{provide:ky,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?jh(2,[{provide:ky,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:e=>{const t=e.get(P,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(hi),m=e.get(kS);(function i(a){e.get(hi).events.pipe(ao(m=>m instanceof Ad||m instanceof Gp||m instanceof VE),(0,qt.U)(m=>m instanceof Ad||m instanceof Gp&&(0===m.code||1===m.code)&&null),ao(m=>null!==m),hc(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),u.afterPreactivation=()=>(a(!0),r||m.closed?Mt(void 0):m),u.initialNavigation()}))}}]).\u0275providers:[]]}const Ry=new s.OlP("");let bx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-about-div1"]],decls:7,vars:0,consts:[[1,"about-div1"],[1,"sub-section"],["src","../../assets/about-div1-image.jpeg","alt","about-main"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1"),s._uU(3,"Who are we? "),s.qZA(),s.TgZ(4,"h3"),s._uU(5," FashionGuru focuses on fashionable and sustainable clothing with an affordable price. We are currently working with 2 different suppliers from Europe to provide incredible quality. "),s.qZA()(),s._UZ(6,"img",2),s.qZA())},styles:['.about-div1[_ngcontent-%COMP%]{position:relative;height:45rem;max-width:100%;padding:0 5rem;display:flex;flex-direction:column;align-items:flex-end;justify-content:center;color:#fff;overflow:hidden;transition:1s}.about-div1[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;height:100%;width:100%;background:rgb(255,255,255);background:linear-gradient(90deg,#ffffff00 0%,#00000067 100%)}.about-div1[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(1)}img[_ngcontent-%COMP%]{position:absolute;object-fit:cover;top:0;left:0;height:100%;width:100%;transform:scale(1.05);transition:transform 1s}.sub-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;z-index:2;max-width:35rem}h1[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:400;margin:0;text-shadow:black 0 0 10px}h3[_ngcontent-%COMP%]{font-size:1.5rem;margin:0;font-weight:300;text-shadow:black 0 0 10px}@media only screen and (max-width: 450px){h1[_ngcontent-%COMP%]{font-size:3rem}h3[_ngcontent-%COMP%]{font-size:1.2rem}}']}),n})(),LS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-about-div2"]],decls:8,vars:0,consts:[[1,"about-div2"],[1,"grid"],[1,"text1"],[1,"text2"],[1,"text3"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"p",2),s._uU(3," It's about that upcoming party, the catch up with friends and all the excitement that comes with it. We put our customers at the heart of everything we do. This helps us to understand how they feel when searching for products and ultimately, making sure they feel great when wearing them. "),s.qZA(),s.TgZ(4,"p",3),s._uU(5," By reacting quickly to the latest trends and interpreting them in a way that's wearable for our customers, we can help them find a look that fits their personal style. So whether they're looking for the latest trends, or simply that perfect party dress, we've got it covered. "),s.qZA(),s.TgZ(6,"p",4),s._uU(7," We're passionate about what we do and most importantly, we have fun doing it. Sharing this positivity with our customers is important to us. By weaving our brand through everything we do, from our people and store environments, to marketing and social media, we make sure our customers not only look good but feel great too. "),s.qZA()()())},styles:[".about-div2[_ngcontent-%COMP%]{height:auto;max-width:100%;padding:4rem 3rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(3,1fr);gap:4rem;max-width:60rem}p[_ngcontent-%COMP%]{cursor:default;margin:0;font-size:1.2rem;font-weight:200;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:3rem;transition:.5s ease-in-out}p[_ngcontent-%COMP%]:hover{scale:1.05,}.text1[_ngcontent-%COMP%]{grid-row:1 / 2;grid-column:1 / 4;background-color:#f5a7a7;box-shadow:#5f3232 12px 12px 0 2px}.text1[_ngcontent-%COMP%]:hover{box-shadow:#5f3232b7 18px 18px 5px 2px}.text2[_ngcontent-%COMP%]{grid-row:2 / 3;grid-column:2 / 5;background-color:#fad7b0;box-shadow:#684c2b 12px 12px 0 2px}.text2[_ngcontent-%COMP%]:hover{box-shadow:#684c2bb7 18px 18px 5px 2px}.text3[_ngcontent-%COMP%]{grid-row:3 / 4;grid-column:1 / 4;background-color:#b0d3fa;box-shadow:#2b425c 12px 12px 0 2px}.text3[_ngcontent-%COMP%]:hover{box-shadow:#2b425cb7 18px 18px 5px 2px}@media only screen and (max-width: 750px){.grid[_ngcontent-%COMP%]{display:flex;flex-direction:column}}@media only screen and (max-width: 450px){p[_ngcontent-%COMP%]{font-size:1rem}}"]}),n})(),K0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-about"]],decls:3,vars:0,consts:[[1,"about"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"app-about-div1")(2,"app-about-div2"),s.qZA())},dependencies:[bx,LS],styles:[".about[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;width:100%;cursor:default;margin-top:10px;font-family:Dosis,sans-serif}"]}),n})(),VS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-error-not-found"]],decls:6,vars:0,consts:[[1,"container"],["src","../../assets/7aqcppklh6bexoa70320.webp"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2,"404: Page Not Found"),s.qZA(),s.TgZ(3,"p"),s._uU(4,"The page you are looking for cannot be found or you do not have access to this page."),s.qZA(),s._UZ(5,"img",1),s.qZA())},styles:[".container[_ngcontent-%COMP%]{text-align:center;margin:30px 0;padding:50px;font-family:Dosis,sans-serif}"]}),n})();const BS=function(){return["/Account/Orders"]};let US=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-error-page"]],decls:12,vars:2,consts:[[1,"error-page"],["src","https://cdn.lordicon.com/tdrtiskw.json","trigger","hover",2,"width","250px","height","250px"],[3,"routerLink"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"lord-icon",1),s.TgZ(2,"h2"),s._uU(3,"Something went wrong..."),s.qZA(),s.TgZ(4,"p"),s._uU(5,"Actually, it's all on purpose."),s.qZA(),s.TgZ(6,"p"),s._uU(7,"There's just no checkout on this fake store ;)"),s.qZA(),s.TgZ(8,"p"),s._uU(9,"You can find your ordered products at Account Page"),s.qZA(),s.TgZ(10,"a",2),s._uU(11,"Orders"),s.qZA()()),2&t&&(s.xp6(10),s.Q6J("routerLink",s.DdM(1,BS)))},dependencies:[uo],styles:[".error-page[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;box-sizing:border-box;padding:2rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:2rem;margin:0}p[_ngcontent-%COMP%]{font-size:1rem;margin:0;color:gray}p[_ngcontent-%COMP%]:nth-of-type(1){margin-top:1rem}p[_ngcontent-%COMP%]:nth-of-type(2n){margin-bottom:1rem}a[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.5rem;text-decoration:none;color:#fff;background:#ff613a;width:12rem;padding:.5rem 1rem;text-align:center;transition:.4s;border-radius:6px}a[_ngcontent-%COMP%]:hover{background:#ff896cf4}"]}),n})();const HS=function(){return["/Shop"]};let Cx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-div1"]],decls:10,vars:2,consts:[[1,"section1"],[1,"sub-section"],[3,"routerLink"],[1,"shop-button"],["src","../../assets/home-div1.jpg","alt","home-div1-image"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1"),s._uU(3," Fashion came straight to your doorstep "),s.qZA(),s.TgZ(4,"h3"),s._uU(5," Make yourself a fashionGuru without leaving your home "),s.qZA(),s.TgZ(6,"a",2)(7,"div",3),s._uU(8," Shop Now "),s.qZA()()(),s._UZ(9,"img",4),s.qZA()),2&t&&(s.xp6(6),s.Q6J("routerLink",s.DdM(1,HS)))},dependencies:[uo],styles:['.section1[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;box-sizing:border-box;position:relative;height:45rem;max-width:100%;padding:0 5rem;display:flex;flex-direction:column;align-items:flex-end;justify-content:center;color:#fff;transition:1s;overflow:hidden}.section1[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;height:100%;width:100%;background:#0000006c}img[_ngcontent-%COMP%]{position:absolute;object-fit:cover;top:0;left:0;height:100%;width:100%;transform:scale(1.05);transition:transform 1s}.section1[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(1)}.sub-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;z-index:2;max-width:35rem}a[_ngcontent-%COMP%]{font-weight:400;margin:0;text-decoration:none}h1[_ngcontent-%COMP%]{font-weight:400;margin:0;font-size:3.5rem;text-shadow:black 0 0 15px}h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:300;text-shadow:black 0 0 15px}.shop-button[_ngcontent-%COMP%]{font-weight:400;margin:0;margin-top:1rem;font-size:1.5rem;text-decoration:none;background:white;color:#000;box-shadow:#ff613a 3px 3px 0 1px;width:12rem;padding:.5rem 1rem;text-align:center;transition:.4s}.shop-button[_ngcontent-%COMP%]:hover{background-color:#ffebcd}@media only screen and (max-width: 850px){.section1[_ngcontent-%COMP%]{align-items:center}}']}),n})(),jS=(()=>{class n{constructor(){this.details=[{id:1,description:"A CASUAL TEE FOR EVERYDAY COMFORT.\n            For days on the move or nights on the town, \n            this t-shirt lets everyone know whose team you play for. \n            It's made of soft cotton jersey for all-day comfort. \n            A bold contrast adidas Badge of Sport stands out on the chest.",details:"Regular fit strikes a comfortable balance between loose and snug.\n            Ribbed crewneck.\n            Short sleeves.\n            100% cotton single jersey.\n            Soft feel",care:"Do not bleach.\n            Tumble dry low heat.\n            Do not dry clean.\n            Touch up with warm iron.\n            Machine wash cold"},{id:2,description:"Freshen up your basics with this t-shirt. \n            Show your love for all things sport with a big adidas Badge of Sport \n            that's front and center. Good thing it's designed for everyday wear, \n            because if you're anything like us, you're going to want to reach for it all the time.",details:"Regular fit. \n            Crewneck.\n            100% cotton single jersey. \n            Short sleeves",care:"Do not bleach.\n            Do not tumble dry. \n            Do not dry clean. \n            Touch up with cool iron. \n            Machine wash warm"},{id:3,description:"Put your brand pride on full display. A simple yet versatile look, \n            this long sleeve t-shirt keeps you comfortable while on the move or lounging at home. \n            A contrast adidas Badge of Sport stands out on the chest.",details:"Regular fit strikes a comfortable balance between loose and snug. \n            Ribbed crewneck. \n            Long sleeves with ribbed cuffs. \n            100% cotton single jersey. \n            Soft feel",care:"Do not bleach. \n            Tumble dry low heat. \n            Do not dry clean. \n            Touch up with cool iron. \n            Machine wash cold"},{id:4,description:"The Nike Air T-Shirt is made with our everyday cotton and classic fit \n            for a smooth, familiar feel. The printed graphic combines the Air Futura logo with a \n            top-down landscape view like the one you'd see from an airplane.",details:"The classic fit tee silhouette is relaxed through the body and hips. \n            Everyday cotton fabric feels soft and lightweight. \n            Standard fit for a relaxed, easy feel. \n            100% cotton",care:"Machine wash"},{id:5,description:"This 100% cotton tee is cool and comfy, on and off the court. \n            An easy fit and Jordan graphics on both sides will have you reaching for it on the daily",details:"Jordan Standard fit. \n            Graphics on front and back. \n            100% cotton",care:"Machine wash cold"},{id:6,description:"When it comes to your morning routine, it's hard to top a cool morning run \n            after a warm cup of coffee. Followed by another coffee. This long-sleeve tee celebrates \n            the iconic dawn-time pairing with soft cotton in a relaxed fit for easy comfort, \n            so you can enjoy it wherever the rest of your day takes you.",details:"Ribbed cuffs and collar. \n            100% cotton",care:"Machine wash"},{id:7,description:"Pair this crewneck sweatshirt with anything in your closet for a timeless \n            look that'll never go out of style. The bold adidas Badge of Sport puts your love for \n            adidas heritage at center stage. The cozy fleece keeps you warm whether you're chilling \n            on the couch or hanging out between pickup games.",details:"Regular fit. \n            Crewneck. \n            53% cotton, 36% recycled polyester, 11% viscose fleece. \n            Ribbed cuffs and hem",care:"Do not bleach. \n            Do not tumble dry. \n            Do not dry clean. \n            Touch up with cool iron. \n            Machine wash warm"},{id:8,description:"The outdoors are never far when you have this adidas hoodie on. \n            That is, the camo print on the adidas Badge of Sport keeps the nature vibes close, \n            even if you're tucked inside for some necessary reset time. Though when you're feeling \n            inspired, the soft cozy fleece material keeps you incredibly comfortable when you choose \n            to venture out the door. Plus the loose fit makes it super easy to layer.",details:"Loose fit. \n            Drawcord-adjustable hood. \n            70% cotton, 30% recycled polyester fleece. \n            Kangaroo pocket. \n            Ribbed cuffs and hem",care:"Do not bleach. \n            Do not tumble dry. \n            Do not dry clean. \n            Touch up with warm iron. \n            Machine wash warm"},{id:9,description:"Extend your range on the course in this adidas golf fleece pullover. \n            When the day starts off cold or the afternoon clouds move in, it offers easy-moving \n            warmth that lets you focus on your swing. It's coated with a durable water-repellent \n            finish to keep you dry through misty mornings and an occasional light shower. \n            The relaxed feel plays well off the course too.",details:"Regular fit.\n            Quarter zip with stand-up collar. \n            Upper body: 100% recycled polyester doubleknit. \n            Lower body: 100% recycled polyester fleece. \n            Banded hem",care:"Do not bleach. \n            Tumble dry low heat. \n            Do not dry clean. \n            Do not iron. \n            Machine wash cold"},{id:10,description:"A closet staple, the Nike Sportswear Club Fleece Crew combines a bold \n            Futura logo on the chest with the soft comfort of fleece for an elevated, everyday look.",details:"Fleece fabric is soft and smooth against the skin. \n            Ribbing at the hem, cuffs and collar keep your fit comfy and secure. \n            Standard fit for a relaxed, easy feel. \n            80% cotton/20% polyester",care:"Machine wash"},{id:11,description:"The Nike Dri-FIT Hoodie is made of soft French terry fabric with \n            sweat-wicking power to help keep you warm and dry when you're warming up, \n            cooling down or catching your breath between sets. This product is made with 100% \n            sustainable materials, using a blend of both recycled polyester and organic cotton fibers. \n            The blend is at least 10% recycled fibers or at least 10% organic cotton fibers.",details:"Dri-FIT technology helps you stay dry and comfortable. \n            French terry fabric feels soft and warm. \n            Standard fit for a relaxed, easy feel. \n            Full zip. \n            Front pockets. \n            61% cotton/39% polyester",care:"Machine wash"},{id:12,description:"This track-inspired Solo Swoosh jacket is built on clean lines with \n            soft blended fabric in a roomy fit you can layer up or down. The 1/4-zip design \n            lets you change up your style and coverage while soft ribbing in the hem and cuffs \n            help lock in your body heat. The smooth, brushed French terry fabric feels soft and \n            warm against your skin for comfort you can take anywhere.",details:"\n            The 1/4-zip closure and stand collar lets you layer it over a tee for casual comfort,\n            or pop it on over an oxford shirt for a more dressed up finish. \n            Loose fit for a roomy feel. \n            Embroidered Swoosh design on left chest. \n            Body: 84-85% cotton/15-16% polyester. \n            Rib: 98% cotton/2% spandex. \n            Material percentages may vary, check label for actual content",care:"Machine wash"},{id:13,description:"From a morning gym session to a day of errands to an evening with friends, \n            keep your feet comfortable and your style on point in these adidas shoes. \n            Pair them with your favorite running shorts for the ultimate athletic-casual vibe. \n            A mesh upper helps you stay cool, while superlight cushioning cradles every step you take. \n            Made with a series of recycled materials, this upper features at least 50% recycled content. \n            This product represents just one of our solutions to help end plastic waste.",details:"Regular fit. \n            Lace closure. \n            Sandwich mesh upper. \n            Supportive no-sew overlays. \n            Soft heel. \n            LIGHTMOTION cushioning",care:""},{id:14,description:"It doesn't really matter whether or not a run is in the cards for the day. \n            An ultra-breathable feel and cushy midsole that energizes give these adidas shoes an edge. \n            Hit the pavement or hit the town. You've got the kicks for whatever unfolds.",details:"Lace closure. \n            Knit textile upper. \n            Breathable feel. \n            Textile lining. \n            Bounce midsole",care:""},{id:15,description:"When you're getting close to race day, you need pace and pop. \n            These adidas running shoes are designed for that fast performance. They combine \n            Bounce technology at the heel and Bounce+ underfoot for all-around cushioning to \n            make your run feel springy. The specially made plastic heel clip provides added stability. \n            Now all you need to do is tighten up your laces and start the clock. Made with a series of \n            recycled materials, this upper features at least 50% recycled content. \n            This product represents just one of our solutions to help end plastic waste.",details:"Regular fit. \n            Lace closure. \n            Breathable mesh upper. \n            Geofit padded collar. \n            Bounce midsole. \n            Adibouncy EVA sockliner",care:""},{id:16,description:"Every day is an opportunity to improve: your expectations, your outlook, \n            your run. The Ultra 4D is coded to help get you there, starting with a 3D-printed 4D \n            midsole designed to stabilize your ride. Long-lasting cushioning helps you go the distance, \n            and adidas PRIMEKNIT wraps your foot for support through every stride.",details:"Lace closure. \n            adidas PRIMEKNIT upper. \n            3D-printed 4D midsole. \n            Textile lining. \n            Continental\u2122 Rubber outsole",care:""},{id:17,description:"The Jordan offers a fresh, fearless take on the features you want: durability, \n            comfort, and an attitude that's Jordan to the core. We updated design lines and upgraded \n            some components, while keeping the fundamentals you love from the first Delta in place. \n            Enjoy the same combination of supportive, innovative materials, with new textures and \n            heavy stitching to create a look that's both adventurous and iconic.",details:"React foam is ultra-soft, resilient, and transitions smoothly from heel to toe. \n            Multilayered, mixed material fabric looks both high-tech and handcrafted. \n            Rubber outsole pods provide traction where your foot hits the ground. \n            Molded rubber mudguard along the outer midfoot provides side-to-side stability. \n            Woven tongue label with micro graphics. \n            Heel pull loop",care:""},{id:18,description:"A Zoom Air unit in the forefoot offers responsive cushioning. \n            Every step helps create energy return to help drive you forward. \n            It combines with a foam midsole for a firm, yet smooth and stable feeling as \n            your foot hits the ground.",details:"The durable rubber sole is built for mileage. \n            Grooves in the forefoot to create flexibility, and vertical \n            grooves down the side help create stability. \n            Mesh is engineered for durability. \n            Laces cinch down for a secure feel. \n            A softer and more durable lining around the heel and ankle helps keep \n            socks from bunching up when you run. \n            Cushy tongue provides helps pad the laces. \n            Molded heel securely hugs your foot. \n            Weight: 312g/11oz (Men's size 10). \n            Offset: 8mm (Forefoot: 19mm, Heel: 27mm)",care:""},{id:19,description:"LeBron thrives when stakes are high and the pressure's on. \n            The LeBron 19 harnesses that energy with a locked-in fit and an updated cushioning system. \n            The snug inner sleeve is pulled together by a sculpted overlay that the laces feed \n            through to help prevent the foot from moving inside the shoe. \n            Embedded pods in the tongue and around the collar help reduce weight, \n            keep the ankle aligned, and give players the secure feel and confidence to \n            go all out when the game is on the line.",details:"The retooled cushioning system combines visible Max Air with a thick,\n            responsive Zoom Air unit under the forefoot. \n            The Max Air helps to dissipate impact forces, \n            while the Zoom Air helps drive you down the court. \n            The bottom of the shoe is designed to \n            look like valves and tubes that form its inner workings. \n            A full inner fit sleeve conforms to the foot for a snug, secure feel. \n            The thin, transparent exterior layer is highly durable and lightweight \n            to keep you contained and help reduce in-shoe movement.\n            Cushlon foam midsole is soft, stable and responsive.\n            Flywire cables rise up from the midsole to help harness your foot when you lace up.\n            LeBron's logo is visible through the bottom of the shoe",care:""},{id:20,description:"Nike ZoomX foam is responsive and lightweight, giving you bounce with every step. \n            Shaped like a rocker, the foam provides support for the 3 phases of a runner's stride. \n            It offers flexibility when your foot rises off the ground, a smooth ride when your foot is \n            moving forward and cushioning at ground contact.",details:"Flyknit technology uses high-strength fibers to create a lightweight upper with \n            targeted areas of support, stretch and breathability. \n            It provides security and comfort.\n            Waffle-inspired tread on the outsole provides traction",care:""},{id:21,description:"Fresh colors and graphics nod to the days of the Nike Athletic Department and \n            Nike International. It's a meeting of eras, showing where we've been while keeping an eye \n            towards tomorrow. We added Flyknit throughout the upper, creating specific zones of \n            breathability, flexibility and containment. The result is a cool feel that helps your \n            foot feel secure, while letting it move with reduced restrictions. It still has \n            Flywire technology for support through the midfoot.",details:"High-rise cushioning comes with less material between it and your foot, \n            so you're closer to the foam for a truly responsive experience.\n            Hybrid tongue combines a socklike feel with the adjustability of a traditional design.\n            Soft padding along the collar provides a cushioned touch point.\n            Increased rubber at the outsole helps deliver traction and durability",care:""},{id:22,description:"EVERYDAY TEE WITH AN ULTRA-SPORTY LOOK.\n            The classic design on this t-shirt makes it super easy to mix and match. \n            Go sporty with a pair of track pants, or throw it on with jeans for a day out shopping. \n            An oversized adidas Badge of Sport across the chest makes it clear you're a sports lover.",details:"Regular fit.\n            Crewneck.\n            100% cotton single jersey.\n            Short sleeves",care:"Do not bleach.\n            Do not tumble dry.\n            Do not dry clean.\n            Touch up with warm iron.\n            Machine wash warm"},{id:23,description:"Flowers urge us to stop and pause. This soft t-shirt is ideal for slowing down. \n            The floral details at the adidas Badge of Sport add a feminine feel to the athletic, \n            crewneck shape. So whether your idea of me-time is a hike in the woods or a cup of tea \n            in the garden, this tee is the natural choice. \n            Our cotton products support more sustainable cotton farming.",details:"Regular fit.\n            Crewneck.\n            100% cotton single jersey.\n            Soft feel",care:"Do not bleach.\n            Tumble dry low heat.\n            Do not dry clean.\n            Touch up with warm iron.\n            Machine wash warm"},{id:24,description:"Beat your personal best. Up the weight on your leg presses. \n            You've got a lot of goals. But when rest day comfort is your goal, \n            reach for this sporty adidas long sleeve t-shirt. Throw it on to go out with \n            friends or catch up on your favorite shows. No matter how you choose to rest \n            up and rejuvenate, the soft single jersey fabric will keep things cozy.\n            Our cotton products support more sustainable cotton farming.",details:"Regular fit.\n            Ribbed crewneck.\n            100% cotton single jersey.\n            Supports the Better Cotton Initiative",care:"Do not bleach.\n            Tumble dry low heat.\n            Do not dry clean.\n            Touch up with cool iron.\n            Machine wash warm"},{id:25,description:"The Nike Sportswear Essential T-Shirt sets you up with soft cotton jersey and a cropped hem.",details:"Cotton fabric is soft and comfortable.\n            Cropped hem hits above the hips.\n            Loose fit for a roomy feel.\n            Fabric: 100% cotton",care:"Machine wash"},{id:26,description:'"Just Do It." is knit into the interior hem to deliver an inspirational \n            message\u2014just for you. Soft, smooth fabric with 4-way stretch helps you move without \n            restrictions. It\'s designed to hit low on your hips for more coverage while you bend \n            and stretch.',details:"Slim fit for a tailored feel.\n            Reflective details.\n            Not intended for use as Personal Protective Equipment (PPE).\n            85% nylon/11% polyester/4% spandex",care:"Machine wash"},{id:27,description:"Perfect as a base layer or worn on its own, the Nike Sportswear \n            Long-Sleeve T-Shirt sets you up with soft cotton jersey and a Nike logo printed on the chest.",details:"100% cotton",care:"Machine wash"},{id:28,description:"Don't underestimate the power of a good sweatshirt. This one gives you plenty \n            of styling options, wraps you in comfort, and reflects your inner confidence with an \n            adidas Badge of Sport logo on the front. Pull it on. Feel good.\n            Our cotton products support more sustainable cotton farming.",details:"Loose fit.\n            Ribbed crewneck.\n            53% cotton, 36% recycled polyester, 11% viscose French terry.\n            Ribbed cuffs and hem",care:"Do not bleach.\n            Do not tumble dry.\n            Do not dry clean.\n            Touch up with warm iron.\n            Machine wash warm"},{id:29,description:"The nice thing about a hoodie is being able to mix and match it with everything. \n            This one from adidas is cut from a soft fleece fabric that's cozy enough to wear every day. \n            Pair it with jeans, or keep it mellow and match it with sweats. You can't go wrong.\n            Our cotton products support sustainable cotton farming. This is part of our ambition to end plastic waste.",details:"Regular fit.\n            Drawcord-adjustable hood.\n            53% cotton, 36% recycled polyester, 11% viscose fleece.\n            Soft feel",care:"Do not bleach.\n            Do not tumble dry.\n            Do not dry clean.\n            Touch up with cool iron.\n            Machine wash warm"},{id:30,description:"Look good and stay warm at the same time. This Terrex half-zip sweatshirt \n            features recycled fabrics. The cropped silhouette pairs as easily with leggings as with \n            hiking pants. The non-brushed design is inspired by adidas' ambition to address the \n            microfiber shedding problem.\n            This product is made with Primegreen, a series of high-performance recycled materials.",details:"Half zip with stand-up collar.\n            100% recycled polyester doubleknit.\n            Woven overlay.\n            Front pocket with zip.\n            Cropped hem.\n            Gathered fabric at front hem",care:"Do not bleach.\n            Do not tumble dry.\n            Do not dry clean.\n            Do not iron.\n            Machine wash cold"},{id:31,description:"Club Fleece sweatshirts, universally loved for their coziness and consistency, \n            are for everyone. Always soft and made with a relaxed fit, they're basics that help you \n            do more. This cozy crew neck is a cold-weather staple, with just enough room to layer \n            comfortably without feeling too big.",details:"Brushed for added warmth and softness, it's an ideal layer for colder temperatures.\n            Ribbing at the hem and cuffs is soft and stretchy for easy layering.\n            80% cotton/20% polyester",care:"Machine wash"},{id:32,description:"Keep it classic in the Nike Sportswear Essential Hoodie. \n            Made from soft, semi-brushed fleece, this laid-back look goes well with anything.",details:"Semi-brushed fleece fabric has a soft, lightweight feel.\n            Raglan sleeves.\n            Ribbed hem and cuffs.\n            Body: 80% cotton/20% polyester. \n            Hood lining: 100% cotton",care:"Machine wash"},{id:33,description:"Made for layering, the Nike Dri-FIT UV Victory Top combines breathable, \n            stretchy fabric with a 1/2-length zipper so you can adjust your coverage on the fly.\n            Dri-FIT technology helps you stay dry and comfortable. Breathable knit fabric has \n            plenty of stretch and a unique, mesh-like texture. Zipper guard at the top of the \n            collar feels soft against your skin.",details:"Standard fit for a relaxed, easy feel.\n            1/2-length zipper.\n            100% polyester",care:"Machine wash"},{id:34,description:"Craftsmanship and comfort. These adidas sneakers are the perfect balance. \n            The intricately designed knit upper is set on a comfortable rubber outsole. \n            Bounce cushioning adds springy support at the midsole. Style your pair with \n            distressed denim or workout leggings.\n            Made with a series of recycled materials, this upper features at least 50% recycled content. \n            This product represents just one of our solutions to help end plastic waste.",details:"Regular fit.\n            Lace closure.\n            Textile upper.\n            Bounce midsole.\n            Textile lining",care:""},{id:35,description:"Put some spin on your look with these adidas Grand Court shoes. \n            An updated take on a classic tennis-inspired shape, they're made to flex with each step. \n            Cloudfoam cushioning gently holds your feet in place so you can wear them comfortably \n            right through to the evening. And even then, there's no missing the Colorful 3-Stripes.\n            Made with a series of recycled materials, this upper features at least 50% recycled content. \n            This product represents just one of our solutions to help end plastic waste.",details:"Regular fit.\n            Lace closure.\n            Synthetic leather upper.\n            Cloudfoam sockliner.\n            Textile lining",care:""},{id:36,description:"The better your shoes feel, the more enjoyable your run. \n            These adidas shoes are designed to perform in all areas. They combine Bounce \n            at the heel with Bounce+ underfoot for a comfy, springy feel. \n            A light and airy upper sits on a sturdy grippy rubber outsole. \n            And while the molded heel fits snugly, the soft sockliner cushions your foot \n            stride after stride.\n            Made with a series of recycled materials, this upper features at least 50% recycled content. \n            This product represents just one of our solutions to help end plastic waste.",details:"Regular fit.\n            Lace closure.\n            Breathable mesh upper.\n            Textile lining.\n            Bounce midsole.\n            Adibouncy EVA sockliner",care:""},{id:37,description:"Experience a smooth run with the Ultra 4DFWD running shoes. \n            They combine the upper of our iconic Ultraboost with a 3D-printed adidas 4DFWD \n            midsole that's innovated to compress forward, reducing braking forces and transforming \n            the impact energy into forward motion. The result provides a smooth transition and \n            unique gliding experience. An adidas PRIMEKNIT upper hugs the foot with targeted areas \n            of support, while the Continental\u2122 Rubber outsole provides extra grip in all weather \n            conditions.\n            This shoe's upper is made with a high-performance yarn which contains at least 50% \n            Parley Ocean Plastic \u2014 reimagined plastic waste, intercepted on remote islands, \n            beaches, coastal communities and shorelines, preventing it from polluting our ocean. \n            The other 50% of the yarn is recycled polyester.",details:"Lace closure.\n            adidas PRIMEKNIT textile upper.\n            adidas 4D midsole.\n            Textile lining.\n            Weight: 13,5 ounces (size 9).\n            Midsole drop: 12 mm (heel: 24 mm / forefoot: 12 mm)",care:""},{id:38,description:"Once you take a few strides in the Nike Air Zoom Alphafly NEXT% 2, you'll \n            never look at your favorite pair of old racing shoes the same way again. \n            These rocket ships are made to help shave precious time off your personal \n            records without surrendering the foundation you need to go the full distance. \n            This electric design is inspired by the soul and rebellious spirit of Eugene, \n            Oregon\u2014Tracktown USA\u2014where contenders from all over the world test themselves \n            against the globe's greatest athletes.",details:"Part of the Flyknit family\u2014Atomknit material on the upper has a contoured fit while being lightweight and super-breathable.\n            Specifically designed lofted heel pods use Flyknit yarns for secure, extended comfort and lightweight heel lockdown.\n            The sole was designed using data from hundreds of runners. \n            It has different angles of traction placed where you need it, providing grip from foot-strike to toe-off.\n            Notched laces offer a secure, but soft lace-up.\n            An interrated knit tongue with lofted padding make for a secure, repeatable fit that helps reduce lace pressure",care:""},{id:39,description:"The sock-like fit and lightweight feel of this Nike Free was made to \n            transition from running to training to your everyday routine. Made with at least \n            20% recycled content by weight, it combines the flexibility you love with a \n            contained design that will help keep you close to the ground for that barefoot feeling",details:"The upper uses a breathable knit material throughout for a soft, stretchy feel. \n            It gives your foot room to stretch as you run.\n            Flywire technology loops through the laces on the side for midfoot containment.\n            The same cushioned heel you know and love from previous iterations of the Free provides comfortable support.\n            A pull-tab at the heel provides easy on and off",care:""},{id:40,description:"The Nike Juniper trail delivers a consistent ride for your your off-road runs.\n            It's built for rocky trails,helping stay focused on the path ahead.Tough traxion \n            mixed with a lightweight design for tacking the rugged terrains.",details:"Cushioning/Neutral.\n            Solid Rubber.\n            Internal Heel Counter.\n            EVA Insole",care:""},{id:41,description:"The Nike Pegasus Trail 4 GORE-TEX is made for those moments when you \n            don't want to turn back, no matter what. Feel confident even in the most unforeseen \n            weather conditions with waterproof GORE-TEX keeping you dry, so you can run harder \n            for longer and take your wet run from the road to the trail without breaking stride",details:'Less rubber along the outsole creates a smoother transition from road to trail. \n            The rubber wraps around the front of the shoe for extra durability.\n            The inspirational message by the heel will vary between "JUST DO IT" and "JUST RUN IT" depending on the shoe.\n            Pull loops at heel and tongue',care:""},{id:42,description:"Nike React Infinity Run Flyknit 3 offers you cushy responsiveness and \n            breathable support to help reduce injury and keep you running\n            An advanced Flyknit upper provides breathability where you need it most",details:"Nike React technology is a lightweight, durable foam that delivers a smooth, responsive ride.\n            Increased rubber at the outsole helps deliver traction and durability.\n            Cushioned collar provides soft comfort.\n            Wide shape provides a more stable ride, helping release energy with every step",care:""}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),gc=(()=>{class n{constructor(t){this.service=t,this.products2=[{id:1,name:"Adidas Grey T-shirt",description:this.service.details[0].description,details:this.service.details[0].details,care:this.service.details[0].care,price:12.5,gender:"Men",category:"T-shirts",image1:"assets/products/men/tshirts/adidas_grey_1.png",image2:"assets/products/men/tshirts/adidas_grey_2.png",src:"",fav:!1,stockA:{S:0,M:3,L:1,XL:2},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:2,name:"Adidas Red T-shirt",description:this.service.details[1].description,details:this.service.details[1].details,care:this.service.details[1].care,price:12,gender:"Men",category:"T-shirts",image1:"assets/products/men/tshirts/adidas_red_1.png",image2:"assets/products/men/tshirts/adidas_red_2.png",src:"",fav:!1,stockA:{S:1,M:0,L:1,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:3,name:"Adidas Long Sleeve T-shirt",description:this.service.details[2].description,details:this.service.details[2].details,care:this.service.details[2].care,price:14.9,gender:"Men",category:"T-shirts",image1:"assets/products/men/tshirts/adidas_long_sleeve_1.png",image2:"assets/products/men/tshirts/adidas_long_sleeve_2.png",src:"",fav:!1,stockA:{S:0,M:2,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:4,name:"Nike Air Black T-shirt",description:this.service.details[3].description,details:this.service.details[3].details,care:this.service.details[3].care,price:13.9,gender:"Men",category:"T-shirts",image1:"assets/products/men/tshirts/nike_air_black_1.png",image2:"assets/products/men/tshirts/nike_air_black_2.png",src:"",fav:!1,stockA:{S:1,M:2,L:2,XL:1},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:5,name:"Nike Air Jordan Grey T-shirt",description:this.service.details[4].description,details:this.service.details[4].details,care:this.service.details[4].care,price:15.5,gender:"Men",category:"T-shirts",image1:"assets/products/men/tshirts/air_jordan_grey_1.png",image2:"assets/products/men/tshirts/air_jordan_grey_2.png",src:"",fav:!1,stockA:{S:1,M:2,L:0,XL:2},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:6,name:"Nike Long Sleeve T-shirt",description:this.service.details[5].description,details:this.service.details[5].details,care:this.service.details[5].care,price:17,gender:"Men",category:"T-shirts",image1:"assets/products/men/tshirts/nike_long_sleeve_1.png",image2:"assets/products/men/tshirts/nike_long_sleeve_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:7,name:"Adidas Essential Big Logo Sweatshirt",description:this.service.details[6].description,details:this.service.details[6].details,care:this.service.details[6].care,price:52.5,gender:"Men",category:"Sweaters",image1:"assets/products/men/sweaters/adidas_ess_big_logo_1.png",image2:"assets/products/men/sweaters/adidas_ess_big_logo_2.png",src:"",fav:!1,stockA:{S:1,M:2,L:2,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:8,name:"Adidas Essential Hoodie",description:this.service.details[7].description,details:this.service.details[7].details,care:this.service.details[7].care,price:61,gender:"Men",category:"Sweaters",image1:"assets/products/men/sweaters/adidas_essential_hoodie_1.png",image2:"assets/products/men/sweaters/adidas_essential_hoodie_2.png",src:"",fav:!1,stockA:{S:2,M:2,L:1,XL:1},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:9,name:"Adidas Zipped Sweater",description:this.service.details[8].description,details:this.service.details[8].details,care:this.service.details[8].care,price:54.9,gender:"Men",category:"Sweaters",image1:"assets/products/men/sweaters/adidas_zipped_1.png",image2:"assets/products/men/sweaters/adidas_zipped_2.png",src:"",fav:!1,stockA:{S:1,M:2,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:10,name:"Nike Air Big Logo Sweatshirt",description:this.service.details[9].description,details:this.service.details[9].details,care:this.service.details[9].care,price:53.9,gender:"Men",category:"Sweaters",image1:"assets/products/men/sweaters/nike_air_big_logo_2.png",image2:"assets/products/men/sweaters/nike_air_big_logo_1.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:11,name:"Nike Air Jordan Hoodie",description:this.service.details[10].description,details:this.service.details[10].details,care:this.service.details[10].care,price:65.5,gender:"Men",category:"Sweaters",image1:"assets/products/men/sweaters/nike_air_jordan_2.png",image2:"assets/products/men/sweaters/nike_air_jordan_1.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:2},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:12,name:"Nike Zipped Sweater",description:this.service.details[11].description,details:this.service.details[11].details,care:this.service.details[11].care,price:57,gender:"Men",category:"Sweaters",image1:"assets/products/men/sweaters/nike_zipped_2.png",image2:"assets/products/men/sweaters/nike_zipped_1.png",src:"",fav:!1,stockA:{S:0,M:2,L:2,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:13,name:"Adidas Duramo Running Shoes",description:this.service.details[12].description,details:this.service.details[12].details,care:this.service.details[12].care,price:46.5,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/adidas_duramo_1.png",image2:"assets/products/men/sneakers/adidas_duramo_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:2,num3:0,num4:1,num5:0,num6:2,num7:0,num8:1,num9:0,num10:2}},{id:14,name:"Adidas FluidFlow Running Shoes",description:this.service.details[13].description,details:this.service.details[13].details,care:this.service.details[13].care,price:39,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/adidas_fluidflow_1.png",image2:"assets/products/men/sneakers/adidas_fluidflow_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:1,num2:2,num3:1,num4:1,num5:0,num6:2,num7:0,num8:1,num9:0,num10:0}},{id:15,name:"Adidas Response Running Shoes",description:this.service.details[14].description,details:this.service.details[14].details,care:this.service.details[14].care,price:41.9,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/adidas_response_1.png",image2:"assets/products/men/sneakers/adidas_response_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:1,num2:2,num3:1,num4:1,num5:1,num6:2,num7:1,num8:1,num9:1,num10:2}},{id:16,name:"Adidas Ultra 4D Running Shoes",description:this.service.details[15].description,details:this.service.details[15].details,care:this.service.details[15].care,price:33.5,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/adidas_ultra_4d_1.png",image2:"assets/products/men/sneakers/adidas_ultra_4d_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:2,num7:0,num8:1,num9:0,num10:2}},{id:17,name:"Nike Air Jordan Basketball Shoes",description:this.service.details[16].description,details:this.service.details[16].details,care:this.service.details[16].care,price:65.7,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/nike_air_jordan_1.png",image2:"assets/products/men/sneakers/nike_air_jordan_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:18,name:"Nike Air Zoom Running Shoes",description:this.service.details[17].description,details:this.service.details[17].details,care:this.service.details[17].care,price:47,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/nike_air_zoom_1.png",image2:"assets/products/men/sneakers/nike_air_zoom_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:1,num2:2,num3:0,num4:1,num5:1,num6:2,num7:0,num8:0,num9:0,num10:0}},{id:19,name:"Nike Lebron James Basketball Shoes",description:this.service.details[18].description,details:this.service.details[18].details,care:this.service.details[18].care,price:63.5,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/nike_lebron_1.png",image2:"assets/products/men/sneakers/nike_lebron_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:1,num4:1,num5:2,num6:2,num7:0,num8:1,num9:0,num10:2}},{id:20,name:"Nike Pegasus Running Shoes",description:this.service.details[19].description,details:this.service.details[19].details,care:this.service.details[19].care,price:42.3,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/nike_pegasus_1.png",image2:"assets/products/men/sneakers/nike_pegasus_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:2,num3:1,num4:1,num5:1,num6:2,num7:0,num8:0,num9:0,num10:1}},{id:21,name:"Nike React Running Shoes",description:this.service.details[20].description,details:this.service.details[20].details,care:this.service.details[20].care,price:41,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/nike_react_1.png",image2:"assets/products/men/sneakers/nike_react_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:1,num2:2,num3:1,num4:1,num5:0,num6:2,num7:1,num8:1,num9:1,num10:2}},{id:22,name:"Adidas Big Logo Black T-shirt",description:this.service.details[21].description,details:this.service.details[21].details,care:this.service.details[21].care,price:17.6,gender:"Women",category:"T-shirts",image1:"assets/products/women/tshirts/adidas_big_logo_tshirt_1.png",image2:"assets/products/women/tshirts/adidas_big_logo_tshirt_2.png",src:"",fav:!1,stockA:{S:1,M:1,L:2,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:23,name:"Adidas Floral T-shirt",description:this.service.details[22].description,details:this.service.details[22].details,care:this.service.details[22].care,price:16.2,gender:"Women",category:"T-shirts",image1:"assets/products/women/tshirts/adidas_floral_1.png",image2:"assets/products/women/tshirts/adidas_floral_2.png",src:"",fav:!1,stockA:{S:1,M:2,L:2,XL:1},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:24,name:"Adidas Long Sleeve T-shirt",description:this.service.details[23].description,details:this.service.details[23].details,care:this.service.details[23].care,price:20.9,gender:"Women",category:"T-shirts",image1:"assets/products/women/tshirts/adidas_long_sleeve_1.png",image2:"assets/products/women/tshirts/adidas_long_sleeve_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:2,XL:1},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:25,name:"Nike Short White T-shirt",description:this.service.details[24].description,details:this.service.details[24].details,care:this.service.details[24].care,price:15.2,gender:"Women",category:"T-shirts",image1:"assets/products/women/tshirts/nike_white_tshirt_1.png",image2:"assets/products/women/tshirts/nike_white_tshirt_2.png",src:"",fav:!1,stockA:{S:1,M:1,L:2,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:26,name:"Nike Running ClimaCool T-shirt",description:this.service.details[25].description,details:this.service.details[25].details,care:this.service.details[25].care,price:19.5,gender:"Women",category:"T-shirts",image1:"assets/products/women/tshirts/nike_running_black_1.png",image2:"assets/products/women/tshirts/nike_running_black_2.png",src:"",fav:!1,stockA:{S:0,M:1,L:1,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:27,name:"Nike Long Sleeve T-shirt",description:this.service.details[26].description,details:this.service.details[26].details,care:this.service.details[26].care,price:21.5,gender:"Women",category:"T-shirts",image1:"assets/products/women/tshirts/nike_long_sleeve_tshirt_1.png",image2:"assets/products/women/tshirts/nike_long_sleeve_tshirt_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:28,name:"Adidas Essential Big Logo Sweatshirt",description:this.service.details[27].description,details:this.service.details[27].details,care:this.service.details[27].care,price:49.3,gender:"Women",category:"Sweaters",image1:"assets/products/women/sweaters/adidas_black_sweatshirt_1.png",image2:"assets/products/women/sweaters/adidas_black_sweatshirt_2.png",src:"",fav:!1,stockA:{S:1,M:2,L:2,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:29,name:"Adidas Essential Hoodie",description:this.service.details[28].description,details:this.service.details[28].details,care:this.service.details[28].care,price:64.2,gender:"Women",category:"Sweaters",image1:"assets/products/women/sweaters/adidas_hoodie_1.png",image2:"assets/products/women/sweaters/adidas_hoodie_2.png",src:"",fav:!1,stockA:{S:0,M:1,L:2,XL:1},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:30,name:"Adidas Zipped Sweater",description:this.service.details[29].description,details:this.service.details[29].details,care:this.service.details[29].care,price:56.5,gender:"Women",category:"Sweaters",image1:"assets/products/women/sweaters/adidas_zipped_1.png",image2:"assets/products/women/sweaters/adidas_zipped_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:1,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:31,name:"Nike Essential Big Logo Sweatshirt",description:this.service.details[30].description,details:this.service.details[30].details,care:this.service.details[30].care,price:54.2,gender:"Women",category:"Sweaters",image1:"assets/products/women/sweaters/nike_big_logo_sweatshirt_1.png",image2:"assets/products/women/sweaters/nike_big_logo_sweatshirt_2.png",src:"",fav:!1,stockA:{S:0,M:1,L:1,XL:1},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:32,name:"Nike Air Big Logo Hoodie",description:this.service.details[31].description,details:this.service.details[31].details,care:this.service.details[31].care,price:59.7,gender:"Women",category:"Sweaters",image1:"assets/products/women/sweaters/nike_air_hoodie_1.png",image2:"assets/products/women/sweaters/nike_air_hoodie_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:33,name:"Nike Zipped Sweater",description:this.service.details[32].description,details:this.service.details[32].details,care:this.service.details[32].care,price:56,gender:"Women",category:"Sweaters",image1:"assets/products/women/sweaters/nike_zipped_1.png",image2:"assets/products/women/sweaters/nike_zipped_2.png",src:"",fav:!1,stockA:{S:1,M:1,L:1,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:34,name:"Adidas FluidFlow Running Shoes",description:this.service.details[33].description,details:this.service.details[33].details,care:this.service.details[33].care,price:40.5,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/adidas_fluidflow_1.png",image2:"assets/products/women/sneakers/adidas_fluidflow_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:1,num4:1,num5:0,num6:1,num7:2,num8:1,num9:0,num10:0}},{id:35,name:"Adidas Grandcourt Base Tennis Shoes",description:this.service.details[34].description,details:this.service.details[34].details,care:this.service.details[34].care,price:47.2,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/adidas_grand_court_base_1.png",image2:"assets/products/women/sneakers/adidas_grand_court_base_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:1,num6:1,num7:1,num8:1,num9:1,num10:2}},{id:36,name:"Adidas Response Running Shoes",description:this.service.details[35].description,details:this.service.details[35].details,care:this.service.details[35].care,price:43.5,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/adidas_response_1.png",image2:"assets/products/women/sneakers/adidas_response_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:2,num6:0,num7:0,num8:1,num9:0,num10:0}},{id:37,name:"Adidas Ultra 4D Running Shoes",description:this.service.details[36].description,details:this.service.details[36].details,care:this.service.details[36].care,price:37.3,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/adidas_ultra_4D_1.png",image2:"assets/products/women/sneakers/adidas_ultra_4D_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:38,name:"Nike Air Zoom Running Shoes",description:this.service.details[37].description,details:this.service.details[37].details,care:this.service.details[37].care,price:52.7,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/nike_air_zoom_1.png",image2:"assets/products/women/sneakers/nike_air_zoom_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:1,num2:1,num3:0,num4:0,num5:0,num6:2,num7:1,num8:1,num9:1,num10:2}},{id:39,name:"Nike Free Run Running Shoes",description:this.service.details[38].description,details:this.service.details[38].details,care:this.service.details[38].care,price:43.1,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/nike_free_run_1.png",image2:"assets/products/women/sneakers/nike_free_run_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:1,num2:1,num3:1,num4:1,num5:0,num6:1,num7:0,num8:0,num9:0,num10:0}},{id:40,name:"Nike Juniper Running Shoes",description:this.service.details[39].description,details:this.service.details[39].details,care:this.service.details[39].care,price:53.5,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/nike_juniper_1.png",image2:"assets/products/women/sneakers/nike_juniper_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:1,num3:1,num4:1,num5:1,num6:1,num7:0,num8:1,num9:0,num10:2}},{id:41,name:"Nike Pegasus Running Shoes",description:this.service.details[40].description,details:this.service.details[40].details,care:this.service.details[40].care,price:47.6,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/nike_pegasus_1.png",image2:"assets/products/women/sneakers/nike_pegasus_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:1,num3:1,num4:1,num5:1,num6:1,num7:1,num8:0,num9:0,num10:0}},{id:42,name:"Nike React Running Shoes",description:this.service.details[41].description,details:this.service.details[41].details,care:this.service.details[41].care,price:45.1,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/nike_react_1.png",image2:"assets/products/women/sneakers/nike_react_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}}],this.LOCAL_STORAGE_LIST_KEY="product.list",this.products=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_LIST_KEY))||this.products2}addItemToFavs(t){let r=t.id;this.product=this.products.find(i=>i.id==r),this.product.fav=!0,this.saveInProductsServicesData()}removeItemFromFavs(t){let r=t.id;this.product=this.products.find(i=>i.id==r),this.product.fav=!1,this.saveInProductsServicesData()}removeProduct(t,r){switch(t){case"S":r.stockA.S--;break;case"M":r.stockA.M--;break;case"L":r.stockA.L--;break;case"XL":r.stockA.XL--;break;case"37":r.stockB.num1--;break;case"38":r.stockB.num2--;break;case"39":r.stockB.num3--;break;case"40":r.stockB.num4--;break;case"41":r.stockB.num5--;break;case"42":r.stockB.num6--;break;case"43":r.stockB.num7--;break;case"44":r.stockB.num8--;break;case"45":r.stockB.num9--;break;case"46":r.stockB.num10--}this.saveInProductsServicesData()}addItemQuantityToStock(t){let r=t.id;switch(this.product=this.products.find(i=>i.id==r),t.size){case"S":this.product.stockA.S+=t.quantity;break;case"M":this.product.stockA.M+=t.quantity;break;case"L":this.product.stockA.L+=t.quantity;break;case"XL":this.product.stockA.XL+=t.quantity;break;case"37":this.product.stockB.num1+=t.quantity;break;case"38":this.product.stockB.num2+=t.quantity;break;case"39":this.product.stockB.num3+=t.quantity;break;case"40":this.product.stockB.num4+=t.quantity;break;case"41":this.product.stockB.num5+=t.quantity;break;case"42":this.product.stockB.num6+=t.quantity;break;case"43":this.product.stockB.num7+=t.quantity;break;case"44":this.product.stockB.num8+=t.quantity;break;case"45":this.product.stockB.num9+=t.quantity;break;case"46":this.product.stockB.num10+=t.quantity}this.saveInProductsServicesData()}addItemSizeToStock(t){let r=t.id;switch(this.product=this.products.find(i=>i.id==r),t.size){case"S":this.product.stockA.S++;break;case"M":this.product.stockA.M++;break;case"L":this.product.stockA.L++;break;case"XL":this.product.stockA.XL++;break;case"37":this.product.stockB.num1++;break;case"38":this.product.stockB.num2++;break;case"39":this.product.stockB.num3++;break;case"40":this.product.stockB.num4++;break;case"41":this.product.stockB.num5++;break;case"42":this.product.stockB.num6++;break;case"43":this.product.stockB.num7++;break;case"44":this.product.stockB.num8++;break;case"45":this.product.stockB.num9++;break;case"46":this.product.stockB.num10++}this.saveInProductsServicesData()}removeItemSizeFromStock(t){let r=t.id;switch(this.product=this.products.find(i=>i.id==r),t.size){case"S":this.product.stockA.S--;break;case"M":this.product.stockA.M--;break;case"L":this.product.stockA.L--;break;case"XL":this.product.stockA.XL--;break;case"37":this.product.stockB.num1--;break;case"38":this.product.stockB.num2--;break;case"39":this.product.stockB.num3--;break;case"40":this.product.stockB.num4--;break;case"41":this.product.stockB.num5--;break;case"42":this.product.stockB.num6--;break;case"43":this.product.stockB.num7--;break;case"44":this.product.stockB.num8--;break;case"45":this.product.stockB.num9--;break;case"46":this.product.stockB.num10--}this.saveInProductsServicesData()}saveInProductsServicesData(){localStorage.setItem(this.LOCAL_STORAGE_LIST_KEY,JSON.stringify(this.products))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(jS))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ex=(()=>{class n{constructor(t,r){this.activatedRoute=t,this.service=r}ngOnInit(){this.products=this.service.products,this.productId=this.activatedRoute.snapshot.paramMap.get("id"),this.product=this.service.products.find(t=>t.id==this.productId)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Gr),s.Y36(gc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-div2"]],decls:24,vars:12,consts:[[1,"section2"],[1,"cards"],[1,"card"],["routerLink","/Shop/Product/3"],[3,"src","alt","mouseover","mouseout"],["routerLink","/Shop/Product/15"],["routerLink","/Shop/Product/29"],["routerLink","/Shop/Product/38"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2,"Items on Sale"),s.qZA(),s.TgZ(3,"div",1)(4,"div",2)(5,"a",3)(6,"img",4),s.NdJ("mouseover",function(){return r.products[2].src=r.products[2].image2})("mouseout",function(){return r.products[2].src=r.products[2].image1}),s.qZA()(),s.TgZ(7,"p"),s._uU(8),s.qZA()(),s.TgZ(9,"div",2)(10,"a",5)(11,"img",4),s.NdJ("mouseover",function(){return r.products[14].src=r.products[14].image2})("mouseout",function(){return r.products[14].src=r.products[14].image1}),s.qZA()(),s.TgZ(12,"p"),s._uU(13),s.qZA()(),s.TgZ(14,"div",2)(15,"a",6)(16,"img",4),s.NdJ("mouseover",function(){return r.products[28].src=r.products[28].image2})("mouseout",function(){return r.products[28].src=r.products[28].image1}),s.qZA()(),s.TgZ(17,"p"),s._uU(18),s.qZA()(),s.TgZ(19,"div",2)(20,"a",7)(21,"img",4),s.NdJ("mouseover",function(){return r.products[37].src=r.products[37].image2})("mouseout",function(){return r.products[37].src=r.products[37].image1}),s.qZA()(),s.TgZ(22,"p"),s._uU(23),s.qZA()()()()),2&t&&(s.xp6(6),s.s9C("alt",r.products[2].name),s.Q6J("src",r.products[2].src||r.products[2].image1,s.LSH),s.xp6(2),s.Oqu(r.products[2].name),s.xp6(3),s.s9C("alt",r.products[14].name),s.Q6J("src",r.products[14].src||r.products[14].image1,s.LSH),s.xp6(2),s.Oqu(r.products[14].name),s.xp6(3),s.s9C("alt",r.products[28].name),s.Q6J("src",r.products[28].src||r.products[28].image1,s.LSH),s.xp6(2),s.Oqu(r.products[28].name),s.xp6(3),s.s9C("alt",r.products[37].name),s.Q6J("src",r.products[37].src||r.products[37].image1,s.LSH),s.xp6(2),s.Oqu(r.products[37].name))},dependencies:[uo],styles:[".section2[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;min-height:40rem;padding:4rem 0;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;gap:2rem}h1[_ngcontent-%COMP%]{font-weight:200;font-size:2.5rem;margin:0}.cards[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:70%;flex:1 1;display:grid;grid-template-columns:repeat(4,1fr);gap:2rem;padding:4rem 2rem}.card[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1 1 auto;height:50%;width:100%;background-color:#ececec;transition:.3s}.card[_ngcontent-%COMP%]:hover{box-shadow:#0000000a 0 10px 10px;scale:1.05;transition:ease-in-out,.7s}img[_ngcontent-%COMP%]{position:absolute;max-width:90%;max-height:90%}p[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:70%;padding:0 .5rem;height:3rem;font-size:1rem;margin:0;position:absolute;top:-20px;text-align:center;color:#fff;background:rgb(83,83,83);transition:.5s ease-in-out;opacity:0}.card[_ngcontent-%COMP%]:hover > p[_ngcontent-%COMP%]{opacity:1}@media only screen and (max-width: 850px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.card[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{height:100%}}@media only screen and (max-width: 450px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}.card[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{height:100%}}"]}),n})(),GS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"home"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"app-home-div1")(2,"app-home-div2"),s.qZA())},dependencies:[Cx,Ex],styles:[".home[_ngcontent-%COMP%]{margin-top:10px;box-sizing:border-box;display:flex;flex-direction:column;flex:1;width:100%;cursor:default}"]}),n})();var QN=p(2454),Pr=p.n(QN);class Ny{constructor(){this.items2=[],this.totalQuantity2=[],this.totalPrice2=0,this.LOCAL_STORAGE_CHOSEN_ITEMS_LIST_KEY="chosenItems.list",this.LOCAL_STORAGE_TOTAL_QUANTITY_KEY="totalQuantity",this.LOCAL_STORAGE_TOTAL_PRICE="totalPrice",this.items=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_CHOSEN_ITEMS_LIST_KEY))||this.items2,this.totalQuantity=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_QUANTITY_KEY))||this.totalQuantity2,this.totalPrice=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_PRICE))||this.totalPrice2}addChosenItemToCart(e){let t=!1;this.items.length>0&&this.items.forEach(r=>{if(r.name===e.name&&r.size===e.size)switch(r.quantity+=1,t=!0,r.size){case"S":r.stockA.S--;break;case"M":r.stockA.M--;break;case"L":r.stockA.L--;break;case"XL":r.stockA.XL--;break;case"37":r.stockB.num1--;break;case"38":r.stockB.num2--;break;case"39":r.stockB.num3--;break;case"40":r.stockB.num4--;break;case"41":r.stockB.num5--;break;case"42":r.stockB.num6--;break;case"43":r.stockB.num7--;break;case"44":r.stockB.num8--;break;case"45":r.stockB.num9--;break;case"46":r.stockB.num10--}}),t||this.items.push(e),this.totalQuantity.push("x"),this.totalPrice+=e.price,this.saveInChosenItemsServicesData()}removeAllItems(e){this.items.splice(0,e.length),this.totalQuantity.splice(0,this.totalQuantity.length),this.totalPrice=0,this.saveInChosenItemsServicesData()}removeItem(e){this.items.map((t,r)=>{e.uniqId==t.uniqId&&this.items.splice(r,1)}),this.totalQuantity.splice(this.totalQuantity.length-e.quantity,e.quantity),this.totalPrice-=e.quantity*e.price,this.saveInChosenItemsServicesData()}decreaseQuantity(e){e.quantity-=1,this.totalQuantity.pop(),this.totalPrice-=e.price,this.saveInChosenItemsServicesData()}increaseQuantity(e){e.quantity+=1,this.totalQuantity.push("x"),this.totalPrice+=e.price,this.saveInChosenItemsServicesData()}saveInChosenItemsServicesData(){localStorage.setItem(this.LOCAL_STORAGE_CHOSEN_ITEMS_LIST_KEY,JSON.stringify(this.items)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_QUANTITY_KEY,JSON.stringify(this.totalQuantity)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_PRICE,JSON.stringify(this.totalPrice))}}class Y0{constructor(){this.items2=[],this.FAVORITE_ITEMS_LIST_KEY="favorites.list",this.items=JSON.parse(localStorage.getItem(this.FAVORITE_ITEMS_LIST_KEY))||this.items2}addToFavorites(e){let t=!1;this.items.length>0&&this.items.forEach(r=>{r.name===e.name&&(t=!0)}),t||this.items.push(e),this.saveInFavoriteItemsServicesData()}removeFromFavorites(e){this.items.map((t,r)=>{e.id==t.id&&this.items.splice(r,1)}),this.saveInFavoriteItemsServicesData()}saveInFavoriteItemsServicesData(){localStorage.setItem(this.FAVORITE_ITEMS_LIST_KEY,JSON.stringify(this.items))}}function JN(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"img",27),s._uU(2),s.qZA()),2&n){const t=e.$implicit;s.xp6(2),s.hij("",t," ")}}function XN(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"img",29),s._uU(2),s.qZA()),2&n){const t=e.$implicit;s.xp6(2),s.hij("",t," ")}}function Sx(n,e){if(1&n&&(s.TgZ(0,"p-accordionTab",28)(1,"p",11),s.YNc(2,XN,3,1,"li",13),s.qZA()()),2&n){const t=s.oxw();s.xp6(2),s.Q6J("ngForOf",t.productCare)}}function Tx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"lord-icon",30),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.addToFavorites(i.product))}),s.qZA()}}function $S(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"lord-icon",31),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.removeFromFavorites(i.product))}),s.qZA()}}function zS(n,e){1&n&&(s.TgZ(0,"span",32),s._uU(1,"Add to your favorites"),s.qZA())}function qS(n,e){1&n&&(s.TgZ(0,"span",33),s._uU(1,"It is in your favorites!"),s.qZA())}function Ix(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"select",34),s.NdJ("ngModelChange",function(i){s.CHM(t);const a=s.oxw();return s.KtG(a.selectedSizeButtonValue=i)}),s.TgZ(1,"option",35),s._uU(2,"-- Select Size --"),s.qZA(),s.TgZ(3,"option",36),s._uU(4,"EU - 37"),s.qZA(),s.TgZ(5,"option",37),s._uU(6,"EU - 38"),s.qZA(),s.TgZ(7,"option",38),s._uU(8,"EU - 39"),s.qZA(),s.TgZ(9,"option",39),s._uU(10,"EU - 40"),s.qZA(),s.TgZ(11,"option",40),s._uU(12,"EU - 41"),s.qZA(),s.TgZ(13,"option",41),s._uU(14,"EU - 42"),s.qZA(),s.TgZ(15,"option",42),s._uU(16,"EU - 43"),s.qZA(),s.TgZ(17,"option",43),s._uU(18,"EU - 44"),s.qZA(),s.TgZ(19,"option",44),s._uU(20,"EU - 45"),s.qZA(),s.TgZ(21,"option",45),s._uU(22,"EU - 46"),s.qZA()()}if(2&n){const t=s.oxw();s.Q6J("ngModel",t.selectedSizeButtonValue),s.xp6(3),s.Q6J("disabled",0===t.product.stockB.num1),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num2),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num3),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num4),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num5),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num6),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num7),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num8),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num9),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num10)}}function Ax(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"select",34),s.NdJ("ngModelChange",function(i){s.CHM(t);const a=s.oxw();return s.KtG(a.selectedSizeButtonValue=i)}),s.TgZ(1,"option",35),s._uU(2,"-- Select Size --"),s.qZA(),s.TgZ(3,"option",46),s._uU(4,"EU - S"),s.qZA(),s.TgZ(5,"option",47),s._uU(6,"EU - M"),s.qZA(),s.TgZ(7,"option",48),s._uU(8,"EU - L"),s.qZA(),s.TgZ(9,"option",49),s._uU(10,"EU - XL"),s.qZA()()}if(2&n){const t=s.oxw();s.Q6J("ngModel",t.selectedSizeButtonValue),s.xp6(3),s.Q6J("disabled",0===t.product.stockA.S),s.xp6(2),s.Q6J("disabled",0===t.product.stockA.M),s.xp6(2),s.Q6J("disabled",0===t.product.stockA.L),s.xp6(2),s.Q6J("disabled",0===t.product.stockA.XL)}}function Dx(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function xx(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Dx,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockA.S)}}function Px(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function Mx(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Px,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockA.M)}}function kx(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function lm(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,kx,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockA.L)}}function WS(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function ZS(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,WS,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockA.XL)}}function KS(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function YS(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,KS,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num1)}}function QS(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function JS(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,QS,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num2)}}function Ox(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function eF(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Ox,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num3)}}function Rx(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function XS(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Rx,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num4)}}function Nx(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function Fx(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Nx,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num5)}}function Lx(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function cm(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Lx,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num6)}}function Vx(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function Q0(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Vx,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num7)}}function Tl(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function Bx(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Tl,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num8)}}function J0(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function um(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,J0,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num9)}}function Ux(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function Hx(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Ux,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num10)}}function jx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",52),s.NdJ("click",function(i){s.CHM(t);const a=s.oxw();return s.KtG(a.handleAddToCart(i,a.selectedSizeButtonValue))}),s._uU(1," Add to cart "),s.qZA()}}function Fy(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"p",53),s._uU(1,"All sizes are out of stock!"),s.qZA(),s.TgZ(2,"button",54),s.NdJ("click",function(i){s.CHM(t);const a=s.oxw();return s.KtG(a.addToFavoritesByNotifyButton(i,a.product))}),s._uU(3,"Notify Me"),s.qZA()}}const Ly=function(){return["/Shop"]},Gx=function(){return["/ShoppingCart"]};let $x=(()=>{class n{constructor(t,r,i,a){this.activatedRoute=t,this.service=r,this.service2=i,this.service3=a,this.LOCAL_STORAGE_S_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_M_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_L_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_XL_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_37_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_38_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_39_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_40_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_41_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_42_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_43_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_44_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_45_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_46_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_TOTAL_STOCK="s-size.stock",this.stockS=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_S_SIZE_STOCK)),this.stockM=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_M_SIZE_STOCK)),this.stockL=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_L_SIZE_STOCK)),this.stockXL=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_XL_SIZE_STOCK)),this.stock1=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_37_SIZE_STOCK)),this.stock2=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_38_SIZE_STOCK)),this.stock3=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_39_SIZE_STOCK)),this.stock4=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_40_SIZE_STOCK)),this.stock5=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_41_SIZE_STOCK)),this.stock6=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_42_SIZE_STOCK)),this.stock7=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_43_SIZE_STOCK)),this.stock8=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_44_SIZE_STOCK)),this.stock9=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_45_SIZE_STOCK)),this.stock10=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_46_SIZE_STOCK)),this.stockTotal=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_STOCK)),this.selectedSizeButtonValue=""}ngOnInit(){this.productId=this.activatedRoute.snapshot.paramMap.get("id"),this.product=this.service.products.find(t=>t.id==this.productId),this.productDetails=this.product.details.split("."),this.productCare=this.product.care.split("."),this.stockS=this.product.stockA.S,this.stockM=this.product.stockA.M,this.stockL=this.product.stockA.L,this.stockXL=this.product.stockA.XL,this.stock1=this.product.stockB.num1,this.stock2=this.product.stockB.num2,this.stock3=this.product.stockB.num3,this.stock4=this.product.stockB.num4,this.stock5=this.product.stockB.num5,this.stock6=this.product.stockB.num6,this.stock7=this.product.stockB.num7,this.stock8=this.product.stockB.num8,this.stock9=this.product.stockB.num9,this.stock10=this.product.stockB.num10,this.stockTotal=this.stockS+this.stockM+this.stockL+this.stockXL+this.stock1+this.stock2+this.stock3+this.stock4+this.stock5+this.stock6+this.stock7+this.stock8+this.stock9+this.stock10}addToFavorites(t){Pr().fire({position:"top-end",icon:"success",title:`${t.name} was added to your favorites`,showConfirmButton:!1,timer:1500}),this.service.addItemToFavs(t),this.service3.addToFavorites(t)}removeFromFavorites(t){this.service3.removeFromFavorites(t),this.service.removeItemFromFavs(t)}addToFavoritesByNotifyButton(t,r){Pr().fire("Thank you for your interest!",`We will inform you  when </br>${r.name} arrived in our store`,"success"),this.service.addItemToFavs(r),this.service3.addToFavorites(r),this.onChangeButtonColor(t)}handleAddToCart(t,r){if(""!==r)if(this.isItemOver(r))Pr().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:`There is no ${this.product.name} </br>in our stocks for size '${r}'`});else{this.service.removeProduct(r,this.product);const{v4:i}=p(5464);let a={uniqId:i(),id:this.product.id,name:this.product.name,price:this.product.price,image:this.product.image1,size:r,quantity:1,stockA:{S:this.product.stockA.S,M:this.product.stockA.M,L:this.product.stockA.L,XL:this.product.stockA.XL},stockB:{num1:this.product.stockB.num1,num2:this.product.stockB.num2,num3:this.product.stockB.num3,num4:this.product.stockB.num4,num5:this.product.stockB.num5,num6:this.product.stockB.num6,num7:this.product.stockB.num7,num8:this.product.stockB.num8,num9:this.product.stockB.num9,num10:this.product.stockB.num10}};this.service2.addChosenItemToCart(a),this.stockTotal--,Pr().fire({position:"top-end",icon:"success",title:`${this.product.name} was added to your shopping cart`,showConfirmButton:!1,timer:1500}),this.onChangeButtonColor(t),this.saveInStocksData()}}isItemOver(t){return"S"===t?0===this.product.stockA.S:"M"===t?0===this.product.stockA.M:"L"===t?0===this.product.stockA.L:"XL"===t?0===this.product.stockA.XL:"37"===t?0===this.product.stockB.num1:"38"===t?0===this.product.stockB.num2:"39"===t?0===this.product.stockB.num3:"40"===t?0===this.product.stockB.num4:"41"===t?0===this.product.stockB.num5:"42"===t?0===this.product.stockB.num6:"43"===t?0===this.product.stockB.num7:"44"===t?0===this.product.stockB.num8:"45"===t?0===this.product.stockB.num9:0===this.product.stockB.num10}onChangeButtonColor(t){t.target.classList.add("active"),setTimeout(()=>{t.target.classList.remove("active")},1500)}saveInStocksData(){localStorage.setItem(this.LOCAL_STORAGE_S_SIZE_STOCK,JSON.stringify(this.stockS)),localStorage.setItem(this.LOCAL_STORAGE_M_SIZE_STOCK,JSON.stringify(this.stockM)),localStorage.setItem(this.LOCAL_STORAGE_L_SIZE_STOCK,JSON.stringify(this.stockL)),localStorage.setItem(this.LOCAL_STORAGE_XL_SIZE_STOCK,JSON.stringify(this.stockXL)),localStorage.setItem(this.LOCAL_STORAGE_37_SIZE_STOCK,JSON.stringify(this.stock1)),localStorage.setItem(this.LOCAL_STORAGE_38_SIZE_STOCK,JSON.stringify(this.stock2)),localStorage.setItem(this.LOCAL_STORAGE_39_SIZE_STOCK,JSON.stringify(this.stock3)),localStorage.setItem(this.LOCAL_STORAGE_40_SIZE_STOCK,JSON.stringify(this.stock4)),localStorage.setItem(this.LOCAL_STORAGE_41_SIZE_STOCK,JSON.stringify(this.stock5)),localStorage.setItem(this.LOCAL_STORAGE_42_SIZE_STOCK,JSON.stringify(this.stock6)),localStorage.setItem(this.LOCAL_STORAGE_43_SIZE_STOCK,JSON.stringify(this.stock7)),localStorage.setItem(this.LOCAL_STORAGE_44_SIZE_STOCK,JSON.stringify(this.stock8)),localStorage.setItem(this.LOCAL_STORAGE_45_SIZE_STOCK,JSON.stringify(this.stock9)),localStorage.setItem(this.LOCAL_STORAGE_46_SIZE_STOCK,JSON.stringify(this.stock10)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_STOCK,JSON.stringify(this.stockTotal))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Gr),s.Y36(gc),s.Y36(Ny),s.Y36(Y0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-product-view"]],decls:52,vars:37,consts:[[1,"product"],[1,"arrows"],[1,"left-arrow",3,"routerLink"],[1,"right-arrow",3,"routerLink"],[1,"main"],[1,"left"],[1,"product-img"],[3,"src","alt","mouseover","mouseout"],[1,"right"],[3,"multiple"],["header","Description"],["align","justify"],["header","Tech Details"],[4,"ngFor","ngForOf"],["header","Care Instructions",4,"ngIf"],[1,"favorites"],["src","https://cdn.lordicon.com/rjzlnunf.json","trigger","hover","style","width:40px;height:40px",3,"click",4,"ngIf"],["src","https://cdn.lordicon.com/iwaotjbp.json","trigger","hover","style","width:40px;height:40px",3,"click",4,"ngIf"],["class","green-span",4,"ngIf"],["class","red-span",4,"ngIf"],["ngDefaultControl","",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["nonSneakersSelection",""],[1,"ng-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"click",4,"ngIf","ngIfElse"],["notifyMe",""],["src","../../assets/tech.png"],["header","Care Instructions"],["src","../../assets/care.png"],["src","https://cdn.lordicon.com/rjzlnunf.json","trigger","hover",2,"width","40px","height","40px",3,"click"],["src","https://cdn.lordicon.com/iwaotjbp.json","trigger","hover",2,"width","40px","height","40px",3,"click"],[1,"green-span"],[1,"red-span"],["ngDefaultControl","",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","name","size"],["value","37","name","size",3,"disabled"],["value","38","name","size",3,"disabled"],["value","39","name","size",3,"disabled"],["value","40","name","size",3,"disabled"],["value","41","name","size",3,"disabled"],["value","42","name","size",3,"disabled"],["value","43","name","size",3,"disabled"],["value","44","name","size",3,"disabled"],["value","45","name","size",3,"disabled"],["value","46","name","size",3,"disabled"],["value","S","name","size",3,"disabled"],["value","M","name","size",3,"disabled"],["value","L","name","size",3,"disabled"],["value","XL","name","size",3,"disabled"],["class","red1",4,"ngIf"],[1,"red1"],[3,"click"],[1,"red2"],[1,"red-button",3,"click"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"a",2),s._uU(3),s.qZA(),s.TgZ(4,"a",3),s._uU(5),s.qZA()(),s.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"img",7),s.NdJ("mouseover",function(){return r.product.src=r.product.image2})("mouseout",function(){return r.product.src=r.product.image1}),s.qZA()()(),s.TgZ(10,"div",8)(11,"h1"),s._uU(12),s.qZA(),s.TgZ(13,"p-accordion",9)(14,"p-accordionTab",10)(15,"p",11),s._uU(16),s.qZA()(),s.TgZ(17,"p-accordionTab",12)(18,"p",11),s.YNc(19,JN,3,1,"li",13),s.qZA()(),s.YNc(20,Sx,3,1,"p-accordionTab",14),s.qZA(),s.TgZ(21,"div",15),s.YNc(22,Tx,1,0,"lord-icon",16),s.YNc(23,$S,1,0,"lord-icon",17),s.YNc(24,zS,2,0,"span",18),s.YNc(25,qS,2,0,"span",19),s.qZA(),s.TgZ(26,"h3"),s._uU(27),s.TgZ(28,"p"),s._uU(29,"VAT included"),s.qZA()(),s.YNc(30,Ix,23,11,"select",20),s.YNc(31,Ax,11,5,"ng-template",null,21,s.W1O),s.TgZ(33,"div",22)(34,"div",23),s.YNc(35,xx,2,1,"p",24),s.YNc(36,Mx,2,1,"p",24),s.YNc(37,lm,2,1,"p",24),s.YNc(38,ZS,2,1,"p",24),s.YNc(39,YS,2,1,"p",24),s.YNc(40,JS,2,1,"p",24),s.YNc(41,eF,2,1,"p",24),s.YNc(42,XS,2,1,"p",24),s.YNc(43,Fx,2,1,"p",24),s.YNc(44,cm,2,1,"p",24),s.YNc(45,Q0,2,1,"p",24),s.YNc(46,Bx,2,1,"p",24),s.YNc(47,um,2,1,"p",24),s.YNc(48,Hx,2,1,"p",24),s.qZA(),s.YNc(49,jx,2,0,"button",25),s.qZA(),s.YNc(50,Fy,4,0,"ng-template",null,26,s.W1O),s.qZA()()()),2&t){const i=s.MAs(32),a=s.MAs(51);s.xp6(2),s.Q6J("routerLink",s.DdM(35,Ly)),s.xp6(1),s.hij(" ","< Go to Shop"," "),s.xp6(1),s.Q6J("routerLink",s.DdM(36,Gx)),s.xp6(1),s.hij(" ","Go to Shopping Cart >"," "),s.xp6(4),s.s9C("alt",r.product.name),s.Q6J("src",r.product.src||r.product.image1,s.LSH),s.xp6(3),s.Oqu(r.product.name),s.xp6(1),s.Q6J("multiple",!0),s.xp6(3),s.hij(" ",r.product.description," "),s.xp6(3),s.Q6J("ngForOf",r.productDetails),s.xp6(1),s.Q6J("ngIf","Sneakers"!==r.product.category),s.xp6(2),s.Q6J("ngIf",!1===r.product.fav),s.xp6(1),s.Q6J("ngIf",!0===r.product.fav),s.xp6(1),s.Q6J("ngIf",!1===r.product.fav),s.xp6(1),s.Q6J("ngIf",!0===r.product.fav),s.xp6(2),s.hij(" \u20ac ",r.product.price," "),s.xp6(3),s.Q6J("ngIf","Sneakers"===r.product.category)("ngIfElse",i),s.xp6(4),s.Q6J("ngSwitch",r.selectedSizeButtonValue),s.xp6(1),s.Q6J("ngSwitchCase","S"),s.xp6(1),s.Q6J("ngSwitchCase","M"),s.xp6(1),s.Q6J("ngSwitchCase","L"),s.xp6(1),s.Q6J("ngSwitchCase","XL"),s.xp6(1),s.Q6J("ngSwitchCase","37"),s.xp6(1),s.Q6J("ngSwitchCase","38"),s.xp6(1),s.Q6J("ngSwitchCase","39"),s.xp6(1),s.Q6J("ngSwitchCase","40"),s.xp6(1),s.Q6J("ngSwitchCase","41"),s.xp6(1),s.Q6J("ngSwitchCase","42"),s.xp6(1),s.Q6J("ngSwitchCase","43"),s.xp6(1),s.Q6J("ngSwitchCase","44"),s.xp6(1),s.Q6J("ngSwitchCase","45"),s.xp6(1),s.Q6J("ngSwitchCase","46"),s.xp6(1),s.Q6J("ngIf",0!==r.stockTotal)("ngIfElse",a)}},dependencies:[oi,Un,Is,Vi,Og,FC,uo,yd,Zv,wp,gd,Sp,md],styles:[".product[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin-top:10px;font-family:Dosis,sans-serif}.arrows[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.left-arrow[_ngcontent-%COMP%]{align-self:flex-start;margin:0 1rem;color:#000;text-decoration:none;font-size:1.2rem;padding:.2rem .5rem}.right-arrow[_ngcontent-%COMP%]{align-self:flex-end;margin:0 1rem;color:#000;text-decoration:none;font-size:1.2rem;padding:.2rem .5rem}.left-arrow[_ngcontent-%COMP%]:hover, .right-arrow[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.main[_ngcontent-%COMP%]{max-width:100%;display:flex;flex:1;flex-direction:row;justify-content:center;align-items:center;gap:4rem;padding:6rem}.product-img[_ngcontent-%COMP%]{position:relative;width:30rem;height:30rem;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{object-fit:cover}.right[_ngcontent-%COMP%]{width:20rem;display:flex;flex-direction:column;justify-content:space-between;gap:1rem}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-weight:400;font-size:1.5rem}p[_ngcontent-%COMP%]{font-weight:200;font-size:1rem}select[_ngcontent-%COMP%]{border:solid black 2px;color:#000;padding:0 .2rem;height:3rem;font-size:1rem;cursor:pointer}select[_ngcontent-%COMP%]:hover{background-color:#d3e6ffe4}button[_ngcontent-%COMP%]{background-color:#000;background-image:linear-gradient(#228f43,#228f43);background-position:0% 100%;background-repeat:no-repeat;background-size:0% 100%;border:none;color:#fff;font-size:1rem;font-weight:600;padding:1rem;transition:.4s;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#1d1d1db4}button.active[_ngcontent-%COMP%]{background-size:100% 100%;color:#fff;transition:.6s}.ng-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin-top:30px;gap:40px}span.red1[_ngcontent-%COMP%]{color:#dc143c;font-weight:200;font-size:1rem;line-height:0;align-self:center}.red-button[_ngcontent-%COMP%]{background-color:#dc143c}.red2[_ngcontent-%COMP%]{color:#dc143c}lord-icon[_ngcontent-%COMP%]{cursor:pointer}.favorites[_ngcontent-%COMP%]{display:flex;align-items:center}.green-span[_ngcontent-%COMP%]{display:none;color:#228b22}.red-span[_ngcontent-%COMP%]{display:none;color:#ff1493}.favorites[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:inline-block}p-accordionTab[_ngcontent-%COMP%]:nth-of-type(2), p-accordionTab[_ngcontent-%COMP%]:nth-of-type(3){line-height:1.5}p-accordionTab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:row;align-items:center}p-accordionTab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin:2px 10px 2px 2px;width:20px;height:20px}@media only screen and (max-width: 933px){.main[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:0;padding:1rem 2rem 3rem}.left[_ngcontent-%COMP%]{width:100%}.product-img[_ngcontent-%COMP%]{width:100%;height:auto}.right[_ngcontent-%COMP%]{width:90%;margin-bottom:2rem}}"]}),n})(),eT=(()=>{class n{constructor(){this.selectedGenderButtonValue="Men",this.selectedCategoryButtonValue="T-shirts",this.enteredSearchValue="",this.genderFilterButtonSelectionChanged=new s.vpe,this.categoryFilterButtonSelectionChanged=new s.vpe,this.searchTextChanged=new s.vpe}ngOnInit(){}onButtonSelectionGenderChanged(){this.genderFilterButtonSelectionChanged.emit(this.selectedGenderButtonValue)}onButtonSelectionCategoryChanged(){this.categoryFilterButtonSelectionChanged.emit(this.selectedCategoryButtonValue)}onSearchTextChanged(){this.searchTextChanged.emit(this.enteredSearchValue)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-categories"]],outputs:{genderFilterButtonSelectionChanged:"genderFilterButtonSelectionChanged",categoryFilterButtonSelectionChanged:"categoryFilterButtonSelectionChanged",searchTextChanged:"searchTextChanged"},decls:10,vars:8,consts:[[1,"top"],[1,"genders"],["name","gender","type","radio","value","Men","label","Men",3,"ngModel","ngModelChange","change"],["name","gender","type","radio","value","Women","label","Women",3,"ngModel","ngModelChange","change"],[1,"categories"],[1,"category-buttons"],["name","category","type","radio","value","T-shirts","label","T-shirts",3,"ngModel","ngModelChange","change"],["name","category","type","radio","value","Sweaters","label","Sweaters",3,"ngModel","ngModelChange","change"],["name","category","type","radio","value","Sneakers","label","Sneakers",3,"ngModel","ngModelChange","change"],["type","text",1,"search",3,"placeholder","ngModel","ngModelChange","input"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"input",2),s.NdJ("ngModelChange",function(a){return r.selectedGenderButtonValue=a})("change",function(){return r.onButtonSelectionGenderChanged()}),s.qZA(),s.TgZ(3,"input",3),s.NdJ("ngModelChange",function(a){return r.selectedGenderButtonValue=a})("change",function(){return r.onButtonSelectionGenderChanged()}),s.qZA()(),s.TgZ(4,"div",4)(5,"div",5)(6,"input",6),s.NdJ("ngModelChange",function(a){return r.selectedCategoryButtonValue=a})("change",function(){return r.onButtonSelectionCategoryChanged()}),s.qZA(),s.TgZ(7,"input",7),s.NdJ("ngModelChange",function(a){return r.selectedCategoryButtonValue=a})("change",function(){return r.onButtonSelectionCategoryChanged()}),s.qZA(),s.TgZ(8,"input",8),s.NdJ("ngModelChange",function(a){return r.selectedCategoryButtonValue=a})("change",function(){return r.onButtonSelectionCategoryChanged()}),s.qZA()(),s.TgZ(9,"input",9),s.NdJ("ngModelChange",function(a){return r.enteredSearchValue=a})("input",function(){return r.onSearchTextChanged()}),s.qZA()()()),2&t&&(s.xp6(2),s.Q6J("ngModel",r.selectedGenderButtonValue),s.xp6(1),s.Q6J("ngModel",r.selectedGenderButtonValue),s.xp6(3),s.Q6J("ngModel",r.selectedCategoryButtonValue),s.xp6(1),s.Q6J("ngModel",r.selectedCategoryButtonValue),s.xp6(1),s.Q6J("ngModel",r.selectedCategoryButtonValue),s.xp6(1),s.hYB("placeholder","Search in ",r.selectedGenderButtonValue,"'s ",r.selectedCategoryButtonValue,""),s.Q6J("ngModel",r.enteredSearchValue))},dependencies:[wp,uE,Sp,md],styles:[".top[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%;padding-bottom:1rem;margin-bottom:1rem;margin-top:1rem;border-bottom:solid 1px rgba(0,0,0,.199)}.genders[_ngcontent-%COMP%]{background:#454857;padding:4px;border-radius:3px;box-shadow:inset 0 0 0 3px #23212d4d,0 0 0 3px #b9b9b94d;position:relative;width:6.6rem;margin-left:18px}.genders[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;width:auto;height:100%;-webkit-appearance:none;appearance:none;outline:none;cursor:pointer;border-radius:2px;padding:4px 8px;background:#454857;color:#bdbdbdbd;font-size:14px;transition:all .1s linear}.genders[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked{background-image:linear-gradient(180deg,#95d891,#74bbad);color:#fff;box-shadow:0 1px 1px #0000002e;text-shadow:0 1px 0px #79485f7a}.genders[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:before{content:attr(label);display:inline-block;text-align:center;width:100%}.categories[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 1rem;gap:1rem}.category-buttons[_ngcontent-%COMP%]{background:#454857;padding:4px;border-radius:3px;box-shadow:inset 0 0 0 3px #23212d4d,0 0 0 3px #b9b9b94d;position:relative;width:12.4rem}.category-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;width:auto;height:100%;-webkit-appearance:none;appearance:none;outline:none;cursor:pointer;border-radius:2px;padding:4px 8px;background:#454857;color:#bdbdbdbd;font-size:14px;transition:all .1s linear}.category-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked{background-image:linear-gradient(180deg,#95d891,#74bbad);color:#fff;box-shadow:0 1px 1px #0000002e;text-shadow:0 1px 0px #79485f7a}.category-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:before{content:attr(label);display:inline-block;text-align:center;width:100%}.search[_ngcontent-%COMP%]{height:1.5rem;width:13rem;outline:none;border:solid black 1px;transition:.2s;padding:0 .2rem;margin:0 1rem;opacity:.5;font-family:Dosis,sans-serif}.search[_ngcontent-%COMP%]:focus{background:#ffdcd357;box-shadow:#00000036 0 0 5px}"]}),n})(),tT=(()=>{class n{transform(t,r=20,i=!1,a="..."){return i?t:t.split(" ").length>r?t.split(" ").splice(0,r).join(" ")+a:t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=s.Yjl({name:"shortenText",type:n,pure:!0}),n})();function X0(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"a",5)(2,"div",6)(3,"img",7),s.NdJ("mouseover",function(){s.CHM(t);const i=s.oxw(3).$implicit;return s.KtG(i.src=i.image2)})("mouseout",function(){s.CHM(t);const i=s.oxw(3).$implicit;return s.KtG(i.src=i.image1)}),s.qZA()(),s.TgZ(4,"p",8),s._uU(5),s.qZA(),s.TgZ(6,"p",9),s._uU(7),s.qZA()(),s.TgZ(8,"p",10),s.ALo(9,"shortenText"),s._uU(10),s.qZA()()}if(2&n){const t=s.oxw(3).$implicit;s.xp6(1),s.MGl("routerLink","/Shop/Product/",t.id,""),s.xp6(2),s.s9C("alt",t.name),s.Q6J("src",t.src||t.image1,s.LSH),s.xp6(2),s.hij("\u20ac ",t.price,""),s.xp6(2),s.Oqu(t.name),s.xp6(1),s.Q6J("innerHTML",s.xi3(9,7,t.description,15),s.oJD),s.xp6(2),s.hij(" ",t.description," ")}}function nT(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,X0,11,10,"div",4),s.qZA()),2&n){const t=s.oxw(2).$implicit,r=s.oxw();s.xp6(1),s.Q6J("ngIf",""===r.searchValueResult||t.name.toLowerCase().includes(r.searchValueResult))}}function zx(n,e){if(1&n&&(s.TgZ(0,"div",3),s.YNc(1,nT,2,1,"div",4),s.qZA()),2&n){const t=s.oxw().$implicit,r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.categorySelectionResult===t.category)}}function qx(n,e){if(1&n&&(s.ynx(0),s.YNc(1,zx,2,1,"div",2),s.BQk()),2&n){const t=e.$implicit,r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.genderSelectionResult===t.gender)}}let tF=(()=>{class n{constructor(t,r){this.activatedRoute=t,this.service=r,this.genderSelectionResult="",this.categorySelectionResult="",this.searchValueResult=""}ngOnInit(){this.products=this.service.products,this.productId=this.activatedRoute.snapshot.paramMap.get("id"),this.product=this.service.products.find(t=>t.id==this.productId)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Gr),s.Y36(gc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-card"]],inputs:{genderSelectionResult:"genderSelectionResult",categorySelectionResult:"categorySelectionResult",searchValueResult:"searchValueResult"},decls:2,vars:1,consts:[[1,"cards"],[4,"ngFor","ngForOf"],["class","product-container",4,"ngIf"],[1,"product-container"],[4,"ngIf"],[3,"routerLink"],[1,"image-container"],[3,"src","alt","mouseover","mouseout"],[1,"price"],[1,"name"],["align","justify",1,"grey",3,"innerHTML"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,qx,2,1,"ng-container",1),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngForOf",r.products))},dependencies:[oi,Un,uo,tT],styles:[".cards[_ngcontent-%COMP%]{padding:2rem;display:grid;grid-column-gap:20px;grid-template-columns:repeat(3,1fr);justify-content:center;align-items:center;list-style:none}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.product-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:Dosis,sans-serif}.image-container[_ngcontent-%COMP%]{position:relative;background-color:#f7f7f7;height:15rem;width:15rem;padding:.5rem;margin-bottom:.5rem;display:flex;align-items:center;justify-content:center}img[_ngcontent-%COMP%]{object-position:center;max-height:100%;max-width:100%;object-fit:cover;transition:1s}.image-container[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(.95)}p[_ngcontent-%COMP%]{max-width:15rem;justify-self:flex-start;align-self:flex-start;margin:0;font-weight:300}.name[_ngcontent-%COMP%]{height:2.5rem}.grey[_ngcontent-%COMP%]{color:#dcdcdc;margin-top:-15px;margin-bottom:10px}@media only screen and (max-width: 850px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media only screen and (max-width: 570px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),n})(),ew=(()=>{class n{constructor(t){this.service=t,this.genderSelectionButton="Men",this.categorySelectionButton="T-shirts",this.searchedText=""}ngOnInit(){this.products=this.service.products}getGenderSelection(){return this.genderSelectionButton}getCategorySelection(){return this.categorySelectionButton}getSearchValue(){return this.searchedText.toLowerCase()}onFilterButtonGenderChanged(t){this.genderSelectionButton=t}onFilterButtonCategoryChanged(t){this.categorySelectionButton=t}onSearchTextChanged(t){this.searchedText=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(gc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-shop"]],decls:3,vars:3,consts:[[1,"shop"],[3,"genderFilterButtonSelectionChanged","categoryFilterButtonSelectionChanged","searchTextChanged"],[3,"genderSelectionResult","categorySelectionResult","searchValueResult"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"app-categories",1),s.NdJ("genderFilterButtonSelectionChanged",function(a){return r.onFilterButtonGenderChanged(a)})("categoryFilterButtonSelectionChanged",function(a){return r.onFilterButtonCategoryChanged(a)})("searchTextChanged",function(a){return r.onSearchTextChanged(a)}),s.qZA(),s._UZ(2,"app-card",2),s.qZA()),2&t&&(s.xp6(2),s.Q6J("genderSelectionResult",r.getGenderSelection())("categorySelectionResult",r.getCategorySelection())("searchValueResult",r.getSearchValue()))},dependencies:[eT,tF],styles:[".shop[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;box-sizing:border-box;color:#000}"]}),n})();class dm{constructor(){this.orderedItems2=[],this.totalQuantity2=[],this.totalPrice2=0,this.LOCAL_STORAGE_ORDERED_ITEMS_LIST_KEY="orderedItems.list",this.LOCAL_STORAGE_TOTAL_QUANTITY_KEY="totalQuantity",this.LOCAL_STORAGE_TOTAL_PRICE="totalPrice",this.orderedItems=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_ORDERED_ITEMS_LIST_KEY))||this.orderedItems2,this.totalQuantity=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_QUANTITY_KEY))||this.totalQuantity2,this.totalPrice=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_PRICE))||this.totalPrice2}addOrderedItemToAccount(e){e.map(t=>{this.orderedItems.push(t)}),localStorage.setItem(this.LOCAL_STORAGE_ORDERED_ITEMS_LIST_KEY,JSON.stringify(this.orderedItems))}removeItem(e){this.orderedItems.map((t,r)=>{e.uniqId==t.uniqId&&this.orderedItems.splice(r,1)}),this.totalPrice-=e.price*e.quantity,this.saveInOrderedItemsServicesData()}saveInOrderedItemsServicesData(){localStorage.setItem(this.LOCAL_STORAGE_ORDERED_ITEMS_LIST_KEY,JSON.stringify(this.orderedItems)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_QUANTITY_KEY,JSON.stringify(this.totalQuantity)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_PRICE,JSON.stringify(this.totalPrice))}}const tw=function(){return["/Shop"]};function nw(n,e){1&n&&(s.TgZ(0,"div",4)(1,"p"),s._uU(2,"Your cart is empty"),s.qZA(),s.TgZ(3,"p"),s._uU(4,"Fill it up with our collection!"),s.qZA(),s.TgZ(5,"a",5),s._uU(6,"Shop"),s.qZA()()),2&n&&(s.xp6(5),s.Q6J("routerLink",s.DdM(1,tw)))}function rw(n,e){if(1&n&&(s.TgZ(0,"h1"),s._uU(1," Your shopping cart: ( "),s.TgZ(2,"span"),s._uU(3),s.qZA(),s._uU(4," ) items "),s.qZA()),2&n){const t=s.oxw(2);s.xp6(3),s.hij(" ",t.totalQuantity.length," ")}}function Wx(n,e){if(1&n&&(s.TgZ(0,"h1"),s._uU(1," Your shopping cart: ( "),s.TgZ(2,"span"),s._uU(3),s.qZA(),s._uU(4," ) item "),s.qZA()),2&n){const t=s.oxw(2);s.xp6(3),s.hij(" ",t.totalQuantity.length," ")}}function Zx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockA.S)}}function Kx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockA.M)}}function Yx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockA.L)}}function rT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockA.XL)}}function iw(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num1)}}function iT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num2)}}function Qx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num3)}}function sT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num4)}}function oT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num5)}}function Jx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num6)}}function aT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num7)}}function lT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num8)}}function Xx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num9)}}function cT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num10)}}function uT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"li")(1,"a",5),s._UZ(2,"img",20),s.qZA(),s.TgZ(3,"div",21)(4,"a",5)(5,"p",22),s._uU(6),s.qZA()(),s.TgZ(7,"p",23),s._uU(8),s.qZA(),s.TgZ(9,"lord-icon",24),s.NdJ("click",function(){const a=s.CHM(t).$implicit,u=s.oxw(2);return s.KtG(u.removeItem(a))}),s.qZA()(),s.TgZ(10,"div",25)(11,"button",26),s.NdJ("click",function(){const a=s.CHM(t).$implicit,u=s.oxw(2);return s.KtG(u.decreaseQuantity(a,a.size))}),s._uU(12," - "),s.qZA(),s.TgZ(13,"p",27),s._uU(14),s.qZA(),s.TgZ(15,"div",28),s.YNc(16,Zx,2,1,"button",29),s.YNc(17,Kx,2,1,"button",29),s.YNc(18,Yx,2,1,"button",29),s.YNc(19,rT,2,1,"button",29),s.YNc(20,iw,2,1,"button",29),s.YNc(21,iT,2,1,"button",29),s.YNc(22,Qx,2,1,"button",29),s.YNc(23,sT,2,1,"button",29),s.YNc(24,oT,2,1,"button",29),s.YNc(25,Jx,2,1,"button",29),s.YNc(26,aT,2,1,"button",29),s.YNc(27,lT,2,1,"button",29),s.YNc(28,Xx,2,1,"button",29),s.YNc(29,cT,2,1,"button",29),s.qZA()()()}if(2&n){const t=e.$implicit;s.xp6(1),s.MGl("routerLink","/Shop/Product/",t.id,""),s.xp6(1),s.s9C("src",t.image,s.LSH),s.s9C("alt",t.name),s.xp6(2),s.MGl("routerLink","/Shop/Product/",t.id,""),s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Oqu(t.size),s.xp6(3),s.Q6J("disabled",1==t.quantity),s.xp6(3),s.Oqu(t.quantity),s.xp6(1),s.Q6J("ngSwitch",t.size),s.xp6(1),s.Q6J("ngSwitchCase","S"),s.xp6(1),s.Q6J("ngSwitchCase","M"),s.xp6(1),s.Q6J("ngSwitchCase","L"),s.xp6(1),s.Q6J("ngSwitchCase","XL"),s.xp6(1),s.Q6J("ngSwitchCase","37"),s.xp6(1),s.Q6J("ngSwitchCase","38"),s.xp6(1),s.Q6J("ngSwitchCase","39"),s.xp6(1),s.Q6J("ngSwitchCase","40"),s.xp6(1),s.Q6J("ngSwitchCase","41"),s.xp6(1),s.Q6J("ngSwitchCase","42"),s.xp6(1),s.Q6J("ngSwitchCase","43"),s.xp6(1),s.Q6J("ngSwitchCase","44"),s.xp6(1),s.Q6J("ngSwitchCase","45"),s.xp6(1),s.Q6J("ngSwitchCase","46")}}function gs(n,e){1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n&&(s.xp6(1),s.hij(" ","(free shipping on orders over \u20ac100)"," "))}function zh(n,e){1&n&&(s.TgZ(0,"div"),s._uU(1," FREE "),s.qZA())}function eP(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij(" ",t.shippingPrice," ")}}function tP(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij(" \u20ac ",t.totalPrice.toFixed(2)," ")}}function nF(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("\u20ac ",(t.totalPrice+t.shippingPrice).toFixed(2),"")}}const rF=function(){return["/ErrorPage"]};function dT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"ul"),s.YNc(1,rw,5,1,"h1",6),s.YNc(2,Wx,5,1,"ng-template",null,7,s.W1O),s.YNc(4,uT,30,23,"li",8),s.TgZ(5,"div",9)(6,"h3"),s._uU(7,"Total"),s.qZA(),s.TgZ(8,"div",10)(9,"p"),s._uU(10,"Sub-total"),s.qZA(),s.TgZ(11,"div"),s._uU(12),s.qZA()(),s.TgZ(13,"div",11)(14,"p"),s._uU(15,"Shipping "),s.YNc(16,gs,2,1,"span",12),s.qZA(),s.YNc(17,zh,2,0,"div",6),s.YNc(18,eP,2,1,"ng-template",null,13,s.W1O),s.qZA(),s.TgZ(20,"div",14)(21,"p"),s._uU(22,"Total (VAT included)"),s.qZA(),s.YNc(23,tP,2,1,"div",6),s.YNc(24,nF,2,1,"ng-template",null,15,s.W1O),s.qZA(),s.TgZ(26,"a",16),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.addItemsToOrderedItems())}),s._uU(27,"ORDER"),s.qZA()(),s.TgZ(28,"div",17)(29,"h3"),s._uU(30,"We accept"),s.qZA(),s.TgZ(31,"div",18),s._UZ(32,"img",19),s.qZA()()()}if(2&n){const t=s.MAs(3),r=s.MAs(19),i=s.MAs(25),a=s.oxw();s.xp6(1),s.Q6J("ngIf",a.totalQuantity.length>1)("ngIfElse",t),s.xp6(3),s.Q6J("ngForOf",a.chosenItems),s.xp6(8),s.Oqu(a.totalPrice.toFixed(2)),s.xp6(4),s.Q6J("ngIf",a.totalPrice<=100),s.xp6(1),s.Q6J("ngIf",a.totalPrice>100)("ngIfElse",r),s.xp6(6),s.Q6J("ngIf",a.totalPrice>100)("ngIfElse",i),s.xp6(3),s.Q6J("routerLink",s.DdM(10,rF))}}let hT=(()=>{class n{constructor(t,r,i){this.service=t,this.service2=r,this.service3=i,this.LOCAL_STORAGE_CHOSEN_ITEMS_LIST="chosen-items.list",this.LOCAL_STORAGE_TOTAL_QUANTITY="totalQuantity",this.LOCAL_STORAGE_TOTAL_PRICE="totalPrice",this.chosenItems=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_CHOSEN_ITEMS_LIST)),this.totalQuantity=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_QUANTITY)),this.totalPrice=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_PRICE)),this.shippingPrice=20}ngOnInit(){this.chosenItems=this.service2.items,this.totalQuantity=this.service2.totalQuantity,this.totalPrice=this.service2.totalPrice}addItemsToOrderedItems(){Pr().fire("Thank you for your order!","Your ordered items were added to your account!","success"),this.service3.addOrderedItemToAccount(this.chosenItems),this.service2.removeAllItems(this.chosenItems),this.totalPrice=0,this.saveInLocalStorageData()}removeItem(t){Pr().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&(Pr().fire("Deleted!",`${t.name} </br>was removed from your chosen items`,"success"),this.service2.removeItem(t),this.service.addItemQuantityToStock(t),this.totalPrice-=t.quantity*t.price,this.saveInLocalStorageData())})}decreaseQuantity(t,r){switch(this.service2.decreaseQuantity(t),this.service.addItemSizeToStock(t),r){case"S":t.stockA.S++;break;case"M":t.stockA.M++;break;case"L":t.stockA.L++;break;case"XL":t.stockA.XL++;break;case"37":t.stockB.num1++;break;case"38":t.stockB.num2++;break;case"39":t.stockB.num3++;break;case"40":t.stockB.num4++;break;case"41":t.stockB.num5++;break;case"42":t.stockB.num6++;break;case"43":t.stockB.num7++;break;case"44":t.stockB.num8++;break;case"45":t.stockB.num9++;break;case"46":t.stockB.num10++}this.totalPrice-=t.price,this.saveInLocalStorageData()}increaseQuantity(t,r){switch(this.service2.increaseQuantity(t),this.service.removeItemSizeFromStock(t),r){case"S":t.stockA.S--;break;case"M":t.stockA.M--;break;case"L":t.stockA.L--;break;case"XL":t.stockA.XL--;break;case"37":t.stockB.num1--;break;case"38":t.stockB.num2--;break;case"39":t.stockB.num3--;break;case"40":t.stockB.num4--;break;case"41":t.stockB.num5--;break;case"42":t.stockB.num6--;break;case"43":t.stockB.num7--;break;case"44":t.stockB.num8--;break;case"45":t.stockB.num9--;break;case"46":t.stockB.num10--}this.totalPrice+=t.price,this.saveInLocalStorageData()}saveInLocalStorageData(){localStorage.setItem(this.LOCAL_STORAGE_CHOSEN_ITEMS_LIST,JSON.stringify(this.chosenItems)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_QUANTITY,JSON.stringify(this.totalQuantity)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_PRICE,JSON.stringify(this.totalPrice))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(gc),s.Y36(Ny),s.Y36(dm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:6,vars:5,consts:[[1,"shopping-cart"],[1,"left-arrow",3,"routerLink"],["class","empty-cart",4,"ngIf","ngIfElse"],["proceedCheckOut",""],[1,"empty-cart"],[3,"routerLink"],[4,"ngIf","ngIfElse"],["onlyOne",""],[4,"ngFor","ngForOf"],[1,"total-price"],[1,"sub-total"],[1,"shipping"],[4,"ngIf"],["shipping",""],[1,"total"],["shippingAdded",""],[3,"routerLink","click"],[1,"payment-method"],[1,"icons"],["src","../../assets/credit-cards.png","alt","credit cards"],[3,"src","alt"],[1,"description"],[1,"name"],[1,"size"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","hover",2,"width","25px","height","25px",3,"click"],[1,"add-and-remove"],[3,"disabled","click"],[1,"bold"],[3,"ngSwitch"],[3,"disabled","click",4,"ngSwitchCase"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"a",1),s._uU(2),s.qZA(),s.YNc(3,nw,7,2,"div",2),s.YNc(4,dT,33,11,"ng-template",null,3,s.W1O),s.qZA()),2&t){const i=s.MAs(5);s.xp6(1),s.Q6J("routerLink",s.DdM(4,tw)),s.xp6(1),s.hij(" ","< Go to Shop"," "),s.xp6(1),s.Q6J("ngIf",0==r.chosenItems.length)("ngIfElse",i)}},dependencies:[oi,Un,Is,Vi,uo],styles:[".shopping-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem;margin-top:10px;font-family:Dosis,sans-serif}.left-arrow[_ngcontent-%COMP%]{align-self:flex-start;margin:0 1rem;color:#000;text-decoration:none;font-size:1.2rem;padding:.2rem .5rem}.left-arrow[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;background-color:#f7f7f7;margin-top:20px;padding:5rem;gap:1rem;font-size:1.5rem;border-radius:4px;box-shadow:#0000002f 0 5px 5px}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1rem;text-decoration:none;color:#fff;background:#ff613a;width:12rem;padding:.5rem 1rem;text-align:center;transition:.4s;border-radius:6px}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ff8567}h1[_ngcontent-%COMP%]{font-size:2rem}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#dc143c}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:26rem;list-style:none;gap:1rem;padding:2rem 0rem}li[_ngcontent-%COMP%]{box-shadow:#0000002f 0 5px 5px;box-sizing:border-box;padding:1rem 2rem;display:flex;width:100%;min-height:8rem;align-items:center;justify-content:space-between;gap:1rem;background-color:#f7f7f7;font-weight:200;gap:2rem;border-radius:4px}.description[_ngcontent-%COMP%]{display:flex;gap:.3rem;flex-direction:column;flex:1}li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:5rem;width:5rem;background-color:#fff;padding:1rem;object-fit:contain}.add-and-remove[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;color:#000;border:black solid 1px;height:2rem;width:5rem;box-sizing:border-box}.add-and-remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%;margin:0;padding:0;background:none;border:none;color:#000;font-size:1rem}.add-and-remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#ff613a}.add-and-remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{pointer-events:none;color:#b6b6b6}.name[_ngcontent-%COMP%]{max-width:12rem}lord-icon[_ngcontent-%COMP%]{cursor:pointer;margin:0}.total-price[_ngcontent-%COMP%], .payment-method[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#f7f7f7;min-height:10rem;flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;padding:2rem;box-shadow:#0000002f 0 5px 5px;border-radius:4px}.total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .payment-method[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{align-self:flex-start;margin-bottom:1rem}.sub-total[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.shipping[_ngcontent-%COMP%]{border-bottom:solid 1px rgb(182,182,182);padding-bottom:.5rem}.shipping[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#b6b6b6}.total[_ngcontent-%COMP%]{font-weight:800;margin-top:.5rem}.total-price[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#ff613a;padding:.5rem 0;text-align:center;color:#fff;margin-top:1rem;transition:.3s;cursor:pointer;width:100%;border-radius:6px}.total-price[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ff8567}.payment-method[_ngcontent-%COMP%]{justify-items:flex-start;align-items:flex-start;min-height:auto}.payment-method[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2rem;width:auto}.bold[_ngcontent-%COMP%]{font-weight:800}@media only screen and (max-width: 850px){.shopping-cart[_ngcontent-%COMP%]{padding:1rem}}@media only screen and (max-width: 650px){.shopping-cart[_ngcontent-%COMP%]{padding:1rem}li[_ngcontent-%COMP%]{gap:1rem;min-width:0}}"]}),n})();var He=p(5861),nP=p(8247),fe=p(2090),ys=p(9681),Zo=p(1877),Ia=p(4859),sw=p(4986),zn=p(5813);function hm(){return(0,Jr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Qr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function ow(n,e=Eh.y){return n=n??fT,(0,Jr.e)((t,r)=>{let i,a=!0;t.subscribe((0,Qr.x)(r,u=>{const m=e(u);(a||!n(i,m))&&(a=!1,i=m,r.next(u))}))})}function fT(n,e){return n===e}var kt,Fr=p(2011),mT=(p(5881),p(3942)),gT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yc={},pu=pu||{},ln=gT||self;function fm(){}function qh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Vy(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yT="closure_uid_"+(1e9*Math.random()>>>0),iP=0;function sP(n,e,t){return n.call.apply(n.bind,arguments)}function oP(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ki(n,e,t){return(ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sP:oP).apply(null,arguments)}function pm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Oi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var u=Array(arguments.length-2),m=2;m<arguments.length;m++)u[m-2]=arguments[m];return e.prototype[i].apply(r,u)}}function _c(){this.s=this.s,this.o=this.o}_c.prototype.s=!1,_c.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function rP(n){Object.prototype.hasOwnProperty.call(n,yT)&&n[yT]||(n[yT]=++iP)}(this)},_c.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function aw(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function lw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(qh(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let u=0;u<a;u++)n[i+u]=r[u]}else n.push(r)}}function Qi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Qi.prototype.h=function(){this.defaultPrevented=!0};var wT=function(){if(!ln.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ln.addEventListener("test",fm,e),ln.removeEventListener("test",fm,e)}catch{}return n}();function mm(n){return/^[\s\xa0]*$/.test(n)}var cw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function By(n,e){return n<e?-1:n>e?1:0}function Uy(){var n=ln.navigator;return n&&(n=n.userAgent)?n:""}function Il(n){return-1!=Uy().indexOf(n)}function bT(n){return bT[" "](n),n}bT[" "]=fm;var uw,n,iF=Il("Opera"),gm=Il("Trident")||Il("MSIE"),aP=Il("Edge"),ET=aP||gm,lP=Il("Gecko")&&!(-1!=Uy().toLowerCase().indexOf("webkit")&&!Il("Edge"))&&!(Il("Trident")||Il("MSIE"))&&!Il("Edge"),sF=-1!=Uy().toLowerCase().indexOf("webkit")&&!Il("Edge");function cP(){var n=ln.document;return n?n.documentMode:void 0}e:{var Wh="",ST=(n=Uy(),lP?/rv:([^\);]+)(\)|;)/.exec(n):aP?/Edge\/([\d\.]+)/.exec(n):gm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):sF?/WebKit\/(\S+)/.exec(n):iF?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ST&&(Wh=ST?ST[1]:""),gm){var Hy=cP();if(null!=Hy&&Hy>parseFloat(Wh)){uw=String(Hy);break e}}uw=Wh}var jy={};var dw=ln.document&&gm&&(cP()||parseInt(uw,10))||void 0;function Zh(n,e){if(Qi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(lP){e:{try{bT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dP[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zh.X.h.call(this)}}Oi(Zh,Qi);var dP={2:"touch",3:"pen",4:"mouse"};Zh.prototype.h=function(){Zh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Kh="closure_listenable_"+(1e6*Math.random()|0),oF=0;function hP(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++oF,this.ba=this.ea=!1}function $y(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function hw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ym(n){const e={};for(const t in n)e[t]=n[t];return e}const IT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<IT.length;a++)t=IT[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function fw(n){this.src=n,this.g={},this.h=0}function AT(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=vT(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&($y(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function pw(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}fw.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=pw(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new hP(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var mw="closure_lm_"+(1e6*Math.random()|0),gw={};function pP(n,e,t,r,i){if(r&&r.once)return yw(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)pP(n,e[a],t,r,i);return null}return t=ww(t),n&&n[Kh]?n.N(e,t,Vy(r)?!!r.capture:!!r,i):DT(n,e,t,!1,r,i)}function DT(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=Vy(i)?!!i.capture:!!i,m=vw(n);if(m||(n[mw]=m=new fw(n)),(t=m.add(e,t,r,u,a)).proxy)return t;if(r=function xT(){const e=_w;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)wT||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(PT(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function yw(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)yw(n,e[a],t,r,i);return null}return t=ww(t),n&&n[Kh]?n.O(e,t,Vy(r)?!!r.capture:!!r,i):DT(n,e,t,!0,r,i)}function mP(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)mP(n,e[a],t,r,i);else r=Vy(r)?!!r.capture:!!r,t=ww(t),n&&n[Kh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=pw(a=n.g[e],t,r,i))&&($y(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=vw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=pw(e,t,r,i)),(t=-1<n?e[n]:null)&&ho(t))}function ho(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Kh])AT(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(PT(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=vw(e))?(AT(t,n),0==t.h&&(t.src=null,e[mw]=null)):$y(n)}}}function PT(n){return n in gw?gw[n]:gw[n]="on"+n}function _w(n,e){if(n.ba)n=!0;else{e=new Zh(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&ho(n),n=t.call(r,e)}return n}function vw(n){return(n=n[mw])instanceof fw?n:null}var Bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ww(n){return"function"==typeof n?n:(n[Bs]||(n[Bs]=function(e){return n.handleEvent(e)}),n[Bs])}function Xr(){_c.call(this),this.i=new fw(this),this.P=this,this.I=null}function Ri(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Qi(e,n);else if(e instanceof Qi)e.target=e.target||n;else{var i=e;fP(e=new Qi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=zy(u,r,!0,e)&&i}if(i=zy(u=e.g=n,r,!0,e)&&i,i=zy(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=zy(u=e.g=t[a],r,!1,e)&&i}function zy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var m=u.listener,_=u.ha||u.src;u.ea&&AT(n.i,u),i=!1!==m.call(_,r)&&i}}return i&&!r.defaultPrevented}Oi(Xr,_c),Xr.prototype[Kh]=!0,Xr.prototype.removeEventListener=function(n,e,t,r){mP(this,n,e,t,r)},Xr.prototype.M=function(){if(Xr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)$y(t[r]);delete n.g[e],n.h--}}this.I=null},Xr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Xr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var _m=ln.JSON.stringify;function MT(){var n=vc;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var qy,OT=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new RT,n=>n.reset());class RT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function NT(n){ln.setTimeout(()=>{throw n},0)}function FT(n,e){qy||function gP(){var n=ln.Promise.resolve(void 0);qy=function(){n.then(LT)}}(),vm||(qy(),vm=!0),vc.add(n,e)}var vm=!1,vc=new class kT{constructor(){this.h=this.g=null}add(e,t){const r=OT.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function LT(){for(var n;n=MT();){try{n.h.call(n.g)}catch(t){NT(t)}var e=OT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}vm=!1}function Yh(n,e){Xr.call(this),this.h=n||1,this.g=e||ln,this.j=ki(this.lb,this),this.l=Date.now()}function Aa(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function bw(n,e,t){if("function"==typeof n)t&&(n=ki(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ki(n.handleEvent,n)}return 2147483647<Number(e)?-1:ln.setTimeout(n,e||0)}function yP(n){n.g=bw(()=>{n.g=null,n.i&&(n.i=!1,yP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Oi(Yh,Xr),(kt=Yh.prototype).ca=!1,kt.R=null,kt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ri(this,"tick"),this.ca&&(Aa(this),this.start()))}},kt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kt.M=function(){Yh.X.M.call(this),Aa(this),delete this.g};class _P extends _c{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yP(this)}M(){super.M(),this.g&&(ln.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wm(n){_c.call(this),this.h=n,this.g={}}Oi(wm,_c);var VT=[];function BT(n,e,t,r){Array.isArray(t)||(t&&(VT[0]=t.toString()),t=VT);for(var i=0;i<t.length;i++){var a=pP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Cw(n){hw(n.g,function(e,t){this.g.hasOwnProperty(t)&&ho(e)},n),n.g={}}function Ew(){this.g=!0}function Md(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Sw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return _m(t)}catch{return e}}(n,t)+(r?" "+r:"")})}wm.prototype.M=function(){wm.X.M.call(this),Cw(this)},wm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ew.prototype.Aa=function(){this.g=!1},Ew.prototype.info=function(){};var mu={},Tw=null;function bm(){return Tw=Tw||new Xr}function Iw(n){Qi.call(this,mu.Pa,n)}function Qh(n){const e=bm();Ri(e,new Iw(e))}function Cm(n,e){Qi.call(this,mu.STAT_EVENT,n),this.stat=e}function Si(n){const e=bm();Ri(e,new Cm(e,n))}function Aw(n,e){Qi.call(this,mu.Qa,n),this.size=e}function Em(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ln.setTimeout(function(){n()},e)}mu.Pa="serverreachability",Oi(Iw,Qi),mu.STAT_EVENT="statevent",Oi(Cm,Qi),mu.Qa="timingevent",Oi(Aw,Qi);var Sm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Dw={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function xw(){}function wP(){}xw.prototype.h=null;var Mw,Wy={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Zy(){Qi.call(this,"d")}function Pw(){Qi.call(this,"c")}function Ky(){}function Yy(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new wm(this),this.O=lF,this.T=new Yh(n=ET?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new bP}function bP(){this.i=null,this.g="",this.h=!1}Oi(Zy,Qi),Oi(Pw,Qi),Oi(Ky,xw),Ky.prototype.g=function(){return new XMLHttpRequest},Ky.prototype.i=function(){return{}},Mw=new Ky;var lF=45e3,jT={},kw={};function Ow(n,e,t){n.K=1,n.v=Am(Al(e)),n.s=t,n.P=!0,Tm(n,null)}function Tm(n,e){n.F=Date.now(),Da(n),n.A=Al(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),IP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new bP,n.g=wF(n.l,t?e:null,!n.s),0<n.N&&(n.L=new _P(ki(n.La,n,n.g),n.N)),BT(n.S,n.g,"readystatechange",n.ib),e=n.H?ym(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Qh(),function UT(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",m=a.split("&"),_=0;_<m.length;_++){var E=m[_].split("=");if(1<E.length){var N=E[0];E=E[1];var W=N.split("_");u=2<=W.length&&"type"==W[1]?u+(N+"=")+E+"&":u+(N+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function GT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function $T(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=zT(n,t),i==kw){4==e&&(n.o=4,Si(14),r=!1),Md(n.j,n.m,null,"[Incomplete Response]");break}if(i==jT){n.o=4,Si(15),Md(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Md(n.j,n.m,i,null),Im(n,i)}GT(n)&&i!=kw&&i!=jT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Si(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),NP(e),e.K=!0,Si(11))):(Md(n.j,n.m,t,"[Invalid Chunked Response]"),Od(n),kd(n))}function zT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?kw:(t=Number(e.substring(t,r)),isNaN(t)?jT:(r+=1)+t>e.length?kw:(e=e.substr(r,t),n.C=r+t,e))}function Da(n){n.V=Date.now()+n.O,Rw(n,n.O)}function Rw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Em(ki(n.gb,n),e)}function Jh(n){n.B&&(ln.clearTimeout(n.B),n.B=null)}function kd(n){0==n.l.G||n.I||gF(n.l,n)}function Od(n){Jh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Aa(n.T),Cw(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Im(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||QT(t.h,n)))if(!n.J&&QT(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;XT(t),rf(t)}RP(t),Si(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Em(ki(t.cb,t),6e3));if(1>=MP(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else xm(t,11)}else if((n.J||t.g==n)&&XT(t),!mm(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.T=E[0],E=E[1],2==t.G)if("c"==E[0]){t.I=E[1],t.ka=E[2];const N=E[3];null!=N&&(t.ma=N,t.j.info("VER="+t.ma));const W=E[4];null!=W&&(t.Ca=W,t.j.info("SVER="+t.Ca));const se=E[5];null!=se&&"number"==typeof se&&0<se&&(t.J=r=1.5*se,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const pe=n.g;if(pe){const we=pe.g?pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(we){var a=r.h;a.g||-1==we.indexOf("spdy")&&-1==we.indexOf("quic")&&-1==we.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Lw(a,a.h),a.h=null))}if(r.D){const Me=pe.g?pe.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.za=Me,Sr(r.F,r.D,Me))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=vF(r,r.H?r.ka:null,r.V),u.J){kP(r.h,u);var m=u,_=r.J;_&&m.setTimeout(_),m.B&&(Jh(m),Da(m)),r.g=u}else r_(r);0<t.i.length&&sf(t)}else"stop"!=E[0]&&"close"!=E[0]||xm(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?xm(t,7):Dm(t):"noop"!=E[0]&&t.l&&t.l.wa(E),t.A=0)}Qh()}catch{}}function CP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Qy(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(qh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Nw(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(qh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(kt=Yy.prototype).setTimeout=function(n){this.O=n},kt.ib=function(n){n=n.target;const e=this.L;e&&3==xt(n)?e.l():this.La(n)},kt.La=function(n){try{if(n==this.g)e:{const N=xt(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>N)&&(3!=N||ET||this.g&&(this.h.h||this.g.fa()||Xe(this.g)))){this.I||4!=N||7==e||Qh(),Jh(this);var t=this.g.aa();this.Y=t;t:if(GT(this)){var r=Xe(this.g);n="";var i=r.length,a=4==xt(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Od(this),kd(this);var u="";break t}this.h.i=new ln.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function vP(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,N,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,_=this.g;if((m=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mm(m)){var E=m;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Si(12),Od(this),kd(this);break e}Md(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Im(this,t)}this.P?($T(this,N,u),ET&&this.i&&3==N&&(BT(this.S,this.T,"tick",this.hb),this.T.start())):(Md(this.j,this.m,u,null),Im(this,u)),4==N&&Od(this),this.i&&!this.I&&(4==N?gF(this.l,this):(this.i=!1,Da(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Si(12)):(this.o=0,Si(13)),Od(this),kd(this)}}}catch{}},kt.hb=function(){if(this.g){var n=xt(this.g),e=this.g.fa();this.C<e.length&&(Jh(this),$T(this,n,e),this.i&&4!=n&&Da(this))}},kt.cancel=function(){this.I=!0,Od(this)},kt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function aF(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Qh(),Si(17)),Od(this),this.o=2,kd(this)):Rw(this,this.V-n)};var EP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xh(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Xh){this.h=void 0!==e?e:n.h,Jy(this,n.j),this.s=n.s,this.g=n.g,Xy(this,n.m),this.l=n.l,e=n.i;var t=new Rd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),qT(this,t),this.o=n.o}else n&&(t=String(n).match(EP))?(this.h=!!e,Jy(this,t[1]||"",!0),this.s=ef(t[2]||""),this.g=ef(t[3]||"",!0),Xy(this,t[4]),this.l=ef(t[5]||"",!0),qT(this,t[6]||"",!0),this.o=ef(t[7]||"")):(this.h=!!e,this.i=new Rd(null,this.h))}function Al(n){return new Xh(n)}function Jy(n,e,t){n.j=t?ef(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Xy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function qT(n,e,t){e instanceof Rd?(n.i=e,function AP(n,e){e&&!n.j&&(gu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(YT(this,r),IP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=tf(e,uF)),n.i=new Rd(e,n.h))}function Sr(n,e,t){n.i.set(e,t)}function Am(n){return Sr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ef(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function tf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,SP),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function SP(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(tf(e,WT,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(tf(e,WT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(tf(t,"/"==t.charAt(0)?Fw:ZT,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",tf(t,KT)),n.join("")};var WT=/[#\/\?@]/g,ZT=/[#\?:]/g,Fw=/[#\?]/g,uF=/[#\?@]/g,KT=/#/g;function Rd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function gu(n){n.g||(n.g=new Map,n.h=0,n.i&&function cF(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function YT(n,e){gu(n),e=nf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function TP(n,e){return gu(n),e=nf(n,e),n.g.has(e)}function IP(n,e,t){YT(n,e),0<t.length&&(n.i=null,n.g.set(nf(n,e),aw(t)),n.h+=t.length)}function nf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function xP(n){this.l=n||dF,n=ln.PerformanceNavigationTiming?0<(n=ln.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ln.g&&ln.g.Ga&&ln.g.Ga()&&ln.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(kt=Rd.prototype).add=function(n,e){gu(this),this.i=null,n=nf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},kt.forEach=function(n,e){gu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},kt.oa=function(){gu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},kt.W=function(n){gu(this);let e=[];if("string"==typeof n)TP(this,n)&&(e=e.concat(this.g.get(nf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},kt.set=function(n,e){return gu(this),this.i=null,TP(this,n=nf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},kt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},kt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=a;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var dF=10;function PP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function MP(n){return n.h?1:n.g?n.g.size:0}function QT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Lw(n,e){n.g?n.g.add(e):n.h=e}function kP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function OP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return aw(n.i)}function JT(){}function hF(){this.g=new JT}function fF(n,e,t){const r=t||"";try{CP(n,function(i,a){let u=i;Vy(i)&&(u=_m(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function o(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function l(n){this.l=n.ac||null,this.j=n.jb||!1}function c(n,e){Xr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=f,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xP.prototype.cancel=function(){if(this.i=OP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},JT.prototype.stringify=function(n){return ln.JSON.stringify(n,void 0)},JT.prototype.parse=function(n){return ln.JSON.parse(n,void 0)},Oi(l,xw),l.prototype.g=function(){return new c(this.l,this.j)},l.prototype.i=function(n){return function(){return n}}({}),Oi(c,Xr);var f=0;function g(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function v(n){n.readyState=4,n.l=null,n.j=null,n.A=null,S(n)}function S(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(kt=c.prototype).open=function(n,e){if(this.readyState!=f)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,S(this)},kt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ln).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},kt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,v(this)),this.readyState=f},kt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,S(this)),this.g&&(this.readyState=3,S(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ln.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;g(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},kt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?v(this):S(this),3==this.readyState&&g(this)}},kt.Va=function(n){this.g&&(this.response=this.responseText=n,v(this))},kt.Ua=function(n){this.g&&(this.response=n,v(this))},kt.ga=function(){this.g&&v(this)},kt.setRequestHeader=function(n,e){this.v.append(n,e)},kt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},kt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(c.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var M=ln.JSON.parse;function V(n){Xr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Y,this.K=this.L=!1}Oi(V,Xr);var Y="",ce=/^https?$/i,ge=["POST","PUT"];function Le(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ze(n),dt(n)}function ze(n){n.D||(n.D=!0,Ri(n,"complete"),Ri(n,"error"))}function ot(n){if(n.h&&typeof pu<"u"&&(!n.C[1]||4!=xt(n)||2!=n.aa()))if(n.v&&4==xt(n))bw(n.Ha,0,n);else if(Ri(n,"readystatechange"),4==xt(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(EP)[1]||null;if(!i&&ln.self&&ln.self.location){var a=ln.self.location.protocol;i=a.substr(0,a.length-1)}r=!ce.test(i?i.toLowerCase():"")}t=r}if(t)Ri(n,"complete"),Ri(n,"success");else{n.m=6;try{var u=2<xt(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",ze(n)}}finally{dt(n)}}}function dt(n,e){if(n.g){It(n);const t=n.g,r=n.C[0]?fm:null;n.g=null,n.C=null,e||Ri(n,"ready");try{t.onreadystatechange=r}catch{}}}function It(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ln.clearTimeout(n.A),n.A=null)}function xt(n){return n.g?n.g.readyState:0}function Xe(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Y:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Xt(n){let e="";return hw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function $n(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Xt(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Sr(n,e,t))}function sr(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yu(n){this.Ca=0,this.i=[],this.j=new Ew,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=sr("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=sr("baseRetryDelayMs",5e3,n),this.bb=sr("retryDelaySeedMs",1e4,n),this.$a=sr("forwardChannelMaxRetries",2,n),this.ta=sr("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new xP(n&&n.concurrentRequestLimit),this.Fa=new hF,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Dm(n){if(e_(n),3==n.G){var e=n.U++,t=Al(n.F);Sr(t,"SID",n.I),Sr(t,"RID",e),Sr(t,"TYPE","terminate"),Nd(n,t),(e=new Yy(n,n.j,e,void 0)).K=2,e.v=Am(Al(t)),t=!1,ln.navigator&&ln.navigator.sendBeacon&&(t=ln.navigator.sendBeacon(e.v.toString(),"")),!t&&ln.Image&&((new Image).src=e.v,t=!0),t||(e.g=wF(e.l,null),e.g.da(e.v)),e.F=Date.now(),Da(e)}_F(n)}function rf(n){n.g&&(NP(n),n.g.cancel(),n.g=null)}function e_(n){rf(n),n.u&&(ln.clearTimeout(n.u),n.u=null),XT(n),n.h.cancel(),n.m&&("number"==typeof n.m&&ln.clearTimeout(n.m),n.m=null)}function sf(n){PP(n.h)||n.m||(n.m=!0,FT(n.Ja,n),n.C=0)}function t_(n,e){var t;t=e?e.m:n.U++;const r=Al(n.F);Sr(r,"SID",n.I),Sr(r,"RID",t),Sr(r,"AID",n.T),Nd(n,r),n.o&&n.s&&$n(r,n.o,n.s),t=new Yy(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=n_(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Lw(n.h,t),Ow(t,r,e)}function Nd(n,e){n.ia&&hw(n.ia,function(t,r){Sr(e,r,t)}),n.l&&CP({},function(t,r){Sr(e,r,t)})}function n_(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ki(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let m=!0;for(let _=0;_<t;_++){let E=i[_].h;const N=i[_].g;if(E-=a,0>E)a=Math.max(0,i[_].h-100),m=!1;else try{fF(N,u,"req"+E+"_")}catch{r&&r(N)}}if(m){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function r_(n){n.g||n.u||(n.Z=1,FT(n.Ia,n),n.A=0)}function RP(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Em(ki(n.Ia,n),yF(n,n.A)),n.A++,0))}function NP(n){null!=n.B&&(ln.clearTimeout(n.B),n.B=null)}function mF(n){n.g=new Yy(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Al(n.sa);Sr(e,"RID","rpc"),Sr(e,"SID",n.I),Sr(e,"CI",n.L?"0":"1"),Sr(e,"AID",n.T),Sr(e,"TYPE","xmlhttp"),Nd(n,e),n.o&&n.s&&$n(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Am(Al(e)),t.s=null,t.P=!0,Tm(t,n)}function XT(n){null!=n.v&&(ln.clearTimeout(n.v),n.v=null)}function gF(n,e){var t=null;if(n.g==e){XT(n),NP(n),n.g=null;var r=2}else{if(!QT(n.h,e))return;t=e.D,kP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ri(r=bm(),new Aw(r,t)),sf(n)}else r_(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Vw(n,e){return!(MP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Em(ki(n.Ja,n,e),yF(n,n.C)),n.C++,0)))}(n,e)||2==r&&RP(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:xm(n,5);break;case 4:xm(n,10);break;case 3:xm(n,6);break;default:xm(n,2)}}function yF(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function xm(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ki(n.kb,n);t||(t=new Xh("//www.google.com/images/cleardot.gif"),ln.location&&"http"==ln.location.protocol||Jy(t,"https"),Am(t)),function pF(n,e){const t=new Ew;if(ln.Image){const r=new Image;r.onload=pm(o,t,r,"TestLoadImage: loaded",!0,e),r.onerror=pm(o,t,r,"TestLoadImage: error",!1,e),r.onabort=pm(o,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=pm(o,t,r,"TestLoadImage: timeout",!1,e),ln.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Si(2);n.G=0,n.l&&n.l.va(e),_F(n),e_(n)}function _F(n){if(n.G=0,n.la=[],n.l){const e=OP(n.h);(0!=e.length||0!=n.i.length)&&(lw(n.la,e),lw(n.la,n.i),n.h.i.length=0,aw(n.i),n.i.length=0),n.l.ua()}}function vF(n,e,t){var r=t instanceof Xh?Al(t):new Xh(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Xy(r,r.m);else{var i=ln.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Xh(null,void 0);r&&Jy(a,r),e&&(a.g=e),i&&Xy(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Sr(r,t,e),Sr(r,"VER",n.ma),Nd(n,r),r}function wF(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new V(t&&n.Da&&!n.ra?new l({jb:!0}):n.ra)).Ka(n.H),e}function bF(){}function eI(){if(gm&&!(10<=Number(dw)))throw Error("Environmental error: no available transport.")}function xa(n,e){Xr.call(this),this.g=new yu(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!mm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new i_(this)}function CF(n){Zy.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function EF(){Pw.call(this),this.status=1}function i_(n){this.g=n}(kt=V.prototype).Ka=function(n){this.L=n},kt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mw.g(),this.C=function HT(n){return n.h||(n.h=n.i())}(this.u?this.u:Mw),this.g.onreadystatechange=ki(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Le(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=ln.FormData&&n instanceof ln.FormData,!(0<=vT(ge,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{It(this),0<this.B&&((this.K=function De(n){return gm&&function TT(){return function CT(n){var e=jy;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=cw(String(uw)).split("."),t=cw("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=By(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||By(0==i[2].length,0==a[2].length)||By(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ki(this.qa,this)):this.A=bw(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Le(this,a)}},kt.qa=function(){typeof pu<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ri(this,"timeout"),this.abort(8))},kt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ri(this,"complete"),Ri(this,"abort"),dt(this))},kt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dt(this,!0)),V.X.M.call(this)},kt.Ha=function(){this.s||(this.F||this.v||this.l?ot(this):this.fb())},kt.fb=function(){ot(this)},kt.aa=function(){try{return 2<xt(this)?this.g.status:-1}catch{return-1}},kt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},kt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),M(e)}},kt.Ea=function(){return this.m},kt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(kt=yu.prototype).ma=8,kt.G=1,kt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Yy(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=ym(a),fP(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=n_(this,i,e),Sr(t=Al(this.F),"RID",n),Sr(t,"CVER",22),this.D&&Sr(t,"X-HTTP-Session-Id",this.D),Nd(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(Xt(a)))+"&"+e:this.o&&$n(t,this.o,a)),Lw(this.h,i),this.Ya&&Sr(t,"TYPE","init"),this.O?(Sr(t,"$req",e),Sr(t,"SID","null"),i.Z=!0,Ow(i,t,null)):Ow(i,t,e),this.G=2}}else 3==this.G&&(n?t_(this,n):0==this.i.length||PP(this.h)||t_(this))},kt.Ia=function(){if(this.u=null,mF(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Em(ki(this.eb,this),n)}},kt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Si(10),rf(this),mF(this))},kt.cb=function(){null!=this.v&&(this.v=null,rf(this),RP(this),Si(19))},kt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Si(2)):(this.j.info("Failed to ping google.com"),Si(1))},(kt=bF.prototype).xa=function(){},kt.wa=function(){},kt.va=function(){},kt.ua=function(){},kt.Ra=function(){},eI.prototype.g=function(n,e){return new xa(n,e)},Oi(xa,Xr),xa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Si(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=vF(n,null,n.V),sf(n)},xa.prototype.close=function(){Dm(this.g)},xa.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=_m(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&sf(e)},xa.prototype.M=function(){this.g.l=null,delete this.j,Dm(this.g),delete this.g,xa.X.M.call(this)},Oi(CF,Zy),Oi(EF,Pw),Oi(i_,bF),i_.prototype.xa=function(){Ri(this.g,"a")},i_.prototype.wa=function(n){Ri(this.g,new CF(n))},i_.prototype.va=function(n){Ri(this.g,new EF)},i_.prototype.ua=function(){Ri(this.g,"b")},eI.prototype.createWebChannel=eI.prototype.g,xa.prototype.send=xa.prototype.u,xa.prototype.open=xa.prototype.m,xa.prototype.close=xa.prototype.close,Sm.NO_ERROR=0,Sm.TIMEOUT=8,Sm.HTTP_ERROR=6,Dw.COMPLETE="complete",wP.EventType=Wy,Wy.OPEN="a",Wy.CLOSE="b",Wy.ERROR="c",Wy.MESSAGE="d",Xr.prototype.listen=Xr.prototype.N,V.prototype.listenOnce=V.prototype.O,V.prototype.getLastError=V.prototype.Oa,V.prototype.getLastErrorCode=V.prototype.Ea,V.prototype.getStatus=V.prototype.aa,V.prototype.getResponseJson=V.prototype.Sa,V.prototype.getResponseText=V.prototype.fa,V.prototype.send=V.prototype.da,V.prototype.setWithCredentials=V.prototype.Ka;var GH=yc.createWebChannelTransport=function(){return new eI},$H=yc.getStatEventTarget=function(){return bm()},FP=yc.ErrorCode=Sm,zH=yc.EventType=Dw,qH=yc.Event=mu,SF=yc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},WH=yc.FetchXmlHttpFactory=l,tI=yc.WebChannel=wP,ZH=yc.XhrIo=V;const TF="@firebase/firestore";class Ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ji.UNAUTHENTICATED=new Ji(null),Ji.GOOGLE_CREDENTIALS=new Ji("google-credentials-uid"),Ji.FIRST_PARTY=new Ji("first-party-uid"),Ji.MOCK_USER=new Ji("mock-user");let s_="9.14.0";const af=new Zo.Yd("@firebase/firestore");function LP(){return af.logLevel}function it(n,...e){if(af.logLevel<=Zo.in.DEBUG){const t=e.map(VP);af.debug(`Firestore (${s_}): ${n}`,...t)}}function fi(n,...e){if(af.logLevel<=Zo.in.ERROR){const t=e.map(VP);af.error(`Firestore (${s_}): ${n}`,...t)}}function Pm(n,...e){if(af.logLevel<=Zo.in.WARN){const t=e.map(VP);af.warn(`Firestore (${s_}): ${n}`,...t)}}function VP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Dt(n="Unexpected state"){const e=`FIRESTORE (${s_}) INTERNAL ASSERTION FAILED: `+n;throw fi(e),new Error(e)}function nn(n,e){n||Dt()}function _t(n,e){return n}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class IF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ji.UNAUTHENTICATED))}shutdown(){}}class JH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class XH{constructor(e){this.t=e,this.currentUser=Ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let u=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ni,e.enqueueRetryable(()=>a(this.currentUser))};const m=()=>{const E=u;e.enqueueRetryable((0,He.Z)(function*(){yield E.promise,yield a(r.currentUser)}))},_=E=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(E=>_(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?_(E):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ni)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nn("string"==typeof r.accessToken),new IF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nn(null===e||"string"==typeof e),new Ji(e)}}class e4{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Ji.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(nn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class t4{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new e4(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n4{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,it("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nn("string"==typeof t.token),this.A=t.token,new AF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function r4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class DF{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=r4(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function pn(n,e){return n<e?-1:n>e?1:0}function o_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function xF(n){return n+"\0"}class Lr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lr.fromMillis(Date.now())}static fromDate(e){return Lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Lr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pn(this.nanoseconds,e.nanoseconds):pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rn(e)}static min(){return new rn(new Lr(0,0))}static max(){return new rn(new Lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bw{constructor(e,t,r){void 0===t?t=0:t>e.length&&Dt(),void 0===r?r=e.length-t:r>e.length-t&&Dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Bw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bw?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qn extends Bw{construct(e,t,r){return new qn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new tt(je.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qn(t)}static emptyPath(){return new qn([])}}const i4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ei extends Bw{construct(e,t,r){return new ei(e,t,r)}static isValidIdentifier(e){return i4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ei.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ei(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new tt(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new tt(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new tt(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===m?(u=!u,i++):"."!==m||u?(r+=m,i++):(a(),i++)}if(a(),u)throw new tt(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ei(t)}static emptyPath(){return new ei([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(qn.fromString(e))}static fromName(e){return new gt(qn.fromString(e).popFirst(5))}static empty(){return new gt(qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new qn(e.slice()))}}class nI{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function BP(n){return n.fields.find(e=>2===e.kind)}function Mm(n){return n.fields.filter(e=>2!==e.kind)}nI.UNKNOWN_ID=-1;class rI{constructor(e,t){this.fieldPath=e,this.kind=t}}class Uw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Uw(0,Pa.min())}}function PF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=rn.fromTimestamp(1e9===r?new Lr(t+1,0):new Lr(t,r));return new Pa(i,gt.empty(),e)}function MF(n){return new Pa(n.readTime,n.key,-1)}class Pa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Pa(rn.min(),gt.empty(),-1)}static max(){return new Pa(rn.max(),gt.empty(),-1)}}function UP(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=gt.comparator(n.documentKey,e.documentKey),0!==t?t:pn(n.largestBatchId,e.largestBatchId))}const kF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function lf(n){return HP.apply(this,arguments)}function HP(){return HP=(0,He.Z)(function*(n){if(n.code!==je.FAILED_PRECONDITION||n.message!==kF)throw n;it("LocalStore","Unexpectedly lost primary lease")}),HP.apply(this,arguments)}class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ue((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ue?t:Ue.resolve(t)}catch(t){return Ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.reject(t)}static resolve(e){return new Ue((t,r)=>{t(e)})}static reject(e){return new Ue((t,r)=>{r(e)})}static waitFor(e){return new Ue((t,r)=>{let i=0,a=0,u=!1;e.forEach(m=>{++i,m.next(()=>{++a,u&&a===i&&t()},_=>r(_))}),u=!0,a===i&&t()})}static or(e){let t=Ue.resolve(!1);for(const r of e)t=t.next(i=>i?Ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Ue((r,i)=>{const a=e.length,u=new Array(a);let m=0;for(let _=0;_<a;_++){const E=_;t(e[E]).next(N=>{u[E]=N,++m,m===a&&r(u)},N=>i(N))}})}static doWhile(e,t){return new Ue((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class iI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ni,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Hw(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=jP(r.target.error);this.P.reject(new Hw(e,i))}}static open(e,t,r,i){try{return new iI(t,e.transaction(i,r))}catch(a){throw new Hw(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(it("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new l4(t)}}class wc{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===wc.D((0,fe.z$)())&&fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return it("SimpleDb","Removing database:",e),km(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,fe.hl)())return!1;if(wc.N())return!0;const e=(0,fe.z$)(),t=wc.D(e),r=0<t&&t<10,i=wc.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,He.Z)(function*(){return t.db||(it("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new Hw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const m=u.target.error;i("VersionError"===m.name?new tt(je.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new tt(je.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Hw(e,m))},a.onupgradeneeded=u=>{it("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{it("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,He.Z)(function*(){const u="readonly"===t;let m=0;for(;;){++m;try{a.db=yield a.F(e);const _=iI.open(a.db,e,u?"readonly":"readwrite",r),E=i(_).next(N=>(_.V(),N)).catch(N=>(_.abort(N),Ue.reject(N))).toPromise();return E.catch(()=>{}),yield _.v,E}catch(_){const E=_,N="FirebaseError"!==E.name&&m<3;if(it("SimpleDb","Transaction failed with error:",E.message,"Retrying:",N),a.close(),!N)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class a4{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return km(this.U.delete())}}class Hw extends tt{constructor(e,t){super(je.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function cf(n){return"IndexedDbTransactionError"===n.name}class l4{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(it("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(it("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),km(r)}add(e){return it("SimpleDb","ADD",this.store.name,e,e),km(this.store.add(e))}get(e){return km(this.store.get(e)).next(t=>(void 0===t&&(t=null),it("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return it("SimpleDb","DELETE",this.store.name,e),km(this.store.delete(e))}count(){return it("SimpleDb","COUNT",this.store.name),km(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(u,m)=>{a.push(m)}).next(()=>a)}{const i=this.store.getAll(r.range);return new Ue((a,u)=>{i.onerror=m=>{u(m.target.error)},i.onsuccess=m=>{a(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ue((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){it("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,u,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new Ue((r,i)=>{t.onerror=a=>{const u=jP(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(m=>{m?u.continue():r()}):r()}})}H(e,t){const r=[];return new Ue((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const m=u.target.result;if(!m)return void i();const _=new a4(m),E=t(m.primaryKey,m.value,_);if(E instanceof Ue){const N=E.catch(W=>(_.done(),Ue.reject(W)));r.push(N)}_.isDone?i():null===_.G?m.continue():m.continue(_.G)}}).next(()=>Ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function km(n){return new Ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=jP(r.target.error);t(i)}})}let RF=!1;function jP(n){const e=wc.D((0,fe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RF||(RF=!0,setTimeout(()=>{throw r},0)),r}}return n}class c4{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;it("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,He.Z)(function*(){t.task=null;try{it("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){cf(r)?it("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield lf(r)}yield t.nt(6e4)}))}}class u4{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,He.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return Ue.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return it("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(m=>{i-=m,r.add(u)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,a)).next(m=>(it("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const u=MF(a);UP(u,r)>0&&(r=u)}),new Pa(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ko{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function NF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Om(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ko.at=-1;class ti{constructor(e,t){this.comparator=e,this.root=t||_s.EMPTY}insert(e,t){return new ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_s.BLACK,null,null))}remove(e){return new ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_s.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sI(this.root,e,this.comparator,!1)}getReverseIterator(){return new sI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sI(this.root,e,this.comparator,!0)}}class sI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _s{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??_s.RED,this.left=i??_s.EMPTY,this.right=a??_s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new _s(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return _s.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}_s.EMPTY=null,_s.RED=!0,_s.BLACK=!1,_s.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new _s(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gr{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LF(this.data.getIterator())}getIteratorFrom(e){return new LF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof gr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gr(this.comparator);return t.data=e,t}}class LF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function a_(n){return n.hasNext()?n.getNext():void 0}class Ma{constructor(e){this.fields=e,e.sort(ei.comparator)}static empty(){return new Ma([])}unionWith(e){let t=new gr(ei.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ma(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return o_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Fi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fi.EMPTY_BYTE_STRING=new Fi("");const h4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uf(n){if(nn(!!n),"string"==typeof n){let e=0;const t=h4.exec(n);if(nn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ni(n.seconds),nanos:ni(n.nanos)}}function ni(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Rm(n){return"string"==typeof n?Fi.fromBase64String(n):Fi.fromUint8Array(n)}function GP(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function VF(n){const e=n.mapValue.fields.__previous_value__;return GP(e)?VF(e):e}function jw(n){const e=uf(n.mapValue.fields.__local_write_time__.timestampValue);return new Lr(e.seconds,e.nanos)}class f4{constructor(e,t,r,i,a,u,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.useFetchStreams=_}}class df{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new df("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof df&&e.projectId===this.projectId&&e.database===this.database}}function Gw(n){return null==n}function $w(n){return 0===n&&1/n==-1/0}function BF(n){return"number"==typeof n&&Number.isInteger(n)&&!$w(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const hf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},oI={nullValue:"NULL_VALUE"};function Nm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?GP(n)?4:GF(n)?9007199254740991:10:Dt()}function _u(n,e){if(n===e)return!0;const t=Nm(n);if(t!==Nm(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jw(n).isEqual(jw(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=uf(r.timestampValue),u=uf(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Rm(n.bytesValue).isEqual(Rm(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ni(r.geoPointValue.latitude)===ni(i.geoPointValue.latitude)&&ni(r.geoPointValue.longitude)===ni(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ni(r.integerValue)===ni(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=ni(r.doubleValue),u=ni(i.doubleValue);return a===u?$w(a)===$w(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return o_(n.arrayValue.values||[],e.arrayValue.values||[],_u);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(NF(a)!==NF(u))return!1;for(const m in a)if(a.hasOwnProperty(m)&&(void 0===u[m]||!_u(a[m],u[m])))return!1;return!0}(n,e);default:return Dt()}var i}function zw(n,e){return void 0!==(n.values||[]).find(t=>_u(t,e))}function ff(n,e){if(n===e)return 0;const t=Nm(n),r=Nm(e);if(t!==r)return pn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=ni(i.integerValue||i.doubleValue),m=ni(a.integerValue||a.doubleValue);return u<m?-1:u>m?1:u===m?0:isNaN(u)?isNaN(m)?0:-1:1}(n,e);case 3:return UF(n.timestampValue,e.timestampValue);case 4:return UF(jw(n),jw(e));case 5:return pn(n.stringValue,e.stringValue);case 6:return function(i,a){const u=Rm(i),m=Rm(a);return u.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),m=a.split("/");for(let _=0;_<u.length&&_<m.length;_++){const E=pn(u[_],m[_]);if(0!==E)return E}return pn(u.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=pn(ni(i.latitude),ni(a.latitude));return 0!==u?u:pn(ni(i.longitude),ni(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],m=a.values||[];for(let _=0;_<u.length&&_<m.length;++_){const E=ff(u[_],m[_]);if(E)return E}return pn(u.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===hf.mapValue&&a===hf.mapValue)return 0;if(i===hf.mapValue)return 1;if(a===hf.mapValue)return-1;const u=i.fields||{},m=Object.keys(u),_=a.fields||{},E=Object.keys(_);m.sort(),E.sort();for(let N=0;N<m.length&&N<E.length;++N){const W=pn(m[N],E[N]);if(0!==W)return W;const se=ff(u[m[N]],_[E[N]]);if(0!==se)return se}return pn(m.length,E.length)}(n.mapValue,e.mapValue);default:throw Dt()}}function UF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return pn(n,e);const t=uf(n),r=uf(e),i=pn(t.seconds,r.seconds);return 0!==i?i:pn(t.nanos,r.nanos)}function l_(n){return $P(n)}function $P(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=uf(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Rm(n.bytesValue).toBase64():"referenceValue"in n?gt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=$P(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const m of i)u?u=!1:a+=",",a+=`${m}:${$P(r.fields[m])}`;return a+"}"}(n.mapValue):Dt();var e}function Fm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zP(n){return!!n&&"integerValue"in n}function qw(n){return!!n&&"arrayValue"in n}function HF(n){return!!n&&"nullValue"in n}function jF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function aI(n){return!!n&&"mapValue"in n}function Ww(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Om(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ww(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ww(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function p4(n){return"nullValue"in n?oI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Fm(df.empty(),gt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Dt()}function m4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Fm(df.empty(),gt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?hf:Dt()}function $F(n,e){const t=ff(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function zF(n,e){const t=ff(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class vs{constructor(e){this.value=e}static empty(){return new vs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!aI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ww(t)}setAll(e){let t=ei.emptyPath(),r={},i=[];e.forEach((u,m)=>{if(!t.isImmediateParentOf(m)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=m.popLast()}u?r[m.lastSegment()]=Ww(u):i.push(m.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());aI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _u(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];aI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Om(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new vs(Ww(this.value))}}function qF(n){const e=[];return Om(n.fields,(t,r)=>{const i=new ei([t]);if(aI(r)){const a=qF(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Ma(e)}class Tr{constructor(e,t,r,i,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Tr(e,0,rn.min(),rn.min(),vs.empty(),0)}static newFoundDocument(e,t,r){return new Tr(e,1,t,rn.min(),r,0)}static newNoDocument(e,t){return new Tr(e,2,t,rn.min(),vs.empty(),0)}static newUnknownDocument(e,t){return new Tr(e,3,t,rn.min(),vs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class g4{constructor(e,t=null,r=[],i=[],a=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=m,this.ht=null}}function WF(n,e=null,t=[],r=[],i=null,a=null,u=null){return new g4(n,e,t,r,i,a,u)}function Lm(n){const e=_t(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+l_(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Gw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>l_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>l_(r)).join(",")),e.ht=t}return e.ht}function Zw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!T4(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!_u(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JF(n.startAt,e.startAt)&&JF(n.endAt,e.endAt)}function lI(n){return gt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function cI(n,e){return n.filters.filter(t=>t instanceof ws&&t.field.isEqual(e))}function ZF(n,e,t){let r=oI,i=!0;for(const a of cI(n,e)){let u=oI,m=!0;switch(a.op){case"<":case"<=":u=p4(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,m=!1;break;case"!=":case"not-in":u=oI}$F({value:r,inclusive:i},{value:u,inclusive:m})<0&&(r=u,i=m)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];$F({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function KF(n,e,t){let r=hf,i=!0;for(const a of cI(n,e)){let u=hf,m=!0;switch(a.op){case">=":case">":u=m4(a.value),m=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,m=!1;break;case"!=":case"not-in":u=hf}zF({value:r,inclusive:i},{value:u,inclusive:m})>0&&(r=u,i=m)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];zF({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class ws extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new _4(e,t,r):"array-contains"===t?new b4(e,r):"in"===t?new C4(e,r):"not-in"===t?new E4(e,r):"array-contains-any"===t?new S4(e,r):new ws(e,t,r)}static lt(e,t,r){return"in"===t?new v4(e,r):new w4(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ff(t,this.value)):null!==t&&Nm(this.value)===Nm(t)&&this.ft(ff(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _4 extends ws{constructor(e,t,r){super(e,t,r),this.key=gt.fromName(r.referenceValue)}matches(e){const t=gt.comparator(e.key,this.key);return this.ft(t)}}class v4 extends ws{constructor(e,t){super(e,"in",t),this.keys=YF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class w4 extends ws{constructor(e,t){super(e,"not-in",t),this.keys=YF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function YF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>gt.fromName(r.referenceValue))}class b4 extends ws{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qw(t)&&zw(t.arrayValue,this.value)}}class C4 extends ws{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zw(this.value.arrayValue,t)}}class E4 extends ws{constructor(e,t){super(e,"not-in",t)}matches(e){if(zw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zw(this.value.arrayValue,t)}}class S4 extends ws{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zw(this.value.arrayValue,r))}}class pf{constructor(e,t){this.position=e,this.inclusive=t}}class c_{constructor(e,t="asc"){this.field=e,this.dir=t}}function T4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function QF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?gt.comparator(gt.fromName(u.referenceValue),t.key):ff(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function JF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_u(n.position[t],e.position[t]))return!1;return!0}class Fd{constructor(e,t=null,r=[],i=[],a=null,u="F",m=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=m,this.endAt=_,this._t=null,this.wt=null}}function XF(n,e,t,r,i,a,u,m){return new Fd(n,e,t,r,i,a,u,m)}function u_(n){return new Fd(n)}function eL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function qP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function WP(n){for(const e of n.filters)if(e.dt())return e.field;return null}function ZP(n){return null!==n.collectionGroup}function d_(n){const e=_t(n);if(null===e._t){e._t=[];const t=WP(e),r=qP(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new c_(t)),e._t.push(new c_(ei.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new c_(ei.keyField(),a))}}}return e._t}function fo(n){const e=_t(n);if(!e.wt)if("F"===e.limitType)e.wt=WF(e.path,e.collectionGroup,d_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of d_(e))t.push(new c_(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new pf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pf(e.startAt.position,e.startAt.inclusive):null;e.wt=WF(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function uI(n,e,t){return new Fd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kw(n,e){return Zw(fo(n),fo(e))&&n.limitType===e.limitType}function tL(n){return`${Lm(fo(n))}|lt:${n.limitType}`}function KP(n){return`Query(target=${function y4(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${l_(r.value)}`;var r}).join(", ")}]`),Gw(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>l_(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>l_(t)).join(",")),`Target(${e})`}(fo(n))}; limitType=${n.limitType})`}function YP(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):gt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const m=QF(i,a,u);return i.inclusive?m<=0:m<0}(t.startAt,d_(t),r)||t.endAt&&!function(i,a,u){const m=QF(i,a,u);return i.inclusive?m>=0:m>0}(t.endAt,d_(t),r)));var t,r}function nL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rL(n){return(e,t)=>{let r=!1;for(const i of d_(n)){const a=I4(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function I4(n,e,t){const r=n.field.isKeyField()?gt.comparator(e.key,t.key):function(i,a,u){const m=a.data.field(i),_=u.data.field(i);return null!==m&&null!==_?ff(m,_):Dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Dt()}}function iL(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$w(e)?"-0":e}}function sL(n){return{integerValue:""+n}}function oL(n,e){return BF(e)?sL(e):iL(n,e)}class dI{constructor(){this._=void 0}}function A4(n,e,t){return n instanceof h_?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Vm?lL(n,e):n instanceof Bm?cL(n,e):function(r,i){const a=aL(r,i),u=uL(a)+uL(r.yt);return zP(a)&&zP(r.yt)?sL(u):iL(r.It,u)}(n,e)}function D4(n,e,t){return n instanceof Vm?lL(n,e):n instanceof Bm?cL(n,e):t}function aL(n,e){return n instanceof f_?zP(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class h_ extends dI{}class Vm extends dI{constructor(e){super(),this.elements=e}}function lL(n,e){const t=dL(e);for(const r of n.elements)t.some(i=>_u(i,r))||t.push(r);return{arrayValue:{values:t}}}class Bm extends dI{constructor(e){super(),this.elements=e}}function cL(n,e){let t=dL(e);for(const r of n.elements)t=t.filter(i=>!_u(i,r));return{arrayValue:{values:t}}}class f_ extends dI{constructor(e,t){super(),this.It=e,this.yt=t}}function uL(n){return ni(n.integerValue||n.doubleValue)}function dL(n){return qw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yw{constructor(e,t){this.field=e,this.transform=t}}class P4{constructor(e,t){this.version=e,this.transformResults=t}}class Vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class fI{}function hL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new m_(n.key,Vr.none()):new p_(n.key,n.data,Vr.none());{const t=n.data,r=vs.empty();let i=new gr(ei.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?r.delete(a):r.set(a,u),i=i.add(a)}return new Ld(n.key,r,new Ma(i.toArray()),Vr.none())}}function M4(n,e,t){n instanceof p_?function(r,i,a){const u=r.value.clone(),m=mL(r.fieldTransforms,i,a.transformResults);u.setAll(m),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ld?function(r,i,a){if(!hI(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=mL(r.fieldTransforms,i,a.transformResults),m=i.data;m.setAll(pL(r)),m.setAll(u),i.convertToFoundDocument(a.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Qw(n,e,t,r){return n instanceof p_?function(i,a,u,m){if(!hI(i.precondition,a))return u;const _=i.value.clone(),E=gL(i.fieldTransforms,m,a);return _.setAll(E),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ld?function(i,a,u,m){if(!hI(i.precondition,a))return u;const _=gL(i.fieldTransforms,m,a),E=a.data;return E.setAll(pL(i)),E.setAll(_),a.convertToFoundDocument(a.version,E).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(N=>N.field))}(n,e,t,r):(u=t,hI(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function k4(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=aL(r.transform,i||null);null!=a&&(null===t&&(t=vs.empty()),t.set(r.field,a))}return t||null}function fL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&o_(t,r,(i,a)=>function x4(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Vm&&r instanceof Vm||t instanceof Bm&&r instanceof Bm?o_(t.elements,r.elements,_u):t instanceof f_&&r instanceof f_?_u(t.yt,r.yt):t instanceof h_&&r instanceof h_);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class p_ extends fI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ld extends fI{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function mL(n,e,t){const r=new Map;nn(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,m=e.data.field(a.field);r.set(a.field,D4(u,m,t[i]))}return r}function gL(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,A4(a,u,e))}return r}class m_ extends fI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QP extends fI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class O4{constructor(e){this.count=e}}var Ti,Wn;function yL(n){switch(n){default:return Dt();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}function _L(n){if(void 0===n)return fi("GRPC error has no .code"),je.UNKNOWN;switch(n){case Ti.OK:return je.OK;case Ti.CANCELLED:return je.CANCELLED;case Ti.UNKNOWN:return je.UNKNOWN;case Ti.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case Ti.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case Ti.INTERNAL:return je.INTERNAL;case Ti.UNAVAILABLE:return je.UNAVAILABLE;case Ti.UNAUTHENTICATED:return je.UNAUTHENTICATED;case Ti.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case Ti.NOT_FOUND:return je.NOT_FOUND;case Ti.ALREADY_EXISTS:return je.ALREADY_EXISTS;case Ti.PERMISSION_DENIED:return je.PERMISSION_DENIED;case Ti.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case Ti.ABORTED:return je.ABORTED;case Ti.OUT_OF_RANGE:return je.OUT_OF_RANGE;case Ti.UNIMPLEMENTED:return je.UNIMPLEMENTED;case Ti.DATA_LOSS:return je.DATA_LOSS;default:return Dt()}}(Wn=Ti||(Ti={}))[Wn.OK=0]="OK",Wn[Wn.CANCELLED=1]="CANCELLED",Wn[Wn.UNKNOWN=2]="UNKNOWN",Wn[Wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wn[Wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wn[Wn.NOT_FOUND=5]="NOT_FOUND",Wn[Wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wn[Wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wn[Wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wn[Wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wn[Wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wn[Wn.ABORTED=10]="ABORTED",Wn[Wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wn[Wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wn[Wn.INTERNAL=13]="INTERNAL",Wn[Wn.UNAVAILABLE=14]="UNAVAILABLE",Wn[Wn.DATA_LOSS=15]="DATA_LOSS";class mf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Om(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return FF(this.inner)}size(){return this.innerSize}}const R4=new ti(gt.comparator);function Yo(){return R4}const vL=new ti(gt.comparator);function Jw(...n){let e=vL;for(const t of n)e=e.insert(t.key,t);return e}function wL(n){let e=vL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vu(){return Xw()}function bL(){return Xw()}function Xw(){return new mf(n=>n.toString(),(n,e)=>n.isEqual(e))}const N4=new ti(gt.comparator),F4=new gr(gt.comparator);function En(...n){let e=F4;for(const t of n)e=e.add(t);return e}const L4=new gr(pn);function pI(){return L4}class eb{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,tb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new eb(rn.min(),i,pI(),Yo(),En())}}class tb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new tb(r,t,En(),En(),En())}}class mI{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class CL{constructor(e,t){this.targetId=e,this.At=t}}class EL{constructor(e,t,r=Fi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class SL{constructor(){this.Rt=0,this.bt=IL(),this.Pt=Fi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=En(),t=En(),r=En();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Dt()}}),new tb(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=IL()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class V4{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Yo(),this.qt=TL(),this.Kt=new gr(pn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(lI(a))if(0===r){const u=new gt(a.path);this.jt(t,u,Tr.newNoDocument(u,rn.min()))}else nn(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const m=this.Xt(u);if(m){if(a.current&&lI(m.target)){const _=new gt(m.target.path);null!==this.Ut.get(_)||this.ee(u,_)||this.jt(u,_,Tr.newNoDocument(_,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let r=En();this.qt.forEach((a,u)=>{let m=!0;u.forEachWhile(_=>{const E=this.Xt(_);return!E||2===E.purpose||(m=!1,!1)}),m&&(r=r.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const i=new eb(e,t,this.Kt,this.Ut,r);return this.Ut=Yo(),this.qt=TL(),this.Kt=new gr(pn),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new SL,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new gr(pn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||it("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new SL),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function TL(){return new ti(gt.comparator)}function IL(){return new ti(gt.comparator)}const B4={asc:"ASCENDING",desc:"DESCENDING"},U4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class H4{constructor(e,t){this.databaseId=e,this.gt=t}}function nb(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AL(n,e){return n.gt?e.toBase64():e.toUint8Array()}function j4(n,e){return nb(n,e.toTimestamp())}function Xi(n){return nn(!!n),rn.fromTimestamp(function(e){const t=uf(e);return new Lr(t.seconds,t.nanos)}(n))}function JP(n,e){return(t=n,new qn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function DL(n){const e=qn.fromString(n);return nn(FL(e)),e}function rb(n,e){return JP(n.databaseId,e.path)}function wu(n,e){const t=DL(e);if(t.get(1)!==n.databaseId.projectId)throw new tt(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new tt(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new gt(PL(t))}function XP(n,e){return JP(n.databaseId,e)}function xL(n){const e=DL(n);return 4===e.length?qn.emptyPath():PL(e)}function ib(n){return new qn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PL(n){return nn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ML(n,e,t){return{name:rb(n,e),fields:t.value.mapValue.fields}}function kL(n,e,t){const r=wu(n,e.name),i=Xi(e.updateTime),a=new vs({mapValue:{fields:e.fields}}),u=Tr.newFoundDocument(r,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function sb(n,e){let t;if(e instanceof p_)t={update:ML(n,e.key,e.value)};else if(e instanceof m_)t={delete:rb(n,e.key)};else if(e instanceof Ld)t={update:ML(n,e.key,e.data),updateMask:Q4(e.fieldMask)};else{if(!(e instanceof QP))return Dt();t={verify:rb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof h_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Vm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Bm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof f_)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw Dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:j4(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Dt()),t;var i}function eM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Vr.updateTime(Xi(i.updateTime)):void 0!==i.exists?Vr.exists(i.exists):Vr.none():Vr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let m=null;"setToServerValue"in u?(nn("REQUEST_TIME"===u.setToServerValue),m=new h_):"appendMissingElements"in u?m=new Vm(u.appendMissingElements.values||[]):"removeAllFromArray"in u?m=new Bm(u.removeAllFromArray.values||[]):"increment"in u?m=new f_(a,u.increment):Dt();const _=ei.fromServerFormat(u.fieldPath);return new Yw(_,m)}(n,i)):[];var i;if(e.update){const i=wu(n,e.update.name),a=new vs({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Ma((e.updateMask.fieldPaths||[]).map(E=>ei.fromServerFormat(E)));return new Ld(i,a,u,t,r)}return new p_(i,a,t,r)}if(e.delete){const i=wu(n,e.delete);return new m_(i,t)}if(e.verify){const i=wu(n,e.verify);return new QP(i,t)}return Dt()}function OL(n,e){return{documents:[XP(n,e.path)]}}function tM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=XP(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=XP(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const E=_.map(N=>function(W){if("=="===W.op){if(jF(W.value))return{unaryFilter:{field:g_(W.field),op:"IS_NAN"}};if(HF(W.value))return{unaryFilter:{field:g_(W.field),op:"IS_NULL"}}}else if("!="===W.op){if(jF(W.value))return{unaryFilter:{field:g_(W.field),op:"IS_NOT_NAN"}};if(HF(W.value))return{unaryFilter:{field:g_(W.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:g_(W.field),op:Z4(W.op),value:W.value}}}(N));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(E=>{return{field:g_((N=E).field),direction:W4(N.dir)};var N})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(E=e.limit,n.gt||Gw(E)?E:{value:E});var E,m,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function RL(n){let e=xL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){nn(1===r);const N=t.from[0];N.allDescendants?i=N.collectionId:e=e.child(N.collectionId)}let a=[];t.where&&(a=NL(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(N=>{return new c_(y_((W=N).field),function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction));var W}));let m=null;t.limit&&(m=function(N){let W;return W="object"==typeof N?N.value:N,Gw(W)?null:W}(t.limit));let _=null;var N;t.startAt&&(_=new pf((N=t.startAt).values||[],!!N.before));let E=null;return t.endAt&&(E=function(N){return new pf(N.values||[],!N.before)}(t.endAt)),XF(e,i,u,a,m,"F",_,E)}function NL(n){return n?void 0!==n.unaryFilter?[Y4(n)]:void 0!==n.fieldFilter?[K4(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>NL(e)).reduce((e,t)=>e.concat(t)):Dt():[]}function W4(n){return B4[n]}function Z4(n){return U4[n]}function g_(n){return{fieldPath:n.canonicalString()}}function y_(n){return ei.fromServerFormat(n.fieldPath)}function K4(n){return ws.create(y_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Y4(n){switch(n.unaryFilter.op){case"IS_NAN":const e=y_(n.unaryFilter.field);return ws.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=y_(n.unaryFilter.field);return ws.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=y_(n.unaryFilter.field);return ws.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=y_(n.unaryFilter.field);return ws.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}function Q4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function FL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function po(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=LL(e)),e=J4(n.get(t),e);return LL(e)}function J4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function LL(n){return n+"\x01\x01"}function bu(n){const e=n.length;if(nn(e>=2),2===e)return nn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),qn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&Dt(),n.charAt(u+1)){case"\x01":const m=n.substring(a,u);let _;0===i.length?_=m:(i+=m,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:Dt()}a=u+2}return new qn(r)}const VL=["userId","batchId"];function gI(n,e){return[n,po(e)]}function BL(n,e,t){return[n,po(e),t]}const X4={},ej=["prefixPath","collectionGroup","readTime","documentId"],tj=["prefixPath","collectionGroup","documentId"],nj=["collectionGroup","readTime","prefixPath","documentId"],rj=["canonicalId","targetId"],ij=["targetId","path"],sj=["path","targetId"],oj=["collectionId","parent"],aj=["indexId","uid"],lj=["uid","sequenceNumber"],cj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uj=["indexId","uid","orderedDocumentKey"],dj=["userId","collectionPath","documentId"],hj=["userId","collectionPath","largestBatchId"],fj=["userId","collectionGroup","largestBatchId"],UL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pj=[...UL,"documentOverlays"],HL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jL=HL,mj=[...jL,"indexConfiguration","indexState","indexEntries"];class nM extends OF{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function es(n,e){const t=_t(n);return wc.M(t.ie,e)}class rM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&M4(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Qw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=bL();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let m=this.applyToLocalView(u,a.mutatedFields);m=t.has(i.key)?null:m;const _=hL(u,m);null!==_&&r.set(i.key,_),u.isValidDocument()||u.convertToNoDocument(rn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),En())}isEqual(e){return this.batchId===e.batchId&&o_(this.mutations,e.mutations,(t,r)=>fL(t,r))&&o_(this.baseMutations,e.baseMutations,(t,r)=>fL(t,r))}}class iM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){nn(e.mutations.length===r.length);let i=N4;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new iM(e,t,r,i)}}class sM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gf{constructor(e,t,r,i,a=rn.min(),u=rn.min(),m=Fi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m}withSequenceNumber(e){return new gf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new gf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new gf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class GL{constructor(e){this.re=e}}function $L(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:rb(i=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:nb(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Um(e.version)};else{if(!e.isUnknownDocument())return Dt();r.unknownDocument={path:t.path.toArray(),version:Um(e.version)}}var i,a;return r}function yI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Um(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Hm(n){const e=new Lr(n.seconds,n.nanoseconds);return rn.fromTimestamp(e)}function jm(n,e){const t=(e.baseMutations||[]).map(a=>eM(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>eM(n.re,a)),i=Lr.fromMillis(e.localWriteTimeMs);return new rM(e.batchId,i,t,r)}function ab(n){const e=Hm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Hm(n.lastLimboFreeSnapshotVersion):rn.min();let r;var i;return void 0!==n.query.documents?(nn(1===(i=n.query).documents.length),r=fo(u_(xL(i.documents[0])))):r=fo(RL(n.query)),new gf(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Fi.fromBase64String(n.resumeToken))}function zL(n,e){const t=Um(e.snapshotVersion),r=Um(e.lastLimboFreeSnapshotVersion);let i;i=lI(e.target)?OL(n.re,e.target):tM(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lm(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function oM(n){const e=RL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?uI(e,e.limit,"L"):e}function aM(n,e){return new sM(e.largestBatchId,eM(n.re,e.overlayMutation))}function qL(n,e){const t=e.path.lastSegment();return[n,po(e.path.popLast()),t]}function WL(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Um(r.readTime),documentKey:po(r.documentKey.path),largestBatchId:r.largestBatchId}}class yj{getBundleMetadata(e,t){return ZL(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Hm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return ZL(e).put({bundleId:(r=t).id,createTime:Um(Xi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return KL(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:oM(i.bundledQuery),readTime:Hm(i.readTime)};var i})}saveNamedQuery(e,t){return KL(e).put({name:(r=t).name,readTime:Um(Xi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ZL(n){return es(n,"bundles")}function KL(n){return es(n,"namedQueries")}class _I{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new _I(e,t.uid||"")}getOverlay(e,t){return lb(e).get(qL(this.userId,t)).next(r=>r?aM(this.It,r):null)}getOverlays(e,t){const r=vu();return Ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const m=new sM(t,u);i.push(this.ue(e,m))}),Ue.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(po(u.getCollectionPath())));const a=[];return i.forEach(u=>{const m=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(lb(e).Y("collectionPathOverlayIndex",m))}),Ue.waitFor(a)}getOverlaysForCollection(e,t,r){const i=vu(),a=po(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return lb(e).W("collectionPathOverlayIndex",u).next(m=>{for(const _ of m){const E=aM(this.It,_);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=vu();let u;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return lb(e).Z({index:"collectionGroupOverlayIndex",range:m},(_,E,N)=>{const W=aM(this.It,E);a.size()<i||W.largestBatchId===u?(a.set(W.getKey(),W),u=W.largestBatchId):N.done()}).next(()=>a)}ue(e,t){return lb(e).put(function(r,i,a){const[u,m,_]=qL(i,a.mutation.key);return{userId:i,collectionPath:m,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:sb(r.re,a.mutation)}}(this.It,this.userId,t))}}function lb(n){return es(n,"documentOverlays")}class Gm{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(ni(e.integerValue));else if("doubleValue"in e){const r=ni(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),$w(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Rm(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?GF(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Dt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),gt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function _j(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function YL(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=_j(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Gm.Te=new Gm;class vj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=YL(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=YL(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class wj{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class bj{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class cb{constructor(){this.Be=new vj,this.Le=new wj(this.Be),this.Ue=new bj(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class $m{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new $m(this.indexId,this.documentKey,this.arrayValue,r)}}function zm(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=QL(n.arrayValue,e.arrayValue),0!==t?t:(t=QL(n.directionalValue,e.directionalValue),0!==t?t:gt.comparator(n.documentKey,e.documentKey)))}function QL(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Cj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=BP(e);if(void 0!==t&&!this.ze(t))return!1;const r=Mm(e);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const u=r[i];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Ej{constructor(){this.Ye=new lM}addToCollectionParentIndex(e,t){return this.Ye.add(t),Ue.resolve()}getCollectionParents(e,t){return Ue.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Ue.resolve()}deleteFieldIndex(e,t){return Ue.resolve()}getDocumentsMatchingTarget(e,t){return Ue.resolve(null)}getIndexType(e,t){return Ue.resolve(0)}getFieldIndexes(e,t){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,t){return Ue.resolve(Pa.min())}getMinOffsetFromCollectionGroup(e,t){return Ue.resolve(Pa.min())}updateCollectionGroup(e,t,r){return Ue.resolve()}updateIndexEntries(e,t){return Ue.resolve()}}class lM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new gr(qn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gr(qn.comparator)).toArray()}}const vI=new Uint8Array(0);class Sj{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new lM,this.Ze=new mf(r=>Lm(r),(r,i)=>Zw(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:po(i)};return JL(e).put(a)}return Ue.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[xF(t),""],!1,!0);return JL(e).W(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(bu(u.parent))}return r})}addFieldIndex(e,t){const r=wI(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var u;delete i.indexId;const a=r.add(i);if(t.indexState){const u=db(e);return a.next(m=>{u.put(WL(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=wI(e),i=db(e),a=ub(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=ub(e);let i=!0;const a=new Map;return Ue.forEach(this.tn(t),u=>this.en(e,u).next(m=>{i&&(i=!!m),a.set(u,m)})).next(()=>{if(i){let u=En();const m=[];return Ue.forEach(a,(_,E)=>{var N;it("IndexedDbIndexManager",`Using index ${N=_,`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map(ft=>`${ft.fieldPath}:${ft.kind}`).join(",")}`} to execute ${Lm(t)}`);const W=function(ft,pt){const Bt=BP(pt);if(void 0===Bt)return null;for(const jt of cI(ft,Bt.fieldPath))switch(jt.op){case"array-contains-any":return jt.value.arrayValue.values||[];case"array-contains":return[jt.value]}return null}(E,_),se=function(ft,pt){const Bt=new Map;for(const jt of Mm(pt))for(const Rn of cI(ft,jt.fieldPath))switch(Rn.op){case"==":case"in":Bt.set(jt.fieldPath.canonicalString(),Rn.value);break;case"not-in":case"!=":return Bt.set(jt.fieldPath.canonicalString(),Rn.value),Array.from(Bt.values())}return null}(E,_),pe=function(ft,pt){const Bt=[];let jt=!0;for(const Rn of Mm(pt)){const gi=0===Rn.kind?ZF(ft,Rn.fieldPath,ft.startAt):KF(ft,Rn.fieldPath,ft.startAt);Bt.push(gi.value),jt&&(jt=gi.inclusive)}return new pf(Bt,jt)}(E,_),we=function(ft,pt){const Bt=[];let jt=!0;for(const Rn of Mm(pt)){const gi=0===Rn.kind?KF(ft,Rn.fieldPath,ft.endAt):ZF(ft,Rn.fieldPath,ft.endAt);Bt.push(gi.value),jt&&(jt=gi.inclusive)}return new pf(Bt,jt)}(E,_),Me=this.nn(_,E,pe),Ve=this.nn(_,E,we),st=this.sn(_,E,se),ht=this.rn(_.indexId,W,Me,pe.inclusive,Ve,we.inclusive,st);return Ue.forEach(ht,ft=>r.J(ft,t.limit).next(pt=>{pt.forEach(Bt=>{const jt=gt.fromSegments(Bt.documentKey);u.has(jt)||(u=u.add(jt),m.push(jt))})}))}).next(()=>m)}return Ue.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,a,u,m){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),E=_/(null!=t?t.length:1),N=[];for(let W=0;W<_;++W){const se=t?this.on(t[W/E]):vI,pe=this.un(e,se,r[W%E],i),we=this.cn(e,se,a[W%E],u),Me=m.map(Ve=>this.un(e,se,Ve,!0));N.push(...this.createRange(pe,we,Me))}return N}un(e,t,r,i){const a=new $m(e,gt.empty(),t,r);return i?a:a.Ke()}cn(e,t,r,i){const a=new $m(e,gt.empty(),t,r);return i?a.Ke():a}en(e,t){const r=new Cj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const m of a)r.We(m)&&(!u||m.fields.length>u.fields.length)&&(u=m);return u})}getIndexType(e,t){let r=2;return Ue.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==r&&a.fields.length<function(u){let m=new gr(ei.comparator),_=!1;for(const E of u.filters){const N=E;N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?_=!0:m=m.add(N.field))}for(const E of u.orderBy)E.field.isKeyField()||(m=m.add(E.field));return m.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new cb;for(const i of Mm(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.qe(i.kind);Gm.Te.ce(a,u)}return r.$e()}on(e){const t=new cb;return Gm.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new cb;return Gm.Te.ce(Fm(this.databaseId,t),r.qe(function(i){const a=Mm(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new cb);let a=0;for(const u of Mm(e)){const m=r[a++];for(const _ of i)if(this.ln(t,u.fieldPath)&&qw(m))i=this.fn(i,u,m);else{const E=_.qe(u.kind);Gm.Te.ce(m,E)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const m of i){const _=new cb;_.seed(m.$e()),Gm.Te.ce(u,_.qe(t.kind)),a.push(_)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof ws&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=wI(e),i=db(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const u=[];return Ue.forEach(a,m=>i.get([m.indexId,this.uid]).next(_=>{u.push(function(E,N){const W=N?new Uw(N.sequenceNumber,new Pa(Hm(N.readTime),new gt(bu(N.documentKey)),N.largestBatchId)):Uw.empty(),se=E.fields.map(([pe,we])=>new rI(ei.fromServerFormat(pe),we));return new nI(E.indexId,E.collectionGroup,se,W)}(m,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:pn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=wI(e),a=db(e);return this._n(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Ue.forEach(m,_=>a.put(WL(_.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return Ue.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?Ue.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),Ue.forEach(m,_=>this.wn(e,i,_).next(E=>{const N=this.mn(a,_);return E.isEqual(N)?Ue.resolve():this.gn(e,a,_,E,N)}))))})}yn(e,t,r,i){return ub(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return ub(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=ub(e);let a=new gr(zm);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(u,m)=>{a=a.add(new $m(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>a)}mn(e,t){let r=new gr(zm);const i=this.an(t,e);if(null==i)return r;const a=BP(t);if(null!=a){const u=e.data.field(a.fieldPath);if(qw(u))for(const m of u.arrayValue.values||[])r=r.add(new $m(t.indexId,e.key,this.on(m),i))}else r=r.add(new $m(t.indexId,e.key,vI,i));return r}gn(e,t,r,i,a){it("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(m,_,E,N,W){const se=m.getIterator(),pe=_.getIterator();let we=a_(se),Me=a_(pe);for(;we||Me;){let Ve=!1,st=!1;if(we&&Me){const ht=E(we,Me);ht<0?st=!0:ht>0&&(Ve=!0)}else null!=we?st=!0:Ve=!0;Ve?(N(Me),Me=a_(pe)):st?(W(we),we=a_(se)):(we=a_(se),Me=a_(pe))}}(i,a,zm,m=>{u.push(this.yn(e,t,r,m))},m=>{u.push(this.pn(e,t,r,m))}),Ue.waitFor(u)}_n(e){let t=1;return db(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,m)=>zm(u,m)).filter((u,m,_)=>!m||0!==zm(u,_[m-1]));const i=[];i.push(e);for(const u of r){const m=zm(u,e),_=zm(u,t);if(0===m)i[0]=e.Ke();else if(m>0&&_<0)i.push(u),i.push(u.Ke());else if(_>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,vI,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,vI,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(XL)}getMinOffset(e,t){return Ue.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Dt())).next(XL)}}function JL(n){return es(n,"collectionParents")}function ub(n){return es(n,"indexEntries")}function wI(n){return es(n,"indexConfiguration")}function db(n){return es(n,"indexState")}function XL(n){nn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;UP(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Pa(e.readTime,e.documentKey,t)}const e2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Qo(e,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function t2(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let m=0;const _=r.Z({range:u},(N,W,se)=>(m++,se.delete()));a.push(_.next(()=>{nn(1===m)}));const E=[];for(const N of t.mutations){const W=BL(e,N.key.path,t.batchId);a.push(i.delete(W)),E.push(N.key)}return Ue.waitFor(a).next(()=>E)}function bI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Dt();e=n.noDocument}return JSON.stringify(e).length}Qo.DEFAULT_COLLECTION_PERCENTILE=10,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qo.DEFAULT=new Qo(41943040,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qo.DISABLED=new Qo(-1,0,0);class CI{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){nn(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new CI(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yf(e).Z({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=__(e),u=yf(e);return u.add({}).next(m=>{nn("number"==typeof m);const _=new rM(m,t,r,i),E=function(se,pe,we){const Me=we.baseMutations.map(st=>sb(se.re,st)),Ve=we.mutations.map(st=>sb(se.re,st));return{userId:pe,batchId:we.batchId,localWriteTimeMs:we.localWriteTime.toMillis(),baseMutations:Me,mutations:Ve}}(this.It,this.userId,_),N=[];let W=new gr((se,pe)=>pn(se.canonicalString(),pe.canonicalString()));for(const se of i){const pe=BL(this.userId,se.key.path,m);W=W.add(se.key.path.popLast()),N.push(u.put(E)),N.push(a.put(pe,X4))}return W.forEach(se=>{N.push(this.indexManager.addToCollectionParentIndex(e,se))}),e.addOnCommittedListener(()=>{this.In[m]=_.keys()}),Ue.waitFor(N).next(()=>_)})}lookupMutationBatch(e,t){return yf(e).get(t).next(r=>r?(nn(r.userId===this.userId),jm(this.It,r)):null)}Tn(e,t){return this.In[t]?Ue.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return yf(e).Z({index:"userMutationsIndex",range:i},(u,m,_)=>{m.userId===this.userId&&(nn(m.batchId>=r),a=jm(this.It,m)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return yf(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yf(e).W("userMutationsIndex",t).next(r=>r.map(i=>jm(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=gI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return __(e).Z({range:i},(u,m,_)=>{const[E,N,W]=u,se=bu(N);if(E===this.userId&&t.path.isEqual(se))return yf(e).get(W).next(pe=>{if(!pe)throw Dt();nn(pe.userId===this.userId),a.push(jm(this.It,pe))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gr(pn);const i=[];return t.forEach(a=>{const u=gI(this.userId,a.path),m=IDBKeyRange.lowerBound(u),_=__(e).Z({range:m},(E,N,W)=>{const[se,pe,we]=E,Me=bu(pe);se===this.userId&&a.path.isEqual(Me)?r=r.add(we):W.done()});i.push(_)}),Ue.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=gI(this.userId,r),u=IDBKeyRange.lowerBound(a);let m=new gr(pn);return __(e).Z({range:u},(_,E,N)=>{const[W,se,pe]=_,we=bu(se);W===this.userId&&r.isPrefixOf(we)?we.length===i&&(m=m.add(pe)):N.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(yf(e).get(a).next(u=>{if(null===u)throw Dt();nn(u.userId===this.userId),r.push(jm(this.It,u))}))}),Ue.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return t2(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Ue.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return __(e).Z({range:r},(a,u,m)=>{if(a[0]===this.userId){const _=bu(a[1]);i.push(_)}else m.done()}).next(()=>{nn(0===i.length)})})}containsKey(e,t){return n2(e,this.userId,t)}Rn(e){return r2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function n2(n,e,t){const r=gI(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return __(n).Z({range:a,X:!0},(m,_,E)=>{const[N,W,se]=m;N===e&&W===i&&(u=!0),E.done()}).next(()=>u)}function yf(n){return es(n,"mutations")}function __(n){return es(n,"documentMutations")}function r2(n){return es(n,"mutationQueues")}class qm{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new qm(0)}static vn(){return new qm(-1)}}class Tj{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new qm(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>rn.fromTimestamp(new Lr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>v_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(nn(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return v_(e).Z((u,m)=>{const _=ab(m);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>Ue.waitFor(a)).next(()=>i)}forEachTarget(e,t){return v_(e).Z((r,i)=>{const a=ab(i);t(a)})}Vn(e){return i2(e).get("targetGlobalKey").next(t=>(nn(null!==t),t))}Sn(e,t){return i2(e).put("targetGlobalKey",t)}Dn(e,t){return v_(e).put(zL(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Lm(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return v_(e).Z({range:i,index:"queryTargetsIndex"},(u,m,_)=>{const E=ab(m);Zw(t,E.target)&&(a=E,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=_f(e);return t.forEach(u=>{const m=po(u.path);i.push(a.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,u))}),Ue.waitFor(i)}removeMatchingKeys(e,t,r){const i=_f(e);return Ue.forEach(t,a=>{const u=po(a.path);return Ue.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=_f(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=_f(e);let a=En();return i.Z({range:r,X:!0},(u,m,_)=>{const E=bu(u[1]),N=new gt(E);a=a.add(N)}).next(()=>a)}containsKey(e,t){const r=po(t.path),i=IDBKeyRange.bound([r],[xF(r)],!1,!0);let a=0;return _f(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,m],_,E)=>{0!==u&&(a++,E.done())}).next(()=>a>0)}se(e,t){return v_(e).get(t).next(r=>r?ab(r):null)}}function v_(n){return es(n,"targets")}function i2(n){return es(n,"targetGlobal")}function _f(n){return es(n,"targetDocuments")}function s2([n,e],[t,r]){const i=pn(n,t);return 0===i?pn(e,r):i}class Ij{constructor(e){this.xn=e,this.buffer=new gr(s2),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();s2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Aj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;it("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,He.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){cf(r)?it("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield lf(r)}yield t.Fn(3e5)}))}}class Dj{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ue.resolve(Ko.at);const r=new Ij(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(e2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e2):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,a,u,m,_,E;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(W=>(W>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${W}`),i=this.params.maximumSequenceNumbersToCollect):i=W,u=Date.now(),this.nthSequenceNumber(e,i))).next(W=>(r=W,m=Date.now(),this.removeTargets(e,r,t))).next(W=>(a=W,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(W=>(E=Date.now(),LP()<=Zo.in.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-N}ms\n\tDetermined least recently used ${i} in `+(m-u)+`ms\n\tRemoved ${a} targets in `+(_-m)+`ms\n\tRemoved ${W} documents in `+(E-_)+`ms\nTotal Duration: ${E-N}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:W})))}}class xj{constructor(e,t){this.db=e,this.garbageCollector=new Dj(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return EI(e,r)}removeReference(e,t,r){return EI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return EI(e,t)}Gn(e,t){return function(r,i){let a=!1;return r2(r).tt(u=>n2(r,u,i).next(m=>(m&&(a=!0),Ue.resolve(!m)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(u,m)=>{if(m<=t){const _=this.Gn(e,u).next(E=>{if(!E)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,rn.min()),_f(e).delete([0,po(u.path)])))});i.push(_)}}).next(()=>Ue.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return EI(e,t)}Kn(e,t){const r=_f(e);let i,a=Ko.at;return r.Z({index:"documentTargetsIndex"},([u,m],{path:_,sequenceNumber:E})=>{0===u?(a!==Ko.at&&t(new gt(bu(i)),a),a=E,i=_):a=Ko.at}).next(()=>{a!==Ko.at&&t(new gt(bu(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function EI(n,e){return _f(n).put((r=n.currentSequenceNumber,{targetId:0,path:po(e.path),sequenceNumber:r}));var r}class o2{constructor(){this.changes=new mf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pj{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Wm(e).put(r)}removeEntry(e,t,r){return Wm(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],yI(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Tr.newInvalidDocument(t);return Wm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(hb(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Tr.newInvalidDocument(t)};return Wm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(hb(t))},(i,a)=>{r={document:this.jn(t,a),size:bI(a)}}).next(()=>r)}getEntries(e,t){let r=Yo();return this.zn(e,t,(i,a)=>{const u=this.jn(i,a);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=Yo(),i=new ti(gt.comparator);return this.zn(e,t,(a,u)=>{const m=this.jn(a,u);r=r.insert(a,m),i=i.insert(a,bI(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return Ue.resolve();let i=new gr(u2);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(hb(i.first()),hb(i.last())),u=i.getIterator();let m=u.getNext();return Wm(e).Z({index:"documentKeyIndex",range:a},(_,E,N)=>{const W=gt.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;m&&u2(m,W)<0;)r(m,null),m=u.getNext();m&&m.isEqual(W)&&(r(m,E),m=u.hasNext()?u.getNext():null),m?N.j(hb(m)):N.done()}).next(()=>{for(;m;)r(m,null),m=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),yI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wm(e).W(IDBKeyRange.bound(i,a,!0)).next(u=>{let m=Yo();for(const _ of u){const E=this.jn(gt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);m=m.insert(E.key,E)}return m})}getAllFromCollectionGroup(e,t,r,i){let a=Yo();const u=c2(t,r),m=c2(t,Pa.max());return Wm(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,m,!0)},(_,E,N)=>{const W=this.jn(gt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);a=a.insert(W.key,W),a.size===i&&N.done()}).next(()=>a)}newChangeBuffer(e){return new Mj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return l2(e).get("remoteDocumentGlobalKey").next(t=>(nn(!!t),t))}Qn(e,t){return l2(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function gj(n,e){let t;if(e.document)t=kL(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=gt.fromSegments(e.noDocument.path),i=Hm(e.noDocument.readTime);t=Tr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dt();{const r=gt.fromSegments(e.unknownDocument.path),i=Hm(e.unknownDocument.version);t=Tr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Lr(r[0],r[1]);return rn.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(rn.min()))return r}return Tr.newInvalidDocument(e)}}function a2(n){return new Pj(n)}class Mj extends o2{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new mf(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new gr((a,u)=>pn(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const m=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,m.readTime)),u.isValidDocument()){const _=$L(this.Yn.It,u);i=i.add(a.path.popLast()),r+=bI(_)-m.size,t.push(this.Yn.addEntry(e,a,_))}else if(r-=m.size,this.trackRemovals){const _=$L(this.Yn.It,u.convertToNoDocument(rn.min()));t.push(this.Yn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),Ue.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function l2(n){return es(n,"remoteDocumentGlobal")}function Wm(n){return es(n,"remoteDocumentsV14")}function hb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function c2(n,e){const t=e.documentKey.path.toArray();return[n,yI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function u2(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=pn(t[a],r[a]),i)return i;return i=pn(t.length,r.length),i||(i=pn(t[t.length-2],r[r.length-2]),i||pn(t[t.length-1],r[r.length-1]))}class kj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class d2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Qw(r.mutation,i,Ma.empty(),Lr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,En()).next(()=>r))}getLocalViewOfDocuments(e,t,r=En()){const i=vu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=Jw();return a.forEach((m,_)=>{u=u.insert(m,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=vu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,En()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,m)=>{t.set(u,m)})})}computeViews(e,t,r,i){let a=Yo();const u=Xw(),m=Xw();return t.forEach((_,E)=>{const N=r.get(E.key);i.has(E.key)&&(void 0===N||N.mutation instanceof Ld)?a=a.insert(E.key,E):void 0!==N&&(u.set(E.key,N.mutation.getFieldMask()),Qw(N.mutation,E,N.mutation.getFieldMask(),Lr.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((E,N)=>u.set(E,N)),t.forEach((E,N)=>{var W;return m.set(E,new kj(N,null!==(W=u.get(E))&&void 0!==W?W:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Xw();let i=new ti((u,m)=>u-m),a=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const m of u)m.keys().forEach(_=>{const E=t.get(_);if(null===E)return;let N=r.get(_)||Ma.empty();N=m.applyToLocalView(E,N),r.set(_,N);const W=(i.get(m.batchId)||En()).add(_);i=i.insert(m.batchId,W)})}).next(()=>{const u=[],m=i.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),E=_.key,N=_.value,W=bL();N.forEach(se=>{if(!a.has(se)){const pe=hL(t.get(se),r.get(se));null!==pe&&W.set(se,pe),a=a.add(se)}}),u.push(this.documentOverlayCache.saveOverlays(e,E,W))}return Ue.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return gt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ZP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Ue.resolve(vu());let m=-1,_=a;return u.next(E=>Ue.forEach(E,(N,W)=>(m<W.largestBatchId&&(m=W.largestBatchId),a.get(N)?Ue.resolve():this.getBaseDocument(e,N,W).next(se=>{_=_.insert(N,se)}))).next(()=>this.populateOverlays(e,E,a)).next(()=>this.computeViews(e,_,E,En())).next(N=>({batchId:m,changes:wL(N)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gt(t)).next(r=>{let i=Jw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Jw();return this.indexManager.getCollectionParents(e,i).next(u=>Ue.forEach(u,m=>{const _=(E=t,N=m.child(i),new Fd(N,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,N;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(E=>{E.forEach((N,W)=>{a=a.insert(N,W)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((m,_)=>{const E=_.getKey();null===i.get(E)&&(i=i.insert(E,Tr.newInvalidDocument(E)))});let u=Jw();return i.forEach((m,_)=>{const E=a.get(m);void 0!==E&&Qw(E.mutation,_,Ma.empty(),Lr.now()),YP(t,_)&&(u=u.insert(m,_))}),u})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ue.resolve(Tr.newInvalidDocument(t))}}class Oj{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ue.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Xi(r.createTime)}),Ue.resolve()}getNamedQuery(e,t){return Ue.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:oM(r.bundledQuery),readTime:Xi(r.readTime)}),Ue.resolve();var r}}class Rj{constructor(){this.overlays=new ti(gt.comparator),this.es=new Map}getOverlay(e,t){return Ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=vu();return Ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ue(e,t,a)}),Ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),Ue.resolve()}getOverlaysForCollection(e,t,r){const i=vu(),a=t.length+1,u=new gt(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const _=m.getNext().value,E=_.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new ti((E,N)=>E-N);const u=this.overlays.getIterator();for(;u.hasNext();){const E=u.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let N=a.get(E.largestBatchId);null===N&&(N=vu(),a=a.insert(E.largestBatchId,N)),N.set(E.getKey(),E)}}const m=vu(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,N)=>m.set(E,N)),!(m.size()>=i)););return Ue.resolve(m)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new sM(t,r));let a=this.es.get(t);void 0===a&&(a=En(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class cM{constructor(){this.ns=new gr(ts.ss),this.rs=new gr(ts.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new ts(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new ts(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new gt(new qn([])),r=new ts(t,e),i=new ts(t,e+1),a=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new gt(new qn([])),r=new ts(t,e),i=new ts(t,e+1);let a=En();return this.rs.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new ts(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ts{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return gt.comparator(e.key,t.key)||pn(e._s,t._s)}static os(e,t){return pn(e._s,t._s)||gt.comparator(e.key,t.key)}}class Nj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new gr(ts.ss)}checkEmpty(e){return Ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const u=new rM(a,t,r,i);this.mutationQueue.push(u);for(const m of i)this.gs=this.gs.add(new ts(m.key,a)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ue.resolve(u)}lookupMutationBatch(e,t){return Ue.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return Ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ts(t,0),i=new ts(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],u=>{const m=this.ys(u._s);a.push(m)}),Ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gr(pn);return t.forEach(i=>{const a=new ts(i,0),u=new ts(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],m=>{r=r.add(m._s)})}),Ue.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;gt.isDocumentKey(a)||(a=a.child(""));const u=new ts(new gt(a),0);let m=new gr(pn);return this.gs.forEachWhile(_=>{const E=_.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(m=m.add(_._s)),!0)},u),Ue.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){nn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Ue.forEach(t.mutations,i=>{const a=new ts(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new ts(t,0),i=this.gs.firstAfterOrEqual(r);return Ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ue.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fj{constructor(e){this.Es=e,this.docs=new ti(gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ue.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(t))}getEntries(e,t){let r=Yo();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Tr.newInvalidDocument(i))}),Ue.resolve(r)}getAllFromCollection(e,t,r){let i=Yo();const a=new gt(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:m,value:{document:_}}=u.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||UP(MF(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return Ue.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Dt()}As(e,t){return Ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Lj(this)}getSize(e){return Ue.resolve(this.size)}}class Lj extends o2{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),Ue.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Vj{constructor(e){this.persistence=e,this.Rs=new mf(t=>Lm(t),Zw),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new cM,this.targetCount=0,this.vs=qm.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Ue.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new qm(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ue.resolve()}updateTargetData(e,t){return this.Dn(t),Ue.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((u,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Ue.waitFor(a).next(()=>i)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Ue.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Ue.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),Ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Ue.resolve(r)}containsKey(e,t){return Ue.resolve(this.Ps.containsKey(t))}}class h2{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ko(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Vj(this),this.indexManager=new Ej,this.remoteDocumentCache=new Fj(r=>this.referenceDelegate.xs(r)),this.It=new GL(t),this.Ns=new Oj(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Nj(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){it("MemoryPersistence","Starting transaction:",e);const i=new Bj(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return Ue.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Bj extends OF{constructor(e){super(),this.currentSequenceNumber=e}}class SI{constructor(e){this.persistence=e,this.Fs=new cM,this.$s=null}static Bs(e){return new SI(e)}get Ls(){if(this.$s)return this.$s;throw Dt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Ue.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ue.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.Ls,r=>{const i=gt.fromPath(r);return this.Us(e,i).next(a=>{a||t.removeEntry(i,rn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Ue.or([()=>Ue.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Uj{constructor(e){this.It=e}$(e,t,r,i){const a=new iI("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VL,{unique:!0}),m.createObjectStore("documentMutations"),f2(e),function(m){m.createObjectStore("remoteDocuments")}(e));let u=Ue.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),f2(e)),u=u.next(()=>function(m){const _=m.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rn.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",E)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(m,_){return _.store("mutations").W().next(E=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VL,{unique:!0});const N=_.store("mutations"),W=E.map(se=>N.put(se));return Ue.waitFor(W)})}(e,a))),u=u.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.qs(a))),r<6&&i>=6&&(u=u.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(a))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(a))),r<11&&i>=11&&(u=u.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(m){const _=m.createObjectStore("documentOverlays",{keyPath:dj});_.createIndex("collectionPathOverlayIndex",hj,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",fj,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(m){const _=m.createObjectStore("remoteDocumentsV14",{keyPath:ej});_.createIndex("documentKeyIndex",tj),_.createIndex("collectionGroupIndex",nj)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,a))),r<15&&i>=15&&(u=u.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:aj}).createIndex("sequenceNumberIndex",lj,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:cj}).createIndex("documentKeyIndex",uj,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=bI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>Ue.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(m=>Ue.forEach(m,_=>{nn(_.userId===a.userId);const E=jm(this.It,_);return t2(e,a.userId,E).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((u,m)=>{const _=new qn(u),E=[0,po(_)];a.push(t.get(E).next(N=>N?Ue.resolve():t.put({targetId:0,path:po(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ue.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:oj});const r=t.store("collectionParents"),i=new lM,a=u=>{if(i.add(u)){const m=u.lastSegment(),_=u.popLast();return r.put({collectionId:m,parent:po(_)})}};return t.store("remoteDocuments").Z({X:!0},(u,m)=>{const _=new qn(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,m,_],E)=>{const N=bu(m);return a(N.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=ab(i),u=zL(this.It,a);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,u)=>{const m=t.store("remoteDocumentsV14"),_=(E=u,E.document?new gt(qn.fromString(E.document.name).popFirst(5)):E.noDocument?gt.fromSegments(E.noDocument.path):E.unknownDocument?gt.fromSegments(E.unknownDocument.path):Dt()).path.toArray();var E;const N={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(m.put(N))}).next(()=>Ue.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=a2(this.It),a=new h2(SI.Bs,this.It.re);return r.W().next(u=>{const m=new Map;return u.forEach(_=>{var E;let N=null!==(E=m.get(_.userId))&&void 0!==E?E:En();jm(this.It,_).keys().forEach(W=>N=N.add(W)),m.set(_.userId,N)}),Ue.forEach(m,(_,E)=>{const N=new Ji(E),W=_I.oe(this.It,N),se=a.getIndexManager(N),pe=CI.oe(N,this.It,se,a.referenceDelegate);return new d2(i,pe,W,se).recalculateAndSaveOverlaysForDocumentKeys(new nM(t,Ko.at),_).next()})})}}function f2(n){n.createObjectStore("targetDocuments",{keyPath:ij}).createIndex("documentTargetsIndex",sj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rj,{unique:!0}),n.createObjectStore("targetGlobal")}const uM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dM{constructor(e,t,r,i,a,u,m,_,E,N,W=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=u,this.document=m,this.Js=E,this.Ys=N,this.Xs=W,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=se=>Promise.resolve(),!dM.C())throw new tt(je.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xj(this,i),this.ii=t+"main",this.It=new GL(_),this.ri=new wc(this.ii,this.Xs,new Uj(this.It)),this.Cs=new Tj(this.referenceDelegate,this.It),this.remoteDocumentCache=a2(this.It),this.Ns=new yj,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===N&&fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(je.FAILED_PRECONDITION,uM);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ko(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,He.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,He.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,He.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>TI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(cf(e))return it("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return it("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return fb(e).get("owner").next(t=>Ue.resolve(this.mi(t)))}gi(e){return TI(e).delete(this.clientId)}yi(){var e=this;return(0,He.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=es(r,"clientMetadata");return i.W().next(a=>{const u=e.Ii(a,18e5),m=a.filter(_=>-1===u.indexOf(_));return Ue.forEach(m,_=>i.delete(_.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ue.resolve(!0):fb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new tt(je.FAILED_PRECONDITION,uM);return!1}}return!(!this.networkEnabled||!this.inForeground)||TI(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&it("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,He.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new nM(t,Ko.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>TI(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return CI.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Sj(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return _I.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){it("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?mj:14===u?jL:13===u?HL:12===u?pj:11===u?UL:void Dt();var u;let m;return this.ri.runTransaction(e,i,a,_=>(m=new nM(_,this.Ss?this.Ss.next():Ko.at),"readwrite-primary"===t?this.fi(m).next(E=>!!E||this.di(m)).next(E=>{if(!E)throw fi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new tt(je.FAILED_PRECONDITION,kF);return r(m)}).next(E=>this.wi(m).next(()=>E)):this.Vi(m).next(()=>r(m)))).then(_=>(m.raiseOnCommittedEvent(),_))}Vi(e){return fb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new tt(je.FAILED_PRECONDITION,uM)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fb(e).put("owner",t)}static C(){return wc.C()}_i(e){const t=fb(e);return t.get("owner").next(r=>this.mi(r)?(it("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ue.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(fi(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,fe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return it("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){fi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fb(n){return es(n,"owner")}function TI(n){return es(n,"clientMetadata")}function hM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class fM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=En(),i=En();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new fM(e,t.fromCache,r,i)}}class p2{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(eL(t))return Ue.resolve(null);let r=fo(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=uI(t,null,"F"),r=fo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=En(...a);return this.Ni.getDocuments(e,u).next(m=>this.indexManager.getMinOffset(e,r).next(_=>{const E=this.Fi(t,m);return this.$i(t,E,u,_.readTime)?this.ki(e,uI(t,null,"F")):this.Bi(e,E,t,_)}))})))}Oi(e,t,r,i){return eL(t)||i.isEqual(rn.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,r,i)?this.Mi(e,t):(LP()<=Zo.in.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),KP(t)),this.Bi(e,u,t,PF(i,-1)))})}Fi(e,t){let r=new gr(rL(e));return t.forEach((i,a)=>{YP(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return LP()<=Zo.in.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",KP(t)),this.Ni.getDocumentsMatchingQuery(e,t,Pa.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class Hj{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new ti(pn),this.qi=new mf(a=>Lm(a),Zw),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d2(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function m2(n,e,t,r){return new Hj(n,e,t,r)}function g2(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,He.Z)(function*(n,e){const t=_t(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],m=[];let _=En();for(const E of i){u.push(E.batchId);for(const N of E.mutations)_=_.add(N.key)}for(const E of a){m.push(E.batchId);for(const N of E.mutations)_=_.add(N.key)}return t.localDocuments.getDocuments(r,_).next(E=>({ji:E,removedBatchIds:u,addedBatchIds:m}))})})}),pM.apply(this,arguments)}function jj(n,e){const t=_t(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,m,_,E){const N=_.batch,W=N.keys();let se=Ue.resolve();return W.forEach(pe=>{se=se.next(()=>E.getEntry(m,pe)).next(we=>{const Me=_.docVersions.get(pe);nn(null!==Me),we.version.compareTo(Me)<0&&(N.applyToRemoteDocument(we,_),we.isValidDocument()&&(we.setReadTime(_.commitVersion),E.addEntry(we)))})}),se.next(()=>u.mutationQueue.removeMutationBatch(m,N))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let m=En();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(m=m.add(u.batch.mutations[_].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function y2(n){const e=_t(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Gj(n,e){const t=_t(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const m=[];e.targetChanges.forEach((N,W)=>{const se=i.get(W);if(!se)return;m.push(t.Cs.removeMatchingKeys(a,N.removedDocuments,W).next(()=>t.Cs.addMatchingKeys(a,N.addedDocuments,W)));let pe=se.withSequenceNumber(a.currentSequenceNumber);var we,Me,Ve;e.targetMismatches.has(W)?pe=pe.withResumeToken(Fi.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):N.resumeToken.approximateByteSize()>0&&(pe=pe.withResumeToken(N.resumeToken,r)),i=i.insert(W,pe),Me=pe,Ve=N,(0===(we=se).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-we.snapshotVersion.toMicroseconds()>=3e8||Ve.addedDocuments.size+Ve.modifiedDocuments.size+Ve.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(a,pe))});let _=Yo(),E=En();if(e.documentUpdates.forEach(N=>{e.resolvedLimboDocuments.has(N)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(a,N))}),m.push(_2(a,u,e.documentUpdates).next(N=>{_=N.Wi,E=N.zi})),!r.isEqual(rn.min())){const N=t.Cs.getLastRemoteSnapshotVersion(a).next(W=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));m.push(N)}return Ue.waitFor(m).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,E)).next(()=>_)}).then(a=>(t.Ui=i,a))}function _2(n,e,t){let r=En(),i=En();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Yo();return t.forEach((m,_)=>{const E=a.get(m);_.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(m)),_.isNoDocument()&&_.version.isEqual(rn.min())?(e.removeEntry(m,_.readTime),u=u.insert(m,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||0===_.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(_),u=u.insert(m,_)):it("LocalStore","Ignoring outdated watch update for ",m,". Current version:",E.version," Watch version:",_.version)}),{Wi:u,zi:i}})}function $j(n,e){const t=_t(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function w_(n,e){const t=_t(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,Ue.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new gf(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function b_(n,e,t){return mM.apply(this,arguments)}function mM(){return mM=(0,He.Z)(function*(n,e,t){const r=_t(n),i=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!cf(u))throw u;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),mM.apply(this,arguments)}function II(n,e,t){const r=_t(n);let i=rn.min(),a=En();return r.persistence.runTransaction("Execute query","readonly",u=>function(m,_,E){const N=_t(m),W=N.qi.get(E);return void 0!==W?Ue.resolve(N.Ui.get(W)):N.Cs.getTargetData(_,E)}(r,u,fo(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,m.targetId).next(_=>{a=_})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:rn.min(),t?a:En())).next(m=>(b2(r,nL(e),m),{documents:m,Hi:a})))}function v2(n,e){const t=_t(n),r=_t(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(u=>u?u.target:null))}function w2(n,e){const t=_t(n),r=t.Ki.get(e)||rn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,PF(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(b2(t,e,i),i))}function b2(n,e,t){let r=n.Ki.get(e)||rn.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function gM(){return gM=(0,He.Z)(function*(n,e,t,r){const i=_t(n);let a=En(),u=Yo();for(const E of t){const N=e.Ji(E.metadata.name);E.document&&(a=a.add(N));const W=e.Yi(E);W.setReadTime(e.Xi(E.metadata.readTime)),u=u.insert(N,W)}const m=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield w_(i,(E=r,fo(u_(qn.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>_2(E,m,u).next(N=>(m.apply(E),N)).next(N=>i.Cs.removeMatchingKeysForTargetId(E,_.targetId).next(()=>i.Cs.addMatchingKeys(E,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,N.Wi,N.zi)).next(()=>N.Wi)))}),gM.apply(this,arguments)}function qj(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,He.Z)(function*(n,e,t=En()){const r=yield w_(n,fo(oM(e.bundledQuery))),i=_t(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=Xi(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(a,e);const m=r.withResumeToken(Fi.EMPTY_BYTE_STRING,u);return i.Ui=i.Ui.insert(m.targetId,m),i.Cs.updateTargetData(a,m).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),yM.apply(this,arguments)}function C2(n,e){return`firestore_clients_${n}_${e}`}function E2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function _M(n,e){return`firestore_targets_${n}_${e}`}class AI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new tt(i.error.code,i.error.message))),u?new AI(e,t,i.state,a):(fi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new tt(r.error.code,r.error.message))),a?new pb(e,r.state,i):(fi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class DI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=pI();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=BF(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new DI(e,a):(fi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class vM{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vM(t.clientId,t.onlineState):(fi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wM{constructor(){this.activeTargetIds=pI()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bM{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ti(pn),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=C2(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new wM),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,He.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(C2(e.persistenceKey,i));if(a){const u=DI.Zi(i,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(_M(this.persistenceKey,e));if(r){const i=pb.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_M(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return it("SharedClientState","READ",e,t),t}setItem(e,t){it("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){it("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(it("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,He.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let u=Ko.at;if(null!=a)try{const m=JSON.parse(a);nn("number"==typeof m),u=m}catch(m){fi("SharedClientState","Failed to read sequence number from WebStorage",m)}return u}(r.newValue);i!==Ko.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new AI(this.currentUser,e,t,r),a=E2(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=E2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=_M(this.persistenceKey,e),a=new pb(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return DI.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return AI.Zi(new Ji(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return pb.Zi(i,t)}yr(e){return vM.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,He.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);it("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),u=[],m=[];return a.forEach(_=>{i.has(_)||u.push(_)}),i.forEach(_=>{a.has(_)||m.push(_)}),this.syncEngine.Br(u,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=pI();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class S2{constructor(){this.Lr=new wM,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new wM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wj{qr(e){}shutdown(){}}class T2{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Zj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kj{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Yj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const u=this.ho(e,t);it("RestConnection","Sending: ",u,r);const m={};return this.lo(m,i,a),this.fo(e,u,m,r).then(_=>(it("RestConnection","Received: ",_),_),_=>{throw Pm("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",r),_})}_o(e,t,r,i,a,u){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+s_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Zj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,u)=>{const m=new ZH;m.setWithCredentials(!0),m.listenOnce(zH.COMPLETE,()=>{var E;try{switch(m.getLastErrorCode()){case FP.NO_ERROR:const N=m.getResponseJson();it("Connection","XHR received:",JSON.stringify(N)),a(N);break;case FP.TIMEOUT:it("Connection",'RPC "'+e+'" timed out'),u(new tt(je.DEADLINE_EXCEEDED,"Request time out"));break;case FP.HTTP_ERROR:const W=m.getStatus();if(it("Connection",'RPC "'+e+'" failed with status:',W,"response text:",m.getResponseText()),W>0){let se=m.getResponseJson();Array.isArray(se)&&(se=se[0]);const pe=null===(E=se)||void 0===E?void 0:E.error;if(pe&&pe.status&&pe.message){const we=function(Me){const Ve=Me.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(Ve)>=0?Ve:je.UNKNOWN}(pe.status);u(new tt(we,pe.message))}else u(new tt(je.UNKNOWN,"Server responded with status "+m.getStatus()))}else u(new tt(je.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{it("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);m.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=GH(),u=$H(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new WH({})),this.lo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const _=i.join("");it("Connection","Creating WebChannel: "+_,m);const E=a.createWebChannel(_,m);let N=!1,W=!1;const se=new Kj({Hr:we=>{W?it("Connection","Not sending because WebChannel is closed:",we):(N||(it("Connection","Opening WebChannel transport."),E.open(),N=!0),it("Connection","WebChannel sending:",we),E.send(we))},Jr:()=>E.close()}),pe=(we,Me,Ve)=>{we.listen(Me,st=>{try{Ve(st)}catch(ht){setTimeout(()=>{throw ht},0)}})};return pe(E,tI.EventType.OPEN,()=>{W||it("Connection","WebChannel transport opened.")}),pe(E,tI.EventType.CLOSE,()=>{W||(W=!0,it("Connection","WebChannel transport closed"),se.io())}),pe(E,tI.EventType.ERROR,we=>{W||(W=!0,Pm("Connection","WebChannel transport errored:",we),se.io(new tt(je.UNAVAILABLE,"The operation could not be completed")))}),pe(E,tI.EventType.MESSAGE,we=>{var Me;if(!W){const Ve=we.data[0];nn(!!Ve);const st=Ve,ht=st.error||(null===(Me=st[0])||void 0===Me?void 0:Me.error);if(ht){it("Connection","WebChannel received error:",ht);const ft=ht.status;let pt=function(jt){const Rn=Ti[jt];if(void 0!==Rn)return _L(Rn)}(ft),Bt=ht.message;void 0===pt&&(pt=je.INTERNAL,Bt="Unknown error status: "+ft+" with message "+ht.message),W=!0,se.io(new tt(pt,Bt)),E.close()}else it("Connection","WebChannel received:",Ve),se.ro(Ve)}}),pe(u,qH.STAT_EVENT,we=>{we.stat===SF.PROXY?it("Connection","Detected buffering proxy"):we.stat===SF.NOPROXY&&it("Connection","Detected no buffering proxy")}),setTimeout(()=>{se.so()},0),se}}function I2(){return typeof window<"u"?window:null}function xI(){return typeof document<"u"?document:null}function mb(n){return new H4(n,!0)}class CM{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&it("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class A2{constructor(e,t,r,i,a,u,m,_){this.Hs=e,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new CM(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,He.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,He.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,He.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===je.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===je.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new tt(je.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,He.Z)(function*(){e.state=0,e.start()}))}Qo(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qj extends A2{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.It=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function $4(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Dt(),i=e.targetChange.targetIds||[],a=function(_,E){return _.gt?(nn(void 0===E||"string"==typeof E),Fi.fromBase64String(E||"")):(nn(void 0===E||E instanceof Uint8Array),Fi.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&function(_){const E=void 0===_.code?je.UNKNOWN:_L(_.code);return new tt(E,_.message||"")}(u);t=new EL(r,i,a,m||null)}else if("documentChange"in e){const r=e.documentChange,i=wu(n,r.document.name),a=Xi(r.document.updateTime),u=new vs({mapValue:{fields:r.document.fields}}),m=Tr.newFoundDocument(i,a,u);t=new mI(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=wu(n,r.document),a=r.readTime?Xi(r.readTime):rn.min(),u=Tr.newNoDocument(i,a);t=new mI([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=wu(n,r.document);t=new mI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Dt();{const r=e.filter,a=new O4(r.count||0);t=new CL(r.targetId,a)}}var _;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return rn.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?rn.min():a.readTime?Xi(a.readTime):rn.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=ib(this.It),t.addTarget=function(i,a){let u;const m=a.target;return u=lI(m)?{documents:OL(i,m)}:{query:tM(i,m)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=AL(i,a.resumeToken):a.snapshotVersion.compareTo(rn.min())>0&&(u.readTime=nb(i,a.snapshotVersion.toTimestamp())),u}(this.It,e);const r=function q4(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=ib(this.It),t.removeTarget=e,this.Bo(t)}}class Jj extends A2{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function z4(n,e){return n&&n.length>0?(nn(void 0!==e),n.map(t=>function(r,i){let a=Xi(r.updateTime?r.updateTime:i);return a.isEqual(rn.min())&&(a=Xi(i)),new P4(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.Zo(r,t)}return nn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ib(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>sb(this.It,r))};this.Bo(t)}}class Xj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new tt(je.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new tt(je.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection._o(e,t,r,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(je.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class tG{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(fi(t),this.ou=!1):it("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class nG{constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(m=>{r.enqueueAndForget((0,He.Z)(function*(){var _;Vd(u)&&(it("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,He.Z)(function*(E){const N=_t(E);N._u.add(4),yield C_(N),N.gu.set("Unknown"),N._u.delete(4),yield gb(N)}),function(E){return _.apply(this,arguments)})(u))}))}),this.gu=new tG(r,i)}}function gb(n){return SM.apply(this,arguments)}function SM(){return SM=(0,He.Z)(function*(n){if(Vd(n))for(const e of n.wu)yield e(!0)}),SM.apply(this,arguments)}function C_(n){return TM.apply(this,arguments)}function TM(){return TM=(0,He.Z)(function*(n){for(const e of n.wu)yield e(!1)}),TM.apply(this,arguments)}function PI(n,e){const t=_t(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),DM(t)?AM(t):S_(t).ko()&&IM(t,e))}function yb(n,e){const t=_t(n),r=S_(t);t.du.delete(e),r.ko()&&D2(t,e),0===t.du.size&&(r.ko()?r.Fo():Vd(t)&&t.gu.set("Unknown"))}function IM(n,e){n.yu.Mt(e.targetId),S_(n).zo(e)}function D2(n,e){n.yu.Mt(e),S_(n).Ho(e)}function AM(n){n.yu=new V4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),S_(n).start(),n.gu.uu()}function DM(n){return Vd(n)&&!S_(n).No()&&n.du.size>0}function Vd(n){return 0===_t(n)._u.size}function x2(n){n.yu=void 0}function rG(n){return xM.apply(this,arguments)}function xM(){return xM=(0,He.Z)(function*(n){n.du.forEach((e,t)=>{IM(n,e)})}),xM.apply(this,arguments)}function iG(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,He.Z)(function*(n,e){x2(n),DM(n)?(n.gu.hu(e),AM(n)):n.gu.set("Unknown")}),PM.apply(this,arguments)}function sG(n,e,t){return MM.apply(this,arguments)}function MM(){return MM=(0,He.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof EL&&2===e.state&&e.cause)try{yield(r=(0,He.Z)(function*(i,a){const u=a.cause;for(const m of a.targetIds)i.du.has(m)&&(yield i.remoteSyncer.rejectListen(m,u),i.du.delete(m),i.yu.removeTarget(m))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield MI(n,r)}else if(e instanceof mI?n.yu.Gt(e):e instanceof CL?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(rn.min()))try{const r=yield y2(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.yu.te(a);return u.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const E=i.du.get(_);E&&i.du.set(_,E.withResumeToken(m.resumeToken,a))}}),u.targetMismatches.forEach(m=>{const _=i.du.get(m);if(!_)return;i.du.set(m,_.withResumeToken(Fi.EMPTY_BYTE_STRING,_.snapshotVersion)),D2(i,m);const E=new gf(_.target,m,1,_.sequenceNumber);IM(i,E)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){it("RemoteStore","Failed to raise snapshot:",r),yield MI(n,r)}var r}),MM.apply(this,arguments)}function MI(n,e,t){return kM.apply(this,arguments)}function kM(){return kM=(0,He.Z)(function*(n,e,t){if(!cf(e))throw e;n._u.add(1),yield C_(n),n.gu.set("Offline"),t||(t=()=>y2(n.localStore)),n.asyncQueue.enqueueRetryable((0,He.Z)(function*(){it("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield gb(n)}))}),kM.apply(this,arguments)}function P2(n,e){return e().catch(t=>MI(n,t,e))}function E_(n){return OM.apply(this,arguments)}function OM(){return OM=(0,He.Z)(function*(n){const e=_t(n),t=vf(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;oG(e);)try{const i=yield $j(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,aG(e,i)}catch(i){yield MI(e,i)}M2(e)&&k2(e)}),OM.apply(this,arguments)}function oG(n){return Vd(n)&&n.fu.length<10}function aG(n,e){n.fu.push(e);const t=vf(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function M2(n){return Vd(n)&&!vf(n).No()&&n.fu.length>0}function k2(n){vf(n).start()}function lG(n){return RM.apply(this,arguments)}function RM(){return RM=(0,He.Z)(function*(n){vf(n).eu()}),RM.apply(this,arguments)}function cG(n){return NM.apply(this,arguments)}function NM(){return NM=(0,He.Z)(function*(n){const e=vf(n);for(const t of n.fu)e.Xo(t.mutations)}),NM.apply(this,arguments)}function uG(n,e,t){return FM.apply(this,arguments)}function FM(){return FM=(0,He.Z)(function*(n,e,t){const r=n.fu.shift(),i=iM.from(r,e,t);yield P2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield E_(n)}),FM.apply(this,arguments)}function dG(n,e){return LM.apply(this,arguments)}function LM(){return LM=(0,He.Z)(function*(n,e){var t;e&&vf(n).Yo&&(yield(t=(0,He.Z)(function*(r,i){if(yL(a=i.code)&&a!==je.ABORTED){const u=r.fu.shift();vf(r).Mo(),yield P2(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield E_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),M2(n)&&k2(n)}),LM.apply(this,arguments)}function O2(n,e){return VM.apply(this,arguments)}function VM(){return VM=(0,He.Z)(function*(n,e){const t=_t(n);t.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const r=Vd(t);t._u.add(3),yield C_(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield gb(t)}),VM.apply(this,arguments)}function BM(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,He.Z)(function*(n,e){const t=_t(n);e?(t._u.delete(2),yield gb(t)):e||(t._u.add(2),yield C_(t),t.gu.set("Unknown"))}),UM.apply(this,arguments)}function S_(n){return n.pu||(n.pu=function(e,t,r){const i=_t(e);return i.su(),new Qj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:rG.bind(null,n),Zr:iG.bind(null,n),Wo:sG.bind(null,n)}),n.wu.push(function(){var e=(0,He.Z)(function*(t){t?(n.pu.Mo(),DM(n)?AM(n):n.gu.set("Unknown")):(yield n.pu.stop(),x2(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function vf(n){return n.Iu||(n.Iu=function(e,t,r){const i=_t(e);return i.su(),new Jj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:lG.bind(null,n),Zr:dG.bind(null,n),tu:cG.bind(null,n),Zo:uG.bind(null,n)}),n.wu.push(function(){var e=(0,He.Z)(function*(t){t?(n.Iu.Mo(),yield E_(n)):(yield n.Iu.stop(),n.fu.length>0&&(it("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class HM{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,m=new HM(e,t,u,i,a);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T_(n,e){if(fi("AsyncQueue",`${e}: ${n}`),cf(n))return new tt(je.UNAVAILABLE,`${e}: ${n}`);throw n}class I_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||gt.comparator(t.key,r.key):(t,r)=>gt.comparator(t.key,r.key),this.keyedMap=Jw(),this.sortedSet=new ti(this.comparator)}static emptySet(e){return new I_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof I_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new I_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class R2{constructor(){this.Tu=new ti(gt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Dt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class A_{constructor(e,t,r,i,a,u,m,_,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new A_(e,t,I_.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class hG{constructor(){this.Au=void 0,this.listeners=[]}}class fG{constructor(){this.queries=new mf(e=>tL(e),Kw),this.onlineState="Unknown",this.Ru=new Set}}function jM(n,e){return GM.apply(this,arguments)}function GM(){return GM=(0,He.Z)(function*(n,e){const t=_t(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new hG),i)try{a.Au=yield t.onListen(r)}catch(u){const m=T_(u,`Initialization of query '${KP(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&qM(t)}),GM.apply(this,arguments)}function $M(n,e){return zM.apply(this,arguments)}function zM(){return zM=(0,He.Z)(function*(n,e){const t=_t(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),zM.apply(this,arguments)}function pG(n,e){const t=_t(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const m of u.listeners)m.Pu(i)&&(r=!0);u.Au=i}}r&&qM(t)}function mG(n,e,t){const r=_t(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function qM(n){n.Ru.forEach(e=>{e.next()})}class WM{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new A_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=A_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class gG{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class N2{constructor(e){this.It=e}Ji(e){return wu(this.It,e)}Yi(e){return e.metadata.exists?kL(this.It,e.document,!1):Tr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Xi(e)}}class yG{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=F2(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=qn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new N2(this.It);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const m=(t.get(u)||En()).add(a);t.set(u,m)}}return t}complete(){var e=this;return(0,He.Z)(function*(){const t=yield function zj(n,e,t,r){return gM.apply(this,arguments)}(e.localStore,new N2(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield qj(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function F2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class L2{constructor(e){this.key=e}}class V2{constructor(e){this.key=e}}class B2{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=En(),this.mutatedKeys=En(),this.Gu=rL(e),this.Qu=new I_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new R2,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,m=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((N,W)=>{const se=i.get(N),pe=YP(this.query,W)?W:null,we=!!se&&this.mutatedKeys.has(se.key),Me=!!pe&&(pe.hasLocalMutations||this.mutatedKeys.has(pe.key)&&pe.hasCommittedMutations);let Ve=!1;se&&pe?se.data.isEqual(pe.data)?we!==Me&&(r.track({type:3,doc:pe}),Ve=!0):this.Hu(se,pe)||(r.track({type:2,doc:pe}),Ve=!0,(_&&this.Gu(pe,_)>0||E&&this.Gu(pe,E)<0)&&(m=!0)):!se&&pe?(r.track({type:0,doc:pe}),Ve=!0):se&&!pe&&(r.track({type:1,doc:se}),Ve=!0,(_||E)&&(m=!0)),Ve&&(pe?(u=u.add(pe),a=Me?a.add(N):a.delete(N)):(u=u.delete(N),a=a.delete(N)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const N="F"===this.query.limitType?u.last():u.first();u=u.delete(N.key),a=a.delete(N.key),r.track({type:1,doc:N})}return{Qu:u,zu:r,$i:m,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((E,N)=>function(W,se){const pe=we=>{switch(we){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return pe(W)-pe(se)}(E.type,N.type)||this.Gu(E.doc,N.doc)),this.Ju(r);const u=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,_=m!==this.qu;return this.qu=m,0!==a.length||_?{snapshot:new A_(this.query,e.Qu,i,a,e.mutatedKeys,0===m,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new R2,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=En(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new V2(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new L2(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=En();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return A_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class _G{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class vG{constructor(e){this.key=e,this.nc=!1}}class wG{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new mf(m=>tL(m),Kw),this.rc=new Map,this.oc=new Set,this.uc=new ti(gt.comparator),this.cc=new Map,this.ac=new cM,this.hc={},this.lc=new Map,this.fc=qm.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function bG(n,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,He.Z)(function*(n,e){const t=yk(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const u=yield w_(t.localStore,fo(e));t.isPrimaryClient&&PI(t.remoteStore,u);const m=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield KM(t,e,r,"current"===m,u.resumeToken)}return i}),ZM.apply(this,arguments)}function KM(n,e,t,r,i){return YM.apply(this,arguments)}function YM(){return YM=(0,He.Z)(function*(n,e,t,r,i){n._c=(W,se,pe)=>{return(we=(0,He.Z)(function*(Me,Ve,st,ht){let ft=Ve.view.Wu(st);ft.$i&&(ft=yield II(Me.localStore,Ve.query,!1).then(({documents:jt})=>Ve.view.Wu(jt,ft)));const pt=ht&&ht.targetChanges.get(Ve.targetId),Bt=Ve.view.applyChanges(ft,Me.isPrimaryClient,pt);return ok(Me,Ve.targetId,Bt.Xu),Bt.snapshot}),function(Me,Ve,st,ht){return we.apply(this,arguments)})(n,W,se,pe);var we};const a=yield II(n.localStore,e,!0),u=new B2(e,a.Hi),m=u.Wu(a.documents),_=tb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),E=u.applyChanges(m,n.isPrimaryClient,_);ok(n,t,E.Xu);const N=new _G(e,t,u);return n.ic.set(e,N),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),E.snapshot}),YM.apply(this,arguments)}function CG(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,He.Z)(function*(n,e){const t=_t(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!Kw(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield b_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),yb(t.remoteStore,r.targetId),D_(t,r.targetId)}).catch(lf))):(D_(t,r.targetId),yield b_(t.localStore,r.targetId,!0))}),QM.apply(this,arguments)}function JM(){return JM=(0,He.Z)(function*(n,e,t){const r=_k(n);try{const i=yield function(a,u){const m=_t(a),_=Lr.now(),E=u.reduce((se,pe)=>se.add(pe.key),En());let N,W;return m.persistence.runTransaction("Locally write mutations","readwrite",se=>{let pe=Yo(),we=En();return m.Gi.getEntries(se,E).next(Me=>{pe=Me,pe.forEach((Ve,st)=>{st.isValidDocument()||(we=we.add(Ve))})}).next(()=>m.localDocuments.getOverlayedDocuments(se,pe)).next(Me=>{N=Me;const Ve=[];for(const st of u){const ht=k4(st,N.get(st.key).overlayedDocument);null!=ht&&Ve.push(new Ld(st.key,ht,qF(ht.value.mapValue),Vr.exists(!0)))}return m.mutationQueue.addMutationBatch(se,_,Ve,u)}).next(Me=>{W=Me;const Ve=Me.applyToLocalDocumentSet(N,we);return m.documentOverlayCache.saveOverlays(se,Me.batchId,Ve)})}).then(()=>({batchId:W.batchId,changes:wL(N)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,m){let _=a.hc[a.currentUser.toKey()];_||(_=new ti(pn)),_=_.insert(u,m),a.hc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Bd(r,i.changes),yield E_(r.remoteStore)}catch(i){const a=T_(i,"Failed to persist write");t.reject(a)}}),JM.apply(this,arguments)}function U2(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,He.Z)(function*(n,e){const t=_t(n);try{const r=yield Gj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.cc.get(a);u&&(nn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?nn(u.nc):i.removedDocuments.size>0&&(nn(u.nc),u.nc=!1))}),yield Bd(t,r,e)}catch(r){yield lf(r)}}),XM.apply(this,arguments)}function H2(n,e,t){const r=_t(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,u)=>{const m=u.view.bu(e);m.snapshot&&i.push(m.snapshot)}),function(a,u){const m=_t(a);m.onlineState=u;let _=!1;m.queries.forEach((E,N)=>{for(const W of N.listeners)W.bu(u)&&(_=!0)}),_&&qM(m)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function SG(n,e,t){return ek.apply(this,arguments)}function ek(){return ek=(0,He.Z)(function*(n,e,t){const r=_t(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let u=new ti(gt.comparator);u=u.insert(a,Tr.newNoDocument(a,rn.min()));const m=En().add(a),_=new eb(rn.min(),new Map,new gr(pn),u,m);yield U2(r,_),r.uc=r.uc.remove(a),r.cc.delete(e),ak(r)}else yield b_(r.localStore,e,!1).then(()=>D_(r,e,t)).catch(lf)}),ek.apply(this,arguments)}function TG(n,e){return tk.apply(this,arguments)}function tk(){return tk=(0,He.Z)(function*(n,e){const t=_t(n),r=e.batch.batchId;try{const i=yield jj(t.localStore,e);sk(t,r,null),ik(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bd(t,i)}catch(i){yield lf(i)}}),tk.apply(this,arguments)}function IG(n,e,t){return nk.apply(this,arguments)}function nk(){return nk=(0,He.Z)(function*(n,e,t){const r=_t(n);try{const i=yield function(a,u){const m=_t(a);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return m.mutationQueue.lookupMutationBatch(_,u).next(N=>(nn(null!==N),E=N.keys(),m.mutationQueue.removeMutationBatch(_,N))).next(()=>m.mutationQueue.performConsistencyCheck(_)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(_,E,u)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>m.localDocuments.getDocuments(_,E))})}(r.localStore,e);sk(r,e,t),ik(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bd(r,i)}catch(i){yield lf(i)}}),nk.apply(this,arguments)}function rk(){return rk=(0,He.Z)(function*(n,e){const t=_t(n);Vd(t.remoteStore)||it("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=_t(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>u.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=T_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),rk.apply(this,arguments)}function ik(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function sk(n,e,t){const r=_t(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function D_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||j2(n,r)})}function j2(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(yb(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),ak(n))}function ok(n,e,t){for(const r of t)r instanceof L2?(n.ac.addReference(r.key,e),DG(n,r)):r instanceof V2?(it("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||j2(n,r.key)):Dt()}function DG(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(it("SyncEngine","New document in limbo: "+t),n.oc.add(r),ak(n))}function ak(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new gt(qn.fromString(e)),r=n.fc.next();n.cc.set(r,new vG(t)),n.uc=n.uc.insert(t,r),PI(n.remoteStore,new gf(fo(u_(t.path)),r,2,Ko.at))}}function Bd(n,e,t){return lk.apply(this,arguments)}function lk(){return lk=(0,He.Z)(function*(n,e,t){const r=_t(n),i=[],a=[],u=[];var m;r.ic.isEmpty()||(r.ic.forEach((m,_)=>{u.push(r._c(_,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,E?.fromCache?"not-current":"current"),E){i.push(E);const N=fM.Ci(_.targetId,E);a.push(N)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(m=(0,He.Z)(function*(_,E){const N=_t(_);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",W=>Ue.forEach(E,se=>Ue.forEach(se.Si,pe=>N.persistence.referenceDelegate.addReference(W,se.targetId,pe)).next(()=>Ue.forEach(se.Di,pe=>N.persistence.referenceDelegate.removeReference(W,se.targetId,pe)))))}catch(W){if(!cf(W))throw W;it("LocalStore","Failed to update sequence numbers: "+W)}for(const W of E){const se=W.targetId;if(!W.fromCache){const pe=N.Ui.get(se),Me=pe.withLastLimboFreeSnapshotVersion(pe.snapshotVersion);N.Ui=N.Ui.insert(se,Me)}}}),function(_,E){return m.apply(this,arguments)})(r.localStore,a))}),lk.apply(this,arguments)}function xG(n,e){return ck.apply(this,arguments)}function ck(){return ck=(0,He.Z)(function*(n,e){const t=_t(n);if(!t.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const r=yield g2(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(m=>{m.reject(new tt(je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bd(t,r.ji)}var i}),ck.apply(this,arguments)}function PG(n,e){const t=_t(n),r=t.cc.get(e);if(r&&r.nc)return En().add(r.key);{let i=En();const a=t.rc.get(e);if(!a)return i;for(const u of a){const m=t.ic.get(u);i=i.unionWith(m.view.ju)}return i}}function MG(n,e){return uk.apply(this,arguments)}function uk(){return uk=(0,He.Z)(function*(n,e){const t=_t(n),r=yield II(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&ok(t,e.targetId,i.Xu),i}),uk.apply(this,arguments)}function kG(n,e){return dk.apply(this,arguments)}function dk(){return dk=(0,He.Z)(function*(n,e){const t=_t(n);return w2(t.localStore,e).then(r=>Bd(t,r))}),dk.apply(this,arguments)}function OG(n,e,t,r){return hk.apply(this,arguments)}function hk(){return hk=(0,He.Z)(function*(n,e,t,r){const i=_t(n),a=yield function(u,m){const _=_t(u),E=_t(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",N=>E.Tn(N,m).next(W=>W?_.localDocuments.getDocuments(N,W):Ue.resolve(null)))}(i.localStore,e);var m;null!==a?("pending"===t?yield E_(i.remoteStore):"acknowledged"===t||"rejected"===t?(sk(i,e,r||null),ik(i,e),m=e,_t(_t(i.localStore).mutationQueue).An(m)):Dt(),yield Bd(i,a)):it("SyncEngine","Cannot apply mutation batch with id: "+e)}),hk.apply(this,arguments)}function fk(){return fk=(0,He.Z)(function*(n,e){const t=_t(n);if(yk(t),_k(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield G2(t,r.toArray());t.dc=!0,yield BM(t.remoteStore,!0);for(const a of i)PI(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(D_(t,u),b_(t.localStore,u,!0))),yb(t.remoteStore,u)}),yield i,yield G2(t,r),function(a){const u=_t(a);u.cc.forEach((m,_)=>{yb(u.remoteStore,_)}),u.ac.fs(),u.cc=new Map,u.uc=new ti(gt.comparator)}(t),t.dc=!1,yield BM(t.remoteStore,!1)}}),fk.apply(this,arguments)}function G2(n,e,t){return pk.apply(this,arguments)}function pk(){return pk=(0,He.Z)(function*(n,e,t){const r=_t(n),i=[],a=[];for(const u of e){let m;const _=r.rc.get(u);if(_&&0!==_.length){m=yield w_(r.localStore,fo(_[0]));for(const E of _){const N=r.ic.get(E),W=yield MG(r,N);W.snapshot&&a.push(W.snapshot)}}else{const E=yield v2(r.localStore,u);m=yield w_(r.localStore,E),yield KM(r,$2(E),u,!1,m.resumeToken)}i.push(m)}return r.sc.Wo(a),i}),pk.apply(this,arguments)}function $2(n){return XF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function NG(n){const e=_t(n);return _t(_t(e.localStore).persistence).vi()}function FG(n,e,t,r){return mk.apply(this,arguments)}function mk(){return mk=(0,He.Z)(function*(n,e,t,r){const i=_t(n);if(i.dc)return void it("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield w2(i.localStore,nL(a[0])),m=eb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Fi.EMPTY_BYTE_STRING);yield Bd(i,u,m);break}case"rejected":yield b_(i.localStore,e,!0),D_(i,e,r);break;default:Dt()}}),mk.apply(this,arguments)}function LG(n,e,t){return gk.apply(this,arguments)}function gk(){return gk=(0,He.Z)(function*(n,e,t){const r=yk(n);if(r.dc){for(const i of e){if(r.rc.has(i)){it("SyncEngine","Adding an already active target "+i);continue}const a=yield v2(r.localStore,i),u=yield w_(r.localStore,a);yield KM(r,$2(a),u.targetId,!1,u.resumeToken),PI(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield b_(r.localStore,i,!1).then(()=>{yb(r.remoteStore,i),D_(r,i)}).catch(lf))}}),gk.apply(this,arguments)}function yk(n){const e=_t(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=U2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SG.bind(null,e),e.sc.Wo=pG.bind(null,e.eventManager),e.sc.wc=mG.bind(null,e.eventManager),e}function _k(n){const e=_t(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IG.bind(null,e),e}class z2{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,He.Z)(function*(){t.It=mb(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return m2(this.persistence,new p2,e.initialUser,this.It)}yc(e){return new h2(SI.Bs,this.It)}gc(e){return new S2}terminate(){var e=this;return(0,He.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class q2 extends z2{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,He.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield _k(r.Ac.syncEngine),yield E_(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return m2(this.persistence,new p2,e.initialUser,this.It)}Tc(e,t){return new Aj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new u4(t,this.persistence);return new c4(e.asyncQueue,r)}yc(e){const t=hM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Qo.withCacheSize(this.cacheSizeBytes):Qo.DEFAULT;return new dM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,I2(),xI(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new S2}}class BG extends q2{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,He.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof bM&&(r.sharedClientState.syncEngine={Fr:OG.bind(null,i),$r:FG.bind(null,i),Br:LG.bind(null,i),vi:NG.bind(null,i),Mr:kG.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,He.Z)(function*(u){yield function RG(n,e){return fk.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}gc(e){const t=I2();if(!bM.C(t))throw new tt(je.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=hM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class vk{initialize(e,t){var r=this;return(0,He.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>H2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=xG.bind(null,r.syncEngine),yield BM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fG}createDatastore(e){const t=mb(e.databaseInfo.databaseId),r=new Yj(e.databaseInfo);return new Xj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=m=>H2(this.syncEngine,m,0),u=T2.C()?new T2:new Wj,new nG(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,m,_,E){const N=new wG(r,i,a,u,m,_);return E&&(N.dc=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,He.Z)(function*(t){const r=_t(t);it("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield C_(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function wk(n,e,t){if(!t)throw new tt(je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function W2(n,e,t,r){if(!0===e&&!0===r)throw new tt(je.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z2(n){if(!gt.isDocumentKey(n))throw new tt(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K2(n){if(gt.isDocumentKey(n))throw new tt(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Dt()}function Hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new tt(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kI(n);throw new tt(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Y2(n,e){if(e<=0)throw new tt(je.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const Q2=new Map;class J2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,W2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _b{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new QH;switch(t.type){case"gapi":return new t4(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new tt(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Q2.get(e);t&&(it("ComponentProvider","Removing Datastore"),Q2.delete(e),t.terminate())}(this),Promise.resolve()}}class Mr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mr(this.firestore,e,this._key)}}class Us{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class Cu extends Us{constructor(e,t,r){super(e,t,u_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mr(this.firestore,null,new gt(e))}withConverter(e){return new Cu(this.firestore,e,this._path)}}function eV(n,e,...t){if(n=(0,fe.m9)(n),wk("collection","path",e),n instanceof _b){const r=qn.fromString(e,...t);return K2(r),new Cu(n,null,r)}{if(!(n instanceof Mr||n instanceof Cu))throw new tt(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qn.fromString(e,...t));return K2(r),new Cu(n.firestore,null,r)}}function OI(n,e,...t){if(n=(0,fe.m9)(n),1===arguments.length&&(e=DF.R()),wk("doc","path",e),n instanceof _b){const r=qn.fromString(e,...t);return Z2(r),new Mr(n,null,new gt(r))}{if(!(n instanceof Mr||n instanceof Cu))throw new tt(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qn.fromString(e,...t));return Z2(r),new Mr(n.firestore,n instanceof Cu?n.converter:null,new gt(r))}}function tV(n,e){return n=(0,fe.m9)(n),e=(0,fe.m9)(e),(n instanceof Mr||n instanceof Cu)&&(e instanceof Mr||e instanceof Cu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function bk(n,e){return n=(0,fe.m9)(n),e=(0,fe.m9)(e),n instanceof Us&&e instanceof Us&&n.firestore===e.firestore&&Kw(n._query,e._query)&&n.converter===e.converter}function nV(n,e=10240){let t=0;return{read:()=>(0,He.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,He.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class RI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class HG{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Ni,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,He.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,He.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,He.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new gG(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,He.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,He.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,He.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class $G{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,He.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new tt(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,He.Z)(function*(a,u){const m=_t(a),_=ib(m.It)+"/documents",E={documents:u.map(pe=>rb(m.It,pe))},N=yield m._o("BatchGetDocuments",_,E,u.length),W=new Map;N.forEach(pe=>{const we=function G4(n,e){return"found"in e?function(t,r){nn(!!r.found);const i=wu(t,r.found.name),a=Xi(r.found.updateTime),u=new vs({mapValue:{fields:r.found.fields}});return Tr.newFoundDocument(i,a,u)}(n,e):"missing"in e?function(t,r){nn(!!r.missing),nn(!!r.readTime);const i=wu(t,r.missing),a=Xi(r.readTime);return Tr.newNoDocument(i,a)}(n,e):Dt()}(m.It,pe);W.set(we.key.toString(),we)});const se=[];return u.forEach(pe=>{const we=W.get(pe.toString());nn(!!we),se.push(we)}),se}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new m_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,He.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=gt.fromPath(i);e.mutations.push(new QP(a,e.precondition(a)))}),yield(r=(0,He.Z)(function*(i,a){const u=_t(i),m=ib(u.It)+"/documents",_={writes:a.map(E=>sb(u.It,E))};yield u.ao("Commit",m,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dt();t=rn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new tt(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(rn.min())?Vr.exists(!1):Vr.updateTime(t):Vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rn.min()))throw new tt(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vr.updateTime(t)}return Vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zG{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new CM(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,He.Z)(function*(){const t=new $G(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Gw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yL(t)}return!1}}class qG{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ji.UNAUTHENTICATED,this.clientId=DF.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,He.Z)(function*(m){it("FirestoreClient","Received user=",m.uid),yield a.authCredentialListener(m),a.user=m});return function(m){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(it("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,He.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=T_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function rV(n,e){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,He.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,He.Z)(function*(a){r.isEqual(a)||(yield g2(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Ck.apply(this,arguments)}function iV(n,e){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,He.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Sk(n);it("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>O2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>O2(e.remoteStore,a)),n.onlineComponents=e}),Ek.apply(this,arguments)}function Sk(n){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,He.Z)(function*(n){return n.offlineComponents||(it("FirestoreClient","Using default OfflineComponentProvider"),yield rV(n,new z2)),n.offlineComponents}),Tk.apply(this,arguments)}function NI(n){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,He.Z)(function*(n){return n.onlineComponents||(it("FirestoreClient","Using default OnlineComponentProvider"),yield iV(n,new vk)),n.onlineComponents}),Ik.apply(this,arguments)}function sV(n){return Sk(n).then(e=>e.persistence)}function FI(n){return Sk(n).then(e=>e.localStore)}function Ak(n){return NI(n).then(e=>e.remoteStore)}function Dk(n){return NI(n).then(e=>e.syncEngine)}function x_(n){return xk.apply(this,arguments)}function xk(){return xk=(0,He.Z)(function*(n){const e=yield NI(n),t=e.eventManager;return t.onListen=bG.bind(null,e.syncEngine),t.onUnlisten=CG.bind(null,e.syncEngine),t}),xk.apply(this,arguments)}function aV(n,e,t={}){const r=new Ni;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function(i,a,u,m,_){const E=new RI({next:W=>{a.enqueueAndForget(()=>$M(i,N));const se=W.docs.has(u);!se&&W.fromCache?_.reject(new tt(je.UNAVAILABLE,"Failed to get document because the client is offline.")):se&&W.fromCache&&m&&"server"===m.source?_.reject(new tt(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(W)},error:W=>_.reject(W)}),N=new WM(u_(u.path),E,{includeMetadataChanges:!0,Nu:!0});return jM(i,N)}(yield x_(n),n.asyncQueue,e,t,r)})),r.promise}function lV(n,e,t={}){const r=new Ni;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function(i,a,u,m,_){const E=new RI({next:W=>{a.enqueueAndForget(()=>$M(i,N)),W.fromCache&&"server"===m.source?_.reject(new tt(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(W)},error:W=>_.reject(W)}),N=new WM(u,E,{includeMetadataChanges:!0,Nu:!0});return jM(i,N)}(yield x_(n),n.asyncQueue,e,t,r)})),r.promise}class e6{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new CM(this,"async_queue_retry"),this.Wc=()=>{const t=xI();t&&it("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=xI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=xI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Ni;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,He.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!cf(t))throw t;it("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,fi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=HM.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.qc.push(i),i}zc(){this.Kc&&Dt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,He.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Pk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class t6{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kr extends _b{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new e6,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cV(this),this._firestoreClient.terminate()}}function pi(n){return n._firestoreClient||cV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cV(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new f4(n._databaseId,a,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var a,m;n._firestoreClient=new qG(n._authCredentials,n._appCheckCredentials,n._queue,r)}function uV(n,e,t){const r=new Ni;return n.asyncQueue.enqueue((0,He.Z)(function*(){try{yield rV(n,t),yield iV(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(u=a).name?u.code===je.FAILED_PRECONDITION||u.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;Pm("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var u})).then(()=>r.promise)}function dV(n){if(n._initialized||n._terminated)throw new tt(je.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eu(Fi.fromBase64String(e))}catch(t){throw new tt(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Eu(Fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ud{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tt(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zm{constructor(e){this._methodName=e}}class LI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tt(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tt(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pn(this._lat,e._lat)||pn(this._long,e._long)}}const d6=/^__.*__$/;class h6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ld(e,this.data,this.fieldMask,t,this.fieldTransforms):new p_(e,this.data,t,this.fieldTransforms)}}class hV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ld(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class VI{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new VI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return HI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(fV(this.sa)&&d6.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class f6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||mb(e)}da(e,t,r,i=!1){return new VI({sa:e,methodName:t,fa:r,path:ei.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Km(n){const e=n._freezeSettings(),t=mb(n._databaseId);return new f6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BI(n,e,t,r,i,a={}){const u=n.da(a.merge||a.mergeFields?2:0,e,t,i);Rk("Data must be an object, but it was:",u,r);const m=gV(r,u);let _,E;if(a.merge)_=new Ma(u.fieldMask),E=u.fieldTransforms;else if(a.mergeFields){const N=[];for(const W of a.mergeFields){const se=Nk(e,W,t);if(!u.contains(se))throw new tt(je.INVALID_ARGUMENT,`Field '${se}' is specified in your field mask but missing from your input data.`);_V(N,se)||N.push(se)}_=new Ma(N),E=u.fieldTransforms.filter(W=>_.covers(W.field))}else _=null,E=u.fieldTransforms;return new h6(new vs(m),_,E)}class vb extends Zm{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vb}}function pV(n,e,t){return new VI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Mk extends Zm{_toFieldTransform(e){return new Yw(e.path,new h_)}isEqual(e){return e instanceof Mk}}class p6 extends Zm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=pV(this,e,!0),r=this._a.map(a=>Ym(a,t)),i=new Vm(r);return new Yw(e.path,i)}isEqual(e){return this===e}}class m6 extends Zm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=pV(this,e,!0),r=this._a.map(a=>Ym(a,t)),i=new Bm(r);return new Yw(e.path,i)}isEqual(e){return this===e}}class g6 extends Zm{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new f_(e.It,oL(e.It,this.wa));return new Yw(e.path,t)}isEqual(e){return this===e}}function kk(n,e,t,r){const i=n.da(1,e,t);Rk("Data must be an object, but it was:",i,r);const a=[],u=vs.empty();Om(r,(_,E)=>{const N=UI(e,_,t);E=(0,fe.m9)(E);const W=i.ca(N);if(E instanceof vb)a.push(N);else{const se=Ym(E,W);null!=se&&(a.push(N),u.set(N,se))}});const m=new Ma(a);return new hV(u,m,i.fieldTransforms)}function Ok(n,e,t,r,i,a){const u=n.da(1,e,t),m=[Nk(e,r,t)],_=[i];if(a.length%2!=0)throw new tt(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let se=0;se<a.length;se+=2)m.push(Nk(e,a[se])),_.push(a[se+1]);const E=[],N=vs.empty();for(let se=m.length-1;se>=0;--se)if(!_V(E,m[se])){const pe=m[se];let we=_[se];we=(0,fe.m9)(we);const Me=u.ca(pe);if(we instanceof vb)E.push(pe);else{const Ve=Ym(we,Me);null!=Ve&&(E.push(pe),N.set(pe,Ve))}}const W=new Ma(E);return new hV(N,W,u.fieldTransforms)}function mV(n,e,t,r=!1){return Ym(t,n.da(r?4:3,e))}function Ym(n,e){if(yV(n=(0,fe.m9)(n)))return Rk("Unsupported field value:",e,n),gV(n,e);if(n instanceof Zm)return function(t,r){if(!fV(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let m=Ym(u,r.aa(a));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return oL(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Lr.fromDate(t);return{timestampValue:nb(r.It,i)}}if(t instanceof Lr){const i=new Lr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:nb(r.It,i)}}if(t instanceof LI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Eu)return{bytesValue:AL(r.It,t._byteString)};if(t instanceof Mr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:JP(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${kI(t)}`)}(n,e)}function gV(n,e){const t={};return FF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Om(n,(r,i)=>{const a=Ym(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function yV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Lr||n instanceof LI||n instanceof Eu||n instanceof Mr||n instanceof Zm)}function Rk(n,e,t){if(!yV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=kI(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function Nk(n,e,t){if((e=(0,fe.m9)(e))instanceof Ud)return e._internalPath;if("string"==typeof e)return UI(n,e);throw HI("Field path arguments must be of type string or ",n,!1,void 0,t)}const y6=new RegExp("[~\\*/\\[\\]]");function UI(n,e,t){if(e.search(y6)>=0)throw HI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ud(...e.split("."))._internalPath}catch{throw HI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function HI(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${r}`),u&&(_+=` in document ${i}`),_+=")"),new tt(je.INVALID_ARGUMENT,m+n+_)}function _V(n,e){return n.some(t=>t.isEqual(e))}class wb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _6 extends wb{data(){return super.data()}}function jI(n,e){return"string"==typeof e?UI(n,e):e instanceof Ud?e._internalPath:e._delegate._internalPath}function vV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new tt(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bb{}function wf(n,...e){for(const t of e)n=t._apply(n);return n}class v6 extends bb{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Km(e.firestore),r=function(i,a,u,m,_,E,N){let W;if(_.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new tt(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){TV(N,E);const pe=[];for(const we of N)pe.push(SV(m,i,we));W={arrayValue:{values:pe}}}else W=SV(m,i,N)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||TV(N,E),W=mV(u,"where",N,"in"===E||"not-in"===E);const se=ws.create(_,E,W);return function(pe,we){if(we.dt()){const Ve=WP(pe);if(null!==Ve&&!Ve.isEqual(we.field))throw new tt(je.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ve.toString()}' and '${we.field.toString()}'`);const st=qP(pe);null!==st&&IV(0,we.field,st)}const Me=function(Ve,st){for(const ht of Ve.filters)if(st.indexOf(ht.op)>=0)return ht.op;return null}(pe,function(Ve){switch(Ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(we.op));if(null!==Me)throw new tt(je.INVALID_ARGUMENT,Me===we.op?`Invalid query. You cannot use more than one '${we.op.toString()}' filter.`:`Invalid query. You cannot use '${we.op.toString()}' filters with '${Me.toString()}' filters.`)}(i,se),se}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Us(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new Fd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class b6 extends bb{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new tt(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new tt(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new c_(i,a);return function(m,_){if(null===qP(m)){const E=WP(m);null!==E&&IV(0,E,_.field)}}(r,u),u}(e._query,this.ma,this.pa);return new Us(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Fd(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class wV extends bb{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new Us(e.firestore,e.converter,uI(e._query,this.Ia,this.Ta))}}class bV extends bb{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=EV(e,this.type,this.Ea,this.Aa);return new Us(e.firestore,e.converter,(i=t,new Fd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class CV extends bb{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=EV(e,this.type,this.Ea,this.Aa);return new Us(e.firestore,e.converter,(i=t,new Fd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function EV(n,e,t,r){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof wb)return function(i,a,u,m,_){if(!m)throw new tt(je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const E=[];for(const N of d_(i))if(N.field.isKeyField())E.push(Fm(a,m.key));else{const W=m.data.field(N.field);if(GP(W))throw new tt(je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===W){const se=N.field.canonicalString();throw new tt(je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${se}' (used as the orderBy) does not exist.`)}E.push(W)}return new pf(E,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Km(n.firestore);return function(a,u,m,_,E,N){const W=a.explicitOrderBy;if(E.length>W.length)throw new tt(je.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const se=[];for(let pe=0;pe<E.length;pe++){const we=E[pe];if(W[pe].field.isKeyField()){if("string"!=typeof we)throw new tt(je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof we}`);if(!ZP(a)&&-1!==we.indexOf("/"))throw new tt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${we}' contains a slash.`);const Me=a.path.child(qn.fromString(we));if(!gt.isDocumentKey(Me))throw new tt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const Ve=new gt(Me);se.push(Fm(u,Ve))}else{const Me=mV(m,_,we);se.push(Me)}}return new pf(se,N)}(n._query,n.firestore._databaseId,i,e,t,r)}}function SV(n,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new tt(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZP(e)&&-1!==t.indexOf("/"))throw new tt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qn.fromString(t));if(!gt.isDocumentKey(r))throw new tt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fm(n,new gt(r))}if(t instanceof Mr)return Fm(n,t._key);throw new tt(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kI(t)}.`)}function TV(n,e){if(!Array.isArray(n)||0===n.length)throw new tt(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new tt(je.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function IV(n,e,t){if(!t.isEqual(e))throw new tt(je.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Fk{convertValue(e,t="none"){switch(Nm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dt()}}convertObject(e,t){const r={};return Om(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new LI(ni(e.latitude),ni(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=VF(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(jw(e));default:return null}}convertTimestamp(e){const t=uf(e);return new Lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qn.fromString(e);nn(FL(r));const i=new df(r.get(1),r.get(3)),a=new gt(r.popFirst(5));return i.isEqual(t)||fi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function GI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class x6 extends Fk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,t)}}class Qm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hd extends wb{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Cb extends Hd{data(e={}){return super.data(e)}}class bf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cb(this._firestore,this._userDataWriter,r.key,r,new Qm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tt(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Cb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Qm(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const m=new Cb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Qm(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,E=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),E=a.indexOf(u.doc.key)),{type:P6(u.type),doc:m,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function P6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function AV(n,e){return n instanceof Hd&&e instanceof Hd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof bf&&e instanceof bf&&n._firestore===e._firestore&&bk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Cf extends Fk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,t)}}function DV(n,e,t){n=Hn(n,Mr);const r=Hn(n.firestore,kr),i=GI(n.converter,e,t);return P_(r,[BI(Km(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Vr.none())])}function xV(n,e,t,...r){n=Hn(n,Mr);const i=Hn(n.firestore,kr),a=Km(i);let u;return u="string"==typeof(e=(0,fe.m9)(e))||e instanceof Ud?Ok(a,"updateDoc",n._key,e,t,r):kk(a,"updateDoc",n._key,e),P_(i,[u.toMutation(n._key,Vr.exists(!0))])}function PV(n,...e){var t,r,i;n=(0,fe.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Pk(e[u])||(a=e[u],u++);const m={includeMetadataChanges:a.includeMetadataChanges};if(Pk(e[u])){const W=e[u];e[u]=null===(t=W.next)||void 0===t?void 0:t.bind(W),e[u+1]=null===(r=W.error)||void 0===r?void 0:r.bind(W),e[u+2]=null===(i=W.complete)||void 0===i?void 0:i.bind(W)}let _,E,N;if(n instanceof Mr)E=Hn(n.firestore,kr),N=u_(n._key.path),_={next:W=>{e[u]&&e[u](Lk(E,n,W))},error:e[u+1],complete:e[u+2]};else{const W=Hn(n,Us);E=Hn(W.firestore,kr),N=W._query;const se=new Cf(E);_={next:pe=>{e[u]&&e[u](new bf(E,se,W,pe))},error:e[u+1],complete:e[u+2]},vV(n._query)}return function(W,se,pe,we){const Me=new RI(we),Ve=new WM(se,Me,pe);return W.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return jM(yield x_(W),Ve)})),()=>{Me.bc(),W.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return $M(yield x_(W),Ve)}))}}(pi(E),N,m,_)}function P_(n,e){return function(t,r){const i=new Ni;return t.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function EG(n,e,t){return JM.apply(this,arguments)}(yield Dk(t),r,i)})),i.promise}(pi(n),e)}function Lk(n,e,t){const r=t.docs.get(e._key),i=new Cf(n);return new Hd(n,i,e._key,r,new Qm(t.hasPendingWrites,t.fromCache),e.converter)}const U6={maxAttempts:5};class MV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Km(e)}set(e,t,r){this._verifyNotCommitted();const i=Ef(e,this._firestore),a=GI(i.converter,t,r),u=BI(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Vr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Ef(e,this._firestore);let u;return u="string"==typeof(t=(0,fe.m9)(t))||t instanceof Ud?Ok(this._dataReader,"WriteBatch.update",a._key,t,r,i):kk(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ef(e,this._firestore);return this._mutations=this._mutations.concat(new m_(t._key,Vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ef(n,e){if((n=(0,fe.m9)(n)).firestore!==e)throw new tt(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class H6 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Km(e)}get(e){const t=Ef(e,this._firestore),r=new x6(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Dt();const a=i[0];if(a.isFoundDocument())return new wb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new wb(this._firestore,r,t._key,null,t.converter);throw Dt()})}set(e,t,r){const i=Ef(e,this._firestore),a=GI(i.converter,t,r),u=BI(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=Ef(e,this._firestore);let u;return u="string"==typeof(t=(0,fe.m9)(t))||t instanceof Ud?Ok(this._dataReader,"Transaction.update",a._key,t,r,i):kk(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Ef(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ef(e,this._firestore),r=new Cf(this._firestore);return super.get(e).then(i=>new Hd(this._firestore,r,t._key,i._document,new Qm(!1,!1),t.converter))}}function Vk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new tt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function OV(){if(typeof Uint8Array>"u")throw new tt("unimplemented","Uint8Arrays are not available in this environment.")}function RV(){if(!function d4(){return typeof atob<"u"}())throw new tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){s_=ys.SDK_VERSION,(0,ys._registerComponent)(new Ia.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),u=new kr(new XH(t.getProvider("auth-internal")),new n4(t.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new tt(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new df(m.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,ys.registerVersion)(TF,"3.7.3",n),(0,ys.registerVersion)(TF,"3.7.3","esm2017")}();class Eb{constructor(e){this._delegate=e}static fromBase64String(e){return RV(),new Eb(Eu.fromBase64String(e))}static fromUint8Array(e){return OV(),new Eb(Eu.fromUint8Array(e))}toBase64(){return RV(),this._delegate.toBase64()}toUint8Array(){return OV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Bk(n){return function Y6(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Q6{enableIndexedDbPersistence(e,t){return function r6(n,e){dV(n=Hn(n,kr));const t=pi(n),r=n._freezeSettings(),i=new vk;return uV(t,i,new q2(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function i6(n){dV(n=Hn(n,kr));const e=pi(n),t=n._freezeSettings(),r=new vk;return uV(e,r,new BG(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function s6(n){if(n._initialized&&!n._terminated)throw new tt(je.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ni;return n._queue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{yield(t=(0,He.Z)(function*(r){if(!wc.C())return Promise.resolve();const i=r+"main";yield wc.delete(i)}),function(r){return t.apply(this,arguments)})(hM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class NV{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof df||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Pm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function X2(n,e,t,r={}){var i;const a=(n=Hn(n,_b))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Pm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,m;if("string"==typeof r.mockUserToken)u=r.mockUserToken,m=Ji.MOCK_USER;else{u=(0,fe.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new tt(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ji(_)}n._authCredentials=new JH(new IF(u,m))}}(this._delegate,e,t,r)}enableNetwork(){return function a6(n){return function WG(n){return n.asyncQueue.enqueue((0,He.Z)(function*(){const e=yield sV(n),t=yield Ak(n);return e.setNetworkEnabled(!0),function(r){const i=_t(r);return i._u.delete(0),gb(i)}(t)}))}(pi(n=Hn(n,kr)))}(this._delegate)}disableNetwork(){return function l6(n){return function ZG(n){return n.asyncQueue.enqueue((0,He.Z)(function*(){const e=yield sV(n),t=yield Ak(n);return e.setNetworkEnabled(!1),(r=(0,He.Z)(function*(i){const a=_t(i);a._u.add(0),yield C_(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(pi(n=Hn(n,kr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,W2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function o6(n){return function(e){const t=new Ni;return e.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function AG(n,e){return rk.apply(this,arguments)}(yield Dk(e),t)})),t.promise}(pi(n=Hn(n,kr)))}(this._delegate)}onSnapshotsInSync(e){return function B6(n,e){return function QG(n,e){const t=new RI(e);return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return r=yield x_(n),i=t,_t(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return r=yield x_(n),i=t,void _t(r).Ru.delete(i);var r,i}))}}(pi(n=Hn(n,kr)),Pk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new M_(this,eV(this._delegate,e))}catch(t){throw mo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Dl(this,OI(this._delegate,e))}catch(t){throw mo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new go(this,function UG(n,e){if(n=Hn(n,_b),wk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tt(je.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Us(n,null,(t=e,new Fd(qn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw mo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function j6(n,e,t){n=Hn(n,kr);const r=Object.assign(Object.assign({},U6),t);return function(i){if(i.maxAttempts<1)throw new tt(je.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,u){const m=new Ni;return i.asyncQueue.enqueueAndForget((0,He.Z)(function*(){const _=yield function oV(n){return NI(n).then(e=>e.datastore)}(i);new zG(i.asyncQueue,_,u,a,m).run()})),m.promise}(pi(n),i=>e(new H6(n,i)),r)}(this._delegate,t=>e(new FV(this,t)))}batch(){return pi(this._delegate),new LV(new MV(this._delegate,e=>P_(this._delegate,e)))}loadBundle(e){return function c6(n,e){const t=pi(n=Hn(n,kr)),r=new t6;return function JG(n,e,t,r){const i=function(a,u){let m;return m="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,E){if(_ instanceof Uint8Array)return nV(_,E);if(_ instanceof ArrayBuffer)return nV(new Uint8Array(_),E);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new HG(_,u);var _}(t,mb(e));n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){!function VG(n,e,t){const r=_t(n);var i;(i=(0,He.Z)(function*(a,u,m){try{const _=yield u.getMetadata();if(yield function(se,pe){const we=_t(se),Me=Xi(pe.createTime);return we.persistence.runTransaction("hasNewerBundle","readonly",Ve=>we.Ns.getBundleMetadata(Ve,pe.id)).then(Ve=>!!Ve&&Ve.createTime.compareTo(Me)>=0)}(a.localStore,_))return yield u.close(),m._completeWith({taskState:"Success",documentsLoaded:(se=_).totalDocuments,bytesLoaded:se.totalBytes,totalDocuments:se.totalDocuments,totalBytes:se.totalBytes}),Promise.resolve(new Set);m._updateProgress(F2(_));const E=new yG(_,a.localStore,u.It);let N=yield u.mc();for(;N;){const se=yield E.Fu(N);se&&m._updateProgress(se),N=yield u.mc()}const W=yield E.complete();return yield Bd(a,W.Lu,void 0),yield function(se,pe){const we=_t(se);return we.persistence.runTransaction("Save bundle","readwrite",Me=>we.Ns.saveBundleMetadata(Me,pe))}(a.localStore,_),m._completeWith(W.progress),Promise.resolve(W.Bu)}catch(_){return Pm("SyncEngine",`Loading bundle failed with ${_}`),m._failWith(_),Promise.resolve(new Set)}var se}),function(a,u,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Dk(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function u6(n,e){return function XG(n,e){return n.asyncQueue.enqueue((0,He.Z)(function*(){return function(t,r){const i=_t(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield FI(n),e)}))}(pi(n=Hn(n,kr)),e).then(t=>t?new Us(n,null,t.query):null)}(this._delegate,e).then(t=>t?new go(this,t):null)}}class $I extends Fk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eb(new Eu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Dl.forKey(t,this.firestore,null)}}class FV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $I(e)}get(e){const t=Xm(e);return this._delegate.get(t).then(r=>new Sb(this._firestore,new Hd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Xm(e);return r?(Vk("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Xm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Xm(e);return this._delegate.delete(t),this}}class LV{constructor(e){this._delegate=e}set(e,t,r){const i=Xm(e);return r?(Vk("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Xm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Xm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Cb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Tb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Jm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Jm(e,new $I(e),t),i.set(t,a)),a}}Jm.INSTANCES=new WeakMap;class Dl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $I(e)}static forPath(e,t,r){if(e.length%2!=0)throw new tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Dl(t,new Mr(t._delegate,r,new gt(e)))}static forKey(e,t,r){return new Dl(t,new Mr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new M_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new M_(this.firestore,eV(this._delegate,e))}catch(t){throw mo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,fe.m9)(e))instanceof Mr&&tV(this._delegate,e)}set(e,t){t=Vk("DocumentReference.set",t);try{return t?DV(this._delegate,e,t):DV(this._delegate,e)}catch(r){throw mo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?xV(this._delegate,e):xV(this._delegate,e,t,...r)}catch(i){throw mo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function L6(n){return P_(Hn(n.firestore,kr),[new m_(n._key,Vr.none())])}(this._delegate)}onSnapshot(...e){const t=VV(e),r=BV(e,i=>new Sb(this.firestore,new Hd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return PV(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function k6(n){n=Hn(n,Mr);const e=Hn(n.firestore,kr),t=pi(e),r=new Cf(e);return function KG(n,e){const t=new Ni;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return(r=(0,He.Z)(function*(i,a,u){try{const m=yield function(_,E){const N=_t(_);return N.persistence.runTransaction("read document","readonly",W=>N.localDocuments.getDocument(W,E))}(i,a);m.isFoundDocument()?u.resolve(m):m.isNoDocument()?u.resolve(null):u.reject(new tt(je.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const _=T_(m,`Failed to get document '${a} from cache`);u.reject(_)}}),function(i,a,u){return r.apply(this,arguments)})(yield FI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Hd(e,r,n._key,i,new Qm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function O6(n){n=Hn(n,Mr);const e=Hn(n.firestore,kr);return aV(pi(e),n._key,{source:"server"}).then(t=>Lk(e,n,t))}(this._delegate):function M6(n){n=Hn(n,Mr);const e=Hn(n.firestore,kr);return aV(pi(e),n._key).then(t=>Lk(e,n,t))}(this._delegate),t.then(r=>new Sb(this.firestore,new Hd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Dl(this.firestore,this._delegate.withConverter(e?Jm.getInstance(this.firestore,e):null))}}function mo(n,e,t){return n.message=n.message.replace(e,t),n}function VV(n){for(const e of n)if("object"==typeof e&&!Bk(e))return e;return{}}function BV(n,e){var t,r;let i;return i=Bk(n[0])?n[0]:Bk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Sb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Dl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AV(this._delegate,e._delegate)}}class Tb extends Sb{data(e){const t=this._delegate.data(e);return function YH(n,e){n||Dt()}(void 0!==t),t}}class go{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $I(e)}where(e,t,r){try{return new go(this.firestore,wf(this._delegate,function w6(n,e,t){const r=e,i=jI("where",n);return new v6(i,r,t)}(e,t,r)))}catch(i){throw mo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new go(this.firestore,wf(this._delegate,function C6(n,e="asc"){const t=e,r=jI("orderBy",n);return new b6(r,t)}(e,t)))}catch(r){throw mo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new go(this.firestore,wf(this._delegate,function E6(n){return Y2("limit",n),new wV("limit",n,"F")}(e)))}catch(t){throw mo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new go(this.firestore,wf(this._delegate,function S6(n){return Y2("limitToLast",n),new wV("limitToLast",n,"L")}(e)))}catch(t){throw mo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new go(this.firestore,wf(this._delegate,function T6(...n){return new bV("startAt",n,!0)}(...e)))}catch(t){throw mo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new go(this.firestore,wf(this._delegate,function I6(...n){return new bV("startAfter",n,!1)}(...e)))}catch(t){throw mo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new go(this.firestore,wf(this._delegate,function A6(...n){return new CV("endBefore",n,!1)}(...e)))}catch(t){throw mo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new go(this.firestore,wf(this._delegate,function D6(...n){return new CV("endAt",n,!0)}(...e)))}catch(t){throw mo(t,"endAt()","Query.endAt()")}}isEqual(e){return bk(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function N6(n){n=Hn(n,Us);const e=Hn(n.firestore,kr),t=pi(e),r=new Cf(e);return function YG(n,e){const t=new Ni;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return(r=(0,He.Z)(function*(i,a,u){try{const m=yield II(i,a,!0),_=new B2(a,m.Hi),E=_.Wu(m.documents),N=_.applyChanges(E,!1);u.resolve(N.snapshot)}catch(m){const _=T_(m,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(i,a,u){return r.apply(this,arguments)})(yield FI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new bf(e,r,n,i))}(this._delegate):"server"===e?.source?function F6(n){n=Hn(n,Us);const e=Hn(n.firestore,kr),t=pi(e),r=new Cf(e);return lV(t,n._query,{source:"server"}).then(i=>new bf(e,r,n,i))}(this._delegate):function R6(n){n=Hn(n,Us);const e=Hn(n.firestore,kr),t=pi(e),r=new Cf(e);return vV(n._query),lV(t,n._query).then(i=>new bf(e,r,n,i))}(this._delegate),t.then(r=>new Uk(this.firestore,new bf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=VV(e),r=BV(e,i=>new Uk(this.firestore,new bf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return PV(this._delegate,t,r)}withConverter(e){return new go(this.firestore,this._delegate.withConverter(e?Jm.getInstance(this.firestore,e):null))}}class X6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Tb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Uk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new go(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Tb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new X6(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Tb(this._firestore,r))})}isEqual(e){return AV(this._delegate,e._delegate)}}class M_ extends go{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Dl(this.firestore,e):null}doc(e){try{return new Dl(this.firestore,void 0===e?OI(this._delegate):OI(this._delegate,e))}catch(t){throw mo(t,"doc()","CollectionReference.doc()")}}add(e){return function V6(n,e){const t=Hn(n.firestore,kr),r=OI(n),i=GI(n.converter,e);return P_(t,[BI(Km(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Vr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Dl(this.firestore,t))}isEqual(e){return tV(this._delegate,e._delegate)}withConverter(e){return new M_(this.firestore,this._delegate.withConverter(e?Jm.getInstance(this.firestore,e):null))}}function Xm(n){return Hn(n,Mr)}class Hk{constructor(...e){this._delegate=new Ud(...e)}static documentId(){return new Hk(ei.keyField().canonicalString())}isEqual(e){return(e=(0,fe.m9)(e))instanceof Ud&&this._delegate._internalPath.isEqual(e._internalPath)}}class eg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $6(){return new Mk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new eg(e)}static delete(){const e=function G6(){return new vb("deleteField")}();return e._methodName="FieldValue.delete",new eg(e)}static arrayUnion(...e){const t=function z6(...n){return new p6("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new eg(t)}static arrayRemove(...e){const t=function q6(...n){return new m6("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new eg(t)}static increment(e){const t=function W6(n){return new g6("increment",n)}(e);return t._methodName="FieldValue.increment",new eg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const e$={Firestore:NV,GeoPoint:LI,Timestamp:Lr,Blob:Eb,Transaction:FV,WriteBatch:LV,DocumentReference:Dl,DocumentSnapshot:Sb,Query:go,QueryDocumentSnapshot:Tb,QuerySnapshot:Uk,CollectionReference:M_,FieldPath:Hk,FieldValue:eg,setLogLevel:function J6(n){!function KH(n){af.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function n$(n){(function t$(n,e){n.INTERNAL.registerComponent(new Ia.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},e$)))})(n,(e,t)=>new NV(e,t,new Q6)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(mT.Z);var jk=p(6451),zI=p(5363),r$=p(6063);class i$ extends ou.x{constructor(e=1/0,t=1/0,r=r$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let m=0;for(let _=1;_<r.length&&r[_]<=u;_+=2)m=_;m&&r.splice(0,m+1)}}}var UV=p(3099);function HV(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,UV.B)({connector:()=>new i$(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function jV(n,e){return(0,cy.m)(e)?Er(()=>n,e):Er(()=>n)}var Gk=p(9468);p(5867);const zk=new Map,$V={activated:!1,tokenObservers:[]},c$={initialized:!1,enabled:!1};function bs(n){return zk.get(n)||Object.assign({},$V)}function WI(){return c$}class m${constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,He.Z)(function*(){t.stop();try{t.pending=new fe.BH,yield function g$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const yo=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qV(n){if(!bs(n).activated)throw yo.create("use-before-activation",{appName:n.name})}function Zk(n,e){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,He.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const pe=yield u.getHeartbeatsHeader();pe&&(a["X-Firebase-Client"]=pe)}const m={method:"POST",body:JSON.stringify(e),headers:a};let _,E;try{_=yield fetch(n,m)}catch(pe){throw yo.create("fetch-network-error",{originalErrorMessage:null===(r=pe)||void 0===r?void 0:r.message})}if(200!==_.status)throw yo.create("fetch-status-error",{httpStatus:_.status});try{E=yield _.json()}catch(pe){throw yo.create("fetch-parse-error",{originalErrorMessage:null===(i=pe)||void 0===i?void 0:i.message})}const N=E.ttl.match(/^([\d.]+)(s)$/);if(!N||!N[2]||isNaN(Number(N[1])))throw yo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const W=1e3*Number(N[1]),se=Date.now();return{token:E.token,expireTimeMillis:se+W,issuedAtTimeMillis:se}}),Kk.apply(this,arguments)}function w$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ib="firebase-app-check-store";let YI=null;function ZV(){return YI||(YI=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(yo.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ib,{keyPath:"compositeKey"})}}catch(r){e(yo.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),YI)}function Yk(){return Yk=(0,He.Z)(function*(n,e){const r=(yield ZV()).transaction(Ib,"readwrite"),a=r.objectStore(Ib).put({compositeKey:n,value:e});return new Promise((u,m)=>{a.onsuccess=_=>{u()},r.onerror=_=>{var E;m(yo.create("storage-set",{originalErrorMessage:null===(E=_.target.error)||void 0===E?void 0:E.message}))}})}),Yk.apply(this,arguments)}const Ab=new Zo.Yd("@firebase/app-check");function Xk(n,e){return(0,fe.hl)()?function S$(n,e){return function KV(n,e){return Yk.apply(this,arguments)}(function QV(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ab.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function JV(){return WI().enabled}function XV(){return tO.apply(this,arguments)}function tO(){return tO=(0,He.Z)(function*(){const n=WI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),tO.apply(this,arguments)}const P$={error:"UNKNOWN_ERROR"};function M$(n){return fe.US.encodeString(JSON.stringify(n),!1)}function QI(n){return nO.apply(this,arguments)}function nO(){return nO=(0,He.Z)(function*(n,e=!1){const t=n.app;qV(t);const r=bs(t);let a,i=r.token;if(i&&!k_(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(k_(_)?i=_:yield Xk(t,void 0))}if(!e&&i&&k_(i))return{token:i.token};let m,u=!1;if(JV()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Zk(w$(t,yield XV()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const _=yield r.exchangeTokenPromise;return yield Xk(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield bs(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Ab.warn(_.message):Ab.error(_),a=_}return i?a?m=k_(i)?{token:i.token,internalError:a}:nB(a):(m={token:i.token},r.token=i,yield Xk(t,i)):m=nB(a),u&&tB(t,m),m}),nO.apply(this,arguments)}function iO(n,e){const t=bs(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function eB(n){const{app:e}=n,t=bs(e);let r=t.tokenRefresher;r||(r=function k$(n){const{app:e}=n;return new m$((0,He.Z)(function*(){let r;if(r=bs(e).token?yield QI(n,!0):yield QI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=bs(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function tB(n,e){const t=bs(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function k_(n){return n.expireTimeMillis-Date.now()>0}function nB(n){return{token:M$(P$),error:n}}class O${constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=bs(this.app);for(const t of e)iO(this.app,t.next);return Promise.resolve()}}const uB="app-check-internal";!function W$(){(0,ys._registerComponent)(new Ia.wA("app-check",n=>function R$(n,e){return new O$(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(uB).initialize()})),(0,ys._registerComponent)(new Ia.wA(uB,n=>function N$(n){return{getToken:e=>QI(n,e),addTokenListener:e=>function rO(n,e,t,r){const{app:i}=n,a=bs(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&k_(a.token)){const m=a.token;Promise.resolve().then(()=>{t({token:m.token}),eB(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>eB(n))}(n,"INTERNAL",e),removeTokenListener:e=>iO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ys.registerVersion)("@firebase/app-check","0.5.17")}();class Db{constructor(){return(0,zn.vb)("app-check")}}typeof window<"u"&&window;var XI=p(127);const cO=new s.OlP("angularfire2.auth.use-emulator"),uO=new s.OlP("angularfire2.auth.settings"),dO=new s.OlP("angularfire2.auth.tenant-id"),hO=new s.OlP("angularfire2.auth.langugage-code"),fO=new s.OlP("angularfire2.auth.use-device-language"),pO=new s.OlP("angularfire.auth.persistence"),mO=(n,e,t,r,i,a,u,m)=>(0,Fr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),u)for(const[E,N]of Object.entries(u))_.settings[E]=N;return m&&_.setPersistence(m),_},[t,r,i,a,u,m]);let xb=(()=>{class n{constructor(t,r,i,a,u,m,_,E,N,W,se,pe){const we=new ou.x,Me=Mt(void 0).pipe((0,zI.Q)(u.outsideAngular),Er(()=>a.runOutsideAngular(()=>Promise.resolve().then(p.bind(p,5881)))),(0,qt.U)(()=>(0,Fr.on)(t,a,r)),(0,qt.U)(Ve=>mO(Ve,a,m,E,N,W,_,se)),HV({bufferSize:1,refCount:!1}));if(Do(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Mt(null);else{Me.pipe(fc()).subscribe();const st=Me.pipe(Er(pt=>pt.getRedirectResult().then(Bt=>Bt,()=>null)),zn.iC,HV({bufferSize:1,refCount:!1})),ht=Me.pipe(Er(pt=>new vl.y(Bt=>({unsubscribe:a.runOutsideAngular(()=>pt.onAuthStateChanged(jt=>Bt.next(jt),jt=>Bt.error(jt),()=>Bt.complete()))})))),ft=Me.pipe(Er(pt=>new vl.y(Bt=>({unsubscribe:a.runOutsideAngular(()=>pt.onIdTokenChanged(jt=>Bt.next(jt),jt=>Bt.error(jt),()=>Bt.complete()))}))));this.authState=st.pipe(jV(ht),(0,Gk.R)(u.outsideAngular),(0,zI.Q)(u.insideAngular)),this.user=st.pipe(jV(ft),(0,Gk.R)(u.outsideAngular),(0,zI.Q)(u.insideAngular)),this.idToken=this.user.pipe(Er(pt=>pt?(0,Qn.D)(pt.getIdToken()):Mt(null))),this.idTokenResult=this.user.pipe(Er(pt=>pt?(0,Qn.D)(pt.getIdTokenResult()):Mt(null))),this.credential=(0,jk.T)(st,we,this.authState.pipe(ao(pt=>!pt))).pipe((0,qt.U)(pt=>pt?.user?pt:null),(0,Gk.R)(u.outsideAngular),(0,zI.Q)(u.insideAngular))}return(0,Fr.pX)(this,Me,a,{spy:{apply:(Ve,st,ht)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&ht.then(ft=>we.next(ft))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fr.Dh),s.LFG(Fr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zn.HU),s.LFG(cO,8),s.LFG(uO,8),s.LFG(dO,8),s.LFG(hO,8),s.LFG(fO,8),s.LFG(pO,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),X$=(()=>{class n{constructor(){XI.Z.registerVersion("angularfire",zn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xb]}),n})();function hB(n,e){return function ez(n,e=sw.z){return new vl.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function gO(n,e){return hB(n,e).pipe((0,qt.U)(t=>({payload:t,type:"query"})))}function e1(n,e){return gO(n,e).pipe(uy(void 0),hm(),(0,qt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,m)=>{const _=i.find(N=>N.doc.ref.isEqual(u.ref)),E=t?.payload.docs.find(N=>N.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&E&&JSON.stringify(E.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:u}})}),a}))}function fB(n,e,t){return e1(n,t).pipe(bd((r,i)=>function nz(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function rz(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return yO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return yO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),ow(),(0,qt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function yO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function pB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class mB{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=e1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,qt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(uy(void 0),hm(),ao(([r,i])=>i.length>0||!r),(0,qt.U)(([r,i])=>i),zn.iC)}auditTrail(e){return this.stateChanges(e).pipe(bd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=pB(e);return fB(this.query,t,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(e={}){return gO(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),zn.iC)}get(e){return(0,Qn.D)(this.query.get(e)).pipe(zn.iC)}add(e){return this.ref.add(e)}doc(e){return new gB(this.ref.doc(e),this.afs)}}class gB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=vB(r,t);return new mB(i,a,this.afs)}snapshotChanges(){return function tz(n,e){return hB(n,e).pipe(uy(void 0),hm(),(0,qt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,qt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Qn.D)(this.ref.get(e)).pipe(zn.iC)}}class iz{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?e1(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ao(t=>t.length>0),zn.iC):e1(this.query,this.afs.schedulers.outsideAngular).pipe(zn.iC)}auditTrail(e){return this.stateChanges(e).pipe(bd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=pB(e);return fB(this.query,t,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(e={}){return gO(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),zn.iC)}get(e){return(0,Qn.D)(this.query.get(e)).pipe(zn.iC)}}const yB=new s.OlP("angularfire2.enableFirestorePersistence"),_B=new s.OlP("angularfire2.firestore.persistenceSettings"),sz=new s.OlP("angularfire2.firestore.settings"),oz=new s.OlP("angularfire2.firestore.use-emulator");function vB(n,e=(t=>t)){return{query:e(n),ref:n}}let wB=(()=>{class n{constructor(t,r,i,a,u,m,_,E,N,W,se,pe,we,Me,Ve,st,ht){this.schedulers=_;const ft=(0,Fr.on)(t,m,r),pt=N;W&&mO(ft,m,se,we,Me,Ve,pe,st),[this.firestore,this.persistenceEnabled$]=(0,Fr.cc)(`${ft.name}.firestore`,"AngularFirestore",ft.name,()=>{const Bt=m.runOutsideAngular(()=>ft.firestore());if(a&&Bt.settings(a),pt&&Bt.useEmulator(...pt),i&&!Do(u)){const jt=()=>{try{return(0,Qn.D)(Bt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(Rn){return typeof console<"u"&&console.warn(Rn),Mt(!1)}};return[Bt,m.runOutsideAngular(jt)]}return[Bt,Mt(!1)]},[a,pt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=vB(i,r),m=this.schedulers.ngZone.run(()=>a);return new mB(m,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new iz(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new gB(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fr.Dh),s.LFG(Fr.xv,8),s.LFG(yB,8),s.LFG(sz,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zn.HU),s.LFG(_B,8),s.LFG(oz,8),s.LFG(xb,8),s.LFG(cO,8),s.LFG(uO,8),s.LFG(dO,8),s.LFG(hO,8),s.LFG(fO,8),s.LFG(pO,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),az=(()=>{class n{constructor(){XI.Z.registerVersion("angularfire",zn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:yB,useValue:!0},{provide:_B,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[wB]}),n})(),jd=(()=>{class n{constructor(t,r,i,a){this.afs=t,this.afAuth=r,this.router=i,this.ngZone=a,this.afAuth.authState.subscribe(u=>{u?(this.userData=u,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,r){var i=this;return(0,He.Z)(function*(){return i.afAuth.signInWithEmailAndPassword(t,r).then(a=>{i.SetUserData(a.user),i.afAuth.authState.subscribe(u=>{u&&i.router.navigate(["Home"])})}).catch(a=>{Pr().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:a.message})})})()}SignUp(t,r){var i=this;return(0,He.Z)(function*(){return i.afAuth.createUserWithEmailAndPassword(t,r).then(a=>{i.SendVerificationMail(),i.SetUserData(a.user)}).catch(a=>{Pr().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:a.message})})})()}SendVerificationMail(){var t=this;return(0,He.Z)(function*(){return t.afAuth.currentUser.then(r=>r.sendEmailVerification()).then(()=>{t.router.navigate(["verify-email-address"])})})()}ForgotPassword(t){var r=this;return(0,He.Z)(function*(){return r.afAuth.sendPasswordResetEmail(t).then(()=>{Pr().fire("Good job!","Password reset email sent, check your inbox.","success")}).catch(i=>{Pr().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:i.message})})})()}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}GoogleAuth(){var t=this;return(0,He.Z)(function*(){return t.AuthLogin(new nP.Q).then(r=>{t.router.navigate(["Home"])})})()}AuthLogin(t){var r=this;return(0,He.Z)(function*(){return r.afAuth.signInWithPopup(t).then(i=>{r.router.navigate(["Home"]),r.SetUserData(i.user)}).catch(i=>{Pr().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:i.message})})})()}SetUserData(t){var r=this;return(0,He.Z)(function*(){return r.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})})()}SignOut(){var t=this;return(0,He.Z)(function*(){return t.afAuth.signOut().then(()=>{localStorage.removeItem("user"),t.router.navigate(["sign-in"])})})()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(wB),s.LFG(xb),s.LFG(hi),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _O=function(){return["active"]},vO=function(){return{exact:!0}},lz=function(){return["Orders"]},cz=function(){return["Favorites"]},uz=function(){return["Info"]};let dz=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}logOut(){Pr().fire({title:"Are you sure?",text:"You will be logged out!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, please!"}).then(t=>{t.isConfirmed&&(Pr().fire("Logged out!","Thank you for visiting us","success"),this.authService.SignOut())})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(jd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sidebar"]],decls:15,vars:18,consts:[[1,"continer"],[1,"sidebar"],[1,"unordered-list"],[1,"list-item",3,"routerLinkActive","routerLinkActiveOptions","routerLink"],[1,"basket-icon"],["src","https://cdn.lordicon.com/qzwudxpy.json","trigger","hover",2,"width","70px","height","40px"],[1,"star-icon"],["src","https://cdn.lordicon.com/hqrgkqvs.json","trigger","hover",2,"width","70px","height","40px"],[1,"account-icon"],["src","https://cdn.lordicon.com/vusrdugn.json","trigger","hover",2,"width","70px","height","40px"],[1,"list-item",3,"click"],[1,"log-out-icon"],["src","https://cdn.lordicon.com/vsgcujbd.json","trigger","hover",2,"width","70px","height","40px"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"nav",1)(2,"ul",2)(3,"li",3)(4,"div",4),s._UZ(5,"lord-icon",5),s.qZA()(),s.TgZ(6,"li",3)(7,"div",6),s._UZ(8,"lord-icon",7),s.qZA()(),s.TgZ(9,"li",3)(10,"div",8),s._UZ(11,"lord-icon",9),s.qZA()(),s.TgZ(12,"li",10),s.NdJ("click",function(){return r.logOut()}),s.TgZ(13,"div",11),s._UZ(14,"lord-icon",12),s.qZA()()()()()),2&t&&(s.xp6(3),s.Q6J("routerLinkActive",s.DdM(9,_O))("routerLinkActiveOptions",s.DdM(10,vO))("routerLink",s.DdM(11,lz)),s.xp6(3),s.Q6J("routerLinkActive",s.DdM(12,_O))("routerLinkActiveOptions",s.DdM(13,vO))("routerLink",s.DdM(14,cz)),s.xp6(3),s.Q6J("routerLinkActive",s.DdM(15,_O))("routerLinkActiveOptions",s.DdM(16,vO))("routerLink",s.DdM(17,uz)))},dependencies:[fu,G0],styles:['.container[_ngcontent-%COMP%]{width:10%}.sidebar[_ngcontent-%COMP%]{float:left;position:relative;top:0;left:0;background:transparent;padding:100px 0}.unordered-list[_ngcontent-%COMP%]{text-align:center}.list-item[_ngcontent-%COMP%]{list-style:none}.list-item[_ngcontent-%COMP%]:nth-child(1){position:relative;width:70px;cursor:pointer;background:white;transition:all .4s ease-out;border-top:2px solid #ff613a;border-right:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(2){position:relative;width:70px;cursor:pointer;background:white;transition:all .4s ease-out;border-right:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(3){position:relative;width:70px;cursor:pointer;background:white;transition:all .4s ease-out;border-right:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(4){position:relative;width:70px;cursor:pointer;background:white;transition:all .4s ease-out;border-right:2px solid #ff613a;border-bottom:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:after{position:absolute;background:#ff613a;color:#fff;top:0;left:70px;width:70px;height:100%;opacity:.5;transform:perspective(400px) rotateY(90deg);transform-origin:0 100%;transition:all .4s ease-out}.list-item[_ngcontent-%COMP%]:nth-child(1):after{content:"Orders";line-height:88px;border-right:2px solid #ff613a;border-top:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(2):after{content:"Favorites";line-height:88px;border-right:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(3):after{content:"Infos";line-height:88px;border-right:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(4):after{content:"Log-out";line-height:88px;border-right:2px solid #ff613a;border-bottom:2px solid #ff613a}.list-item.active[_ngcontent-%COMP%]{transform:translate(-70px)}.list-item.active[_ngcontent-%COMP%]:after{opacity:1;transform:perspective(400px) rotateY(0) scale(1)}.list-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;padding:25px 0}.list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}@media only screen and (max-width: 800px){.unordered-list[_ngcontent-%COMP%]{align-self:center;display:flex;position:relative;background:transparent}.list-item[_ngcontent-%COMP%]{list-style:none}.list-item[_ngcontent-%COMP%]:after{transform:none}.list-item[_ngcontent-%COMP%]:nth-child(1){position:relative;width:70px;cursor:pointer;background:white;border:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(2){position:relative;width:70px;cursor:pointer;background:white;border-right:2px solid #ff613a;border-top:2px solid #ff613a;border-bottom:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(3){position:relative;width:70px;cursor:pointer;background:white;border-right:2px solid #ff613a;border-top:2px solid #ff613a;border-bottom:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(4){position:relative;width:70px;cursor:pointer;background:white;border-top:2px solid #ff613a;border-bottom:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(1):after{content:none}.list-item[_ngcontent-%COMP%]:nth-child(2):after{content:none}.list-item[_ngcontent-%COMP%]:nth-child(3):after{content:none}.list-item[_ngcontent-%COMP%]:nth-child(4):after{content:none}.list-item.active[_ngcontent-%COMP%]{transform:none}.list-item.active[_ngcontent-%COMP%]:after{opacity:0;transform:none}lord-icon[_ngcontent-%COMP%]{width:50px;height:50px}}']}),n})(),hz=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-account"]],decls:3,vars:0,consts:[[1,"wrapper"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"app-sidebar")(2,"router-outlet"),s.qZA())},dependencies:[Kp,dz],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;cursor:default;margin-top:10px;font-family:Dosis,sans-serif;font-size:14px;line-height:1.4}@media only screen and (max-width: 800px){.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}}"]}),n})();const fz=function(){return["/Shop"]};function pz(n,e){1&n&&(s.TgZ(0,"div",3)(1,"p"),s._uU(2,"Your have not ordered any products, yet"),s.qZA(),s.TgZ(3,"p"),s._uU(4,"Let's have a look at our collection!"),s.qZA(),s.TgZ(5,"a",4),s._uU(6,"Shop"),s.qZA()()),2&n&&(s.xp6(5),s.Q6J("routerLink",s.DdM(1,fz)))}function mz(n,e){if(1&n&&(s.TgZ(0,"h1"),s._uU(1," You ordered: ( "),s.TgZ(2,"span"),s._uU(3),s.qZA(),s._uU(4," ) items "),s.qZA()),2&n){const t=s.oxw(2);s.xp6(3),s.hij(" ",t.totalQuantity.length," ")}}function gz(n,e){if(1&n&&(s.TgZ(0,"h1"),s._uU(1," You ordered: ( "),s.TgZ(2,"span"),s._uU(3),s.qZA(),s._uU(4," ) item "),s.qZA()),2&n){const t=s.oxw(2);s.xp6(3),s.hij(" ",t.totalQuantity.length," ")}}function yz(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"li")(1,"a",4),s._UZ(2,"img",16),s.qZA(),s.TgZ(3,"div",17)(4,"a",4)(5,"p",18),s._uU(6),s.qZA()(),s.TgZ(7,"div",19),s._uU(8,"Size: "),s.TgZ(9,"span"),s._uU(10),s.qZA()(),s.TgZ(11,"div",20),s._uU(12,"Price: "),s.TgZ(13,"span"),s._uU(14),s.qZA()(),s.TgZ(15,"div",21),s._uU(16,"Ordered quantity: "),s.TgZ(17,"span"),s._uU(18),s.qZA()(),s.TgZ(19,"div",22),s._uU(20,"Total price: "),s.TgZ(21,"span"),s._uU(22),s.qZA()()(),s.TgZ(23,"lord-icon",23),s.NdJ("click",function(){const a=s.CHM(t).$implicit,u=s.oxw(2);return s.KtG(u.removeItem(a))}),s.qZA()()}if(2&n){const t=e.$implicit;s.xp6(1),s.MGl("routerLink","/Shop/Product/",t.id,""),s.xp6(1),s.s9C("src",t.image,s.LSH),s.s9C("alt",t.name),s.xp6(2),s.MGl("routerLink","/Shop/Product/",t.id,""),s.xp6(2),s.Oqu(t.name),s.xp6(4),s.Oqu(t.size),s.xp6(4),s.hij("\u20ac ",t.price,""),s.xp6(4),s.Oqu(t.quantity),s.xp6(4),s.hij("\u20ac ",t.price*t.quantity.toFixed(2),"")}}function _z(n,e){1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n&&(s.xp6(1),s.hij(" ","(free shipping on orders over \u20ac100)"," "))}function vz(n,e){1&n&&(s.TgZ(0,"div"),s._uU(1," FREE "),s.qZA())}function wz(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij(" \u20ac ",t.shippingPrice," ")}}function bz(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij(" \u20ac ",t.totalPrice.toFixed(2)," ")}}function Cz(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("\u20ac ",(t.totalPrice+t.shippingPrice).toFixed(2),"")}}function Ez(n,e){if(1&n&&(s.TgZ(0,"ul"),s.YNc(1,mz,5,1,"h1",5),s.YNc(2,gz,5,1,"ng-template",null,6,s.W1O),s.TgZ(4,"div",7),s.YNc(5,yz,24,9,"li",8),s.qZA(),s.TgZ(6,"div",9)(7,"h3"),s._uU(8,"ORDER TOTAL"),s.qZA(),s.TgZ(9,"div",10)(10,"p"),s._uU(11,"Subtotal"),s.qZA(),s.TgZ(12,"div"),s._uU(13),s.qZA()(),s.TgZ(14,"div",11)(15,"p"),s._uU(16,"Shipping "),s.YNc(17,_z,2,1,"span",12),s.qZA(),s.YNc(18,vz,2,0,"div",5),s.YNc(19,wz,2,1,"ng-template",null,13,s.W1O),s.qZA(),s.TgZ(21,"div",14)(22,"p"),s._uU(23,"Total (VAT included)"),s.qZA(),s.YNc(24,bz,2,1,"div",5),s.YNc(25,Cz,2,1,"ng-template",null,15,s.W1O),s.qZA()()()),2&n){const t=s.MAs(3),r=s.MAs(20),i=s.MAs(26),a=s.oxw();s.xp6(1),s.Q6J("ngIf",a.orderedProducts.length>1)("ngIfElse",t),s.xp6(4),s.Q6J("ngForOf",a.orderedProducts),s.xp6(8),s.hij("\u20ac ",a.totalPrice.toFixed(2),""),s.xp6(4),s.Q6J("ngIf",a.totalPrice<=100),s.xp6(1),s.Q6J("ngIf",a.totalPrice>100)("ngIfElse",r),s.xp6(6),s.Q6J("ngIf",a.totalPrice>100)("ngIfElse",i)}}let Sz=(()=>{class n{constructor(t,r){this.service=t,this.service2=r,this.LOCAL_STORAGE_ORDERED_ITEMS_LIST="ordered-items.list",this.LOCAL_STORAGE_TOTAL_QUANTITY="totalQuantity",this.LOCAL_STORAGE_TOTAL_PRICE="totalPrice",this.orderedProducts=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_ORDERED_ITEMS_LIST)),this.totalQuantity=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_QUANTITY)),this.totalPrice=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_PRICE)),this.shippingPrice=20}ngOnInit(){this.orderedProducts=this.service.orderedItems,this.totalQuantity=this.service.totalQuantity,this.totalPrice=this.service.totalPrice}removeItem(t){Pr().fire({title:"Are you sure?",text:"Your ordered item will be COMPLETELY removed!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(r=>{r.isConfirmed?(Pr().fire("Deleted!",`${t.name} </br>was removed from your order`,"success"),this.service.removeItem(t),this.service2.addItemQuantityToStock(t),this.totalQuantity.splice(this.totalQuantity.length-t.quantity,t.quantity),this.totalPrice-=t.quantity*t.price,this.saveInLocalStorageData()):r.dismiss===Pr().DismissReason.cancel&&Pr().fire("Cancelled","Your ordered item is safe :)","error")})}saveInLocalStorageData(){localStorage.setItem(this.LOCAL_STORAGE_ORDERED_ITEMS_LIST,JSON.stringify(this.orderedProducts)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_QUANTITY,JSON.stringify(this.totalQuantity)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_PRICE,JSON.stringify(this.totalPrice))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(dm),s.Y36(gc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-orders"]],decls:4,vars:2,consts:[[1,"order-cart"],["class","empty-cart",4,"ngIf","ngIfElse"],["orderedItems",""],[1,"empty-cart"],[3,"routerLink"],[4,"ngIf","ngIfElse"],["onlyOne",""],[1,"card-container"],[4,"ngFor","ngForOf"],[1,"total-price"],[1,"sub-total"],[1,"shipping"],[4,"ngIf"],["shipping",""],[1,"total"],["shippingAdded",""],[3,"src","alt"],[1,"description"],[1,"name"],[1,"size"],[1,"price"],[1,"quantity"],[1,"totalPrice"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","hover",2,"width","25px","height","25px",3,"click"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0),s.YNc(1,pz,7,2,"div",1),s.YNc(2,Ez,27,9,"ng-template",null,2,s.W1O),s.qZA()),2&t){const i=s.MAs(3);s.xp6(1),s.Q6J("ngIf",0==r.orderedProducts.length)("ngIfElse",i)}},dependencies:[oi,Un,uo],styles:[".order-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:2rem;margin-top:10px;font-family:Dosis,sans-serif;padding:2rem}.empty-cart[_ngcontent-%COMP%]{align-self:center;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;background-color:#f7f7f7;margin-top:30px;padding:4rem;gap:1rem;font-size:1.2rem;border-radius:4px;box-shadow:#0000002f 0 5px 5px;width:23rem}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1rem;text-decoration:none;color:#fff;background:#ff613a;width:10rem;padding:.5rem 1rem;text-align:center;transition:.4s;border-radius:6px}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ff8567}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;list-style:none;gap:1rem;padding:2rem 0rem;margin-left:40px}h1[_ngcontent-%COMP%]{font-size:2rem;align-self:center}span[_ngcontent-%COMP%]{color:#dc143c}.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;padding:2rem}li[_ngcontent-%COMP%]{box-shadow:#0000002f 0 5px 5px;box-sizing:border-box;padding:1rem 2rem;display:flex;width:90%;align-items:center;justify-content:space-between;gap:1rem;background-color:#f7f7f7;font-weight:200;border-radius:4px}.description[_ngcontent-%COMP%]{display:flex;gap:.3rem;flex-direction:column;flex:1}li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:5rem;width:5rem;background-color:#fff;padding:1rem;object-fit:contain}.name[_ngcontent-%COMP%]{max-width:10rem}lord-icon[_ngcontent-%COMP%]{cursor:pointer;align-self:flex-start}.size[_ngcontent-%COMP%], .price[_ngcontent-%COMP%], .quantity[_ngcontent-%COMP%], .totalPrice[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-size:.8rem;min-width:-moz-fit-content;min-width:fit-content}.total-price[_ngcontent-%COMP%]{align-self:center;box-sizing:border-box;background-color:#f7f7f7;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;width:50%;padding:2rem;box-shadow:#0000002f 0 5px 5px;border-radius:4px}.total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{align-self:flex-start;margin-bottom:1rem;border-bottom:1px solid grey;width:100%}.sub-total[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;font-weight:800;margin-top:.5rem}.total[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#dc143c}@media only screen and (max-width: 1100px){.order-cart[_ngcontent-%COMP%]{padding:1rem}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media only screen and (max-width: 750px){.order-cart[_ngcontent-%COMP%]{padding:1rem}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),n})();const Tz=function(){return["/Shop"]};function Iz(n,e){1&n&&(s.TgZ(0,"div",3)(1,"p"),s._uU(2,"Your have not liked any products, yet"),s.qZA(),s.TgZ(3,"p"),s._uU(4,"Let's create a wishlist for you with our collection!"),s.qZA(),s.TgZ(5,"a",4),s._uU(6,"Shop"),s.qZA()()),2&n&&(s.xp6(5),s.Q6J("routerLink",s.DdM(1,Tz)))}function Az(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",6)(1,"a",4)(2,"div",7)(3,"img",8),s.NdJ("mouseover",function(){const a=s.CHM(t).$implicit;return s.KtG(a.src=a.image2)})("mouseout",function(){const a=s.CHM(t).$implicit;return s.KtG(a.src=a.image1)}),s.qZA()(),s.TgZ(4,"p",9),s._uU(5),s.qZA()(),s.TgZ(6,"div",10)(7,"lord-icon",11),s.NdJ("click",function(){const a=s.CHM(t).$implicit,u=s.oxw(2);return s.KtG(u.removeItem(a))}),s.qZA(),s.TgZ(8,"p",12),s._uU(9,"Remove from favorites!"),s.qZA()()()}if(2&n){const t=e.$implicit;s.xp6(1),s.MGl("routerLink","/Shop/Product/",t.id,""),s.xp6(2),s.s9C("alt",t.name),s.Q6J("src",t.src||t.image1,s.LSH),s.xp6(2),s.Oqu(t.name)}}function Dz(n,e){if(1&n&&s.YNc(0,Az,10,4,"div",5),2&n){const t=s.oxw();s.Q6J("ngForOf",t.favoriteItems)}}let xz=(()=>{class n{constructor(t,r){this.service=t,this.service2=r}ngOnInit(){this.favoriteItems=this.service.items}removeItem(t){Pr().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&(Pr().fire("Deleted!",`${t.name} </br>was removed from your favorites`,"success"),this.service.removeFromFavorites(t),this.service2.removeItemFromFavs(t))})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Y0),s.Y36(gc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-favorites"]],decls:4,vars:2,consts:[[1,"cards"],["class","empty-cart",4,"ngIf","ngIfElse"],["favoriteProducts",""],[1,"empty-cart"],[3,"routerLink"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"image-container"],[3,"src","alt","mouseover","mouseout"],[1,"name"],[1,"favorite"],["src","https://cdn.lordicon.com/iwaotjbp.json","trigger","hover",2,"width","40px","height","40px",3,"click"],[1,"red-span"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0),s.YNc(1,Iz,7,2,"div",1),s.YNc(2,Dz,1,1,"ng-template",null,2,s.W1O),s.qZA()),2&t){const i=s.MAs(3);s.xp6(1),s.Q6J("ngIf",0==r.favoriteItems.length)("ngIfElse",i)}},dependencies:[oi,Un,uo],styles:[".cards[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:2rem;padding:2rem;margin-top:10px;font-family:Dosis,sans-serif}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column}.empty-cart[_ngcontent-%COMP%]{align-self:center;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;background-color:#f7f7f7;margin-top:30px;padding:4rem;gap:1rem;font-size:1.2rem;border-radius:4px;box-shadow:#0000002f 0 5px 5px;width:23rem}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1rem;text-decoration:none;color:#fff;background:#ff613a;width:10rem;padding:.5rem 1rem;text-align:center;transition:.4s;border-radius:6px;cursor:pointer}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ff8567}lord-icon[_ngcontent-%COMP%]{align-self:flex-start;cursor:pointer}.favorite[_ngcontent-%COMP%]{display:flex;gap:1rem}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.image-container[_ngcontent-%COMP%]{position:relative;background-color:#f7f7f7;height:15rem;width:15rem;padding:.5rem;margin-bottom:.5rem;display:flex;align-items:center;justify-content:center}img[_ngcontent-%COMP%]{object-position:center;max-height:100%;max-width:100%;object-fit:cover;transition:1s}.image-container[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(.95)}p[_ngcontent-%COMP%]{max-width:15rem;justify-self:flex-start;align-self:flex-start;margin:0;font-weight:300}.name[_ngcontent-%COMP%]{height:2.5rem}.red-span[_ngcontent-%COMP%]{display:none;color:#ff1493;align-self:center}.favorite[_ngcontent-%COMP%]:hover > .red-span[_ngcontent-%COMP%]{display:inline}@media only screen and (max-width: 750px){.cards[_ngcontent-%COMP%]{padding:1rem}}"]}),n})(),Pz=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(jd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-in"]],decls:29,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"formGroup"],["type","text","placeholder","Username","required","",1,"formControl"],["userName",""],["type","password","placeholder","Password","required","",1,"formControl"],["userPassword",""],["type","button","value","Log in",1,"btn","btnPrimary",3,"click"],[1,"or"],[1,"orInner"],["type","button",1,"btn","googleBtn",3,"click"],[1,"forgotPassword"],["routerLink","/forgot-password"],[1,"redirectToLogin"],["routerLink","/register-user",1,"redirect"],["src","../../../assets/dashboard.webp","alt","signin-image"]],template:function(t,r){if(1&t){const i=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),s._uU(4,"Sign In"),s.qZA(),s.TgZ(5,"div",3),s._UZ(6,"input",4,5),s.qZA(),s.TgZ(8,"div",3),s._UZ(9,"input",6,7),s.qZA(),s.TgZ(11,"div",3)(12,"input",8),s.NdJ("click",function(){s.CHM(i);const u=s.MAs(7),m=s.MAs(10);return s.KtG(r.authService.SignIn(u.value,m.value))}),s.qZA()(),s.TgZ(13,"div",3)(14,"span",9)(15,"span",10),s._uU(16,"Or"),s.qZA()()(),s.TgZ(17,"div",3)(18,"button",11),s.NdJ("click",function(){return r.authService.GoogleAuth()}),s._uU(19," Log in with Google "),s.qZA()(),s.TgZ(20,"div",12)(21,"span",13),s._uU(22,"Forgot Password?"),s.qZA()(),s.TgZ(23,"div",14)(24,"span"),s._uU(25,"Don't have an account? "),s.TgZ(26,"span",15),s._uU(27," Sign Up"),s.qZA()()()()(),s._UZ(28,"img",16),s.qZA()}},dependencies:[fu],styles:['.displayTable[_ngcontent-%COMP%]{position:relative;display:table;width:100%;height:100%}.displayTableCell[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;width:100%;height:100%}.authBlock[_ngcontent-%COMP%]{margin:85px auto;max-width:400px;background:white;padding:30px 40px 10px;overflow:hidden;box-shadow:0 0 4px #0000000a;-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.04)}h3[_ngcontent-%COMP%]{text-align:center;font-size:22px;margin:0 0 20px}.formGroup[_ngcontent-%COMP%]{margin-bottom:20px;float:left;width:100%}.formControl[_ngcontent-%COMP%]{width:100%;display:block;padding:15px 15px 14px;border:2px solid #e7e7e7;outline:none;font-size:15px;color:#444;background:#fcfcfc}.formControl[_ngcontent-%COMP%]:focus{border:2px solid #d3d3d6}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#bbb}input[_ngcontent-%COMP%]::-moz-placeholder{color:#bbb}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#bbb}input[_ngcontent-%COMP%]:-moz-placeholder{color:#bbb}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;border:none;font-size:16px;font-weight:600;padding:15px 0;background:#f96ea8;color:#fff;cursor:pointer;outline:none}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:.88}.displayTable[_ngcontent-%COMP%]   .googleBtn[_ngcontent-%COMP%]{background:#4dd5fe}.or[_ngcontent-%COMP%]{text-align:center;display:block;color:#a0a0a0;background:white;position:relative;margin:5px 0 0}.orInner[_ngcontent-%COMP%]{background:white;display:inline-block;z-index:4;position:relative;padding:0 12px}.or[_ngcontent-%COMP%]:before{position:absolute;content:"";left:0;top:11px;width:100%;height:1px;background:#e2e2e2}.forgotPassword[_ngcontent-%COMP%]{text-align:center;margin:-12px 0 15px;float:left;width:100%}.forgotPassword[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#4dd5fe;font-size:14px;font-weight:400;cursor:pointer;display:inline-block;padding-top:20px}.redirectToLogin[_ngcontent-%COMP%]{padding:15px 0 0;text-align:center;font-size:14px;font-weight:400;display:block;color:#000}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]{cursor:pointer;color:#00f;text-decoration:underline}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]:hover{color:#f96ea8}img[_ngcontent-%COMP%]{position:absolute;object-fit:fill;top:0;left:0;height:100%;width:100%;transform:scale(1.05);transition:transform 1s;z-index:-1}.displayTable[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(1)}']}),n})(),Mz=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(jd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-up"]],decls:29,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["userEmail",""],["type","password","placeholder","Password","required","",1,"formControl"],["userPwd",""],["type","button","value","Sign Up",1,"btn","btnPrimary",3,"click"],[1,"or"],[1,"orInner"],["type","button",1,"btn","googleBtn",3,"click"],[1,"empty-div"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],["src","../../../assets/dashboard.webp","alt","signup-image"]],template:function(t,r){if(1&t){const i=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),s._uU(4,"Sign Up"),s.qZA(),s.TgZ(5,"div",3),s._UZ(6,"input",4,5),s.qZA(),s.TgZ(8,"div",3),s._UZ(9,"input",6,7),s.qZA(),s.TgZ(11,"div",3)(12,"input",8),s.NdJ("click",function(){s.CHM(i);const u=s.MAs(7),m=s.MAs(10);return s.KtG(r.authService.SignUp(u.value,m.value))}),s.qZA()(),s.TgZ(13,"div",3)(14,"span",9)(15,"span",10),s._uU(16,"Or"),s.qZA()()(),s.TgZ(17,"div",3)(18,"button",11),s.NdJ("click",function(){return r.authService.GoogleAuth()}),s._uU(19," Continue with Google "),s.qZA()(),s.TgZ(20,"div",12)(21,"span"),s._uU(22,"empty"),s.qZA()(),s.TgZ(23,"div",13)(24,"span"),s._uU(25,"Already have an account? "),s.TgZ(26,"span",14),s._uU(27,"Log In"),s.qZA()()()()(),s._UZ(28,"img",15),s.qZA()}},dependencies:[fu],styles:['.displayTable[_ngcontent-%COMP%]{position:relative;display:table;width:100%;height:100%}.displayTableCell[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;width:100%;height:100%}h3[_ngcontent-%COMP%]{text-align:center;font-size:22px;margin:0 0 20px}.authBlock[_ngcontent-%COMP%]{margin:85px auto;max-width:400px;background:white;padding:30px 40px 10px;overflow:hidden;box-shadow:0 0 4px #0000000a;-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.04)}.formGroup[_ngcontent-%COMP%]{margin-bottom:20px;float:left;width:100%}.formControl[_ngcontent-%COMP%]{width:100%;display:block;padding:15px 15px 14px;border:2px solid #e7e7e7;outline:none;font-size:15px;color:#444;background:#fcfcfc}.formControl[_ngcontent-%COMP%]:focus{border:2px solid #d3d3d6}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#bbb}input[_ngcontent-%COMP%]::-moz-placeholder{color:#bbb}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#bbb}input[_ngcontent-%COMP%]:-moz-placeholder{color:#bbb}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;border:none;font-size:16px;font-weight:600;padding:15px 0;background:#f96ea8;color:#fff;cursor:pointer;outline:none}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:.88}.displayTable[_ngcontent-%COMP%]   .googleBtn[_ngcontent-%COMP%]{background:#4dd5fe}.or[_ngcontent-%COMP%]{text-align:center;display:block;color:#a0a0a0;background:white;position:relative;margin:5px 0 0}.orInner[_ngcontent-%COMP%]{background:white;display:inline-block;z-index:4;position:relative;padding:0 12px}.or[_ngcontent-%COMP%]:before{position:absolute;content:"";left:0;top:11px;width:100%;height:1px;background:#e2e2e2}empty-div[_ngcontent-%COMP%]{text-align:center;margin:-12px 0 15px;float:left;width:100%}.empty-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:14px;display:inline-block;padding-top:20px}.redirectToLogin[_ngcontent-%COMP%]{padding:15px 0 0;text-align:center;font-size:14px;font-weight:400;display:block;color:#000}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]{cursor:pointer;color:#00f;text-decoration:underline}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]:hover{color:#f96ea8}img[_ngcontent-%COMP%]{position:absolute;object-fit:fill;top:0;left:0;height:100%;width:100%;transform:scale(1.05);transition:transform 1s;z-index:-1}.displayTable[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(1)}']}),n})();function kz(n,e){if(1&n&&(s.TgZ(0,"div",4),s._UZ(1,"img",5),s.TgZ(2,"div",6)(3,"p"),s._uU(4,"User Name: "),s.TgZ(5,"strong"),s._uU(6),s.qZA()(),s.TgZ(7,"p"),s._uU(8,"User ID: "),s.TgZ(9,"strong"),s._uU(10),s.qZA()(),s.TgZ(11,"p"),s._uU(12,"Email: "),s.TgZ(13,"strong"),s._uU(14),s.qZA()(),s.TgZ(15,"p"),s._uU(16,"Email Verified: "),s.TgZ(17,"strong"),s._uU(18),s.qZA()()()()),2&n){const t=e.ngIf;s.xp6(1),s.s9C("src",t.photoURL?t.photoURL:"assets/dummy-user.png",s.LSH),s.s9C("alt",t.displayName),s.xp6(5),s.Oqu(t.displayName?t.displayName:"User"),s.xp6(4),s.Oqu(t.uid),s.xp6(4),s.Oqu(t.email),s.xp6(4),s.Oqu(t.emailVerified)}}let Oz=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(jd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-dashboard"]],decls:5,vars:1,consts:[[1,"info-container"],[1,"info-card"],[1,"h2"],["class","user-div",4,"ngIf"],[1,"user-div"],[3,"src","alt"],[1,"media-body"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"YOUR PROFILE"),s.qZA(),s.YNc(4,kz,19,6,"div",3),s.qZA()()),2&t&&(s.xp6(4),s.Q6J("ngIf",r.authService.userData))},dependencies:[Un],styles:[".info-container[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:10px;font-family:Dosis,sans-serif}.info-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#f7f7f7;margin-top:30px;padding:3rem;gap:2rem;font-size:1rem;border-radius:4px;box-shadow:#0000002f 0 5px 5px;width:28rem}.user-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2rem}.media-body[_ngcontent-%COMP%]{align-self:flex-start}img[_ngcontent-%COMP%]{height:8rem;width:8rem;border-radius:50%;border:1px solid crimson}p[_ngcontent-%COMP%]{font-size:1.2rem}strong[_ngcontent-%COMP%]{color:#dc143c}@media only screen and (max-width: 750px){.info-card[_ngcontent-%COMP%]{padding:1rem;width:18rem}p[_ngcontent-%COMP%]{font-size:.8rem}}"]}),n})(),Rz=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(jd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-forgot-password"]],decls:18,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"text-center"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["type","submit","value","Reset Password",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],["src","../../../assets/dashboard.webp","alt","forgot-pass-image"]],template:function(t,r){if(1&t){const i=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),s._uU(4,"Reset Password"),s.qZA(),s.TgZ(5,"p",3),s._uU(6,"Please enter your email address to request a password reset."),s.qZA(),s.TgZ(7,"div",4),s._UZ(8,"input",5,6),s.qZA(),s.TgZ(10,"div",4)(11,"input",7),s.NdJ("click",function(){s.CHM(i);const u=s.MAs(9);return s.KtG(r.authService.ForgotPassword(u.value))}),s.qZA()(),s.TgZ(12,"div",8)(13,"span"),s._uU(14,"Go back to ? "),s.TgZ(15,"span",9),s._uU(16,"Log In"),s.qZA()()()()(),s._UZ(17,"img",10),s.qZA()}},dependencies:[fu],styles:[".displayTable[_ngcontent-%COMP%]{position:relative;display:table;width:100%;height:100%}.displayTableCell[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;width:100%;height:100%}h3[_ngcontent-%COMP%]{text-align:center;font-size:22px;margin:0 0 20px}.authBlock[_ngcontent-%COMP%]{margin:165px auto;max-width:400px;background:white;padding:30px 40px 10px;overflow:hidden;box-shadow:0 0 4px #0000000a;-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.04)}.text-center[_ngcontent-%COMP%]{padding-bottom:20px}.formGroup[_ngcontent-%COMP%]{margin-bottom:20px;float:left;width:100%}.formControl[_ngcontent-%COMP%]{width:100%;display:block;padding:15px 15px 14px;border:2px solid #e7e7e7;outline:none;font-size:15px;color:#444;background:#fcfcfc}.formControl[_ngcontent-%COMP%]:focus{border:2px solid #d3d3d6}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#bbb}input[_ngcontent-%COMP%]::-moz-placeholder{color:#bbb}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#bbb}input[_ngcontent-%COMP%]:-moz-placeholder{color:#bbb}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;border:none;font-size:16px;font-weight:600;padding:15px 0;background:#f96ea8;color:#fff;cursor:pointer;outline:none}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:.88}.displayTable[_ngcontent-%COMP%]   .googleBtn[_ngcontent-%COMP%]{background:#4dd5fe}.redirectToLogin[_ngcontent-%COMP%]{padding:15px 0 0;text-align:center;font-size:14px;font-weight:400;display:block;color:#000}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]{cursor:pointer;color:#00f;text-decoration:underline}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]:hover{color:#f96ea8}img[_ngcontent-%COMP%]{position:absolute;object-fit:fill;top:0;left:0;height:100%;width:100%;transform:scale(1.05);transition:transform 1s;z-index:-1}.displayTable[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(1)}"]}),n})();function Nz(n,e){if(1&n&&(s.TgZ(0,"div",4)(1,"p",9),s._uU(2,"We have sent a confirmation email to "),s.TgZ(3,"strong"),s._uU(4),s.qZA(),s._uU(5,"."),s.qZA(),s.TgZ(6,"p",9),s._uU(7,"Please check your email and click on the link to verify your email address."),s.qZA()()),2&n){const t=e.ngIf;s.xp6(4),s.Oqu(t.email)}}let Fz=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(jd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-verify-email"]],decls:15,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"formGroup"],["type","button",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],["src","../../../assets/dashboard.webp","alt","verify-image"],[1,"text-center"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),s._uU(4,"Thank You for Registering"),s.qZA(),s.YNc(5,Nz,8,1,"div",3),s.TgZ(6,"div",4)(7,"button",5),s.NdJ("click",function(){return r.authService.SendVerificationMail()}),s._uU(8," Resend Verification Email "),s.qZA()(),s.TgZ(9,"div",6)(10,"span"),s._uU(11,"Go back to?"),s.TgZ(12,"span",7),s._uU(13," Sign in"),s.qZA()()()()(),s._UZ(14,"img",8),s.qZA()),2&t&&(s.xp6(5),s.Q6J("ngIf",r.authService.userData))},dependencies:[Un,fu],styles:[".displayTable[_ngcontent-%COMP%]{position:relative;display:table;width:100%;height:100%}.displayTableCell[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;width:100%;height:100%}h3[_ngcontent-%COMP%]{text-align:center;font-size:22px;margin:0 0 20px}.authBlock[_ngcontent-%COMP%]{margin:185px auto;max-width:400px;background:white;padding:30px 40px 10px;overflow:hidden;box-shadow:0 0 4px #0000000a;-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.04)}.formGroup[_ngcontent-%COMP%]{margin-bottom:20px;float:left;width:100%}.text-center[_ngcontent-%COMP%]:nth-of-type(1){padding-bottom:20px}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;border:none;font-size:16px;font-weight:600;padding:15px 0;background:#f96ea8;color:#fff;cursor:pointer;outline:none}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:.88}.redirectToLogin[_ngcontent-%COMP%]{padding:15px 0 0;text-align:center;font-size:14px;font-weight:400;display:block;color:#000}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]{cursor:pointer;color:#00f;text-decoration:underline}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]:hover{color:#f96ea8}img[_ngcontent-%COMP%]{position:absolute;object-fit:fill;top:0;left:0;height:100%;width:100%;transform:scale(1.05);transition:transform 1s;z-index:-1}.displayTable[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(1)}"]}),n})(),t1=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return!0!==this.authService.isLoggedIn&&this.router.navigate(["sign-in"]),!0}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(jd),s.LFG(hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lz(n,e){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const t=e.ngIf;s.xp6(1),s.Oqu(t.displayName?t.displayName:"User")}}const Vz=[{path:"",redirectTo:"/sign-in",pathMatch:"full"},{path:"sign-in",component:Pz},{path:"register-user",component:Mz},{path:"forgot-password",component:Rz},{path:"verify-email-address",component:Fz},{path:"Home",component:GS},{path:"Shop",component:ew,canActivate:[t1]},{path:"About",component:K0},{path:"ShoppingCart",component:hT,canActivate:[t1]},{path:"ErrorPage",component:US},{path:"Shop/Product/:id",component:$x,canActivate:[t1]},{path:"Account",component:hz,canActivate:[t1],children:[{path:"Welcome",component:(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(jd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-welcome"]],decls:14,vars:1,consts:[[1,"container"],[1,"welcome-message"],[4,"ngIf"],[1,"welcome"],["src","../../../assets/welcome.jpg","alt","welcome-image"],[1,"copy-right"],["href","https://vecteezy.com","target","_blank"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h3"),s._uU(3,"Hello "),s.YNc(4,Lz,2,1,"span",2),s.qZA(),s.TgZ(5,"p",3),s._uU(6,"Welcome to "),s.TgZ(7,"span"),s._uU(8," FashionGuru"),s.qZA()()(),s._UZ(9,"img",4),s.TgZ(10,"p",5),s._uU(11,"welcome image design by "),s.TgZ(12,"a",6),s._uU(13," vecteezy"),s.qZA()()()),2&t&&(s.xp6(4),s.Q6J("ngIf",r.authService.userData))},dependencies:[Un],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.welcome-message[_ngcontent-%COMP%]{font-size:2rem;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;padding:1rem}.welcome[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.welcome[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Monoton,cursive;font-size:3rem;color:#ff613a}img[_ngcontent-%COMP%]{width:60%;height:auto}a[href="https://vecteezy.com"][_ngcontent-%COMP%]{color:#ff8c00;text-decoration:none}a[href="https://vecteezy.com"][_ngcontent-%COMP%]:link, a[href="https://vecteezy.com"][_ngcontent-%COMP%]:visited{text-decoration:none}a[href="https://vecteezy.com"][_ngcontent-%COMP%]:hover{text-decoration:none;color:#4bc9c9c3}a[href="https://vecteezy.com"][_ngcontent-%COMP%]:active{text-decoration:none}']}),n})()},{path:"Orders",component:Sz},{path:"Favorites",component:xz},{path:"Info",component:Oz}]},{path:"**",component:VS}];let Bz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Z0.forRoot(Vz),Z0]}),n})();const wO=new s.OlP("@sweetalert2/ngx-sweetalert2#swalProvider"),bB=new s.OlP("@sweetalert2/ngx-sweetalert2#fireOnInit"),CB=new s.OlP("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let EB=(()=>{class n{constructor(t){this.swalProvider=t}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const t=function r(a){return"function"==typeof a&&void 0===a.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=t.then(a=>function i(a){return"function"==typeof a}(a)?a:a.default)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(wO))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Uz(){return p.e(226).then(p.t.bind(p,5226,19))}let Hz=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[EB,{provide:wO,useValue:t.provideSwal||Uz},{provide:bB,useValue:t.fireOnInit||!1},{provide:CB,useValue:t.dismissOnDestroy||!0}]}}static forChild(t={}){return{ngModule:n,providers:[...t.provideSwal?[EB,{provide:wO,useValue:t.provideSwal}]:[],...void 0!==t.fireOnInit?[{provide:bB,useValue:t.fireOnInit}]:[],...void 0!==t.dismissOnDestroy?[{provide:CB,useValue:t.dismissOnDestroy}]:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ga]}),n})();const SB="firebasestorage.googleapis.com",TB="storageBucket";class $r extends fe.ZR{constructor(e,t,r=0){super(bO(e),`Firebase Storage: ${t} (${bO(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function bO(n){return"storage/"+n}function CO(){return new $r("unknown","An unknown error occurred, please check the error payload for server response.")}function IB(){return new $r("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function AB(){return new $r("canceled","User canceled the upload/download.")}function DB(){return new $r("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function O_(n){return new $r("invalid-argument",n)}function xB(){return new $r("app-deleted","The Firebase app was deleted.")}function PB(n){return new $r("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pb(n,e){return new $r("invalid-format","String does not match format '"+n+"': "+e)}function Mb(n){throw new $r("internal-error","Internal error: "+n)}class Hs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Hs.makeFromUrl(e,t)}catch{return new Hs(e,"")}if(""===r.path)return r;throw function Jz(n){return new $r("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+i+"(/(.*))?$","i");function E(pt){pt.path_=decodeURIComponent(pt.path)}const W=t.replace(/[.]/g,"\\."),ft=[{regex:m,indices:{bucket:1,path:3},postModify:function a(pt){"/"===pt.path.charAt(pt.path.length-1)&&(pt.path_=pt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${W}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${t===SB?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let pt=0;pt<ft.length;pt++){const Bt=ft[pt],jt=Bt.regex.exec(e);if(jt){let gi=jt[Bt.indices.path];gi||(gi=""),r=new Hs(jt[Bt.indices.bucket],gi),Bt.postModify(r);break}}if(null==r)throw function Qz(n){return new $r("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class r5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function n1(n){return"string"==typeof n||n instanceof String}function MB(n){return EO()&&n instanceof Blob}function EO(){return typeof Blob<"u"&&!(0,fe.UG)()}function SO(n,e,t,r){if(r<e)throw O_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw O_(`Invalid value for '${n}'. Expected ${t} or less.`)}function Gd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function kB(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Sf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Sf||(Sf={})),Sf))();function OB(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class c5{constructor(e,t,r,i,a,u,m,_,E,N,W,se=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=_,this.timeout_=E,this.progressCallback_=N,this.connectionFactory_=W,this.retry=se,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((pe,we)=>{this.resolve_=pe,this.reject_=we,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,u=this.reject_,m=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(m,m.getResponse());!function o5(n){return void 0!==n}(_)?a():a(_)}catch(_){u(_)}else if(null!==m){const _=CO();_.serverResponse=m.getErrorText(),u(this.errorCallback_?this.errorCallback_(m,_):_)}else u(i.canceled?this.appDelete_?xB():AB():IB())};this.canceled_?t(0,new r1(!1,null,!0)):this.backoffId_=function i5(n,e,t){let r=1,i=null,a=null,u=!1,m=0;function _(){return 2===m}let E=!1;function N(...Ve){E||(E=!0,e.apply(null,Ve))}function W(Ve){i=setTimeout(()=>{i=null,n(pe,_())},Ve)}function se(){a&&clearTimeout(a)}function pe(Ve,...st){if(E)return void se();if(Ve)return se(),void N.call(null,Ve,...st);if(_()||u)return se(),void N.call(null,Ve,...st);let ft;r<64&&(r*=2),1===m?(m=2,ft=0):ft=1e3*(r+Math.random()),W(ft)}let we=!1;function Me(Ve){we||(we=!0,se(),!E&&(null!==i?(Ve||(m=2),clearTimeout(i),W(0)):Ve||(m=1)))}return W(0),a=setTimeout(()=>{u=!0,Me(!0)},t),Me}((r,i)=>{if(i)return void r(!1,new r1(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const m=a.getErrorCode()===Sf.NO_ERROR,_=a.getStatus();if((!m||OB(_,this.additionalRetryCodes_))&&this.retry){const N=a.getErrorCode()===Sf.ABORT;return void r(!1,new r1(!1,null,N))}const E=-1!==this.successCodes_.indexOf(_);r(!0,new r1(E,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function s5(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class r1{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function g5(...n){const e=function m5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(EO())return new Blob(n);throw new $r("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ka={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class TO{constructor(e,t){this.data=e,this.contentType=t||null}}function IO(n,e){switch(n){case ka.RAW:return new TO(RB(e));case ka.BASE64:case ka.BASE64URL:return new TO(NB(n,e));case ka.DATA_URL:return new TO(function w5(n){const e=new FB(n);return e.base64?NB(ka.BASE64,e.rest):function v5(n){let e;try{e=decodeURIComponent(n)}catch{throw Pb(ka.DATA_URL,"Malformed data URL.")}return RB(e)}(e.rest)}(e),function b5(n){return new FB(n).contentType}(e))}throw CO()}function RB(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function NB(n,e){switch(n){case ka.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw Pb(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ka.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw Pb(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function _5(n){if(typeof atob>"u")throw function n5(n){return new $r("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Pb(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class FB{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Pb(ka.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function C5(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Su{constructor(e,t){let r=0,i="";MB(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(MB(this.data_)){const i=function y5(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Su(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Su(r,!0)}}static getBlob(...e){if(EO()){const t=e.map(r=>r instanceof Su?r.data_:r);return new Su(g5.apply(null,t))}{const t=e.map(u=>n1(u)?IO(ka.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let m=0;m<u.length;m++)i[a++]=u[m]}),new Su(i,!0)}}uploadData(){return this.data_}}function AO(n){let e;try{e=JSON.parse(n)}catch{return null}return function l5(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function LB(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function T5(n,e){return e}class _o{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||T5}}let s1=null;function kb(){if(s1)return s1;const n=[];n.push(new _o("bucket")),n.push(new _o("generation")),n.push(new _o("metageneration")),n.push(new _o("name","fullPath",!0));const t=new _o("name");t.xform=function e(a,u){return function I5(n){return!n1(n)||n.length<2?n:LB(n)}(u)},n.push(t);const i=new _o("size");return i.xform=function r(a,u){return void 0!==u?Number(u):u},n.push(i),n.push(new _o("timeCreated")),n.push(new _o("updated")),n.push(new _o("md5Hash",null,!0)),n.push(new _o("cacheControl",null,!0)),n.push(new _o("contentDisposition",null,!0)),n.push(new _o("contentEncoding",null,!0)),n.push(new _o("contentLanguage",null,!0)),n.push(new _o("contentType",null,!0)),n.push(new _o("metadata","customMetadata",!0)),s1=n,s1}function VB(n,e,t){const r=AO(e);return null===r?null:function D5(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return function A5(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Hs(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function DO(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const BB="prefixes";class Tu{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Iu(n){if(!n)throw CO()}function o1(n,e){return function t(r,i){const a=VB(n,i,e);return Iu(null!==a),a}}function R_(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Kz(){return new $r("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Zz(){return new $r("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Wz(n){return new $r("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Yz(n){return new $r("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Ob(n){const e=R_(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function qz(n){return new $r("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function HB(n,e,t){const i=Gd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,m=new Tu(i,"GET",o1(n,t),u);return m.errorHandler=Ob(e),m}function R5(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const m=Gd(e.bucketOnlyServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,N=new Tu(m,"GET",function k5(n,e){return function t(r,i){const a=function M5(n,e,t){const r=AO(t);return null===r?null:function P5(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[BB])for(const i of t[BB]){const a=i.replace(/\/$/,""),u=n._makeStorageReference(new Hs(e,a));r.prefixes.push(u)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new Hs(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return Iu(null!==a),a}}(n,e.bucket),E);return N.urlParams=a,N.errorHandler=R_(e),N}function GB(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function V5(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class a1{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function xO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Iu(!1)}return Iu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const j5={STATE_CHANGED:"state_changed"},vo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function PO(n){switch(n){case"running":case"pausing":case"canceling":return vo.RUNNING;case"paused":return vo.PAUSED;case"success":return vo.SUCCESS;case"canceled":return vo.CANCELED;default:return vo.ERROR}}class G5{constructor(e,t,r){if(function a5(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function N_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class z5 extends class $5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Mb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function bc(){return new z5}class WB{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=kb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(OB(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=IB()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function B5(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u=GB(e,r,i),m={name:u.fullPath},_=Gd(a,n.host,n._protocol),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},W=DO(u,t),we=new Tu(_,"POST",function pe(Me){let Ve;xO(Me);try{Ve=Me.getResponseHeader("X-Goog-Upload-URL")}catch{Iu(!1)}return Iu(n1(Ve)),Ve},n.maxUploadRetryTime);return we.urlParams=m,we.headers=N,we.body=W,we.errorHandler=R_(e),we}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,bc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function U5(n,e,t,r){const _=new Tu(t,"POST",function a(E){const N=xO(E,["active","final"]);let W=null;try{W=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Iu(!1)}W||Iu(!1);const se=Number(W);return Iu(!isNaN(se)),new a1(se,r.size(),"final"===N)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=R_(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,bc,t,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new a1(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let u;try{u=function H5(n,e,t,r,i,a,u,m){const _=new a1(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function e5(){return new $r("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const E=_.total-_.current;let N=E;i>0&&(N=Math.min(N,i));const W=_.current;let pe="";pe=0===N?"finalize":E===N?"upload, finalize":"upload";const we={"X-Goog-Upload-Command":pe,"X-Goog-Upload-Offset":`${_.current}`},Me=r.slice(W,W+N);if(null===Me)throw DB();const ft=new Tu(t,"POST",function Ve(pt,Bt){const jt=xO(pt,["active","final"]),Rn=_.current+N,gi=r.size();let La;return La="final"===jt?o1(e,a)(pt,Bt):null,new a1(Rn,gi,"final"===jt,La)},e.maxUploadRetryTime);return ft.headers=we,ft.body=Me.uploadData(),ft.progressCallback=m||null,ft.errorHandler=R_(n),ft}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const m=this._ref.storage._makeRequest(u,bc,i,a,!1);this._request=m,m.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=HB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,bc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function $B(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function m(){let ft="";for(let pt=0;pt<2;pt++)ft+=Math.random().toString().slice(2);return ft}();u["Content-Type"]="multipart/related; boundary="+_;const E=GB(e,r,i),N=DO(E,t),pe=Su.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+_+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===pe)throw DB();const we={name:E.fullPath},Me=Gd(a,n.host,n._protocol),st=n.maxUploadRetryTime,ht=new Tu(Me,"POST",o1(n,t),st);return ht.urlParams=we,ht.headers=u,ht.body=pe.uploadData(),ht.errorHandler=R_(e),ht}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,bc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=AB(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=PO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new G5(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(PO(this._state)){case vo.SUCCESS:N_(this._resolve.bind(null,this.snapshot))();break;case vo.CANCELED:case vo.ERROR:N_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(PO(this._state)){case vo.RUNNING:case vo.PAUSED:e.next&&N_(e.next.bind(e,this.snapshot))();break;case vo.SUCCESS:e.complete&&N_(e.complete.bind(e))();break;default:e.error&&N_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class tg{constructor(e,t){this._service=e,this._location=t instanceof Hs?t:Hs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new tg(e,t)}get root(){const e=new Hs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LB(this._location.path)}get storage(){return this._service}get parent(){const e=function E5(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Hs(this._location.bucket,e);return new tg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw PB(e)}}function KB(n,e,t){return MO.apply(this,arguments)}function MO(){return MO=(0,He.Z)(function*(n,e,t){const i=yield YB(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield KB(n,e,i.nextPageToken))}),MO.apply(this,arguments)}function YB(n,e){null!=e&&"number"==typeof e.maxResults&&SO("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=R5(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,bc)}function rq(n){n._throwIfRoot("getDownloadURL");const e=function N5(n,e,t){const i=Gd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,m=new Tu(i,"GET",function O5(n,e){return function t(r,i){const a=VB(n,i,e);return Iu(null!==a),function x5(n,e,t,r){const i=AO(e);if(null===i||!n1(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(E=>{const W=n.fullPath;return Gd("/b/"+u(n.bucket)+"/o/"+u(W),t,r)+kB({alt:"media",token:E})})[0]}(a,i,n.host,n._protocol)}}(n,t),u);return m.errorHandler=Ob(e),m}(n.storage,n._location,kb());return n.storage.makeRequestWithTokens(e,bc).then(t=>{if(null===t)throw function t5(){return new $r("no-download-url","The given file does not have any download URLs.")}();return t})}function QB(n,e){const t=function S5(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Hs(n._location.bucket,t);return new tg(n.storage,r)}function JB(n,e){if(n instanceof kO){const t=n;if(null==t._bucket)throw function Xz(){return new $r("no-default-bucket","No default bucket found. Did you set the '"+TB+"' property when initializing the app?")}();const r=new tg(t,t._bucket);return null!=e?JB(r,e):r}return void 0!==e?QB(n,e):n}function aq(n,e){if(e&&function sq(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof kO)return function oq(n,e){return new tg(n,e)}(n,e);throw O_("To use ref(service, url), the first argument must be a Storage instance.")}return JB(n,e)}function XB(n,e){const t=e?.[TB];return null==t?null:Hs.makeFromBucketSpec(t,n)}class kO{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=SB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Hs.makeFromBucketSpec(i,this._host):XB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Hs.makeFromBucketSpec(this._url,e):XB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,He.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,He.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tg(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new r5(xB());{const u=function p5(n,e,t,r,i,a,u=!0){const m=kB(n.urlParams),_=n.url+m,E=Object.assign({},n.headers);return function h5(n,e){e&&(n["X-Firebase-GMPID"]=e)}(E,e),function u5(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(E,t),function d5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(E,a),function f5(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(E,r),new c5(_,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,He.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const eU="@firebase/storage";function rU(n,e){return aq(n=(0,fe.m9)(n),e)}function yq(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new kO(t,r,i,e,ys.SDK_VERSION)}!function _q(){(0,ys._registerComponent)(new Ia.wA("storage",yq,"PUBLIC").setMultipleInstances(!0)),(0,ys.registerVersion)(eU,"0.9.14",""),(0,ys.registerVersion)(eU,"0.9.14","esm2017")}();class l1{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class sU{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new l1(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new l1(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?u=>t(new l1(u,this,this._ref)):{next:t.next?u=>t.next(new l1(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class oU{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new $d(e,this._service))}get items(){return this._delegate.items.map(e=>new $d(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class $d{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function gq(n,e){return QB(n,e)}(this._delegate,e);return new $d(t,this.storage)}get root(){return new $d(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new $d(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new sU(function cq(n,e,t){return function J5(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new WB(n,new Su(e),t)}(n=(0,fe.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ka.RAW,r){this._throwIfRoot("putString");const i=IO(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new sU(new WB(this._delegate,new Su(i.data,!0),a),this)}listAll(){return function fq(n){return function eq(n){const e={prefixes:[],items:[]};return KB(n,e).then(()=>e)}(n=(0,fe.m9)(n))}(this._delegate).then(e=>new oU(e,this.storage))}list(e){return function hq(n,e){return YB(n=(0,fe.m9)(n),e)}(this._delegate,e||void 0).then(t=>new oU(t,this.storage))}getMetadata(){return function uq(n){return function tq(n){n._throwIfRoot("getMetadata");const e=HB(n.storage,n._location,kb());return n.storage.makeRequestWithTokens(e,bc)}(n=(0,fe.m9)(n))}(this._delegate)}updateMetadata(e){return function dq(n,e){return function nq(n,e){n._throwIfRoot("updateMetadata");const t=function F5(n,e,t,r){const a=Gd(e.fullServerUrl(),n.host,n._protocol),m=DO(t,r),E=n.maxOperationRetryTime,N=new Tu(a,"PATCH",o1(n,r),E);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=m,N.errorHandler=Ob(e),N}(n.storage,n._location,e,kb());return n.storage.makeRequestWithTokens(t,bc)}(n=(0,fe.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function pq(n){return rq(n=(0,fe.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function mq(n){return function iq(n){n._throwIfRoot("deleteObject");const e=function L5(n,e){const r=Gd(e.fullServerUrl(),n.host,n._protocol),m=new Tu(r,"DELETE",function u(_,E){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=Ob(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,bc)}(n=(0,fe.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw PB(e)}}class aU{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(lU(e))throw O_("ref() expected a child path but got a URL, use refFromURL instead.");return new $d(rU(this._delegate,e),this)}refFromURL(e){if(!lU(e))throw O_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Hs.makeFromUrl(e,this._delegate.host)}catch{throw O_("refFromUrl() expected a valid full URL but got an invalid one.")}return new $d(rU(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function iU(n,e,t,r={}){!function lq(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,fe.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function lU(n){return/^[A-Za-z]+:\/\//.test(n)}function Cq(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new aU(t,r)}function cU(n){const e=function Sq(n){return new vl.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(function jz(n,e=sw.z){return(0,Jr.e)((t,r)=>{let i=null,a=null,u=null;const m=()=>{if(i){i.unsubscribe(),i=null;const E=a;a=null,r.next(E)}};function _(){const E=u+n,N=e.now();if(N<E)return i=this.schedule(void 0,E-N),void r.add(i);m()}t.subscribe((0,Qr.x)(r,E=>{a=E,u=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{m(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,qt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function c1(n){return{getDownloadURL:()=>Mt(void 0).pipe(zn.fc,Er(()=>n.getDownloadURL()),zn.iC),getMetadata:()=>Mt(void 0).pipe(zn.fc,Er(()=>n.getMetadata()),zn.iC),delete:()=>(0,Qn.D)(n.delete()),child:e=>c1(n.child(e)),updateMetadata:e=>(0,Qn.D)(n.updateMetadata(e)),put:(e,t)=>cU(n.put(e,t)),putString:(e,t,r)=>cU(n.putString(e,t,r)),list:e=>(0,Qn.D)(n.list(e)),listAll:()=>(0,Qn.D)(n.listAll())}}!function Eq(n){const e={TaskState:vo,TaskEvent:j5,StringFormat:ka,Storage:aU,Reference:$d};n.INTERNAL.registerComponent(new Ia.wA("storage-compat",Cq,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.22")}(mT.Z);const Tq=new s.OlP("angularfire2.storageBucket"),Iq=new s.OlP("angularfire2.storage.maxUploadRetryTime"),Aq=new s.OlP("angularfire2.storage.maxOperationRetryTime"),Dq=new s.OlP("angularfire2.storage.use-emulator");let xq=(()=>{class n{constructor(t,r,i,a,u,m,_,E,N,W){const se=(0,Fr.on)(t,u,r);this.storage=(0,Fr.cc)(`${se.name}.storage.${i}`,"AngularFireStorage",se.name,()=>{const pe=u.runOutsideAngular(()=>se.storage(i||void 0)),we=N;return we&&pe.useEmulator(...we),_&&pe.setMaxUploadRetryTime(_),E&&pe.setMaxOperationRetryTime(E),pe},[_,E])}ref(t){return c1(this.storage.ref(t))}refFromURL(t){return c1(this.storage.refFromURL(t))}upload(t,r,i){return c1(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fr.Dh),s.LFG(Fr.xv,8),s.LFG(Tq,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zn.HU),s.LFG(Iq,8),s.LFG(Aq,8),s.LFG(Dq,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Pq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Mq=(()=>{class n{constructor(){XI.Z.registerVersion("angularfire",zn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xq],imports:[Pq]}),n})();var kq=p(5032);const uU="@firebase/database",dU="0.13.10";let OO="";function hU(n){OO=n}class Nq{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,fe.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,fe.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Fq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,fe.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const fU=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Nq(e)}}catch{}return new Fq},ng=fU("localStorage"),RO=fU("sessionStorage"),F_=new Zo.Yd("@firebase/database"),pU=function(){let n=1;return function(){return n++}}(),mU=function(n){const e=(0,fe.dS)(n),t=new fe.gQ;t.update(e);const r=t.digest();return fe.US.encodeByteArray(r)},Rb=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Rb.apply(null,r):e+="object"==typeof r?(0,fe.Wl)(r):r,e+=" "}return e};let rg=null,gU=!0;const yU=function(n,e){(0,fe.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(F_.logLevel=Zo.in.VERBOSE,rg=F_.log.bind(F_),e&&RO.set("logging_enabled",!0)):"function"==typeof n?rg=n:(rg=null,RO.remove("logging_enabled"))},ns=function(...n){if(!0===gU&&(gU=!1,null===rg&&!0===RO.get("logging_enabled")&&yU(!0)),rg){const e=Rb.apply(null,n);rg(e)}},Nb=function(n){return function(...e){ns(n,...e)}},NO=function(...n){const e="FIREBASE INTERNAL ERROR: "+Rb(...n);F_.error(e)},Au=function(...n){const e=`FIREBASE FATAL ERROR: ${Rb(...n)}`;throw F_.error(e),new Error(e)},js=function(...n){const e="FIREBASE WARNING: "+Rb(...n);F_.warn(e)},u1=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zd="[MIN_NAME]",Du="[MAX_NAME]",ig=function(n,e){if(n===e)return 0;if(n===zd||e===Du)return-1;if(e===zd||n===Du)return 1;{const t=d1(n),r=d1(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Bq=function(n,e){return n===e?0:n<e?-1:1},Fb=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,fe.Wl)(e))},FO=function(n){if("object"!=typeof n||null===n)return(0,fe.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,fe.Wl)(e[r]),t+=":",t+=FO(n[e[r]]);return t+="}",t},_U=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function rs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const vU=function(n){(0,fe.hu)(!u1(n),"Invalid JSON number");const r=1023;let i,a,u,m,_;0===n?(a=0,u=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=m+r,u=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(a=0,u=Math.round(n/Math.pow(2,-1074))));const E=[];for(_=52;_;_-=1)E.push(u%2?1:0),u=Math.floor(u/2);for(_=11;_;_-=1)E.push(a%2?1:0),a=Math.floor(a/2);E.push(i?1:0),E.reverse();const N=E.join("");let W="";for(_=0;_<64;_+=8){let se=parseInt(N.substr(_,8),2).toString(16);1===se.length&&(se="0"+se),W+=se}return W.toLowerCase()},Gq=new RegExp("^-?(0*)\\d{1,10}$"),wU=-2147483648,LO=2147483647,d1=function(n){if(Gq.test(n)){const e=Number(n);if(e>=wU&&e<=LO)return e}return null},L_=function(n){try{n()}catch(e){setTimeout(()=>{throw js("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Lb=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class zq{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){js(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qq{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(ns("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',js(e)}}let Vb=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const TU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DU="websocket",xU="long_polling";class BO{constructor(e,t,r,i,a=!1,u="",m=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=u,this.includeNamespaceInQueryParams=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ng.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ng.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function PU(n,e,t){let r;if((0,fe.hu)("string"==typeof e,"typeof type must == string"),(0,fe.hu)("object"==typeof t,"typeof params must == object"),e===DU)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==xU)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Wq(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return rs(t,(a,u)=>{i.push(a+"="+u)}),r+i.join("&")}class Zq{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,fe.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,fe.p$)(this.counters_)}}const UO={},HO={};function jO(n){const e=n.toString();return UO[e]||(UO[e]=new Zq),UO[e]}class Yq{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&L_(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Tf{constructor(e,t,r,i,a,u,m){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=u,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nb(e),this.stats_=jO(t),this.urlFn=_=>(this.appCheckToken&&(_.ac=this.appCheckToken),PU(t,xU,_))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Yq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,fe.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new GO((...a)=>{const[u,m,_,E,N]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=m,this.password=_;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[u,m]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(u,m)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&TU.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tf.forceAllow_=!0}static forceDisallow(){Tf.forceDisallow_=!0}static isAvailable(){return!((0,fe.Yr)()||!Tf.forceAllow_&&(Tf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,fe.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,fe.h$)(t),i=_U(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,fe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,fe.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class GO{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,fe.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=pU(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=GO.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(m){ns("frame writing exception"),m.stack&&ns(m.stack),ns(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ns("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const u=this.pendingSegs.shift();r=r+"&seg"+i+"="+u.seg+"&ts"+i+"="+u.ts+"&d"+i+"="+u.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,fe.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{ns("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let f1=null;typeof MozWebSocket<"u"?f1=MozWebSocket:typeof WebSocket<"u"&&(f1=WebSocket);let V_=(()=>{class n{constructor(t,r,i,a,u,m,_){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nb(this.connId),this.stats_=jO(r),this.connURL=n.connectionURL_(r,m,_,a,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,a,u){const m={v:"5"};return!(0,fe.Yr)()&&typeof location<"u"&&location.hostname&&TU.test(location.hostname)&&(m.r="f"),r&&(m.s=r),i&&(m.ls=i),a&&(m.ac=a),u&&(m.p=u),PU(t,DU,m)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ng.set("previous_websocket_failure",!0);try{let i;if((0,fe.Yr)()){i={headers:{"User-Agent":`Firebase/5/${OO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,m=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;m&&(i.proxy={origin:m})}this.mySock=new f1(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==f1&&!n.forceDisallow_}static previouslyFailed(){return ng.isInMemoryStorage||!0===ng.get("previous_websocket_failure")}markConnectionHealthy(){ng.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,fe.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,fe.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,fe.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=_U(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),LU=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Tf,V_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=V_&&V_.isAvailable();let i=r&&!V_.previouslyFailed();if(t.webSocketOnly&&(r||js("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[V_];else{const a=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class $U{constructor(e,t,r,i,a,u,m,_,E,N){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=u,this.onReady_=m,this.onDisconnect_=_,this.onKill_=E,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nb("c:"+this.id+":"),this.transportManager_=new LU(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Lb(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Fb("t",e),r=Fb("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Fb("t",e),r=Fb("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Fb("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?NO("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):NO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&js("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Lb(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Lb(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ng.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class zU{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class qU{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,fe.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(e){(0,fe.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class p1 extends qU{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,fe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new p1}getInitialEvent(e){return(0,fe.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class or{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Jn(){return new or("")}function kn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function If(n){return n.pieces_.length-n.pieceNum_}function vr(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new or(n.pieces_,e)}function zO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Bb(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function KU(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new or(e,0)}function Br(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof or)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new or(t,0)}function On(n){return n.pieceNum_>=n.pieces_.length}function wo(n,e){const t=kn(n),r=kn(e);if(null===t)return e;if(t===r)return wo(vr(n),vr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function _W(n,e){const t=Bb(n,0),r=Bb(e,0);for(let i=0;i<t.length&&i<r.length;i++){const a=ig(t[i],r[i]);if(0!==a)return a}return t.length===r.length?0:t.length<r.length?-1:1}function qO(n,e){if(If(n)!==If(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function xl(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(If(n)>If(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class vW{constructor(e,t){this.errorPrefix_=t,this.parts_=Bb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,fe.ug)(this.parts_[r]);YU(this)}}function YU(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sg(n))}function sg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class WO extends qU{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new WO}getInitialEvent(e){return(0,fe.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ub=1e3;let g1,og=(()=>{class n extends zU{constructor(t,r,i,a,u,m,_,E){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=u,this.authTokenProvider_=m,this.appCheckTokenProvider_=_,this.authOverride_=E,this.id=n.nextPersistentConnectionId_++,this.log_=Nb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ub,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,E&&!(0,fe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");WO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&p1.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const a=++this.requestNumber_,u={r:a,a:t,b:r};this.log_((0,fe.Wl)(u)),(0,fe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const r=new fe.BH,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:m=>{const _=m.d;"ok"===m.s?r.resolve(_):r.reject(_)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,a){this.initConnection_();const u=t._queryIdentifier,m=t._path.toString();this.log_("Listen called for "+m+" "+u),this.listens.has(m)||this.listens.set(m,new Map),(0,fe.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,fe.hu)(!this.listens.get(m).has(u),"listen() called twice for same path/queryId.");const _={onComplete:a,hashFn:r,query:t,tag:i};this.listens.get(m).set(u,_),this.connected_&&this.sendListen_(_)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const u={p:i};t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,_=>{const E=_.d,N=_.s;n.warnOnListenWarnings_(E,r),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",_),"ok"!==N&&this.removeListen_(i,a),t.onComplete&&t.onComplete(N,E))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,fe.r3)(t,"w")){const i=(0,fe.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();js(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,fe.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,fe.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const u=a.s,m=a.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,fe.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,r)}sendUnlisten_(t,r,i,a){this.log_("Unlisten on "+t+" for "+r);const u={p:t};a&&(u.q=i,u.t=a),this.sendRequest("n",u)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,a){const u={p:r,d:i};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,m=>{a&&setTimeout(()=>{a(m.s,m.d)},Math.floor(0))})}put(t,r,i,a){this.putInternal("p",t,r,i,a)}merge(t,r,i,a){this.putInternal("m",t,r,i,a)}putInternal(t,r,i,a,u){this.initConnection_();const m={p:r,d:i};void 0!==u&&(m.h=u),this.outstandingPuts_.push({action:t,request:m,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,fe.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):NO("Unrecognized action received from server: "+(0,fe.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,fe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ub,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ub,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ub),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,He.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),a=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,m=t.lastSessionId;let _=!1,E=null;const N=function(){E?E.close():(_=!0,a())};t.realtime_={close:N,sendRequest:function(pe){(0,fe.hu)(E,"sendRequest call when we're not connected not allowed."),E.sendRequest(pe)}};const se=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[pe,we]=yield Promise.all([t.authTokenProvider_.getToken(se),t.appCheckTokenProvider_.getToken(se)]);_?ns("getToken() completed but was canceled"):(ns("getToken() completed. Creating connection."),t.authToken_=pe&&pe.accessToken,t.appCheckToken_=we&&we.token,E=new $U(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,a,Me=>{js(Me+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},m))}catch(pe){t.log_("Failed to get token: "+pe),_||(t.repoInfo_.nodeAdmin&&js(pe),N())}}})()}interrupt(t){ns("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ns("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,fe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ub,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(u=>FO(u)).join("$"):"default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const i=new or(t).toString();let a;if(this.listens.has(i)){const u=this.listens.get(i);a=u.get(r),u.delete(r),0===u.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,r){ns("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){ns("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,fe.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+OO.replace(/\./g,"-")]=1,(0,fe.uI)()?t["framework.cordova"]=1:(0,fe.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=p1.getInstance().currentlyOnline();return(0,fe.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Fn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Fn(e,t)}}class m1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Fn(zd,e),i=new Fn(zd,t);return 0!==this.compare(r,i)}minPost(){return Fn.MIN}}class XU extends m1{static get __EMPTY_NODE(){return g1}static set __EMPTY_NODE(e){g1=e}compare(e,t){return ig(e.name,t.name)}isDefinedOn(e){throw(0,fe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Fn.MIN}maxPost(){return new Fn(Du,g1)}makePost(e,t){return(0,fe.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Fn(e,g1)}toString(){return".key"}}const xu=new XU;class y1{constructor(e,t,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,i&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let KO,Cc=(()=>{class n{constructor(t,r,i,a,u){this.key=t,this.value=r,this.color=i??n.RED,this.left=a??Jo.EMPTY_NODE,this.right=u??Jo.EMPTY_NODE}copy(t,r,i,a,u){return new n(t??this.key,r??this.value,i??this.color,a??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let a=this;const u=i(t,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(t,r,i),null):0===u?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Jo.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,a;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Jo.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Jo{constructor(e,t=Jo.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Jo(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Cc.BLACK,null,null))}remove(e){return new Jo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Cc.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new y1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new y1(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new y1(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new y1(this.root_,null,this.comparator_,!0,e)}}function AW(n,e){return ig(n.name,e.name)}function ZO(n,e){return ig(n,e)}Jo.EMPTY_NODE=new class IW{copy(e,t,r,i,a){return this}insert(e,t,r){return new Cc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const e3=function(n){return"number"==typeof n?"number:"+vU(n):"string:"+n},t3=function(n){if(n.isLeafNode()){const e=n.val();(0,fe.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,fe.r3)(e,".sv"),"Priority must be a string or number.")}else(0,fe.hu)(n===KO||n.isEmpty(),"priority of unexpected type.");(0,fe.hu)(n===KO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let n3,r3,i3,B_=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,fe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),t3(this.priorityNode_)}static set __childrenNodeConstructor(t){n3=t}static get __childrenNodeConstructor(){return n3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return On(t)?this:".priority"===kn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=kn(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,fe.hu)(".priority"!==i||1===If(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(vr(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+e3(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?vU(this.value_):this.value_,this.lazyHash_=mU(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,fe.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(r),u=n.VALUE_TYPE_ORDER.indexOf(i);return(0,fe.hu)(a>=0,"Unknown leaf type: "+r),(0,fe.hu)(u>=0,"Unknown leaf type: "+i),a===u?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ir=new class MW extends m1{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),a=r.compareTo(i);return 0===a?ig(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Fn.MIN}maxPost(){return new Fn(Du,new B_("[PRIORITY-POST]",i3))}makePost(e,t){const r=r3(e);return new Fn(t,new B_("[PRIORITY-POST]",r))}toString(){return".priority"}},kW=Math.log(2);class OW{constructor(e){this.count=parseInt(Math.log(e+1)/kW,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _1=function(n,e,t,r){n.sort(e);const i=function(_,E){const N=E-_;let W,se;if(0===N)return null;if(1===N)return W=n[_],se=t?t(W):W,new Cc(se,W.node,Cc.BLACK,null,null);{const pe=parseInt(N/2,10)+_,we=i(_,pe),Me=i(pe+1,E);return W=n[pe],se=t?t(W):W,new Cc(se,W.node,Cc.BLACK,we,Me)}},m=function(_){let E=null,N=null,W=n.length;const se=function(we,Me){const Ve=W-we,st=W;W-=we;const ht=i(Ve+1,st),ft=n[Ve],pt=t?t(ft):ft;pe(new Cc(pt,ft.node,Me,null,ht))},pe=function(we){E?(E.left=we,E=we):(N=we,E=we)};for(let we=0;we<_.count;++we){const Me=_.nextBitIsOne(),Ve=Math.pow(2,_.count-(we+1));Me?se(Ve,Cc.BLACK):(se(Ve,Cc.BLACK),se(Ve,Cc.RED))}return N}(new OW(n.length));return new Jo(r||e,m)};let YO;const U_={};class qd{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,fe.hu)(U_&&Ir,"ChildrenNode.ts has not been loaded"),YO=YO||new qd({".priority":U_},{".priority":Ir}),YO}get(e){const t=(0,fe.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Jo?t:null}hasIndex(e){return(0,fe.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,fe.hu)(e!==xu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=t.getIterator(Fn.Wrap);let m,u=a.getNext();for(;u;)i=i||e.isDefinedOn(u.node),r.push(u),u=a.getNext();m=i?_1(r,e.getCompare()):U_;const _=e.toString(),E=Object.assign({},this.indexSet_);E[_]=e;const N=Object.assign({},this.indexes_);return N[_]=m,new qd(N,E)}addToIndexes(e,t){const r=(0,fe.UI)(this.indexes_,(i,a)=>{const u=(0,fe.DV)(this.indexSet_,a);if((0,fe.hu)(u,"Missing index implementation for "+a),i===U_){if(u.isDefinedOn(e.node)){const m=[],_=t.getIterator(Fn.Wrap);let E=_.getNext();for(;E;)E.name!==e.name&&m.push(E),E=_.getNext();return m.push(e),_1(m,u.getCompare())}return U_}{const m=t.get(e.name);let _=i;return m&&(_=_.remove(new Fn(e.name,m))),_.insert(e,e.node)}});return new qd(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,fe.UI)(this.indexes_,i=>{if(i===U_)return i;{const a=t.get(e.name);return a?i.remove(new Fn(e.name,a)):i}});return new qd(r,this.indexSet_)}}let Hb,Cn=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&t3(this.priorityNode_),this.children_.isEmpty()&&(0,fe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hb||(Hb=new n(new Jo(ZO),null,qd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hb}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Hb:r}}getChild(t){const r=kn(t);return null===r?this:this.getImmediateChild(r).getChild(vr(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,fe.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Fn(t,r);let a,u;r.isEmpty()?(a=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(i,this.children_));const m=a.isEmpty()?Hb:this.priorityNode_;return new n(a,m,u)}}updateChild(t,r){const i=kn(t);if(null===i)return r;{(0,fe.hu)(".priority"!==kn(t)||1===If(t),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(vr(t),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,a=0,u=!0;if(this.forEachChild(Ir,(m,_)=>{r[m]=_.val(t),i++,u&&n.INTEGER_REGEXP_.test(m)?a=Math.max(a,Number(m)):u=!1}),!t&&u&&a<2*i){const m=[];for(const _ in r)m[_]=r[_];return m}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+e3(this.getPriority().val())+":"),this.forEachChild(Ir,(r,i)=>{const a=i.hash();""!==a&&(t+=":"+r+":"+a)}),this.lazyHash_=""===t?"":mU(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const a=this.resolveIndex_(i);if(a){const u=a.getPredecessorKey(new Fn(t,r));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Fn(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Fn(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,Fn.Wrap);let u=a.peek();for(;null!=u&&r.compare(u,t)<0;)a.getNext(),u=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,Fn.Wrap);let u=a.peek();for(;null!=u&&r.compare(u,t)>0;)a.getNext(),u=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===jb?-1:0}withIndex(t){if(t===xu||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===xu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Ir),a=r.getIterator(Ir);let u=i.getNext(),m=a.getNext();for(;u&&m;){if(u.name!==m.name||!u.node.equals(m.node))return!1;u=i.getNext(),m=a.getNext()}return null===u&&null===m}return!1}return!1}}resolveIndex_(t){return t===xu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const jb=new class RW extends Cn{constructor(){super(new Jo(ZO),Cn.EMPTY_NODE,qd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Cn.EMPTY_NODE}isEmpty(){return!1}};function zr(n,e=null){if(null===n)return Cn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,fe.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new B_(n,zr(e));if(n instanceof Array){let t=Cn.EMPTY_NODE;return rs(n,(r,i)=>{if((0,fe.r3)(n,r)&&"."!==r.substring(0,1)){const a=zr(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(r,a))}}),t.updatePriority(zr(e))}{const t=[];let r=!1;if(rs(n,(u,m)=>{if("."!==u.substring(0,1)){const _=zr(m);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),t.push(new Fn(u,_)))}}),0===t.length)return Cn.EMPTY_NODE;const a=_1(t,AW,u=>u.name,ZO);if(r){const u=_1(t,Ir.getCompare());return new Cn(a,zr(e),new qd({".priority":u},{".priority":Ir}))}return new Cn(a,zr(e),qd.Default)}}Object.defineProperties(Fn,{MIN:{value:new Fn(zd,Cn.EMPTY_NODE)},MAX:{value:new Fn(Du,jb)}}),XU.__EMPTY_NODE=Cn.EMPTY_NODE,B_.__childrenNodeConstructor=Cn,function DW(n){KO=n}(jb),function PW(n){i3=n}(jb),function xW(n){r3=n}(zr);class QO extends m1{constructor(e){super(),this.indexPath_=e,(0,fe.hu)(!On(e)&&".priority"!==kn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),a=r.compareTo(i);return 0===a?ig(e.name,t.name):a}makePost(e,t){const r=zr(e),i=Cn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Fn(t,i)}maxPost(){const e=Cn.EMPTY_NODE.updateChild(this.indexPath_,jb);return new Fn(Du,e)}toString(){return Bb(this.indexPath_,0).join("/")}}const JO=new class FW extends m1{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ig(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Fn.MIN}maxPost(){return Fn.MAX}makePost(e,t){const r=zr(e);return new Fn(t,r)}toString(){return".value"}},H_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",LW=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const a=new Array(8);for(i=7;i>=0;i--)a[i]=H_.charAt(t%64),t=Math.floor(t/64);(0,fe.hu)(0===t,"Cannot push at time == 0");let u=a.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=H_.charAt(e[i]);return(0,fe.hu)(20===u.length,"nextPushId: Length should be 20."),u}}(),a3=function(n){if(n===""+LO)return"-";const e=d1(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let u=0;u<t.length;u++)t[u]=n.charAt(u);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return Du;const a=H_.charAt(H_.indexOf(t[r])+1);return t[r]=a,t.slice(0,r+1).join("")},l3=function(n){if(n===""+wU)return zd;const e=d1(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+LO:(delete t[t.length-1],t.join("")):(t[t.length-1]=H_.charAt(H_.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function c3(n){return{type:"value",snapshotNode:n}}function j_(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Gb(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function $b(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class eR{constructor(e){this.index_=e}updateChild(e,t,r,i,a,u){(0,fe.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(t);return m.getChild(i).equals(r.getChild(i))&&m.isEmpty()===r.isEmpty()||(null!=u&&(r.isEmpty()?e.hasChild(t)?u.trackChildChange(Gb(t,m)):(0,fe.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?u.trackChildChange(j_(t,r)):u.trackChildChange($b(t,r,m))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Ir,(i,a)=>{t.hasChild(i)||r.trackChildChange(Gb(i,a))}),t.isLeafNode()||t.forEachChild(Ir,(i,a)=>{if(e.hasChild(i)){const u=e.getImmediateChild(i);u.equals(a)||r.trackChildChange($b(i,a,u))}else r.trackChildChange(j_(i,a))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Cn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zb{constructor(e){this.indexedFilter_=new eR(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zb.getStartPost_(e),this.endPost_=zb.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,a,u){return this.matches(new Fn(t,r))||(r=Cn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,a,u)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Cn.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Cn.EMPTY_NODE);const a=this;return t.forEachChild(Ir,(u,m)=>{a.matches(new Fn(u,m))||(i=i.updateImmediateChild(u,Cn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class BW{constructor(e){this.rangedFilter_=new zb(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,a,u){return this.rangedFilter_.matches(new Fn(t,r))||(r=Cn.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,a,u):this.fullLimitUpdateChild_(e,t,r,a,u)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Cn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let a;i=Cn.EMPTY_NODE.withIndex(this.index_),a=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;a.hasNext()&&u<this.limit_;){const m=a.getNext();let _;if(_=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),m)<=0:this.index_.compare(m,this.rangedFilter_.getEndPost())<=0,!_)break;i=i.updateImmediateChild(m.name,m.node),u++}}else{let a,u,m,_;if(i=t.withIndex(this.index_),i=i.updatePriority(Cn.EMPTY_NODE),this.reverse_){_=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();const W=this.index_.getCompare();m=(se,pe)=>W(pe,se)}else _=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),m=this.index_.getCompare();let E=0,N=!1;for(;_.hasNext();){const W=_.getNext();!N&&m(a,W)<=0&&(N=!0),N&&E<this.limit_&&m(W,u)<=0?E++:i=i.updateImmediateChild(W.name,Cn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,a){let u;if(this.reverse_){const W=this.index_.getCompare();u=(se,pe)=>W(pe,se)}else u=this.index_.getCompare();const m=e;(0,fe.hu)(m.numChildren()===this.limit_,"");const _=new Fn(t,r),E=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),N=this.rangedFilter_.matches(_);if(m.hasChild(t)){const W=m.getImmediateChild(t);let se=i.getChildAfterChild(this.index_,E,this.reverse_);for(;null!=se&&(se.name===t||m.hasChild(se.name));)se=i.getChildAfterChild(this.index_,se,this.reverse_);const pe=null==se?1:u(se,_);if(N&&!r.isEmpty()&&pe>=0)return a?.trackChildChange($b(t,r,W)),m.updateImmediateChild(t,r);{a?.trackChildChange(Gb(t,W));const Me=m.updateImmediateChild(t,Cn.EMPTY_NODE);return null!=se&&this.rangedFilter_.matches(se)?(a?.trackChildChange(j_(se.name,se.node)),Me.updateImmediateChild(se.name,se.node)):Me}}return r.isEmpty()?e:N&&u(E,_)>=0?(null!=a&&(a.trackChildChange(Gb(E.name,E.node)),a.trackChildChange(j_(t,r))),m.updateImmediateChild(t,r).updateImmediateChild(E.name,Cn.EMPTY_NODE)):e}}class v1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ir}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,fe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,fe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,fe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,fe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Du}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,fe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ir}copy(){const e=new v1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tR(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function nR(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function w1(n,e){const t=n.copy();return t.index_=e,t}function u3(n){const e={};if(n.isDefault())return e;let t;return n.index_===Ir?t="$priority":n.index_===JO?t="$value":n.index_===xu?t="$key":((0,fe.hu)(n.index_ instanceof QO,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,fe.Wl)(t),n.startSet_&&(e.startAt=(0,fe.Wl)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,fe.Wl)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,fe.Wl)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,fe.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function d3(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Ir&&(e.i=n.index_.toString()),e}class b1 extends zU{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Nb("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,fe.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const u=b1.getListenId_(e,r),m={};this.listens_[u]=m;const _=u3(e._queryParams);this.restRequest_(a+".json",_,(E,N)=>{let W=N;if(404===E&&(W=null,E=null),null===E&&this.onDataUpdate_(a,W,!1,r),(0,fe.DV)(this.listens_,u)===m){let se;se=E?401===E?"permission_denied":"rest_error:"+E:"ok",i(se,null)}})}unlisten(e,t){const r=b1.getListenId_(e,t);delete this.listens_[r]}get(e){const t=u3(e._queryParams),r=e._path.toString(),i=new fe.BH;return this.restRequest_(r+".json",t,(a,u)=>{let m=u;404===a&&(m=null,a=null),null===a?(this.onDataUpdate_(r,m,!1,null),i.resolve(m)):i.reject(new Error(m))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,fe.xO)(t);this.log_("Sending REST request for "+u);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&4===m.readyState){this.log_("REST Response for "+u+" received. status:",m.status,"response:",m.responseText);let _=null;if(m.status>=200&&m.status<300){try{_=(0,fe.cI)(m.responseText)}catch{js("Failed to parse JSON response for "+u+": "+m.responseText)}r(null,_)}else 401!==m.status&&404!==m.status&&js("Got unsuccessful REST response for "+u+" Status: "+m.status),r(m.status);r=null}},m.open("GET",u,!0),m.send()})}}class zW{constructor(){this.rootNode_=Cn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function C1(){return{value:null,children:new Map}}function G_(n,e,t){if(On(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=kn(e);n.children.has(r)||n.children.set(r,C1()),G_(n.children.get(r),e=vr(e),t)}}function rR(n,e){if(On(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Ir,(r,i)=>{G_(n,new or(r),i)}),rR(n,e)}}if(n.children.size>0){const t=kn(e);return e=vr(e),n.children.has(t)&&rR(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function iR(n,e,t){null!==n.value?t(e,n.value):function qW(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{iR(i,new or(e.toString()+"/"+r),t)})}class WW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&rs(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class YW{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new WW(e);const r=1e4+2e4*Math.random();Lb(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;rs(e,(i,a)=>{a>0&&(0,fe.r3)(this.statsToReport_,i)&&(t[i]=a,r=!0)}),r&&this.server_.reportStats(t),Lb(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Pl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Pl||(Pl={})),Pl))();function aR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class E1{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Pl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(On(this.path)){if(null!=this.affectedTree.value)return(0,fe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new or(e));return new E1(Jn(),t,this.revert)}}return(0,fe.hu)(kn(this.path)===e,"operationForChild called for unrelated child."),new E1(vr(this.path),this.affectedTree,this.revert)}}class qb{constructor(e,t){this.source=e,this.path=t,this.type=Pl.LISTEN_COMPLETE}operationForChild(e){return On(this.path)?new qb(this.source,Jn()):new qb(this.source,vr(this.path))}}class ag{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Pl.OVERWRITE}operationForChild(e){return On(this.path)?new ag(this.source,Jn(),this.snap.getImmediateChild(e)):new ag(this.source,vr(this.path),this.snap)}}class $_{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Pl.MERGE}operationForChild(e){if(On(this.path)){const t=this.children.subtree(new or(e));return t.isEmpty()?null:t.value?new ag(this.source,Jn(),t.value):new $_(this.source,Jn(),t)}return(0,fe.hu)(kn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $_(this.source,vr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Af{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(On(e))return this.isFullyInitialized()&&!this.filtered_;const t=kn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class QW{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Wb(n,e,t,r,i,a){const u=r.filter(m=>m.type===t);u.sort((m,_)=>function e8(n,e,t){if(null==e.childName||null==t.childName)throw(0,fe.g5)("Should only compare child_ events.");const r=new Fn(e.childName,e.snapshotNode),i=new Fn(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,m,_)),u.forEach(m=>{const _=function XW(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,m,a);i.forEach(E=>{E.respondsTo(m.type)&&e.push(E.createEvent(_,n.query_))})})}function S1(n,e){return{eventCache:n,serverCache:e}}function Zb(n,e,t,r){return S1(new Af(e,t,r),n.serverCache)}function f3(n,e,t,r){return S1(n.eventCache,new Af(e,t,r))}function T1(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function lg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let lR;class Ar{constructor(e,t=(()=>(lR||(lR=new Jo(Bq)),lR))()){this.value=e,this.children=t}static fromObject(e){let t=new Ar(null);return rs(e,(r,i)=>{t=t.set(new or(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Jn(),value:this.value};if(On(e))return null;{const r=kn(e),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(vr(e),t);return null!=a?{path:Br(new or(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(On(e))return this;{const t=kn(e),r=this.children.get(t);return null!==r?r.subtree(vr(e)):new Ar(null)}}set(e,t){if(On(e))return new Ar(t,this.children);{const r=kn(e),a=(this.children.get(r)||new Ar(null)).set(vr(e),t),u=this.children.insert(r,a);return new Ar(this.value,u)}}remove(e){if(On(e))return this.children.isEmpty()?new Ar(null):new Ar(null,this.children);{const t=kn(e),r=this.children.get(t);if(r){const i=r.remove(vr(e));let a;return a=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&a.isEmpty()?new Ar(null):new Ar(this.value,a)}return this}}get(e){if(On(e))return this.value;{const t=kn(e),r=this.children.get(t);return r?r.get(vr(e)):null}}setTree(e,t){if(On(e))return t;{const r=kn(e),a=(this.children.get(r)||new Ar(null)).setTree(vr(e),t);let u;return u=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new Ar(this.value,u)}}fold(e){return this.fold_(Jn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(Br(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Jn(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(On(e))return null;{const a=kn(e),u=this.children.get(a);return u?u.findOnPath_(vr(e),Br(t,a),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Jn(),t)}foreachOnPath_(e,t,r){if(On(e))return this;{this.value&&r(t,this.value);const i=kn(e),a=this.children.get(i);return a?a.foreachOnPath_(vr(e),Br(t,i),r):new Ar(null)}}foreach(e){this.foreach_(Jn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Br(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Ec{constructor(e){this.writeTree_=e}static empty(){return new Ec(new Ar(null))}}function Kb(n,e,t){if(On(e))return new Ec(new Ar(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let a=r.value;const u=wo(i,e);return a=a.updateChild(u,t),new Ec(n.writeTree_.set(i,a))}{const i=new Ar(t),a=n.writeTree_.setTree(e,i);return new Ec(a)}}}function cR(n,e,t){let r=n;return rs(t,(i,a)=>{r=Kb(r,Br(e,i),a)}),r}function p3(n,e){if(On(e))return Ec.empty();{const t=n.writeTree_.setTree(e,new Ar(null));return new Ec(t)}}function uR(n,e){return null!=cg(n,e)}function cg(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(wo(t.path,e)):null}function m3(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ir,(r,i)=>{e.push(new Fn(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Fn(r,i.value))}),e}function Df(n,e){if(On(e))return n;{const t=cg(n,e);return new Ec(null!=t?new Ar(t):n.writeTree_.subtree(e))}}function dR(n){return n.writeTree_.isEmpty()}function z_(n,e){return g3(Jn(),n.writeTree_,e)}function g3(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{".priority"===i?((0,fe.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):t=g3(Br(n,i),a,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Br(n,".priority"),r)),t}}function I1(n,e){return b3(e,n)}function o8(n,e){if(n.snap)return xl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&xl(Br(n.path,t),e))return!0;return!1}function l8(n){return n.visible}function y3(n,e,t){let r=Ec.empty();for(let i=0;i<n.length;++i){const a=n[i];if(e(a)){const u=a.path;let m;if(a.snap)xl(t,u)?(m=wo(t,u),r=Kb(r,m,a.snap)):xl(u,t)&&(m=wo(u,t),r=Kb(r,Jn(),a.snap.getChild(m)));else{if(!a.children)throw(0,fe.g5)("WriteRecord should have .snap or .children");if(xl(t,u))m=wo(t,u),r=cR(r,m,a.children);else if(xl(u,t))if(m=wo(u,t),On(m))r=cR(r,Jn(),a.children);else{const _=(0,fe.DV)(a.children,kn(m));if(_){const E=_.getChild(vr(m));r=Kb(r,Jn(),E)}}}}}return r}function _3(n,e,t,r,i){if(r||i){const a=Df(n.visibleWrites,e);return!i&&dR(a)?t:i||null!=t||uR(a,Jn())?z_(y3(n.allWrites,function(E){return(E.visible||i)&&(!r||!~r.indexOf(E.writeId))&&(xl(E.path,e)||xl(e,E.path))},e),t||Cn.EMPTY_NODE):null}{const a=cg(n.visibleWrites,e);if(null!=a)return a;{const u=Df(n.visibleWrites,e);return dR(u)?t:null!=t||uR(u,Jn())?z_(u,t||Cn.EMPTY_NODE):null}}}function A1(n,e,t,r){return _3(n.writeTree,n.treePath,e,t,r)}function hR(n,e){return function c8(n,e,t){let r=Cn.EMPTY_NODE;const i=cg(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ir,(a,u)=>{r=r.updateImmediateChild(a,u)}),r;if(t){const a=Df(n.visibleWrites,e);return t.forEachChild(Ir,(u,m)=>{const _=z_(Df(a,new or(u)),m);r=r.updateImmediateChild(u,_)}),m3(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}return m3(Df(n.visibleWrites,e)).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}(n.writeTree,n.treePath,e)}function v3(n,e,t,r){return function u8(n,e,t,r,i){(0,fe.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Br(e,t);if(uR(n.visibleWrites,a))return null;{const u=Df(n.visibleWrites,a);return dR(u)?i.getChild(t):z_(u,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function D1(n,e){return function h8(n,e){return cg(n.visibleWrites,e)}(n.writeTree,Br(n.treePath,e))}function fR(n,e,t){return function d8(n,e,t,r){const i=Br(e,t),a=cg(n.visibleWrites,i);return null!=a?a:r.isCompleteForChild(t)?z_(Df(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function w3(n,e){return b3(Br(n.treePath,e),n.writeTree)}function b3(n,e){return{treePath:n,writeTree:e}}class g8{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,fe.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,fe.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(r,$b(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(r,Gb(r,i.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(r,j_(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw(0,fe.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,$b(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const C3=new class y8{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class pR{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Af(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fR(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:lg(this.viewCache_),a=function m8(n,e,t,r,i,a){return function f8(n,e,t,r,i,a,u){let m;const _=Df(n.visibleWrites,e),E=cg(_,Jn());if(null!=E)m=E;else{if(null==t)return[];m=z_(_,t)}if(m=m.withIndex(u),m.isEmpty()||m.isLeafNode())return[];{const N=[],W=u.getCompare(),se=a?m.getReverseIteratorFrom(r,u):m.getIteratorFrom(r,u);let pe=se.getNext();for(;pe&&N.length<i;)0!==W(pe,r)&&N.push(pe),pe=se.getNext();return N}}(n.writeTree,n.treePath,e,t,r,i,a)}(this.writes_,i,t,1,r,e);return 0===a.length?null:a[0]}}function E3(n,e,t,r,i,a){const u=e.eventCache;if(null!=D1(r,t))return e;{let m,_;if(On(t))if((0,fe.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const E=lg(e),W=hR(r,E instanceof Cn?E:Cn.EMPTY_NODE);m=n.filter.updateFullNode(e.eventCache.getNode(),W,a)}else{const E=A1(r,lg(e));m=n.filter.updateFullNode(e.eventCache.getNode(),E,a)}else{const E=kn(t);if(".priority"===E){(0,fe.hu)(1===If(t),"Can't have a priority with additional path components");const N=u.getNode();_=e.serverCache.getNode();const W=v3(r,t,N,_);m=null!=W?n.filter.updatePriority(N,W):u.getNode()}else{const N=vr(t);let W;if(u.isCompleteForChild(E)){_=e.serverCache.getNode();const se=v3(r,t,u.getNode(),_);W=null!=se?u.getNode().getImmediateChild(E).updateChild(N,se):u.getNode().getImmediateChild(E)}else W=fR(r,E,e.serverCache);m=null!=W?n.filter.updateChild(u.getNode(),E,W,N,i,a):u.getNode()}}return Zb(e,m,u.isFullyInitialized()||On(t),n.filter.filtersNodes())}}function x1(n,e,t,r,i,a,u,m){const _=e.serverCache;let E;const N=u?n.filter:n.filter.getIndexedFilter();if(On(t))E=N.updateFullNode(_.getNode(),r,null);else if(N.filtersNodes()&&!_.isFiltered()){const pe=_.getNode().updateChild(t,r);E=N.updateFullNode(_.getNode(),pe,null)}else{const pe=kn(t);if(!_.isCompleteForPath(t)&&If(t)>1)return e;const we=vr(t),Ve=_.getNode().getImmediateChild(pe).updateChild(we,r);E=".priority"===pe?N.updatePriority(_.getNode(),Ve):N.updateChild(_.getNode(),pe,Ve,we,C3,null)}const W=f3(e,E,_.isFullyInitialized()||On(t),N.filtersNodes());return E3(n,W,t,i,new pR(i,W,a),m)}function mR(n,e,t,r,i,a,u){const m=e.eventCache;let _,E;const N=new pR(i,e,a);if(On(t))E=n.filter.updateFullNode(e.eventCache.getNode(),r,u),_=Zb(e,E,!0,n.filter.filtersNodes());else{const W=kn(t);if(".priority"===W)E=n.filter.updatePriority(e.eventCache.getNode(),r),_=Zb(e,E,m.isFullyInitialized(),m.isFiltered());else{const se=vr(t),pe=m.getNode().getImmediateChild(W);let we;if(On(se))we=r;else{const Me=N.getCompleteChild(W);we=null!=Me?".priority"===zO(se)&&Me.getChild(KU(se)).isEmpty()?Me:Me.updateChild(se,r):Cn.EMPTY_NODE}_=pe.equals(we)?e:Zb(e,n.filter.updateChild(m.getNode(),W,we,se,N,u),m.isFullyInitialized(),n.filter.filtersNodes())}}return _}function S3(n,e){return n.eventCache.isCompleteForChild(e)}function T3(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function gR(n,e,t,r,i,a,u,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let E,_=e;E=On(t)?r:new Ar(null).setTree(t,r);const N=e.serverCache.getNode();return E.children.inorderTraversal((W,se)=>{if(N.hasChild(W)){const we=T3(0,e.serverCache.getNode().getImmediateChild(W),se);_=x1(n,_,new or(W),we,i,a,u,m)}}),E.children.inorderTraversal((W,se)=>{const pe=!e.serverCache.isCompleteForChild(W)&&null===se.value;if(!N.hasChild(W)&&!pe){const Me=T3(0,e.serverCache.getNode().getImmediateChild(W),se);_=x1(n,_,new or(W),Me,i,a,u,m)}}),_}class I8{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new eR(r.getIndex()),a=function UW(n){return n.loadsAllData()?new eR(n.getIndex()):n.hasLimit()?new BW(n):new zb(n)}(r);this.processor_=function _8(n){return{filter:n}}(a);const u=t.serverCache,m=t.eventCache,_=i.updateFullNode(Cn.EMPTY_NODE,u.getNode(),null),E=a.updateFullNode(Cn.EMPTY_NODE,m.getNode(),null),N=new Af(_,u.isFullyInitialized(),i.filtersNodes()),W=new Af(E,m.isFullyInitialized(),a.filtersNodes());this.viewCache_=S1(W,N),this.eventGenerator_=new QW(this.query_)}get query(){return this.query_}}function x8(n,e){const t=lg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!On(e)&&!t.getImmediateChild(kn(e)).isEmpty())?t.getChild(e):null}function I3(n){return 0===n.eventRegistrations_.length}function A3(n,e,t){const r=[];if(t){(0,fe.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(a=>{const u=a.createCancelEvent(t,i);u&&r.push(u)})}if(e){let i=[];for(let a=0;a<n.eventRegistrations_.length;++a){const u=n.eventRegistrations_[a];if(u.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(a+1));break}}else i.push(u)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function D3(n,e,t,r){e.type===Pl.MERGE&&null!==e.source.queryId&&((0,fe.hu)(lg(n.viewCache_),"We should always have a full cache before handling merges"),(0,fe.hu)(T1(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=function w8(n,e,t,r,i){const a=new g8;let u,m;if(t.type===Pl.OVERWRITE){const E=t;E.source.fromUser?u=mR(n,e,E.path,E.snap,r,i,a):((0,fe.hu)(E.source.fromServer,"Unknown source."),m=E.source.tagged||e.serverCache.isFiltered()&&!On(E.path),u=x1(n,e,E.path,E.snap,r,i,m,a))}else if(t.type===Pl.MERGE){const E=t;E.source.fromUser?u=function C8(n,e,t,r,i,a,u){let m=e;return r.foreach((_,E)=>{const N=Br(t,_);S3(e,kn(N))&&(m=mR(n,m,N,E,i,a,u))}),r.foreach((_,E)=>{const N=Br(t,_);S3(e,kn(N))||(m=mR(n,m,N,E,i,a,u))}),m}(n,e,E.path,E.children,r,i,a):((0,fe.hu)(E.source.fromServer,"Unknown source."),m=E.source.tagged||e.serverCache.isFiltered(),u=gR(n,e,E.path,E.children,r,i,m,a))}else if(t.type===Pl.ACK_USER_WRITE){const E=t;u=E.revert?function T8(n,e,t,r,i,a){let u;if(null!=D1(r,t))return e;{const m=new pR(r,e,i),_=e.eventCache.getNode();let E;if(On(t)||".priority"===kn(t)){let N;if(e.serverCache.isFullyInitialized())N=A1(r,lg(e));else{const W=e.serverCache.getNode();(0,fe.hu)(W instanceof Cn,"serverChildren would be complete if leaf node"),N=hR(r,W)}E=n.filter.updateFullNode(_,N,a)}else{const N=kn(t);let W=fR(r,N,e.serverCache);null==W&&e.serverCache.isCompleteForChild(N)&&(W=_.getImmediateChild(N)),E=null!=W?n.filter.updateChild(_,N,W,vr(t),m,a):e.eventCache.getNode().hasChild(N)?n.filter.updateChild(_,N,Cn.EMPTY_NODE,vr(t),m,a):_,E.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=A1(r,lg(e)),u.isLeafNode()&&(E=n.filter.updateFullNode(E,u,a)))}return u=e.serverCache.isFullyInitialized()||null!=D1(r,Jn()),Zb(e,E,u,n.filter.filtersNodes())}}(n,e,E.path,r,i,a):function E8(n,e,t,r,i,a,u){if(null!=D1(i,t))return e;const m=e.serverCache.isFiltered(),_=e.serverCache;if(null!=r.value){if(On(t)&&_.isFullyInitialized()||_.isCompleteForPath(t))return x1(n,e,t,_.getNode().getChild(t),i,a,m,u);if(On(t)){let E=new Ar(null);return _.getNode().forEachChild(xu,(N,W)=>{E=E.set(new or(N),W)}),gR(n,e,t,E,i,a,m,u)}return e}{let E=new Ar(null);return r.foreach((N,W)=>{const se=Br(t,N);_.isCompleteForPath(se)&&(E=E.set(N,_.getNode().getChild(se)))}),gR(n,e,t,E,i,a,m,u)}}(n,e,E.path,E.affectedTree,r,i,a)}else{if(t.type!==Pl.LISTEN_COMPLETE)throw(0,fe.g5)("Unknown operation type: "+t.type);u=function S8(n,e,t,r,i){const a=e.serverCache;return E3(n,f3(e,a.getNode(),a.isFullyInitialized()||On(t),a.isFiltered()),t,r,C3,i)}(n,e,t.path,r,a)}const _=a.getChanges();return function b8(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=T1(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&t.push(c3(T1(e)))}}(e,u,_),{viewCache:u,changes:_}}(n.processor_,i,e,t,r);return function v8(n,e){(0,fe.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,fe.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,fe.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,x3(n,a.changes,a.viewCache.eventCache.getNode(),null)}function x3(n,e,t,r){return function JW(n,e,t,r){const i=[],a=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&a.push(function VW(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),Wb(n,i,"child_removed",e,r,t),Wb(n,i,"child_added",e,r,t),Wb(n,i,"child_moved",a,r,t),Wb(n,i,"child_changed",e,r,t),Wb(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let P1,k1;class P3{constructor(){this.views=new Map}}function yR(n,e,t,r){const i=e.source.queryId;if(null!==i){const a=n.views.get(i);return(0,fe.hu)(null!=a,"SyncTree gave us an op for an invalid query."),D3(a,e,t,r)}{let a=[];for(const u of n.views.values())a=a.concat(D3(u,e,t,r));return a}}function M3(n,e,t,r,i){const u=n.views.get(e._queryIdentifier);if(!u){let m=A1(t,i?r:null),_=!1;m?_=!0:r instanceof Cn?(m=hR(t,r),_=!1):(m=Cn.EMPTY_NODE,_=!1);const E=S1(new Af(m,_,!1),new Af(r,i,!1));return new I8(e,E)}return u}function k3(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function xf(n,e){let t=null;for(const r of n.views.values())t=t||x8(r,e);return t}function O3(n,e){return e._queryParams.loadsAllData()?M1(n):n.views.get(e._queryIdentifier)}function R3(n,e){return null!=O3(n,e)}function Pf(n){return null!=M1(n)}function M1(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let B8=1;class N3{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ar(null),this.pendingWriteTree_=function p8(){return{visibleWrites:Ec.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _R(n,e,t,r,i){return function n8(n,e,t,r,i){(0,fe.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Kb(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?q_(n,new ag({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Mf(n,e,t=!1){const r=function i8(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function s8(n,e){const t=n.allWrites.findIndex(m=>m.writeId===e);(0,fe.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,a=!1,u=n.allWrites.length-1;for(;i&&u>=0;){const m=n.allWrites[u];m.visible&&(u>=t&&o8(m,r.path)?i=!1:xl(r.path,m.path)&&(a=!0)),u--}return!!i&&(a?(function a8(n){n.visibleWrites=y3(n.allWrites,l8,Jn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=p3(n.visibleWrites,r.path):rs(r.children,_=>{n.visibleWrites=p3(n.visibleWrites,Br(r.path,_))}),!0))}(n.pendingWriteTree_,e)){let a=new Ar(null);return null!=r.snap?a=a.set(Jn(),!0):rs(r.children,u=>{a=a.set(new or(u),!0)}),q_(n,new E1(r.path,a,t))}return[]}function Yb(n,e,t){return q_(n,new ag({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function O1(n,e,t,r,i=!1){const a=e._path,u=n.syncPointTree_.get(a);let m=[];if(u&&("default"===e._queryIdentifier||R3(u,e))){const _=function F8(n,e,t,r){const i=e._queryIdentifier,a=[];let u=[];const m=Pf(n);if("default"===i)for(const[_,E]of n.views.entries())u=u.concat(A3(E,t,r)),I3(E)&&(n.views.delete(_),E.query._queryParams.loadsAllData()||a.push(E.query));else{const _=n.views.get(i);_&&(u=u.concat(A3(_,t,r)),I3(_)&&(n.views.delete(i),_.query._queryParams.loadsAllData()||a.push(_.query)))}return m&&!Pf(n)&&a.push(new(function O8(){return(0,fe.hu)(P1,"Reference.ts has not been loaded"),P1}())(e._repo,e._path)),{removed:a,events:u}}(u,e,t,r);(function R8(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const E=_.removed;if(m=_.events,!i){const N=-1!==E.findIndex(se=>se._queryParams.loadsAllData()),W=n.syncPointTree_.findOnPath(a,(se,pe)=>Pf(pe));if(N&&!W){const se=n.syncPointTree_.subtree(a);if(!se.isEmpty()){const pe=function q8(n){return n.fold((e,t,r)=>{if(t&&Pf(t))return[M1(t)];{let i=[];return t&&(i=k3(t)),rs(r,(a,u)=>{i=i.concat(u)}),i}})}(se);for(let we=0;we<pe.length;++we){const Me=pe[we],Ve=Me.query,st=B3(n,Me);n.listenProvider_.startListening(Jb(Ve),Qb(n,Ve),st.hashFn,st.onComplete)}}}!W&&E.length>0&&!r&&(N?n.listenProvider_.stopListening(Jb(e),null):E.forEach(se=>{const pe=n.queryToTagMap.get(N1(se));n.listenProvider_.stopListening(Jb(se),pe)}))}!function W8(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=N1(r),a=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(a)}}}(n,E)}return m}function F3(n,e,t,r){const i=wR(n,r);if(null!=i){const a=bR(i),u=a.path,m=a.queryId,_=wo(u,e);return CR(n,u,new ag(aR(m),_,t))}return[]}function vR(n,e,t,r=!1){const i=e._path;let a=null,u=!1;n.syncPointTree_.foreachOnPath(i,(se,pe)=>{const we=wo(se,i);a=a||xf(pe,we),u=u||Pf(pe)});let _,m=n.syncPointTree_.get(i);m?(u=u||Pf(m),a=a||xf(m,Jn())):(m=new P3,n.syncPointTree_=n.syncPointTree_.set(i,m)),null!=a?_=!0:(_=!1,a=Cn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((pe,we)=>{const Me=xf(we,Jn());Me&&(a=a.updateImmediateChild(pe,Me))}));const E=R3(m,e);if(!E&&!e._queryParams.loadsAllData()){const se=N1(e);(0,fe.hu)(!n.queryToTagMap.has(se),"View does not exist, but we have a tag");const pe=function Z8(){return B8++}();n.queryToTagMap.set(se,pe),n.tagToQueryMap.set(pe,se)}let W=function N8(n,e,t,r,i,a){const u=M3(n,e,r,i,a);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function P8(n,e){n.eventRegistrations_.push(e)}(u,t),function M8(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ir,(a,u)=>{r.push(j_(a,u))}),t.isFullyInitialized()&&r.push(c3(t.getNode())),x3(n,r,t.getNode(),e)}(u,t)}(m,e,t,I1(n.pendingWriteTree_,i),a,_);if(!E&&!u&&!r){const se=O3(m,e);W=W.concat(function K8(n,e,t){const r=e._path,i=Qb(n,e),a=B3(n,t),u=n.listenProvider_.startListening(Jb(e),i,a.hashFn,a.onComplete),m=n.syncPointTree_.subtree(r);if(i)(0,fe.hu)(!Pf(m.value),"If we're adding a query, it shouldn't be shadowed");else{const _=m.fold((E,N,W)=>{if(!On(E)&&N&&Pf(N))return[M1(N).query];{let se=[];return N&&(se=se.concat(k3(N).map(pe=>pe.query))),rs(W,(pe,we)=>{se=se.concat(we)}),se}});for(let E=0;E<_.length;++E){const N=_[E];n.listenProvider_.stopListening(Jb(N),Qb(n,N))}}return u}(n,e,se))}return W}function R1(n,e,t){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(u,m)=>{const E=xf(m,wo(u,e));if(E)return E});return _3(i,e,a,t,!0)}function q_(n,e){return L3(e,n.syncPointTree_,null,I1(n.pendingWriteTree_,Jn()))}function L3(n,e,t,r){if(On(n.path))return V3(n,e,t,r);{const i=e.get(Jn());null==t&&null!=i&&(t=xf(i,Jn()));let a=[];const u=kn(n.path),m=n.operationForChild(u),_=e.children.get(u);if(_&&m){const E=t?t.getImmediateChild(u):null,N=w3(r,u);a=a.concat(L3(m,_,E,N))}return i&&(a=a.concat(yR(i,n,r,t))),a}}function V3(n,e,t,r){const i=e.get(Jn());null==t&&null!=i&&(t=xf(i,Jn()));let a=[];return e.children.inorderTraversal((u,m)=>{const _=t?t.getImmediateChild(u):null,E=w3(r,u),N=n.operationForChild(u);N&&(a=a.concat(V3(N,m,_,E)))}),i&&(a=a.concat(yR(i,n,r,t))),a}function B3(n,e){const t=e.query,r=Qb(n,t);return{hashFn:()=>(function A8(n){return n.viewCache_.serverCache.getNode()}(e)||Cn.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function G8(n,e,t){const r=wR(n,t);if(r){const i=bR(r),a=i.path,u=i.queryId,m=wo(a,e);return CR(n,a,new qb(aR(u),m))}return[]}(n,t._path,r):function j8(n,e){return q_(n,new qb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const a=function jq(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return O1(n,t,null,a)}}}}function Qb(n,e){const t=N1(e);return n.queryToTagMap.get(t)}function N1(n){return n._path.toString()+"$"+n._queryIdentifier}function wR(n,e){return n.tagToQueryMap.get(e)}function bR(n){const e=n.indexOf("$");return(0,fe.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new or(n.substr(0,e))}}function CR(n,e,t){const r=n.syncPointTree_.get(e);return(0,fe.hu)(r,"Missing sync point for query tag that we're tracking"),yR(r,t,I1(n.pendingWriteTree_,e),null)}function Jb(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function V8(){return(0,fe.hu)(k1,"Reference.ts has not been loaded"),k1}())(n._repo,n._path):n}class ER{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ER(t)}node(){return this.node_}}class SR{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Br(this.path_,e);return new SR(this.syncTree_,t)}node(){return R1(this.syncTree_,this.path_)}}const U3=function(n,e,t){return n&&"object"==typeof n?((0,fe.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Q8(n[".sv"],e,t):"object"==typeof n[".sv"]?J8(n[".sv"],e):void(0,fe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Q8=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,fe.hu)(!1,"Unexpected server value: "+n)},J8=function(n,e,t){n.hasOwnProperty("increment")||(0,fe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,fe.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,fe.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const u=i.getValue();return"number"!=typeof u?r:u+r},H3=function(n,e,t,r){return IR(e,new SR(t,n),r)},TR=function(n,e,t){return IR(n,new ER(e),t)};function IR(n,e,t){const r=n.getPriority().val(),i=U3(r,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const u=n,m=U3(u.getValue(),e,t);return m!==u.getValue()||i!==u.getPriority().val()?new B_(m,zr(i)):n}{const u=n;return a=u,i!==u.getPriority().val()&&(a=a.updatePriority(new B_(i))),u.forEachChild(Ir,(m,_)=>{const E=IR(_,e.getImmediateChild(m),t);E!==_&&(a=a.updateImmediateChild(m,E))}),a}}class AR{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function F1(n,e){let t=e instanceof or?e:new or(e),r=n,i=kn(t);for(;null!==i;){const a=(0,fe.DV)(r.node.children,i)||{children:{},childCount:0};r=new AR(i,r,a),t=vr(t),i=kn(t)}return r}function ug(n){return n.node.value}function DR(n,e){n.node.value=e,xR(n)}function j3(n){return n.node.childCount>0}function L1(n,e){rs(n.node.children,(t,r)=>{e(new AR(t,n,r))})}function G3(n,e,t,r){t&&!r&&e(n),L1(n,i=>{G3(i,e,!0,r)}),t&&r&&e(n)}function Xb(n){return new or(null===n.parent?n.name:Xb(n.parent)+"/"+n.name)}function xR(n){null!==n.parent&&function tZ(n,e,t){const r=function X8(n){return void 0===ug(n)&&!j3(n)}(t),i=(0,fe.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,xR(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,xR(n))}(n.parent,n.name,n)}const nZ=/[\[\].#$\/\u0000-\u001F\u007F]/,rZ=/[\[\].#$\u0000-\u001F\u007F]/,PR=10485760,V1=function(n){return"string"==typeof n&&0!==n.length&&!nZ.test(n)},$3=function(n){return"string"==typeof n&&0!==n.length&&!rZ.test(n)},eC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!u1(n)||n&&"object"==typeof n&&(0,fe.r3)(n,".sv")},Pu=function(n,e,t,r){r&&void 0===e||tC((0,fe.gK)(n,"value"),e,t)},tC=function(n,e,t){const r=t instanceof or?new vW(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+sg(r));if("function"==typeof e)throw new Error(n+"contains a function "+sg(r)+" with contents = "+e.toString());if(u1(e))throw new Error(n+"contains "+e.toString()+" "+sg(r));if("string"==typeof e&&e.length>PR/3&&(0,fe.ug)(e)>PR)throw new Error(n+"contains a string greater than "+PR+" utf8 bytes "+sg(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,a=!1;if(rs(e,(u,m)=>{if(".value"===u)i=!0;else if(".priority"!==u&&".sv"!==u&&(a=!0,!V1(u)))throw new Error(n+" contains an invalid key ("+u+") "+sg(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function wW(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,fe.ug)(e),YU(n)})(r,u),tC(n,m,r),function bW(n){const e=n.parts_.pop();n.byteLength_-=(0,fe.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&a)throw new Error(n+' contains ".value" child '+sg(r)+" in addition to actual children.")}},z3=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,fe.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const a=[];rs(e,(u,m)=>{const _=new or(u);if(tC(i,m,Br(t,_)),".priority"===zO(_)&&!eC(m))throw new Error(i+"contains an invalid value for '"+_.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(_)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const a=Bb(r);for(let u=0;u<a.length;u++)if((".priority"!==a[u]||u!==a.length-1)&&!V1(a[u]))throw new Error(n+"contains an invalid key ("+a[u]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(_W);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&xl(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,a)},MR=function(n,e,t){if(!t||void 0!==e){if(u1(e))throw new Error((0,fe.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!eC(e))throw new Error((0,fe.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},nC=function(n,e,t,r){if(!(r&&void 0===t||V1(t)))throw new Error((0,fe.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},rC=function(n,e,t,r){if(!(r&&void 0===t||$3(t)))throw new Error((0,fe.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ml=function(n,e){if(".info"===kn(e))throw new Error(n+" failed = Can't modify data under /.info/")},q3=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!V1(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$3(n)}(t))throw new Error((0,fe.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class aZ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function B1(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();null!==t&&!qO(a,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:a}),t.events.push(i)}t&&n.eventLists_.push(t)}function W3(n,e,t){B1(n,t),Z3(n,r=>qO(r,e))}function Oa(n,e,t){B1(n,t),Z3(n,r=>xl(r,e)||xl(e,r))}function Z3(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(lZ(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function lZ(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();rg&&ns("event: "+t.toString()),L_(r)}}}const K3="repo_interrupt";class uZ{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aZ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=C1(),this.transactionQueueTree_=new AR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Y3(n){const t=n.infoData_.getNode(new or(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function iC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Y3(n)})}function Q3(n,e,t,r,i){n.dataUpdateCount++;const a=new or(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(i)if(r){const _=(0,fe.UI)(t,E=>zr(E));u=function $8(n,e,t,r){const i=wR(n,r);if(i){const a=bR(i),u=a.path,m=a.queryId,_=wo(u,e),E=Ar.fromObject(t);return CR(n,u,new $_(aR(m),_,E))}return[]}(n.serverSyncTree_,a,_,i)}else{const _=zr(t);u=F3(n.serverSyncTree_,a,_,i)}else if(r){const _=(0,fe.UI)(t,E=>zr(E));u=function H8(n,e,t){const r=Ar.fromObject(t);return q_(n,new $_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,a,_)}else{const _=zr(t);u=Yb(n.serverSyncTree_,a,_)}let m=a;u.length>0&&(m=Z_(n,a)),Oa(n.eventQueue_,m,u)}function J3(n,e){kR(n,"connected",e),!1===e&&function mZ(n){W_(n,"onDisconnectEvents");const e=iC(n),t=C1();iR(n.onDisconnect_,Jn(),(i,a)=>{const u=H3(i,a,n.serverSyncTree_,e);G_(t,i,u)});let r=[];iR(t,Jn(),(i,a)=>{r=r.concat(Yb(n.serverSyncTree_,i,a));const u=FR(n,i);Z_(n,u)}),n.onDisconnect_=C1(),Oa(n.eventQueue_,Jn(),r)}(n)}function kR(n,e,t){const r=new or("/.info/"+e),i=zr(t);n.infoData_.updateSnapshot(r,i);const a=Yb(n.infoSyncTree_,r,i);Oa(n.eventQueue_,r,a)}function U1(n){return n.nextWriteId_++}function OR(n,e,t,r,i){W_(n,"set",{path:e.toString(),value:t,priority:r});const a=iC(n),u=zr(t,r),m=R1(n.serverSyncTree_,e),_=TR(u,m,a),E=U1(n),N=_R(n.serverSyncTree_,e,_,E,!0);B1(n.eventQueue_,N),n.server_.put(e.toString(),u.val(!0),(se,pe)=>{const we="ok"===se;we||js("set at "+e+" failed: "+se);const Me=Mf(n.serverSyncTree_,E,!we);Oa(n.eventQueue_,e,Me),kf(0,i,se,pe)});const W=FR(n,e);Z_(n,W),Oa(n.eventQueue_,W,[])}function gZ(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&rR(n.onDisconnect_,e),kf(0,t,r,i)})}function X3(n,e,t,r){const i=zr(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(a,u)=>{"ok"===a&&G_(n.onDisconnect_,e,i),kf(0,r,a,u)})}function RR(n,e,t){let r;r=".info"===kn(e._path)?O1(n.infoSyncTree_,e,t):O1(n.serverSyncTree_,e,t),W3(n.eventQueue_,e._path,r)}function eH(n){n.persistentConnection_&&n.persistentConnection_.interrupt(K3)}function W_(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ns(t,...e)}function kf(n,e,t,r){e&&L_(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let a=i;r&&(a+=": "+r);const u=new Error(a);u.code=i,e(u)}})}function NR(n,e,t){return R1(n.serverSyncTree_,e,t)||Cn.EMPTY_NODE}function H1(n,e=n.transactionQueueTree_){if(e||j1(n,e),ug(e)){const t=nH(n,e);(0,fe.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function CZ(n,e,t){const r=t.map(E=>E.currentWriteId),i=NR(n,e,r);let a=i;const u=i.hash();for(let E=0;E<t.length;E++){const N=t[E];(0,fe.hu)(0===N.status,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const W=wo(e,N.path);a=a.updateChild(W,N.currentOutputSnapshotRaw)}const m=a.val(!0),_=e;n.server_.put(_.toString(),m,E=>{W_(n,"transaction put response",{path:_.toString(),status:E});let N=[];if("ok"===E){const W=[];for(let se=0;se<t.length;se++)t[se].status=2,N=N.concat(Mf(n.serverSyncTree_,t[se].currentWriteId)),t[se].onComplete&&W.push(()=>t[se].onComplete(null,!0,t[se].currentOutputSnapshotResolved)),t[se].unwatcher();j1(n,F1(n.transactionQueueTree_,e)),H1(n,n.transactionQueueTree_),Oa(n.eventQueue_,e,N);for(let se=0;se<W.length;se++)L_(W[se])}else{if("datastale"===E)for(let W=0;W<t.length;W++)t[W].status=3===t[W].status?4:0;else{js("transaction at "+_.toString()+" failed: "+E);for(let W=0;W<t.length;W++)t[W].status=4,t[W].abortReason=E}Z_(n,e)}},u)}(n,Xb(e),t)}else j3(e)&&L1(e,t=>{H1(n,t)})}function Z_(n,e){const t=tH(n,e),r=Xb(t);return function EZ(n,e,t){if(0===e.length)return;const r=[];let i=[];const u=e.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const _=e[m],E=wo(t,_.path);let W,N=!1;if((0,fe.hu)(null!==E,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_.status)N=!0,W=_.abortReason,i=i.concat(Mf(n.serverSyncTree_,_.currentWriteId,!0));else if(0===_.status)if(_.retryCount>=25)N=!0,W="maxretry",i=i.concat(Mf(n.serverSyncTree_,_.currentWriteId,!0));else{const se=NR(n,_.path,u);_.currentInputSnapshot=se;const pe=e[m].update(se.val());if(void 0!==pe){tC("transaction failed: Data returned ",pe,_.path);let we=zr(pe);"object"==typeof pe&&null!=pe&&(0,fe.r3)(pe,".priority")||(we=we.updatePriority(se.getPriority()));const Ve=_.currentWriteId,st=iC(n),ht=TR(we,se,st);_.currentOutputSnapshotRaw=we,_.currentOutputSnapshotResolved=ht,_.currentWriteId=U1(n),u.splice(u.indexOf(Ve),1),i=i.concat(_R(n.serverSyncTree_,_.path,ht,_.currentWriteId,_.applyLocally)),i=i.concat(Mf(n.serverSyncTree_,Ve,!0))}else N=!0,W="nodata",i=i.concat(Mf(n.serverSyncTree_,_.currentWriteId,!0))}Oa(n.eventQueue_,t,i),i=[],N&&(e[m].status=2,setTimeout(e[m].unwatcher,Math.floor(0)),e[m].onComplete&&r.push("nodata"===W?()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot):()=>e[m].onComplete(new Error(W),!1,null)))}j1(n,n.transactionQueueTree_);for(let m=0;m<r.length;m++)L_(r[m]);H1(n,n.transactionQueueTree_)}(n,nH(n,t),r),r}function tH(n,e){let t,r=n.transactionQueueTree_;for(t=kn(e);null!==t&&void 0===ug(r);)r=F1(r,t),t=kn(e=vr(e));return r}function nH(n,e){const t=[];return rH(n,e,t),t.sort((r,i)=>r.order-i.order),t}function rH(n,e,t){const r=ug(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);L1(e,i=>{rH(n,i,t)})}function j1(n,e){const t=ug(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,DR(e,t.length>0?t:void 0)}L1(e,r=>{j1(n,r)})}function FR(n,e){const t=Xb(tH(n,e)),r=F1(n.transactionQueueTree_,e);return function eZ(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{LR(n,i)}),LR(n,r),G3(r,i=>{LR(n,i)}),t}function LR(n,e){const t=ug(e);if(t){const r=[];let i=[],a=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,fe.hu)(a===u-1,"All SENT items should be at beginning of queue."),a=u,t[u].status=3,t[u].abortReason="set"):((0,fe.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),i=i.concat(Mf(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&r.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===a?DR(e,void 0):t.length=a+1,Oa(n.eventQueue_,Xb(e),i);for(let u=0;u<r.length;u++)L_(r[u])}}const VR=function(n,e){const t=IZ(n),r=t.namespace;return"firebase.com"===t.domain&&Au(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Au("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&js("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new BO(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new or(t.pathString)}},IZ=function(n){let e="",t="",r="",i="",a="",u=!0,m="https",_=443;if("string"==typeof n){let E=n.indexOf("//");E>=0&&(m=n.substring(0,E-1),n=n.substring(E+2));let N=n.indexOf("/");-1===N&&(N=n.length);let W=n.indexOf("?");-1===W&&(W=n.length),e=n.substring(0,Math.min(N,W)),N<W&&(i=function SZ(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(N,W)));const se=function TZ(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):js(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,W)));E=e.indexOf(":"),E>=0?(u="https"===m||"wss"===m,_=parseInt(e.substring(E+1),10)):E=e.length;const pe=e.slice(0,E);if("localhost"===pe.toLowerCase())t="localhost";else if(pe.split(".").length<=2)t=pe;else{const we=e.indexOf(".");r=e.substring(0,we).toLowerCase(),t=e.substring(we+1),a=r}"ns"in se&&(a=se.ns)}return{host:e,port:_,domain:t,subdomain:r,secure:u,scheme:m,pathString:i,namespace:a}};class iH{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,fe.Wl)(this.snapshot.exportVal())}}class sH{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class BR{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,fe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class oH{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new fe.BH;return gZ(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Ml("OnDisconnect.remove",this._path);const e=new fe.BH;return X3(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Ml("OnDisconnect.set",this._path),Pu("OnDisconnect.set",e,this._path,!1);const t=new fe.BH;return X3(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Ml("OnDisconnect.setWithPriority",this._path),Pu("OnDisconnect.setWithPriority",e,this._path,!1),MR("OnDisconnect.setWithPriority",t,!1);const r=new fe.BH;return function yZ(n,e,t,r,i){const a=zr(t,r);n.server_.onDisconnectPut(e.toString(),a.val(!0),(u,m)=>{"ok"===u&&G_(n.onDisconnect_,e,a),kf(0,i,u,m)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){Ml("OnDisconnect.update",this._path),z3("OnDisconnect.update",e,this._path,!1);const t=new fe.BH;return function _Z(n,e,t,r){if((0,fe.xb)(t))return ns("onDisconnect().update() called with empty data.  Don't do anything."),void kf(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,a)=>{"ok"===i&&rs(t,(u,m)=>{const _=zr(m);G_(n.onDisconnect_,Br(e,u),_)}),kf(0,r,i,a)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Xo{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return On(this._path)?null:zO(this._path)}get ref(){return new kl(this._repo,this._path)}get _queryIdentifier(){const e=d3(this._queryParams),t=FO(e);return"{}"===t?"default":t}get _queryObject(){return d3(this._queryParams)}isEqual(e){if(!((e=(0,fe.m9)(e))instanceof Xo))return!1;const t=this._repo===e._repo,r=qO(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function yW(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function G1(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Of(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===xu){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==zd)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==Du)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===Ir){if(null!=e&&!eC(e)||null!=t&&!eC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,fe.hu)(n.getIndex()instanceof QO||n.getIndex()===JO,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function $1(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class kl extends Xo{constructor(e,t){super(e,t,new v1,!1)}get parent(){const e=KU(this._path);return null===e?null:new kl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class dg{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new or(e),r=hg(this.ref,e);return new dg(this._node.getChild(t),r,Ir)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new dg(i,hg(this.ref,r),Ir)))}hasChild(e){const t=new or(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function aH(n,e){return(n=(0,fe.m9)(n))._checkNotDeleted("ref"),void 0!==e?hg(n._root,e):n._root}function lH(n,e){(n=(0,fe.m9)(n))._checkNotDeleted("refFromURL");const t=VR(e,n._repo.repoInfo_.nodeAdmin);q3("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Au("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),aH(n,t.path.toString())}function hg(n,e){return null===kn((n=(0,fe.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rC("child","path",t,!1)):rC("child","path",e,!1),new kl(n._repo,Br(n._path,e));var t}function UR(n,e){n=(0,fe.m9)(n),Ml("set",n._path),Pu("set",e,n._path,!1);const t=new fe.BH;return OR(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function MZ(n,e){z3("update",e,n._path,!1);const t=new fe.BH;return function pZ(n,e,t,r){W_(n,"update",{path:e.toString(),value:t});let i=!0;const a=iC(n),u={};if(rs(t,(m,_)=>{i=!1,u[m]=H3(Br(e,m),zr(_),n.serverSyncTree_,a)}),i)ns("update() called with empty data.  Don't do anything."),kf(0,r,"ok",void 0);else{const m=U1(n),_=function U8(n,e,t,r){!function r8(n,e,t,r){(0,fe.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=cR(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=Ar.fromObject(t);return q_(n,new $_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,u,m);B1(n.eventQueue_,_),n.server_.merge(e.toString(),t,(E,N)=>{const W="ok"===E;W||js("update at "+e+" failed: "+E);const se=Mf(n.serverSyncTree_,m,!W),pe=se.length>0?Z_(n,e):e;Oa(n.eventQueue_,pe,se),kf(0,r,E,N)}),rs(t,E=>{const N=FR(n,Br(e,E));Z_(n,N)}),Oa(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function kZ(n){n=(0,fe.m9)(n);const e=new BR(()=>{}),t=new sC(e);return function fZ(n,e,t){const r=function z8(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(E,N)=>{const W=wo(E,t);r=r||xf(N,W)});let i=n.syncPointTree_.get(t);i?r=r||xf(i,Jn()):(i=new P3,n.syncPointTree_=n.syncPointTree_.set(t,i));const a=null!=r,u=a?new Af(r,!0,!1):null;return function D8(n){return T1(n.viewCache_)}(M3(i,e,I1(n.pendingWriteTree_,e._path),a?u.getNode():Cn.EMPTY_NODE,a))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const a=zr(i).withIndex(e._queryParams.getIndex());let u;if(vR(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())u=Yb(n.serverSyncTree_,e._path,a);else{const m=Qb(n.serverSyncTree_,e);u=F3(n.serverSyncTree_,e._path,a,m)}return Oa(n.eventQueue_,e._path,u),O1(n.serverSyncTree_,e,t,null,!0),a},i=>(W_(n,"get for query "+(0,fe.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new dg(r,new kl(n._repo,n._path),n._queryParams.getIndex()))}class sC{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new iH("value",this,new dg(e.snapshotNode,new kl(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new sH(this,e,t):null}matches(e){return e instanceof sC&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class z1{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new sH(this,e,t):null}createEvent(e,t){(0,fe.hu)(null!=e.childName,"Child events should have a childName.");const r=hg(new kl(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new iH(e.type,this,new dg(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof z1&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function oC(n,e,t,r,i){let a;if("object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce){const _=t,E=(N,W)=>{RR(n._repo,n,m),_(N,W)};E.userCallback=t.userCallback,E.context=t.context,t=E}const u=new BR(t,a||void 0),m="value"===e?new sC(u):new z1(e,u);return function vZ(n,e,t){let r;r=".info"===kn(e._path)?vR(n.infoSyncTree_,e,t):vR(n.serverSyncTree_,e,t),W3(n.eventQueue_,e._path,r)}(n._repo,n,m),()=>RR(n._repo,n,m)}function HR(n,e,t,r){return oC(n,"value",e,t,r)}function cH(n,e,t,r){return oC(n,"child_added",e,t,r)}function uH(n,e,t,r){return oC(n,"child_changed",e,t,r)}function dH(n,e,t,r){return oC(n,"child_moved",e,t,r)}function hH(n,e,t,r){return oC(n,"child_removed",e,t,r)}function fH(n,e,t){let r=null;const i=t?new BR(t):null;"value"===e?r=new sC(i):e&&(r=new z1(e,i)),RR(n._repo,n,r)}class Sc{}class pH extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Pu("endAt",this._value,e._path,!0);const t=nR(e._queryParams,this._value,this._key);if($1(t),Of(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xo(e._repo,e._path,t,e._orderByCalled)}}class RZ extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Pu("endBefore",this._value,e._path,!1);const t=function $W(n,e,t){let r,i;return n.index_===xu?("string"==typeof e&&(e=l3(e)),i=nR(n,e,t)):(r=null==t?zd:l3(t),i=nR(n,e,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if($1(t),Of(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xo(e._repo,e._path,t,e._orderByCalled)}}class mH extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Pu("startAt",this._value,e._path,!0);const t=tR(e._queryParams,this._value,this._key);if($1(t),Of(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Xo(e._repo,e._path,t,e._orderByCalled)}}class LZ extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Pu("startAfter",this._value,e._path,!1);const t=function GW(n,e,t){let r;if(n.index_===xu)"string"==typeof e&&(e=a3(e)),r=tR(n,e,t);else{let i;i=null==t?Du:a3(t),r=tR(n,e,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if($1(t),Of(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Xo(e._repo,e._path,t,e._orderByCalled)}}class BZ extends Sc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xo(e._repo,e._path,function HW(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class HZ extends Sc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xo(e._repo,e._path,function jW(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class GZ extends Sc{constructor(e){super(),this._path=e}_apply(e){G1(e,"orderByChild");const t=new or(this._path);if(On(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new QO(t),i=w1(e._queryParams,r);return Of(i),new Xo(e._repo,e._path,i,!0)}}class zZ extends Sc{_apply(e){G1(e,"orderByKey");const t=w1(e._queryParams,xu);return Of(t),new Xo(e._repo,e._path,t,!0)}}class WZ extends Sc{_apply(e){G1(e,"orderByPriority");const t=w1(e._queryParams,Ir);return Of(t),new Xo(e._repo,e._path,t,!0)}}class KZ extends Sc{_apply(e){G1(e,"orderByValue");const t=w1(e._queryParams,JO);return Of(t),new Xo(e._repo,e._path,t,!0)}}class QZ extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Pu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new pH(this._value,this._key)._apply(new mH(this._value,this._key)._apply(e))}}function Tc(n,...e){let t=(0,fe.m9)(n);for(const r of e)t=r._apply(t);return t}(function k8(n){(0,fe.hu)(!P1,"__referenceConstructor has already been defined"),P1=n})(kl),function L8(n){(0,fe.hu)(!k1,"__referenceConstructor has already been defined"),k1=n}(kl);const jR={};function yH(n,e,t,r,i){let a=r||n.options.databaseURL;void 0===a&&(n.options.projectId||Au("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ns("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let _,E,u=VR(a,i),m=u.repoInfo;typeof process<"u"&&process.env&&(E=process.env.FIREBASE_DATABASE_EMULATOR_HOST),E?(_=!0,a=`http://${E}?ns=${m.namespace}`,u=VR(a,i),m=u.repoInfo):_=!u.repoInfo.secure;const N=i&&_?new Vb(Vb.OWNER):new qq(n.name,n.options,e);q3("Invalid Firebase Database URL",u),On(u.path)||Au("Database URL must point to the root of a Firebase Database (not including a child path).");const W=function nK(n,e,t,r){let i=jR[e.name];i||(i={},jR[e.name]=i);let a=i[n.toURLString()];return a&&Au("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new uZ(n,false,t,r),i[n.toURLString()]=a,a}(m,n,N,new zq(n.name,t));return new iK(W,n)}class iK{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function dZ(n,e,t){if(n.stats_=jO(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new b1(n.repoInfo_,(r,i,a,u)=>{Q3(n,r,i,a,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>J3(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,fe.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new og(n.repoInfo_,e,(r,i,a,u)=>{Q3(n,r,i,a,u)},r=>{J3(n,r)},r=>{!function hZ(n,e){rs(e,(t,r)=>{kR(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Kq(n,e){const t=n.toString();return HO[t]||(HO[t]=e()),HO[t]}(n.repoInfo_,()=>new YW(n.stats_,n.server_)),n.infoData_=new zW,n.infoSyncTree_=new N3({startListening:(r,i,a,u)=>{let m=[];const _=n.infoData_.getNode(r._path);return _.isEmpty()||(m=Yb(n.infoSyncTree_,r._path,_),setTimeout(()=>{u("ok")},0)),m},stopListening:()=>{}}),kR(n,"connected",!1),n.serverSyncTree_=new N3({startListening:(r,i,a,u)=>(n.server_.listen(r,a,i,(m,_)=>{const E=u(m,_);Oa(n.eventQueue_,r._path,E)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new kl(this._repo,Jn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function tK(n,e){const t=jR[e];(!t||t[n.key]!==n)&&Au(`Database ${e}(${n.repoInfo_}) has already been deleted.`),eH(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Au("Cannot call "+e+" on a deleted database.")}}function _H(){LU.IS_TRANSPORT_INITIALIZED&&js("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function sK(){_H(),Tf.forceDisallow()}function oK(){_H(),V_.forceDisallow(),Tf.forceAllow()}function cK(n,e){yU(n,e)}const dK={".sv":"timestamp"};class pK{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}og.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},og.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function uK(n){hU(ys.SDK_VERSION),(0,ys._registerComponent)(new Ia.wA("database",(e,{instanceIdentifier:t})=>yH(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,ys.registerVersion)(uU,dU,n),(0,ys.registerVersion)(uU,dU,"esm2017")}();const _K=new Zo.Yd("@firebase/database-compat"),wH=function(n){_K.warn("FIREBASE WARNING: "+n)};class bK{constructor(e){this._delegate=e}cancel(e){(0,fe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,fe.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,fe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,fe.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,fe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,fe.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,fe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,fe.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),a=>r(a)),i}update(e,t){if((0,fe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let a=0;a<e.length;++a)i[""+a]=e[a];e=i,wH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,fe.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class CK{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,fe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Rf{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,fe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,fe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,fe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,fe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,fe.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),rC("DataSnapshot.child","path",e,!1),new Rf(this._database,this._delegate.child(e))}hasChild(e){return(0,fe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),rC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,fe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,fe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,fe.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Rf(this._database,t)))}hasChildren(){return(0,fe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,fe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,fe.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ra(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Cs{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var a;(0,fe.Dv)("Query.on",2,4,arguments.length),(0,fe.Wj)("Query.on","callback",t,!1);const u=Cs.getCancelAndContextArgs_("Query.on",r,i),m=(E,N)=>{t.call(u.context,new Rf(this.database,E),N)};m.userCallback=t,m.context=u.context;const _=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return HR(this._delegate,m,_),t;case"child_added":return cH(this._delegate,m,_),t;case"child_removed":return hH(this._delegate,m,_),t;case"child_changed":return uH(this._delegate,m,_),t;case"child_moved":return dH(this._delegate,m,_),t;default:throw new Error((0,fe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,fe.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,fe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,fe.Wj)("Query.off","callback",t,!0),(0,fe.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,fH(this._delegate,e,i)}else fH(this._delegate,e)}get(){return kZ(this._delegate).then(e=>new Rf(this.database,e))}once(e,t,r,i){(0,fe.Dv)("Query.once",1,4,arguments.length),(0,fe.Wj)("Query.once","callback",t,!0);const a=Cs.getCancelAndContextArgs_("Query.once",r,i),u=new fe.BH,m=(E,N)=>{const W=new Rf(this.database,E);t&&t.call(a.context,W,N),u.resolve(W)};m.userCallback=t,m.context=a.context;const _=E=>{a.cancel&&a.cancel.call(a.context,E),u.reject(E)};switch(e){case"value":HR(this._delegate,m,_,{onlyOnce:!0});break;case"child_added":cH(this._delegate,m,_,{onlyOnce:!0});break;case"child_removed":hH(this._delegate,m,_,{onlyOnce:!0});break;case"child_changed":uH(this._delegate,m,_,{onlyOnce:!0});break;case"child_moved":dH(this._delegate,m,_,{onlyOnce:!0});break;default:throw new Error((0,fe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,fe.Dv)("Query.limitToFirst",1,1,arguments.length),new Cs(this.database,Tc(this._delegate,function UZ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new BZ(n)}(e)))}limitToLast(e){return(0,fe.Dv)("Query.limitToLast",1,1,arguments.length),new Cs(this.database,Tc(this._delegate,function jZ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new HZ(n)}(e)))}orderByChild(e){return(0,fe.Dv)("Query.orderByChild",1,1,arguments.length),new Cs(this.database,Tc(this._delegate,function $Z(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rC("orderByChild","path",n,!1),new GZ(n)}(e)))}orderByKey(){return(0,fe.Dv)("Query.orderByKey",0,0,arguments.length),new Cs(this.database,Tc(this._delegate,function qZ(){return new zZ}()))}orderByPriority(){return(0,fe.Dv)("Query.orderByPriority",0,0,arguments.length),new Cs(this.database,Tc(this._delegate,function ZZ(){return new WZ}()))}orderByValue(){return(0,fe.Dv)("Query.orderByValue",0,0,arguments.length),new Cs(this.database,Tc(this._delegate,function YZ(){return new KZ}()))}startAt(e=null,t){return(0,fe.Dv)("Query.startAt",0,2,arguments.length),new Cs(this.database,Tc(this._delegate,function FZ(n=null,e){return nC("startAt","key",e,!0),new mH(n,e)}(e,t)))}startAfter(e=null,t){return(0,fe.Dv)("Query.startAfter",0,2,arguments.length),new Cs(this.database,Tc(this._delegate,function VZ(n,e){return nC("startAfter","key",e,!0),new LZ(n,e)}(e,t)))}endAt(e=null,t){return(0,fe.Dv)("Query.endAt",0,2,arguments.length),new Cs(this.database,Tc(this._delegate,function OZ(n,e){return nC("endAt","key",e,!0),new pH(n,e)}(e,t)))}endBefore(e=null,t){return(0,fe.Dv)("Query.endBefore",0,2,arguments.length),new Cs(this.database,Tc(this._delegate,function NZ(n,e){return nC("endBefore","key",e,!0),new RZ(n,e)}(e,t)))}equalTo(e,t){return(0,fe.Dv)("Query.equalTo",1,2,arguments.length),new Cs(this.database,Tc(this._delegate,function JZ(n,e){return nC("equalTo","key",e,!0),new QZ(n,e)}(e,t)))}toString(){return(0,fe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,fe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,fe.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Cs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,fe.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,fe.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,fe.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new Ra(this.database,new kl(this._delegate._repo,this._delegate._path))}}class Ra extends Cs{constructor(e,t){super(e,new Xo(t._repo,t._path,new v1,!1)),this.database=e,this._delegate=t}getKey(){return(0,fe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,fe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ra(this.database,hg(this._delegate,e))}getParent(){(0,fe.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ra(this.database,e):null}getRoot(){return(0,fe.Dv)("Reference.root",0,0,arguments.length),new Ra(this.database,this._delegate.root)}set(e,t){(0,fe.Dv)("Reference.set",1,2,arguments.length),(0,fe.Wj)("Reference.set","onComplete",t,!0);const r=UR(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,fe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let a=0;a<e.length;++a)i[""+a]=e[a];e=i,wH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ml("Reference.update",this._delegate._path),(0,fe.Wj)("Reference.update","onComplete",t,!0);const r=MZ(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,fe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,fe.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function PZ(n,e,t){if(Ml("setWithPriority",n._path),Pu("setWithPriority",e,n._path,!1),MR("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new fe.BH;return OR(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),a=>r(a)),i}remove(e){(0,fe.Dv)("Reference.remove",0,1,arguments.length),(0,fe.Wj)("Reference.remove","onComplete",e,!0);const t=function DZ(n){return Ml("remove",n._path),UR(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,fe.Dv)("Reference.transaction",1,3,arguments.length),(0,fe.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,fe.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,fe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function mK(n,e,t){var r;if(n=(0,fe.m9)(n),Ml("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=t?.applyLocally)||void 0===r||r,a=new fe.BH,m=HR(n,()=>{});return function bZ(n,e,t,r,i,a){W_(n,"transaction on "+e);const u={path:e,update:t,onComplete:r,status:null,order:pU(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=NR(n,e,void 0);u.currentInputSnapshot=m;const _=u.update(m.val());if(void 0===_)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{tC("transaction failed: Data returned ",_,u.path),u.status=0;const E=F1(n.transactionQueueTree_,e),N=ug(E)||[];let W;N.push(u),DR(E,N),"object"==typeof _&&null!==_&&(0,fe.r3)(_,".priority")?(W=(0,fe.DV)(_,".priority"),(0,fe.hu)(eC(W),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):W=(R1(n.serverSyncTree_,e)||Cn.EMPTY_NODE).getPriority().val();const se=iC(n),pe=zr(_,W),we=TR(pe,m,se);u.currentOutputSnapshotRaw=pe,u.currentOutputSnapshotResolved=we,u.currentWriteId=U1(n);const Me=_R(n.serverSyncTree_,e,we,u.currentWriteId,u.applyLocally);Oa(n.eventQueue_,e,Me),H1(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(_,E,N)=>{let W=null;_?a.reject(_):(W=new dg(N,new kl(n._repo,n._path),Ir),a.resolve(new pK(E,W)))},m,i),a.promise}(this._delegate,e,{applyLocally:r}).then(a=>new CK(a.committed,new Rf(this.database,a.snapshot)));return t&&i.then(a=>t(null,a.committed,a.snapshot),a=>t(a,!1,null)),i}setPriority(e,t){(0,fe.Dv)("Reference.setPriority",1,2,arguments.length),(0,fe.Wj)("Reference.setPriority","onComplete",t,!0);const r=function xZ(n,e){n=(0,fe.m9)(n),Ml("setPriority",n._path),MR("setPriority",e,!1);const t=new fe.BH;return OR(n._repo,Br(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,fe.Dv)("Reference.push",0,2,arguments.length),(0,fe.Wj)("Reference.push","onComplete",t,!0);const r=function AZ(n,e){n=(0,fe.m9)(n),Ml("push",n._path),Pu("push",e,n._path,!0);const t=Y3(n._repo),r=LW(t),i=hg(n,r),a=hg(n,r);let u;return u=null!=e?UR(a,e).then(()=>a):Promise.resolve(a),i.then=u.then.bind(u),i.catch=u.then.bind(u,void 0),i}(this._delegate,e),i=r.then(u=>new Ra(this.database,u));t&&i.then(()=>t(null),u=>t(u));const a=new Ra(this.database,r);return a.then=i.then.bind(i),a.catch=i.catch.bind(i,void 0),a}onDisconnect(){return Ml("Reference.onDisconnect",this._delegate._path),new bK(new oH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class aC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:sK,forceLongPolling:oK}}useEmulator(e,t,r={}){!function vH(n,e,t,r={}){(n=(0,fe.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Au("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Au('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Vb(Vb.OWNER);else if(r.mockUserToken){const u="string"==typeof r.mockUserToken?r.mockUserToken:(0,fe.Sg)(r.mockUserToken,n.app.options.projectId);a=new Vb(u)}!function eK(n,e,t,r){n.repoInfo_=new BO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,a)}(this._delegate,e,t,r)}ref(e){if((0,fe.Dv)("database.ref",0,1,arguments.length),e instanceof Ra){const t=lH(this._delegate,e.toString());return new Ra(this,t)}{const t=aH(this._delegate,e);return new Ra(this,t)}}refFromURL(e){(0,fe.Dv)("database.refFromURL",1,1,arguments.length);const r=lH(this._delegate,e);return new Ra(this,r)}goOffline(){return(0,fe.Dv)("database.goOffline",0,0,arguments.length),function aK(n){(n=(0,fe.m9)(n))._checkNotDeleted("goOffline"),eH(n._repo)}(this._delegate)}goOnline(){return(0,fe.Dv)("database.goOnline",0,0,arguments.length),function lK(n){(n=(0,fe.m9)(n))._checkNotDeleted("goOnline"),function wZ(n){n.persistentConnection_&&n.persistentConnection_.resume(K3)}(n._repo)}(this._delegate)}}aC.ServerValue={TIMESTAMP:function hK(){return dK}(),increment:n=>function fK(n){return{".sv":{increment:n}}}(n)};var SK=Object.freeze({__proto__:null,initStandalone:function EK({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:a=!1}){hU(t);const u=new Ia.zt("auth-internal",new Ia.H0("database-standalone"));return u.setComponent(new Ia.wA("auth-internal",()=>r,"PRIVATE")),{instance:new aC(yH(n,u,void 0,e,a),n),namespace:i}}});const TK=aC.ServerValue;function bH(n){return null==n}function CH(n){return"function"==typeof n.set}function EH(n,e){return CH(e)?e:n.ref(e)}function SH(n,e){if(function AK(n){return"string"==typeof n}(n))return e.stringCase();if(CH(n))return e.firebaseCase();if(function DK(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function lC(n,e,t="on",r=sw.z){return new vl.y(i=>{let a=null;return a=n[t](e,(u,m)=>{r.schedule(()=>{i.next({snapshot:u,prevKey:m})}),"once"===t&&r.schedule(()=>i.complete())},u=>{r.schedule(()=>i.error(u))}),"on"===t?{unsubscribe(){null!=a&&n.off(e,a)}}:{unsubscribe(){}}}).pipe((0,qt.U)(i=>{const{snapshot:a,prevKey:u}=i;let m=null;return a.exists()&&(m=a.key),{type:e,payload:a,prevKey:u,key:m}}),(0,UV.B)())}function TH(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function MK(n,e){const{payload:t,prevKey:r,key:i}=e,a=TH(n,i),u=function PK(n,e){if(bH(e))return 0;{const t=TH(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let m=null;e.payload.forEach(_=>{const E={payload:_,type:"value",prevKey:m,key:_.key};return m=_.key,n=[...n,E],!1})}return n;case"child_added":if(a>-1){const m=n[a-1];(m&&m.key||null)!==r&&(n=n.filter(_=>_.payload.key!==t.key)).splice(u,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(m=>m.payload.key!==t.key);case"child_changed":return n.map(m=>m.payload.key===i?e:m);case"child_moved":if(a>-1){const m=n.splice(a,1)[0];return(n=n.slice()).splice(u,0,m),n}return n;default:return n}}function IH(n){return(bH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function AH(n,e,t){return function xK(n,e,t){return lC(n,"value","once",t).pipe(Er(r=>{const i=[Mt(r)];return e.forEach(a=>i.push(lC(n,a,"on",t))),(0,jk.T)(...i).pipe(bd(MK,[]))}),ow())}(n,e=IH(e),t)}function DH(n,e,t){const r=(e=IH(e)).map(i=>lC(n,i,"on",t));return(0,jk.T)(...r)}function xH(n,e){return function(r,i){return SH(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function NK(n){return function(t){return t?SH(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function PH(n,e){return function(){return lC(n,"value","on",e)}}!function IK(n){n.INTERNAL.registerComponent(new Ia.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new aC(i,r)},"PUBLIC").setServiceProps({Reference:Ra,Query:Cs,Database:aC,DataSnapshot:Rf,enableLogging:cK,INTERNAL:SK,ServerValue:TK}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(mT.Z);const VK=new s.OlP("angularfire2.realtimeDatabaseURL"),BK=new s.OlP("angularfire2.database.use-emulator");let UK=(()=>{class n{constructor(t,r,i,a,u,m,_,E,N,W,se,pe,we,Me,Ve){this.schedulers=m;const st=_,ht=(0,Fr.on)(t,u,r);E&&mO(ht,u,N,se,pe,we,W,Me),this.database=(0,Fr.cc)(`${ht.name}.database.${i}`,"AngularFireDatabase",ht.name,()=>{const ft=u.runOutsideAngular(()=>ht.database(i||void 0));return st&&ft.useEmulator(...st),ft},[st])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>EH(this.database,t));let a=i;return r&&(a=r(i)),function FK(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:xH(r,"update"),set:xH(r,"set"),push:i=>r.push(i),remove:NK(r),snapshotChanges:i=>AH(n,i,t).pipe(zn.iC),stateChanges:i=>DH(n,i,t).pipe(zn.iC),auditTrail:i=>function kK(n,e,t){return function RK(n,e,t){return function OK(n,e){return lC(n,"value","on",e).pipe((0,qt.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function Oq(...n){const e=(0,ud.jO)(n);return(0,Jr.e)((t,r)=>{const i=n.length,a=new Array(i);let u=n.map(()=>!1),m=!1;for(let _=0;_<i;_++)(0,vp.Xf)(n[_]).subscribe((0,Qr.x)(r,E=>{a[_]=E,!m&&!u[_]&&(u[_]=!0,(m=u.every(Eh.y))&&(u=null))},kq.Z));t.subscribe((0,Qr.x)(r,_=>{if(m){const E=[_,...a];r.next(e?e(...E):E)}}))})}(e),(0,qt.U)(([i,a])=>{const u=i.lastKeyToLoad,m=a.map(_=>_.key);return{actions:a,lastKeyToLoad:u,loadedKeys:m}}),function Rq(n){return(0,Jr.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,Qr.x)(t,a=>(r||(r=!n(a,i++)))&&t.next(a)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,qt.U)(i=>i.actions))}(n,DH(n,e).pipe(bd((i,a)=>[...i,a],[])),t)}(n,i,t).pipe(zn.iC),valueChanges:(i,a)=>AH(n,i,t).pipe((0,qt.U)(m=>m.map(_=>a&&a.idField?Object.assign(Object.assign({},_.payload.val()),{[a.idField]:_.key}):_.payload.val())),zn.iC)}}(a,this)}object(t){return function LK(n,e){return{query:n,snapshotChanges:()=>PH(n,e.schedulers.outsideAngular)().pipe(zn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>PH(n,e.schedulers.outsideAngular)().pipe(zn.iC,(0,qt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>EH(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fr.Dh),s.LFG(Fr.xv,8),s.LFG(VK,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zn.HU),s.LFG(BK,8),s.LFG(xb,8),s.LFG(cO,8),s.LFG(uO,8),s.LFG(dO,8),s.LFG(hO,8),s.LFG(fO,8),s.LFG(pO,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HK=(()=>{class n{constructor(){XI.Z.registerVersion("angularfire",zn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[UK]}),n})();const GR={...GR,production:!0},GK={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function MH(n){return n.startsWith("#")?4===n.length?`#${n[1]}${n[1]}${n[2]}${n[2]}${n[3]}${n[3]}`:n:GK[n.toLowerCase()]||"#000000"}function kH(n){return n.split(",").filter(t=>t).map(t=>t.split(":")).filter(t=>2==t.length).reduce((t,r)=>(t[r[0].toLowerCase()]=MH(r[1]),t),{})}function $K(n){return JSON.parse(JSON.stringify(n))}function mi(n){return null==n}function $R(n){return null!==n&&"object"==typeof n}function K_(n,e,t){const r=Array.isArray(e)?e:e.split(".");let i=n;for(const a of r){if(!$R(i)||!(a in i))return t;i=i[a]}return void 0===i?t:i}function Wd(n,e,t){let r=n;const i=Array.isArray(e)?e:e.split(".");for(let a=0;a<i.length;++a)a===i.length-1?r[i[a]]=t:r=r[i[a]]}const zK="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,OH=":host{position:relative;display:inline-block;width:32px;height:32px}:host(.current-color) svg path[fill]{fill:currentColor}:host(.current-color) svg path[stroke]{stroke:currentColor}:host(:not(.current-color)) svg .primary path[fill]{fill:var(--lord-icon-primary, var(--lord-icon-primary-base))}:host(:not(.current-color)) svg .primary path[stroke]{stroke:var(--lord-icon-primary, var(--lord-icon-primary-base))}:host(:not(.current-color)) svg .secondary path[fill]{fill:var(--lord-icon-secondary, var(--lord-icon-secondary-base))}:host(:not(.current-color)) svg .secondary path[stroke]{stroke:var(--lord-icon-secondary, var(--lord-icon-secondary-base))}svg{position:absolute;pointer-events:none;display:block}";let q1;const qK=["colors","src","icon","state","trigger","loading","target","stroke","scale","axis-x","axis-y"],ku=class extends HTMLElement{constructor(){super(...arguments),yn(this,"_root"),yn(this,"_isConnected",!1),yn(this,"_isReady",!1),yn(this,"_triggerInstance"),yn(this,"_assignedIconData"),yn(this,"_loadedIconData"),yn(this,"_player"),yn(this,"_intersectionObserver")}static get version(){return"4.0.0"}static get observedAttributes(){return qK}static setIconLoader(t){ku._iconLoader=t}static setPlayerFactory(t){ku._playerFactory=t}static defineTrigger(t,r){ku._definedTriggers.set(t,r)}attributeChangedCallback(t,r,i){switch(t){case"axis-x":this.axisXChanged();break;case"axis-y":this.axisYChanged();break;default:this[`${t}Changed`].call(this)}}connectedCallback(){this._root||this.createElements(),"lazy"===this.loading?(this._intersectionObserver=new IntersectionObserver((r,i)=>{r.forEach(a=>{a.isIntersecting&&this._intersectionObserver&&(this._intersectionObserver.unobserve(this),this._intersectionObserver=void 0,this.createPlayer())})}),this._intersectionObserver.observe(this)):this.createPlayer(),this._isConnected=!0}disconnectedCallback(){this._intersectionObserver&&(this._intersectionObserver.unobserve(this),this._intersectionObserver=void 0),this.destroyPlayer(),this._isConnected=!1}createElements(){if(this._root=this.attachShadow({mode:"open"}),zK)q1||(q1=new CSSStyleSheet,q1.replaceSync(OH)),this._root.adoptedStyleSheets=[q1];else{const r=document.createElement("style");r.innerHTML=OH,this._root.appendChild(r)}const t=document.createElement("div");t.classList.add("body"),this._root.appendChild(t)}createPlayer(){var t=this;return(0,He.Z)(function*(){if(!ku._playerFactory)throw new Error("Missing player loader!");if(t._intersectionObserver)return;const r=yield t.loadIconData();!r||(t._player=ku._playerFactory(t.animationContainer,r),t._player.connect(),(t.state||t.colors||t.stroke||t.scale||t.axisX||t.axisY)&&t.player.resetProperties({colors:kH(t.colors||""),stroke:t.stroke,scale:t.scale,state:t.state,axis:mi(t.axisX)&&mi(t.axisY)?null:{x:mi(t.axisX)?50:t.axisX,y:mi(t.axisY)?50:t.axisY}}),t._player.addEventListener("ready",()=>{t._triggerInstance&&t._triggerInstance.onReady&&t._triggerInstance.onReady()}),t._player.addEventListener("refresh",()=>{t.refresh(),t._triggerInstance&&t._triggerInstance.onRefresh&&t._triggerInstance.onRefresh()}),t._player.addEventListener("complete",()=>{t._triggerInstance&&t._triggerInstance.onComplete&&t._triggerInstance.onComplete()}),t._player.addEventListener("frame",()=>{t._triggerInstance&&t._triggerInstance.onFrame&&t._triggerInstance.onFrame()}),t.refresh(),t.triggerChanged(),yield new Promise((i,a)=>{t._player.isReady?i():t._player.addEventListener("ready",i)}),t._isReady=!0,t.dispatchEvent(new CustomEvent("ready")))})()}destroyPlayer(){this._isReady=!1,this._loadedIconData=void 0,this._triggerInstance&&(this._triggerInstance.onDisconnected&&this._triggerInstance.onDisconnected(),this._triggerInstance=void 0),this._player&&(this._player.disconnect(),this._player=void 0)}loadIconData(){var t=this;return(0,He.Z)(function*(){let r=t.iconData;if(!r)if(t.icon&&ku._iconLoader)t._loadedIconData=r=yield ku._iconLoader(t.icon);else if(t.src){const i=yield fetch(t.src);t._loadedIconData=r=yield i.json()}return r})()}refresh(){this.movePaletteToCssVariables()}movePaletteToCssVariables(){for(const[t,r]of Object.entries(this.player.colors||{}))this.animationContainer.style.setProperty(`--lord-icon-${t}-base`,r)}targetChanged(){this.triggerChanged()}loadingChanged(){}triggerChanged(){if(this._triggerInstance&&(this._triggerInstance.onDisconnected&&this._triggerInstance.onDisconnected(),this._triggerInstance=void 0),!this.trigger||!this._player)return;const t=ku._definedTriggers.get(this.trigger);if(!t)throw new Error("Can't use unregistered trigger!");const r=this.target?this.closest(this.target):null;this._triggerInstance=new t(this,r||this,this._player),this._triggerInstance.onConnected&&this._triggerInstance.onConnected(),this._player.isReady&&this._triggerInstance.onReady&&this._triggerInstance.onReady()}colorsChanged(){!this.player||(this.player.colors=kH(this.colors||""))}strokeChanged(){!this.player||(this.player.stroke=this.stroke)}stateChanged(){!this.player||(this.player.state=this.state)}scaleChanged(){!this.player||(this.player.scale=this.scale)}axisXChanged(){!this.player||(this.player.axis={x:mi(this.axisX)?50:this.axisX,y:mi(this.axisY)?50:this.axisX})}axisYChanged(){!this.player||(this.player.axis={x:mi(this.axisX)?50:this.axisX,y:mi(this.axisY)?50:this.axisY})}iconChanged(){!this._isConnected||(this.destroyPlayer(),this.createPlayer())}srcChanged(){!this._isConnected||(this.destroyPlayer(),this.createPlayer())}set icon(t){if(t&&$R(t))this._assignedIconData!==t&&(this._assignedIconData=t,this.hasAttribute("icon")?this.removeAttribute("icon"):this.iconChanged());else{const r=this._assignedIconData;this._assignedIconData=void 0,t&&"string"==typeof t?this.setAttribute("icon",t):(this.removeAttribute("icon"),r&&this.iconChanged())}}get icon(){return this._assignedIconData||this.getAttribute("icon")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get src(){return this.getAttribute("src")}set state(t){t?this.setAttribute("state",t):this.removeAttribute("state")}get state(){return this.getAttribute("state")}set colors(t){t?this.setAttribute("colors",t):this.removeAttribute("colors")}get colors(){return this.getAttribute("colors")}set trigger(t){t?this.setAttribute("trigger",t):this.removeAttribute("trigger")}get trigger(){return this.getAttribute("trigger")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get loading(){return this.getAttribute("loading")&&"lazy"===this.getAttribute("loading").toLowerCase()?"lazy":null}set target(t){t?this.setAttribute("target",t):this.removeAttribute("target")}get target(){return this.getAttribute("target")}set stroke(t){mi(t)?this.removeAttribute("stroke"):this.setAttribute("stroke",""+t)}get stroke(){return this.hasAttribute("stroke")?parseFloat(this.getAttribute("stroke")):null}set scale(t){mi(t)?this.removeAttribute("scale"):this.setAttribute("scale",""+t)}get scale(){return this.hasAttribute("scale")?parseFloat(this.getAttribute("scale")):null}set axisX(t){mi(t)?this.removeAttribute("axis-x"):this.setAttribute("axis-x",""+t)}get axisX(){return this.hasAttribute("axis-x")?parseFloat(this.getAttribute("axis-x")):null}set axisY(t){mi(t)?this.removeAttribute("axis-y"):this.setAttribute("axis-y",""+t)}get axisY(){return this.hasAttribute("axis-y")?parseFloat(this.getAttribute("axis-y")):null}get player(){return this._player}get isReady(){return this._isReady}get triggerInstance(){return this._triggerInstance}get animationContainer(){return this._root.lastElementChild}get iconData(){return this._assignedIconData||this._loadedIconData}};let Na=ku;function zR(n){const e=n.toString(16);return 1==e.length?"0"+e:e}function Q_(n){return Math.round(n/255*1e3)/1e3}function qR(n){return Math.round(255*n)}function KK(n){const{r:e,g:t,b:r}=function ZK(n){let e=parseInt("#"!=n[0]?n:n.substring(1),16);return{r:e>>16&255,g:e>>8&255,b:255&e}}(n);return[Q_(e),Q_(t),Q_(r)]}function YK(n){return function WK(n){return"#"+zR(n.r)+zR(n.g)+zR(n.b)}({r:qR(n[0]),g:qR(n[1]),b:qR(n[2])})}function Ol(n,e){for(const t of e)Wd(n,t.path,t.value)}function Fa(n,e,t,{scale:r}={}){for(const i of e)if("color"===i.type)"object"==typeof t&&"r"in t&&"g"in t&&"b"in t?Wd(n,i.path,[Q_(t.r),Q_(t.g),Q_(t.b)]):Array.isArray(t)?Wd(n,i.path,t):"string"==typeof t&&Wd(n,i.path,KK(MH(t)));else if("point"===i.type){let a=1;r&&(a=(i.value[0]+i.value[1])/2/r),"object"==typeof t&&"x"in t&&"y"in t?(Wd(n,i.path+".0",t.x*a),Wd(n,i.path+".1",t.y*a)):Array.isArray(t)&&(Wd(n,i.path+".0",t[0]*a),Wd(n,i.path+".1",t[1]*a))}else{let a=1;r&&(a=i.value/r),Wd(n,i.path,t*a)}}yn(Na,"_iconLoader"),yn(Na,"_playerFactory"),yn(Na,"_definedTriggers",new Map);const Zd="state-",JK={renderer:"svg",loop:!1,autoplay:!1,rendererSettings:{preserveAspectRatio:"xMidYMid meet",progressiveLoad:!0,hideOnTransparent:!0}};function XK(){return new Proxy(this,{set:(n,e,t,r)=>("string"==typeof e&&(t?Fa(this.lottie,this.rawProperties.filter(i=>"color"===i.type&&i.name===e.toLowerCase()),t):Ol(this.lottie,this.rawProperties.filter(i=>"color"===i.type&&i.name===e.toLowerCase())),n.refresh()),!0),get:(n,e,t)=>{for(const r of n.rawProperties)if("color"==r.type&&"string"==typeof e&&e.toLowerCase()==r.name)return YK(K_(this.lottie,r.path))},deleteProperty:(n,e)=>("string"==typeof e&&(Ol(this.lottie,this.rawProperties.filter(t=>"color"===t.type&&t.name===e.toLowerCase())),n.refresh()),!0),ownKeys:n=>n.rawProperties.filter(e=>"color"==e.type).map(e=>e.name),has:(n,e)=>{for(const t of n.rawProperties)if("color"==t.type&&"string"==typeof e&&e.toLowerCase()==t.name)return!0;return!1},getOwnPropertyDescriptor:n=>({enumerable:!0,configurable:!0})})}class e7{constructor(e,t,r,i){yn(this,"_animationLoader"),yn(this,"_container"),yn(this,"_iconData"),yn(this,"_options"),yn(this,"_lottie"),yn(this,"_isReady",!1),yn(this,"_colorsProxy"),yn(this,"_direction",1),yn(this,"_speed",1),yn(this,"_rawProperties"),yn(this,"_eventCallbacks",{}),this._animationLoader=e,this._container=t,this._iconData=r,this._options=i||JK}connect(){if(this._lottie)throw new Error("Already connected player!");this._lottie=this._animationLoader({...this._options,container:this._container,animationData:$K(this._iconData)}),this._lottie.addEventListener("complete",()=>{this.triggerEvent("complete")}),this._lottie.addEventListener("loopComplete",()=>{this.triggerEvent("complete")}),this._lottie.addEventListener("enterFrame",e=>{this.triggerEvent("frame")}),this._lottie.isLoaded?(this._isReady=!0,this.triggerEvent("ready")):this._lottie.addEventListener("config_ready",()=>{this._isReady=!0,this.triggerEvent("ready")})}disconnect(){if(!this._lottie)throw new Error("Not connected player!");this._isReady=!1,this._lottie.destroy(),this._lottie=void 0,this._colorsProxy=void 0,this._rawProperties=void 0}addEventListener(e,t){return this._eventCallbacks[e]||(this._eventCallbacks[e]=[]),this._eventCallbacks[e].push(t),()=>{this.removeEventListener(e,t)}}removeEventListener(e,t){if(t){if(this._eventCallbacks[e]){let r=0,i=this._eventCallbacks[e].length;for(;r<i;)this._eventCallbacks[e][r]===t&&(this._eventCallbacks[e].splice(r,1),r-=1,i-=1),r+=1;this._eventCallbacks[e].length||(this._eventCallbacks[e]=null)}}else this._eventCallbacks[e]=null}triggerEvent(e,t){if(this._eventCallbacks[e]){const r=this._eventCallbacks[e];for(let i=0;i<r.length;i+=1)r[i](t)}}refresh(){this._lottie?.renderer.renderFrame(null),this.triggerEvent("refresh")}play(){this._lottie.play()}playFromBegining(){this._lottie.goToAndPlay(0)}pause(){this._lottie.pause()}stop(){this._lottie.stop()}goToFrame(e){this._lottie.goToAndStop(e,!0)}goToFirstFrame(){this.goToFrame(0)}goToLastFrame(){this.goToFrame(Math.max(0,this._lottie.getDuration(!0)-1))}resetProperties(e={}){if(!e||"object"!=typeof e)return;const t=!!this._rawProperties;if(t&&Ol(this._lottie,this.rawProperties.filter(r=>"color"===r.type)),e.colors&&!mi(e.colors))for(const[r,i]of Object.entries(e.colors))Fa(this._lottie,this.rawProperties.filter(a=>"color"===a.type&&a.name===r.toLowerCase()),i);if(t&&Ol(this._lottie,this.rawProperties.filter(r=>r.name.startsWith(Zd))),!mi(e.state)&&e.state){const r=`${Zd}${e.state.toLowerCase()}`;Fa(this._lottie,this.rawProperties.filter(i=>i.name.startsWith(Zd)),0),Fa(this._lottie,this.rawProperties.filter(i=>i.name===r),1)}mi(e.stroke)?t&&Ol(this._lottie,this.rawProperties.filter(r=>"stroke"===r.name)):Fa(this._lottie,this.rawProperties.filter(r=>"stroke"===r.name),e.stroke,{scale:50}),mi(e.scale)?t&&Ol(this._lottie,this.rawProperties.filter(r=>"scale"===r.name)):Fa(this._lottie,this.rawProperties.filter(r=>"scale"===r.name),e.scale,{scale:50}),mi(e.axis)?t&&Ol(this._lottie,this.rawProperties.filter(r=>"axis"===r.name)):Fa(this._lottie,this.rawProperties.filter(r=>"axis"===r.name),e.axis,{scale:50}),this.refresh()}set colors(e){if(Ol(this._lottie,this.rawProperties.filter(t=>"color"===t.type)),e)for(const[t,r]of Object.entries(e))Fa(this._lottie,this.rawProperties.filter(i=>"color"===i.type&&i.name===t.toLowerCase()),r);this.refresh()}get colors(){return this._colorsProxy||(this._colorsProxy=XK.call(this)),this._colorsProxy}set stroke(e){mi(e)?Ol(this._lottie,this.rawProperties.filter(t=>"stroke"===t.name)):Fa(this._lottie,this.rawProperties.filter(t=>"stroke"===t.name),e,{scale:50}),this.refresh()}get stroke(){const e=this.rawProperties.filter(t=>"stroke"===t.name)[0];return e?K_(this._lottie,e.path)*(50/e.value):null}set scale(e){mi(e)?Ol(this._lottie,this.rawProperties.filter(t=>"scale"===t.name)):Fa(this._lottie,this.rawProperties.filter(t=>"scale"===t.name),e,{scale:50}),this.refresh()}get scale(){const e=this.rawProperties.filter(t=>"scale"===t.name)[0];return e?K_(this._lottie,e.path)*(50/e.value):null}set state(e){if(mi(e))Ol(this._lottie,this.rawProperties.filter(t=>"scale"===t.name));else{const t=`${Zd}${e.toLowerCase()}`;Fa(this._lottie,this.rawProperties.filter(r=>r.name.startsWith(Zd)),0),Fa(this._lottie,this.rawProperties.filter(r=>r.name===t),1)}this.refresh()}get state(){for(const e of this.rawProperties.filter(t=>t.name.startsWith(Zd)))if(K_(this._lottie,e.path))return e.name.substr(Zd.length);return null}set axis(e){mi(e)?Ol(this._lottie,this.rawProperties.filter(t=>"axis"===t.name)):Fa(this._lottie,this.rawProperties.filter(t=>"axis"===t.name),e,{scale:50}),this.refresh()}get axis(){const e=this.rawProperties.filter(t=>"axis"===t.name)[0];return e?{x:K_(this._lottie,e.path+".0")*(50/e.value[0]),y:K_(this._lottie,e.path+".1")*(50/e.value[1])}:null}set speed(e){this._speed=e,this._lottie?.setSpeed(e)}get speed(){return this._speed}set direction(e){this._direction=e,this._lottie.setDirection(e)}get direction(){return this._direction}set loop(e){this._lottie.loop=e}get loop(){return!!this._lottie.loop}set frame(e){this.goToFrame(Math.max(0,Math.min(this.frames,e)))}get frame(){return this._lottie.currentFrame}get states(){return this.rawProperties.filter(e=>e.name.startsWith(Zd)).map(e=>e.name.substr(Zd.length))}get isPlaying(){return!this._lottie.isPaused}get isReady(){return this._isReady}get frames(){return this._lottie.getDuration(!0)-1}get duration(){return this._lottie.getDuration(!1)}get lottie(){return this._lottie}get rawProperties(){return!this._rawProperties&&this._iconData&&(this._rawProperties=function QK(n,e={}){const t=[],{lottieInstance:r}=e;return!n||!n.layers||n.layers.forEach((i,a)=>{!i.nm||!i.ef||!i.nm.toLowerCase().includes("change")||i.ef.forEach((u,m)=>{const _=u?.ef?.[0]?.v?.k;if(void 0===_)return;let E,N;if(E=r?`renderer.elements.${a}.effectsManager.effectElements.${m}.effectElements.0.p.v`:`layers.${a}.ef.${m}.ef.0.v.k`,"ADBE Color Control"===u.mn?N="color":"ADBE Slider Control"===u.mn?N="slider":"ADBE Point Control"===u.mn?N="point":"ADBE Checkbox Control"===u.mn&&(N="checkbox"),!N)return;const W=u.nm.toLowerCase();t.push({name:W,path:E,value:_,type:N})})}),t}(this._iconData,{lottieInstance:!0})),this._rawProperties||[]}}class t7{constructor(e,t,r){yn(this,"element"),yn(this,"targetElement"),yn(this,"player"),this.element=e,this.targetElement=t,this.player=r,this.onHover=this.onHover.bind(this)}onConnected(){this.targetElement.addEventListener("mouseenter",this.onHover)}onDisconnected(){this.targetElement.removeEventListener("mouseenter",this.onHover),this.player.direction=1}onComplete(){this.player.direction=-1,this.player.play()}onHover(){this.player.direction=1,this.player.play()}}const RH=[{name:"mousedown"},{name:"touchstart",options:{passive:!0}}];class n7{constructor(e,t,r){yn(this,"element"),yn(this,"targetElement"),yn(this,"player"),this.element=e,this.targetElement=t,this.player=r,this.onClick=this.onClick.bind(this)}onConnected(){for(const e of RH)this.targetElement.addEventListener(e.name,this.onClick,e.options)}onDisconnected(){for(const e of RH)this.targetElement.removeEventListener(e.name,this.onClick)}onClick(){this.player.isPlaying||this.player.playFromBegining()}}class r7{constructor(e,t,r){yn(this,"element"),yn(this,"targetElement"),yn(this,"player"),this.element=e,this.targetElement=t,this.player=r,this.onHover=this.onHover.bind(this)}onConnected(){this.targetElement.addEventListener("mouseenter",this.onHover)}onDisconnected(){this.targetElement.removeEventListener("mouseenter",this.onHover)}onHover(){this.player.isPlaying||this.player.playFromBegining()}}class i7{constructor(e,t,r){yn(this,"element"),yn(this,"targetElement"),yn(this,"player"),yn(this,"playTimeout",null),yn(this,"mouseIn",!1),this.element=e,this.targetElement=t,this.player=r,this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)}onConnected(){this.targetElement.addEventListener("mouseenter",this.onMouseEnter),this.targetElement.addEventListener("mouseleave",this.onMouseLeave)}onDisconnected(){this.targetElement.removeEventListener("mouseenter",this.onMouseEnter),this.targetElement.removeEventListener("mouseleave",this.onMouseLeave),this.resetPlayDelayTimer()}onMouseEnter(){this.mouseIn=!0,this.player.isPlaying||this.player.playFromBegining()}onMouseLeave(){this.mouseIn=!1}onComplete(){this.resetPlayDelayTimer(),this.mouseIn&&(this.delay>0?this.playTimeout=setTimeout(()=>{this.player.playFromBegining()},this.delay):this.player.playFromBegining())}resetPlayDelayTimer(){!this.playTimeout||(clearTimeout(this.playTimeout),this.playTimeout=null)}get delay(){const e=this.element.hasAttribute("delay")?+(this.element.getAttribute("delay")||0):0;return Math.max(e,0)}}class s7{constructor(e,t,r){yn(this,"element"),yn(this,"targetElement"),yn(this,"player"),yn(this,"playTimeout",null),this.element=e,this.targetElement=t,this.player=r}onReady(){this.player.play()}onDisconnected(){this.resetPlayDelayTimer()}onComplete(){this.resetPlayDelayTimer(),this.delay>0?this.playTimeout=setTimeout(()=>{this.player.playFromBegining()},this.delay):this.player.playFromBegining()}resetPlayDelayTimer(){!this.playTimeout||(clearTimeout(this.playTimeout),this.playTimeout=null)}get delay(){const e=this.element.hasAttribute("delay")?+(this.element.getAttribute("delay")||0):0;return Math.max(e,0)}}class o7{constructor(e,t,r){yn(this,"element"),yn(this,"targetElement"),yn(this,"player"),this.element=e,this.targetElement=t,this.player=r,this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)}onConnected(){this.targetElement.addEventListener("mouseenter",this.onMouseEnter),this.targetElement.addEventListener("mouseleave",this.onMouseLeave)}onDisconnected(){this.targetElement.removeEventListener("mouseenter",this.onMouseEnter),this.targetElement.removeEventListener("mouseleave",this.onMouseLeave),this.player.direction=1}onMouseEnter(){this.player.direction=1,this.player.play()}onMouseLeave(){this.player.direction=-1,this.player.play()}}var l7=p(4487),c7=p.n(l7);function u7(n,e){if(1&n&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Oqu(t.chosenItemsTotalQuantity.length)}}const W1=function(){return["active"]},d7=function(){return{exact:!0}},h7=function(){return["Home"]},f7=function(){return["About"]},p7=function(){return["Shop"]},m7=function(){return["Account/Welcome"]},g7=function(){return["ShoppingCart"]};let y7=(()=>{class n{constructor(t){this.service=t}ngOnInit(){this.chosenItemsTotalQuantity=this.service.totalQuantity,this.chosenItems=this.service.items}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ny))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:17,vars:21,consts:[[1,"left"],["routerLink","Home"],[1,"right"],[1,"shop",3,"routerLinkActive","routerLinkActiveOptions","routerLink"],[1,"about",3,"routerLinkActive","routerLink"],[1,"shop",3,"routerLinkActive","routerLink"],[1,"account",3,"routerLinkActive","routerLink"],[1,"cart",3,"routerLink"],["src","https://cdn.lordicon.com/slkvcfos.json","trigger","hover",2,"width","40px","height","40px"],[4,"ngIf"]],template:function(t,r){1&t&&(s.TgZ(0,"header")(1,"div",0)(2,"a",1)(3,"h1"),s._uU(4,"FashionGuru"),s.qZA()()(),s.TgZ(5,"div",2)(6,"a",3),s._uU(7," Home "),s.qZA(),s.TgZ(8,"a",4),s._uU(9," About "),s.qZA(),s.TgZ(10,"a",5),s._uU(11," Shop "),s.qZA(),s.TgZ(12,"a",6),s._uU(13," Account "),s.qZA(),s.TgZ(14,"a",7),s._UZ(15,"lord-icon",8),s.YNc(16,u7,2,1,"p",9),s.qZA()()()),2&t&&(s.xp6(6),s.Q6J("routerLinkActive",s.DdM(11,W1))("routerLinkActiveOptions",s.DdM(12,d7))("routerLink",s.DdM(13,h7)),s.xp6(2),s.Q6J("routerLinkActive",s.DdM(14,W1))("routerLink",s.DdM(15,f7)),s.xp6(2),s.Q6J("routerLinkActive",s.DdM(16,W1))("routerLink",s.DdM(17,p7)),s.xp6(2),s.Q6J("routerLinkActive",s.DdM(18,W1))("routerLink",s.DdM(19,m7)),s.xp6(2),s.Q6J("routerLink",s.DdM(20,g7)),s.xp6(2),s.Q6J("ngIf",r.chosenItemsTotalQuantity.length>0))},dependencies:[Un,uo,G0],styles:['header[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:65px;z-index:10;display:flex;justify-content:space-between;align-items:center;flex:1;top:0;left:0;right:0;padding:.5rem 1rem;position:sticky;background-color:#fff}a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:#000;background:none;border:none;font-size:1.5rem;letter-spacing:1px;transition:.3s}a[_ngcontent-%COMP%]:after{content:"";z-index:-1;position:absolute;width:100%;transform:scaleX(0);-webkit-transform:scaleX(0);height:8px;bottom:0;left:0;background-color:#ff613a;transform-origin:bottom left;transition:transform .3s ease}a[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);-webkit-transform:scaleX(1);transform-origin:bottom left}a[_ngcontent-%COMP%]:nth-of-type(5):after{display:none}h1[_ngcontent-%COMP%]{position:relative;margin:0;font-weight:400;letter-spacing:5px;transition:.5s ease-in-out;transition-delay:.1s;font-family:Monoton,cursive}h1[_ngcontent-%COMP%]:hover{color:gray}.left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{display:none}.right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem}.right[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{position:relative}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:BenchNine,sans-serif}.right[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#ff613a}.cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;position:absolute;margin:0;padding:.1rem;bottom:5px;right:-3px;background-color:#ff613a;border-radius:50%;min-width:1rem;min-height:1rem;font-family:BenchNine,sans-serif;font-size:.8rem;font-weight:800;color:#fff}@media only screen and (max-width: 680px){header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.4rem}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem}}@media only screen and (max-width: 450px){header[_ngcontent-%COMP%]{padding:0;flex-direction:column}}']}),n})();const _7=function(){return["/About"]};let v7=(()=>{class n{constructor(){this.enteredSearchValue=""}ngOnInit(){}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}subscribeToNewsletter(t){this.validateEmail(this.enteredSearchValue)?Pr().fire("Thank you for subscribing!",`We will sent our weekly newsletter to </br> ${this.enteredSearchValue}`,"success"):Pr().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Please provide a valid e-mail address!"}),t.target.previousElementSibling.value=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:25,vars:3,consts:[[1,"subscribe"],[1,"form"],["type","text","id","email","placeholder","Enter your email",3,"ngModel","ngModelChange"],[3,"click"],[1,"links-div"],[1,"fashionGuru"],[3,"routerLink"],[1,"contact"],[1,"links"],["href","mailto: fashionguru@gmail.com"],["href","http://github.com/hbilgil","target","_blank"]],template:function(t,r){1&t&&(s.TgZ(0,"footer")(1,"div",0)(2,"h2"),s._uU(3,"Join the FashionGuru Family"),s.qZA(),s.TgZ(4,"p"),s._uU(5,"Get your weekly FashionGuru newsletter to your mailbox"),s.qZA(),s.TgZ(6,"div",1)(7,"input",2),s.NdJ("ngModelChange",function(a){return r.enteredSearchValue=a}),s.qZA(),s.TgZ(8,"button",3),s.NdJ("click",function(a){return r.subscribeToNewsletter(a)}),s._uU(9,"Subscribe"),s.qZA()()(),s.TgZ(10,"div",4)(11,"div",5)(12,"h3"),s._uU(13,"FashionGuru"),s.qZA(),s.TgZ(14,"p")(15,"a",6),s._uU(16,"About Us"),s.qZA()()(),s.TgZ(17,"div",7)(18,"h3"),s._uU(19,"Contact"),s.qZA(),s.TgZ(20,"div",8)(21,"a",9),s._uU(22,"Email"),s.qZA(),s.TgZ(23,"a",10),s._uU(24,"Github"),s.qZA()()()()()),2&t&&(s.xp6(7),s.Q6J("ngModel",r.enteredSearchValue),s.xp6(8),s.Q6J("routerLink",s.DdM(2,_7)))},dependencies:[uo,wp,Sp,md],styles:["footer[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;background:#f7f7f7;display:grid;grid-template-columns:repeat(4,1fr);cursor:default;font-family:BenchNine,sans-serif;padding:.5rem 2rem}.subscribe[_ngcontent-%COMP%]{grid-column:1 / 3}.subscribe[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:.5rem}.form[_ngcontent-%COMP%]{height:2.2rem;padding:0;display:flex}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:#aaaaaa solid 1px;outline:none;padding-left:.5rem}input[_ngcontent-%COMP%]::placeholder{opacity:.5}button[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;padding:.2rem 1rem;background:#ff613a;color:#fff;border:none;cursor:pointer}h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:800}h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:800}.links-div[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fashionGuru[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem;flex-direction:column;padding:0}p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{color:#646464;font-size:1rem;font-weight:100;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#ff613a}.links[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem;flex-direction:column;padding:0}@media only screen and (max-width: 640px){footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:auto;align-items:center}.subscribe[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:20px}.links-div[_ngcontent-%COMP%]{gap:9rem}}"]}),n})(),w7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-container"]],decls:2,vars:0,consts:[[1,"wrapper"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"router-outlet"),s.qZA())},dependencies:[Kp],styles:[".wrapper[_ngcontent-%COMP%]{margin:0 auto;box-sizing:border-box;min-height:78vh}"]}),n})(),b7=(()=>{class n{constructor(t,r){this.activatedRoute=t,this.service=r,this.title="e-shopping-angular-app"}ngOnInit(){this.productId=this.activatedRoute.snapshot.paramMap.get("id"),this.product=this.service.products.find(t=>t.id==this.productId)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Gr),s.Y36(gc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,r){1&t&&(s.TgZ(0,"div"),s._UZ(1,"app-header")(2,"app-container")(3,"app-footer"),s.qZA())},dependencies:[y7,v7,w7]}),n})(),C7=(()=>{class n{constructor(){!function a7(n){Na.setPlayerFactory((e,t)=>new e7(n,e,t)),Na.defineTrigger("click",n7),Na.defineTrigger("hover",r7),Na.defineTrigger("loop",s7),Na.defineTrigger("loop-on-hover",i7),Na.defineTrigger("morph",o7),Na.defineTrigger("boomerang",t7),(!customElements.get||!customElements.get("lord-icon"))&&customElements.define("lord-icon",Na)}(c7().loadAnimation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[b7]}),n.\u0275inj=s.cJS({providers:[gc,Ny,dm,Y0,jS,jd],imports:[ya,ps,Cv,Bz,hD,Hz,Fr.hO.initializeApp(GR.firebase),X$,az,Mq,HK]}),n})();GR.production&&(0,s.G48)(),Ql().bootstrapModule(C7).catch(n=>console.error(n))},5867:(d,h,p)=>{"use strict";p.d(h,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=p(9681);(0,s.registerVersion)("firebase","9.14.0","app")},127:(d,h,p)=>{"use strict";p.d(h,{Z:()=>s.Z});var s=p(3942);s.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(d,h,p)=>{"use strict";p.r(h);var s=p(5861),y=p(3942),w=p(8247),x=p(2090),H=(p(9681),p(1877),p(4859));function z(){return window}function U(){return(U=(0,s.Z)(function*(Ce,le,ye){var Fe;const{BuildInfo:Je}=z();(0,w.ap)(le.sessionId,"AuthEvent did not contain a session ID");const vt=yield I(le.sessionId),bt={};return(0,w.aq)()?bt.ibi=Je.packageName:(0,w.ar)()?bt.apn=Je.packageName:(0,w.as)(Ce,"operation-not-supported-in-this-environment"),Je.displayName&&(bt.appDisplayName=Je.displayName),bt.sessionId=vt,(0,w.at)(Ce,ye,le.type,void 0,null!==(Fe=le.eventId)&&void 0!==Fe?Fe:void 0,bt)})).apply(this,arguments)}function j(){return(j=(0,s.Z)(function*(Ce){const{BuildInfo:le}=z(),ye={};(0,w.aq)()?ye.iosBundleId=le.packageName:(0,w.ar)()?ye.androidPackageName=le.packageName:(0,w.as)(Ce,"operation-not-supported-in-this-environment"),yield(0,w.au)(Ce,ye)})).apply(this,arguments)}function O(){return(O=(0,s.Z)(function*(Ce,le,ye){const{cordova:Fe}=z();let Je=()=>{};try{yield new Promise((vt,bt)=>{let We=null;function et(){var Kt;vt();const Pn=null===(Kt=Fe.plugins.browsertab)||void 0===Kt?void 0:Kt.close;"function"==typeof Pn&&Pn(),"function"==typeof ye?.close&&ye.close()}function Zt(){We||(We=window.setTimeout(()=>{bt((0,w.aw)(Ce,"redirect-cancelled-by-user"))},2e3))}function Vn(){"visible"===document?.visibilityState&&Zt()}le.addPassiveListener(et),document.addEventListener("resume",Zt,!1),(0,w.ar)()&&document.addEventListener("visibilitychange",Vn,!1),Je=()=>{le.removePassiveListener(et),document.removeEventListener("resume",Zt,!1),document.removeEventListener("visibilitychange",Vn,!1),We&&window.clearTimeout(We)}})}finally{Je()}})).apply(this,arguments)}function I(Ce){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)(function*(Ce){const le=J(Ce),ye=yield crypto.subtle.digest("SHA-256",le);return Array.from(new Uint8Array(ye)).map(Je=>Je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function J(Ce){if((0,w.ap)(/[0-9a-zA-Z]+/.test(Ce),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Ce);const le=new ArrayBuffer(Ce.length),ye=new Uint8Array(le);for(let Fe=0;Fe<Ce.length;Fe++)ye[Fe]=Ce.charCodeAt(Fe);return ye}class ne extends w.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(le=>{this.resolveInialized=le})}addPassiveListener(le){this.passiveListeners.add(le)}removePassiveListener(le){this.passiveListeners.delete(le)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(le){return this.resolveInialized(),this.passiveListeners.forEach(ye=>ye(le)),super.onEvent(le)}initialized(){var le=this;return(0,s.Z)(function*(){yield le.initPromise})()}}function _e(Ce){return ve.apply(this,arguments)}function ve(){return(ve=(0,s.Z)(function*(Ce){const le=yield de()._get(ae(Ce));return le&&(yield de()._remove(ae(Ce))),le})).apply(this,arguments)}function be(){const Ce=[],le="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ye=0;ye<20;ye++){const Fe=Math.floor(Math.random()*le.length);Ce.push(le.charAt(Fe))}return Ce.join("")}function de(){return(0,w.az)(w.b)}function ae(Ce){return(0,w.aA)("authEvent",Ce.config.apiKey,Ce.name)}function ue(Ce){if(!Ce?.includes("?"))return{};const[le,...ye]=Ce.split("?");return(0,x.zd)(ye.join("?"))}function $e(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,w.aw)("no-auth-event")}}function Et(){var Ce;return(null===(Ce=self?.location)||void 0===Ce?void 0:Ce.protocol)||null}function Sn(Ce=(0,x.z$)()){return!("file:"!==Et()&&"ionic:"!==Et()&&"capacitor:"!==Et()||!Ce.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nt(){try{const Ce=self.localStorage,le=w.aI();if(Ce)return Ce.setItem(le,"1"),Ce.removeItem(le),!function _n(Ce=(0,x.z$)()){return function In(){return(0,x.w1)()&&11===document?.documentMode}()||function at(Ce=(0,x.z$)()){return/Edge\/\d+/.test(Ce)}(Ce)}()||(0,x.hl)()}catch{return An()&&(0,x.hl)()}return!1}function An(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cn(){return(function wt(){return"http:"===Et()||"https:"===Et()}()||(0,x.ru)()||Sn())&&!function sn(){return(0,x.b$)()||(0,x.UG)()}()&&Nt()&&!An()}function jn(){return Sn()&&typeof document<"u"}function nt(){return(nt=(0,s.Z)(function*(){return!!jn()&&new Promise(Ce=>{const le=setTimeout(()=>{Ce(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(le),Ce(!0)})})})).apply(this,arguments)}const Dn={LOCAL:"local",NONE:"none",SESSION:"session"},$t=w.ax,Ln="persistence";function an(Ce){return wn.apply(this,arguments)}function wn(){return(wn=(0,s.Z)(function*(Ce){yield Ce._initializationPromise;const le=Tt(),ye=w.aA(Ln,Ce.config.apiKey,Ce.name);le&&le.setItem(ye,Ce._getPersistence())})).apply(this,arguments)}function Tt(){var Ce;try{return(null===(Ce=function vn(){return typeof window<"u"?window:null}())||void 0===Ce?void 0:Ce.sessionStorage)||null}catch{return null}}const rt=w.ax;class Wt{constructor(){this.browserResolver=w.az(w.k),this.cordovaResolver=w.az(class ke{constructor(){this._redirectPersistence=w.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=w.aB,this._overrideRedirectResult=w.aC}_initialize(le){var ye=this;return(0,s.Z)(function*(){const Fe=le._key();let Je=ye.eventManagers.get(Fe);return Je||(Je=new ne(le),ye.eventManagers.set(Fe,Je),ye.attachCallbackListeners(le,Je)),Je})()}_openPopup(le){(0,w.as)(le,"operation-not-supported-in-this-environment")}_openRedirect(le,ye,Fe,Je){var vt=this;return(0,s.Z)(function*(){!function T(Ce){var le,ye,Fe,Je,vt,bt,We,et,Zt,Vn;const Kt=z();(0,w.ax)("function"==typeof(null===(le=Kt?.universalLinks)||void 0===le?void 0:le.subscribe),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,w.ax)(typeof(null===(ye=Kt?.BuildInfo)||void 0===ye?void 0:ye.packageName)<"u",Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,w.ax)("function"==typeof(null===(vt=null===(Je=null===(Fe=Kt?.cordova)||void 0===Fe?void 0:Fe.plugins)||void 0===Je?void 0:Je.browsertab)||void 0===vt?void 0:vt.openUrl),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,w.ax)("function"==typeof(null===(et=null===(We=null===(bt=Kt?.cordova)||void 0===bt?void 0:bt.plugins)||void 0===We?void 0:We.browsertab)||void 0===et?void 0:et.isAvailable),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,w.ax)("function"==typeof(null===(Vn=null===(Zt=Kt?.cordova)||void 0===Zt?void 0:Zt.InAppBrowser)||void 0===Vn?void 0:Vn.open),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(le);const bt=yield vt._initialize(le);yield bt.initialized(),bt.resetRedirect(),(0,w.aD)(),yield vt._originValidation(le);const We=function me(Ce,le,ye=null){return{type:le,eventId:ye,urlResponse:null,sessionId:be(),postBody:null,tenantId:Ce.tenantId,error:(0,w.aw)(Ce,"no-auth-event")}}(le,Fe,Je);yield function Pe(Ce,le){return de()._set(ae(Ce),le)}(le,We);const et=yield function P(Ce,le,ye){return U.apply(this,arguments)}(le,We,ye),Zt=yield function K(Ce){const{cordova:le}=z();return new Promise(ye=>{le.plugins.browsertab.isAvailable(Fe=>{let Je=null;Fe?le.plugins.browsertab.openUrl(Ce):Je=le.InAppBrowser.open(Ce,(0,w.av)()?"_blank":"_system","location=yes"),ye(Je)})})}(et);return function A(Ce,le,ye){return O.apply(this,arguments)}(le,bt,Zt)})()}_isIframeWebStorageSupported(le,ye){throw new Error("Method not implemented.")}_originValidation(le){const ye=le._key();return this.originValidationPromises[ye]||(this.originValidationPromises[ye]=function G(Ce){return j.apply(this,arguments)}(le)),this.originValidationPromises[ye]}attachCallbackListeners(le,ye){const{universalLinks:Fe,handleOpenURL:Je,BuildInfo:vt}=z(),bt=setTimeout((0,s.Z)(function*(){yield _e(le),ye.onEvent($e())}),500),We=function(){var Vn=(0,s.Z)(function*(Kt){clearTimeout(bt);const Pn=yield _e(le);let Li=null;Pn&&Kt?.url&&(Li=function Ie(Ce,le){var ye,Fe;const Je=function ee(Ce){const le=ue(Ce),ye=le.link?decodeURIComponent(le.link):void 0,Fe=ue(ye).link,Je=le.deep_link_id?decodeURIComponent(le.deep_link_id):void 0;return ue(Je).link||Je||Fe||ye||Ce}(le);if(Je.includes("/__/auth/callback")){const vt=ue(Je),bt=vt.firebaseError?function X(Ce){try{return JSON.parse(Ce)}catch{return null}}(decodeURIComponent(vt.firebaseError)):null,We=null===(Fe=null===(ye=bt?.code)||void 0===ye?void 0:ye.split("auth/"))||void 0===Fe?void 0:Fe[1],et=We?(0,w.aw)(We):null;return et?{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,error:et,urlResponse:null,sessionId:null,postBody:null}:{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,sessionId:Ce.sessionId,urlResponse:Je,postBody:null}}return null}(Pn,Kt.url)),ye.onEvent(Li||$e())});return function(Pn){return Vn.apply(this,arguments)}}();typeof Fe<"u"&&"function"==typeof Fe.subscribe&&Fe.subscribe(null,We);const et=Je,Zt=`${vt.packageName.toLowerCase()}://`;z().handleOpenURL=function(){var Vn=(0,s.Z)(function*(Kt){if(Kt.toLowerCase().startsWith(Zt)&&We({url:Kt}),"function"==typeof et)try{et(Kt)}catch(Pn){console.error(Pn)}});return function(Kt){return Vn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=w.a,this._completeRedirectFn=w.aB,this._overrideRedirectResult=w.aC}_initialize(le){var ye=this;return(0,s.Z)(function*(){return yield ye.selectUnderlyingResolver(),ye.assertedUnderlyingResolver._initialize(le)})()}_openPopup(le,ye,Fe,Je){var vt=this;return(0,s.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openPopup(le,ye,Fe,Je)})()}_openRedirect(le,ye,Fe,Je){var vt=this;return(0,s.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openRedirect(le,ye,Fe,Je)})()}_isIframeWebStorageSupported(le,ye){this.assertedUnderlyingResolver._isIframeWebStorageSupported(le,ye)}_originValidation(le){return this.assertedUnderlyingResolver._originValidation(le)}get _shouldInitProactively(){return jn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var le=this;return(0,s.Z)(function*(){if(le.underlyingResolver)return;const ye=yield function mn(){return nt.apply(this,arguments)}();le.underlyingResolver=ye?le.cordovaResolver:le.browserResolver})()}}function Wr(Ce){return Ce.unwrap()}function Ur(Ce){return lr(Ce)}function lr(Ce){const{_tokenResponse:le}=Ce instanceof x.ZR?Ce.customData:Ce;if(!le)return null;if(!(Ce instanceof x.ZR)&&"temporaryProof"in le&&"phoneNumber"in le)return w.P.credentialFromResult(Ce);const ye=le.providerId;if(!ye||ye===w.o.PASSWORD)return null;let Fe;switch(ye){case w.o.GOOGLE:Fe=w.Q;break;case w.o.FACEBOOK:Fe=w.N;break;case w.o.GITHUB:Fe=w.T;break;case w.o.TWITTER:Fe=w.W;break;default:const{oauthIdToken:Je,oauthAccessToken:vt,oauthTokenSecret:bt,pendingToken:We,nonce:et}=le;return vt||bt||Je||We?We?ye.startsWith("saml.")?w.aL._create(ye,We):w.J._fromParams({providerId:ye,signInMethod:ye,pendingToken:We,idToken:Je,accessToken:vt}):new w.U(ye).credential({idToken:Je,accessToken:vt,rawNonce:et}):null}return Ce instanceof x.ZR?Fe.credentialFromError(Ce):Fe.credentialFromResult(Ce)}function tn(Ce,le){return le.catch(ye=>{throw ye instanceof x.ZR&&function Gt(Ce,le){var ye,Fe;const Je=null===(ye=le.customData)||void 0===ye?void 0:ye._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Fe=le)||void 0===Fe?void 0:Fe.code))le.resolver=new wr(Ce,w.an(Ce,le));else if(Je){const vt=lr(le),bt=le;vt&&(bt.credential=vt,bt.tenantId=Je.tenantId||void 0,bt.email=Je.email||void 0,bt.phoneNumber=Je.phoneNumber||void 0)}}(Ce,ye),ye}).then(ye=>{const Je=ye.user;return{operationType:ye.operationType,credential:Ur(ye),additionalUserInfo:w.al(ye),user:Kn.getOrCreate(Je)}})}function ri(Ce,le){return gn.apply(this,arguments)}function gn(){return(gn=(0,s.Z)(function*(Ce,le){const ye=yield le;return{verificationId:ye.verificationId,confirm:Fe=>tn(Ce,ye.confirm(Fe))}})).apply(this,arguments)}class wr{constructor(le,ye){this.resolver=ye,this.auth=function ar(Ce){return Ce.wrapped()}(le)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(le){return tn(Wr(this.auth),this.resolver.resolveSignIn(le))}}class Kn{constructor(le){this._delegate=le,this.multiFactor=w.ao(le)}static getOrCreate(le){return Kn.USER_MAP.has(le)||Kn.USER_MAP.set(le,new Kn(le)),Kn.USER_MAP.get(le)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(le){return this._delegate.getIdTokenResult(le)}getIdToken(le){return this._delegate.getIdToken(le)}linkAndRetrieveDataWithCredential(le){return this.linkWithCredential(le)}linkWithCredential(le){var ye=this;return(0,s.Z)(function*(){return tn(ye.auth,w.Z(ye._delegate,le))})()}linkWithPhoneNumber(le,ye){var Fe=this;return(0,s.Z)(function*(){return ri(Fe.auth,w.l(Fe._delegate,le,ye))})()}linkWithPopup(le){var ye=this;return(0,s.Z)(function*(){return tn(ye.auth,w.d(ye._delegate,le,Wt))})()}linkWithRedirect(le){var ye=this;return(0,s.Z)(function*(){return yield an(w.aE(ye.auth)),w.g(ye._delegate,le,Wt)})()}reauthenticateAndRetrieveDataWithCredential(le){return this.reauthenticateWithCredential(le)}reauthenticateWithCredential(le){var ye=this;return(0,s.Z)(function*(){return tn(ye.auth,w._(ye._delegate,le))})()}reauthenticateWithPhoneNumber(le,ye){return ri(this.auth,w.r(this._delegate,le,ye))}reauthenticateWithPopup(le){return tn(this.auth,w.e(this._delegate,le,Wt))}reauthenticateWithRedirect(le){var ye=this;return(0,s.Z)(function*(){return yield an(w.aE(ye.auth)),w.h(ye._delegate,le,Wt)})()}sendEmailVerification(le){return w.ab(this._delegate,le)}unlink(le){var ye=this;return(0,s.Z)(function*(){return yield w.ak(ye._delegate,le),ye})()}updateEmail(le){return w.ag(this._delegate,le)}updatePassword(le){return w.ah(this._delegate,le)}updatePhoneNumber(le){return w.u(this._delegate,le)}updateProfile(le){return w.af(this._delegate,le)}verifyBeforeUpdateEmail(le,ye){return w.ac(this._delegate,le,ye)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Kn.USER_MAP=new WeakMap;const mt=w.ax;let qe=(()=>{class Ce{constructor(ye,Fe){if(this.app=ye,Fe.isInitialized())return this._delegate=Fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Je}=ye.options;mt(Je,"invalid-api-key",{appName:ye.name}),mt(Je,"invalid-api-key",{appName:ye.name});const vt=typeof window<"u"?Wt:void 0;this._delegate=Fe.initialize({options:{persistence:At(Je,ye.name),popupRedirectResolver:vt}}),this._delegate._updateErrorMap(w.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ye){this._delegate.languageCode=ye}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ye){this._delegate.tenantId=ye}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ye,Fe){w.G(this._delegate,ye,Fe)}applyActionCode(ye){return w.a2(this._delegate,ye)}checkActionCode(ye){return w.a3(this._delegate,ye)}confirmPasswordReset(ye,Fe){return w.a1(this._delegate,ye,Fe)}createUserWithEmailAndPassword(ye,Fe){var Je=this;return(0,s.Z)(function*(){return tn(Je._delegate,w.a5(Je._delegate,ye,Fe))})()}fetchProvidersForEmail(ye){return this.fetchSignInMethodsForEmail(ye)}fetchSignInMethodsForEmail(ye){return w.aa(this._delegate,ye)}isSignInWithEmailLink(ye){return w.a8(this._delegate,ye)}getRedirectResult(){var ye=this;return(0,s.Z)(function*(){mt(cn(),ye._delegate,"operation-not-supported-in-this-environment");const Fe=yield w.j(ye._delegate,Wt);return Fe?tn(ye._delegate,Promise.resolve(Fe)):{credential:null,user:null}})()}addFrameworkForLogging(ye){!function ut(Ce,le){(0,w.aE)(Ce)._logFramework(le)}(this._delegate,ye)}onAuthStateChanged(ye,Fe,Je){const{next:vt,error:bt,complete:We}=yt(ye,Fe,Je);return this._delegate.onAuthStateChanged(vt,bt,We)}onIdTokenChanged(ye,Fe,Je){const{next:vt,error:bt,complete:We}=yt(ye,Fe,Je);return this._delegate.onIdTokenChanged(vt,bt,We)}sendSignInLinkToEmail(ye,Fe){return w.a7(this._delegate,ye,Fe)}sendPasswordResetEmail(ye,Fe){return w.a0(this._delegate,ye,Fe||void 0)}setPersistence(ye){var Fe=this;return(0,s.Z)(function*(){let Je;switch(function Dr(Ce,le){$t(Object.values(Dn).includes(le),Ce,"invalid-persistence-type"),(0,x.b$)()?$t(le!==Dn.SESSION,Ce,"unsupported-persistence-type"):(0,x.UG)()?$t(le===Dn.NONE,Ce,"unsupported-persistence-type"):An()?$t(le===Dn.NONE||le===Dn.LOCAL&&(0,x.hl)(),Ce,"unsupported-persistence-type"):$t(le===Dn.NONE||Nt(),Ce,"unsupported-persistence-type")}(Fe._delegate,ye),ye){case Dn.SESSION:Je=w.a;break;case Dn.LOCAL:Je=(yield w.az(w.i)._isAvailable())?w.i:w.b;break;case Dn.NONE:Je=w.L;break;default:return w.as("argument-error",{appName:Fe._delegate.name})}return Fe._delegate.setPersistence(Je)})()}signInAndRetrieveDataWithCredential(ye){return this.signInWithCredential(ye)}signInAnonymously(){return tn(this._delegate,w.X(this._delegate))}signInWithCredential(ye){return tn(this._delegate,w.Y(this._delegate,ye))}signInWithCustomToken(ye){return tn(this._delegate,w.$(this._delegate,ye))}signInWithEmailAndPassword(ye,Fe){return tn(this._delegate,w.a6(this._delegate,ye,Fe))}signInWithEmailLink(ye,Fe){return tn(this._delegate,w.a9(this._delegate,ye,Fe))}signInWithPhoneNumber(ye,Fe){return ri(this._delegate,w.s(this._delegate,ye,Fe))}signInWithPopup(ye){var Fe=this;return(0,s.Z)(function*(){return mt(cn(),Fe._delegate,"operation-not-supported-in-this-environment"),tn(Fe._delegate,w.c(Fe._delegate,ye,Wt))})()}signInWithRedirect(ye){var Fe=this;return(0,s.Z)(function*(){return mt(cn(),Fe._delegate,"operation-not-supported-in-this-environment"),yield an(Fe._delegate),w.f(Fe._delegate,ye,Wt)})()}updateCurrentUser(ye){return this._delegate.updateCurrentUser(ye)}verifyPasswordResetCode(ye){return w.a4(this._delegate,ye)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ce.Persistence=Dn,Ce})();function yt(Ce,le,ye){let Fe=Ce;"function"!=typeof Ce&&({next:Fe,error:le,complete:ye}=Ce);const Je=Fe;return{next:bt=>Je(bt&&Kn.getOrCreate(bt)),error:le,complete:ye}}function At(Ce,le){const ye=function xn(Ce,le){const ye=Tt();if(!ye)return[];const Fe=w.aA(Ln,Ce,le);switch(ye.getItem(Fe)){case Dn.NONE:return[w.L];case Dn.LOCAL:return[w.i,w.a];case Dn.SESSION:return[w.a];default:return[]}}(Ce,le);if(typeof self<"u"&&!ye.includes(w.i)&&ye.push(w.i),typeof window<"u")for(const Fe of[w.b,w.a])ye.includes(Fe)||ye.push(Fe);return ye.includes(w.L)||ye.push(w.L),ye}class Ft{constructor(){this.providerId="phone",this._delegate=new w.P(Wr(y.Z.auth()))}static credential(le,ye){return w.P.credential(le,ye)}verifyPhoneNumber(le,ye){return this._delegate.verifyPhoneNumber(le,ye)}unwrap(){return this._delegate}}Ft.PHONE_SIGN_IN_METHOD=w.P.PHONE_SIGN_IN_METHOD,Ft.PROVIDER_ID=w.P.PROVIDER_ID;const bn=w.ax;class Ae{constructor(le,ye,Fe=y.Z.app()){var Je;bn(null===(Je=Fe.options)||void 0===Je?void 0:Je.apiKey,"invalid-api-key",{appName:Fe.name}),this._delegate=new w.R(le,ye,Fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xe(Ce){Ce.INTERNAL.registerComponent(new H.wA("auth-compat",le=>{const ye=le.getProvider("app-compat").getImmediate(),Fe=le.getProvider("auth");return new qe(ye,Fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:w.A.EMAIL_SIGNIN,PASSWORD_RESET:w.A.PASSWORD_RESET,RECOVER_EMAIL:w.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:w.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:w.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:w.A.VERIFY_EMAIL}},EmailAuthProvider:w.M,FacebookAuthProvider:w.N,GithubAuthProvider:w.T,GoogleAuthProvider:w.Q,OAuthProvider:w.U,SAMLAuthProvider:w.V,PhoneAuthProvider:Ft,PhoneMultiFactorGenerator:w.m,RecaptchaVerifier:Ae,TwitterAuthProvider:w.W,Auth:qe,AuthCredential:w.H,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ce.registerVersion("@firebase/auth-compat","0.2.24")}(y.Z)},4487:function(module,exports,__webpack_require__){var h;typeof navigator<"u"&&(h=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(h){_useWebWorker=!!h},getWebWorker=function(){return _useWebWorker},setLocationHref=function(h){locationHref=h},getLocationHref=function(){return locationHref};function createTag(d){return document.createElement(d)}function extendPrototype(d,h){var p,y,s=d.length;for(p=0;p<s;p+=1)for(var w in y=d[p].prototype)Object.prototype.hasOwnProperty.call(y,w)&&(h.prototype[w]=y[w])}function getDescriptor(d,h){return Object.getOwnPropertyDescriptor(d,h)}function createProxyFunction(d){function h(){}return h.prototype=d,h}var audioControllerFactory=function(){function d(h){this.audios=[],this.audioFactory=h,this._volume=1,this._isMuted=!1}return d.prototype={addAudio:function(p){this.audios.push(p)},pause:function(){var p,s=this.audios.length;for(p=0;p<s;p+=1)this.audios[p].pause()},resume:function(){var p,s=this.audios.length;for(p=0;p<s;p+=1)this.audios[p].resume()},setRate:function(p){var s,y=this.audios.length;for(s=0;s<y;s+=1)this.audios[s].setRate(p)},createAudio:function(p){return this.audioFactory?this.audioFactory(p):window.Howl?new window.Howl({src:[p]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(p){this.audioFactory=p},setVolume:function(p){this._volume=p,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var p,s=this.audios.length;for(p=0;p<s;p+=1)this.audios[p].volume(this._volume*(this._isMuted?0:1))}},function(){return new d}}(),createTypedArray=function(){function d(p,s){var x,y=0,w=[];switch(p){case"int16":case"uint8c":x=1;break;default:x=1.1}for(y=0;y<s;y+=1)w.push(x);return w}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function h(p,s){return"float32"===p?new Float32Array(s):"int16"===p?new Int16Array(s):"uint8c"===p?new Uint8ClampedArray(s):d(p,s)}:d}();function createSizedArray(d){return Array.apply(null,{length:d})}function _typeof$6(d){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var h,d=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],p=d.length;for(h=0;h<p;h+=1)BMMath[d[h]]=Math[d[h]]}(),BMMath.random=Math.random,BMMath.abs=function(d){if("object"===_typeof$6(d)&&d.length){var s,p=createSizedArray(d.length),y=d.length;for(s=0;s<y;s+=1)p[s]=Math.abs(d[s]);return p}return Math.abs(d)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(d){_shouldRoundValues=!!d}function bmRnd(d){return _shouldRoundValues?Math.round(d):d}function styleDiv(d){d.style.position="absolute",d.style.top=0,d.style.left=0,d.style.display="block",d.style.transformOrigin="0 0",d.style.webkitTransformOrigin="0 0",d.style.backfaceVisibility="visible",d.style.webkitBackfaceVisibility="visible",d.style.transformStyle="preserve-3d",d.style.webkitTransformStyle="preserve-3d",d.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(d,h,p,s){this.type=d,this.currentTime=h,this.totalTime=p,this.direction=s<0?-1:1}function BMCompleteEvent(d,h){this.type=d,this.direction=h<0?-1:1}function BMCompleteLoopEvent(d,h,p,s){this.type=d,this.currentLoop=p,this.totalLoops=h,this.direction=s<0?-1:1}function BMSegmentStartEvent(d,h,p){this.type=d,this.firstFrame=h,this.totalFrames=p}function BMDestroyEvent(d,h){this.type=d,this.target=h}function BMRenderFrameErrorEvent(d,h){this.type="renderFrameError",this.nativeError=d,this.currentTime=h}function BMConfigErrorEvent(d){this.type="configError",this.nativeError=d}function BMAnimationConfigErrorEvent(d,h){this.type=d,this.nativeError=h}var createElementID=(d=0,function(){return idPrefix$1+"__lottie_element_"+(d+=1)}),d;function HSVtoRGB(d,h,p){var s,y,w,x,F,L,H,z;switch(L=p*(1-h),H=p*(1-(F=6*d-(x=Math.floor(6*d)))*h),z=p*(1-(1-F)*h),x%6){case 0:s=p,y=z,w=L;break;case 1:s=H,y=p,w=L;break;case 2:s=L,y=p,w=z;break;case 3:s=L,y=H,w=p;break;case 4:s=z,y=L,w=p;break;case 5:s=p,y=L,w=H}return[s,y,w]}function RGBtoHSV(d,h,p){var x,s=Math.max(d,h,p),y=Math.min(d,h,p),w=s-y,F=0===s?0:w/s,L=s/255;switch(s){case y:x=0;break;case d:x=h-p+w*(h<p?6:0),x/=6*w;break;case h:x=p-d+2*w,x/=6*w;break;case p:x=d-h+4*w,x/=6*w}return[x,F,L]}function addSaturationToRGB(d,h){var p=RGBtoHSV(255*d[0],255*d[1],255*d[2]);return p[1]+=h,p[1]>1?p[1]=1:p[1]<=0&&(p[1]=0),HSVtoRGB(p[0],p[1],p[2])}function addBrightnessToRGB(d,h){var p=RGBtoHSV(255*d[0],255*d[1],255*d[2]);return p[2]+=h,p[2]>1?p[2]=1:p[2]<0&&(p[2]=0),HSVtoRGB(p[0],p[1],p[2])}function addHueToRGB(d,h){var p=RGBtoHSV(255*d[0],255*d[1],255*d[2]);return p[0]+=h/360,p[0]>1?p[0]-=1:p[0]<0&&(p[0]+=1),HSVtoRGB(p[0],p[1],p[2])}var rgbToHex=function(){var h,p,d=[];for(h=0;h<256;h+=1)p=h.toString(16),d[h]=1===p.length?"0"+p:p;return function(s,y,w){return s<0&&(s=0),y<0&&(y=0),w<0&&(w=0),"#"+d[s]+d[y]+d[w]}}(),setSubframeEnabled=function(h){subframeEnabled=!!h},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(h){expressionsPlugin=h},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(h){defaultCurveSegments=h},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(h){idPrefix$1=h},getIdPrefix=function(){return idPrefix$1};function createNS(d){return document.createElementNS(svgNS,d)}function _typeof$5(d){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}var dataManager=function(){var p,s,d=1,h=[],y={onmessage:function(){},postMessage:function(U){p({data:U})}},w={postMessage:function(U){y.onmessage({data:U})}};function F(){s||((s=function x(P){if(window.Worker&&window.Blob&&getWebWorker()){var U=new Blob(["var _workerSelf = self; self.onmessage = ",P.toString()],{type:"text/javascript"}),G=URL.createObjectURL(U);return new Worker(G)}return p=P,y}(function(U){if(w.dataManager||(w.dataManager=function G(){function K(de,ae){var X,ee,Re,ke,Ye,$e,ue=de.length;for(ee=0;ee<ue;ee+=1)if("ks"in(X=de[ee])&&!X.completed){if(X.completed=!0,X.tt&&(de[ee-1].td=X.tt),X.hasMask){var ut=X.masksProperties;for(ke=ut.length,Re=0;Re<ke;Re+=1)if(ut[Re].pt.k.i)q(ut[Re].pt.k);else for($e=ut[Re].pt.k.length,Ye=0;Ye<$e;Ye+=1)ut[Re].pt.k[Ye].s&&q(ut[Re].pt.k[Ye].s[0]),ut[Re].pt.k[Ye].e&&q(ut[Re].pt.k[Ye].e[0])}0===X.ty?(X.layers=T(X.refId,ae),K(X.layers,ae)):4===X.ty&&I(X.shapes)}}function T(de,ae){var X=function O(de,ae){for(var X=0,ee=ae.length;X<ee;){if(ae[X].id===de)return ae[X];X+=1}return null}(de,ae);return X?X.layers.__used?JSON.parse(JSON.stringify(X.layers)):(X.layers.__used=!0,X.layers):null}function I(de){var ae,ee,ue;for(ae=de.length-1;ae>=0;ae-=1)if("sh"===de[ae].ty)if(de[ae].ks.k.i)q(de[ae].ks.k);else for(ue=de[ae].ks.k.length,ee=0;ee<ue;ee+=1)de[ae].ks.k[ee].s&&q(de[ae].ks.k[ee].s[0]),de[ae].ks.k[ee].e&&q(de[ae].ks.k[ee].e[0]);else"gr"===de[ae].ty&&I(de[ae].it)}function q(de){var ae,X=de.i.length;for(ae=0;ae<X;ae+=1)de.i[ae][0]+=de.v[ae][0],de.i[ae][1]+=de.v[ae][1],de.o[ae][0]+=de.v[ae][0],de.o[ae][1]+=de.v[ae][1]}function J(de,ae){var X=ae?ae.split("."):[100,100,100];return de[0]>X[0]||!(X[0]>de[0])&&(de[1]>X[1]||!(X[1]>de[1])&&(de[2]>X[2]||!(X[2]>de[2])&&null))}var de,te=function(){var de=[4,4,14];function ae(ee){ee.t.d={k:[{s:ee.t.d,t:0}]}}function X(ee){var ue,Re=ee.length;for(ue=0;ue<Re;ue+=1)5===ee[ue].ty&&ae(ee[ue])}return function(ee){if(J(de,ee.v)&&(X(ee.layers),ee.assets)){var ue,Re=ee.assets.length;for(ue=0;ue<Re;ue+=1)ee.assets[ue].layers&&X(ee.assets[ue].layers)}}}(),ne=(de=[4,7,99],function(ae){if(ae.chars&&!J(de,ae.v)){var X,ee=ae.chars.length;for(X=0;X<ee;X+=1){var ue=ae.chars[X];ue.data&&ue.data.shapes&&(I(ue.data.shapes),ue.data.ip=0,ue.data.op=99999,ue.data.st=0,ue.data.sr=1,ue.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},ae.chars[X].t||(ue.data.shapes.push({ty:"no"}),ue.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),me=function(){var de=[5,7,15];function ae(ee){var ue=ee.t.p;"number"==typeof ue.a&&(ue.a={a:0,k:ue.a}),"number"==typeof ue.p&&(ue.p={a:0,k:ue.p}),"number"==typeof ue.r&&(ue.r={a:0,k:ue.r})}function X(ee){var ue,Re=ee.length;for(ue=0;ue<Re;ue+=1)5===ee[ue].ty&&ae(ee[ue])}return function(ee){if(J(de,ee.v)&&(X(ee.layers),ee.assets)){var ue,Re=ee.assets.length;for(ue=0;ue<Re;ue+=1)ee.assets[ue].layers&&X(ee.assets[ue].layers)}}}(),Pe=function(){var de=[4,1,9];function ae(ee){var ue,ke,Ye,Re=ee.length;for(ue=0;ue<Re;ue+=1)if("gr"===ee[ue].ty)ae(ee[ue].it);else if("fl"===ee[ue].ty||"st"===ee[ue].ty)if(ee[ue].c.k&&ee[ue].c.k[0].i)for(Ye=ee[ue].c.k.length,ke=0;ke<Ye;ke+=1)ee[ue].c.k[ke].s&&(ee[ue].c.k[ke].s[0]/=255,ee[ue].c.k[ke].s[1]/=255,ee[ue].c.k[ke].s[2]/=255,ee[ue].c.k[ke].s[3]/=255),ee[ue].c.k[ke].e&&(ee[ue].c.k[ke].e[0]/=255,ee[ue].c.k[ke].e[1]/=255,ee[ue].c.k[ke].e[2]/=255,ee[ue].c.k[ke].e[3]/=255);else ee[ue].c.k[0]/=255,ee[ue].c.k[1]/=255,ee[ue].c.k[2]/=255,ee[ue].c.k[3]/=255}function X(ee){var ue,Re=ee.length;for(ue=0;ue<Re;ue+=1)4===ee[ue].ty&&ae(ee[ue].shapes)}return function(ee){if(J(de,ee.v)&&(X(ee.layers),ee.assets)){var ue,Re=ee.assets.length;for(ue=0;ue<Re;ue+=1)ee.assets[ue].layers&&X(ee.assets[ue].layers)}}}(),_e=function(){var de=[4,4,18];function ae(ee){var ue,ke,Ye;for(ue=ee.length-1;ue>=0;ue-=1)if("sh"===ee[ue].ty)if(ee[ue].ks.k.i)ee[ue].ks.k.c=ee[ue].closed;else for(Ye=ee[ue].ks.k.length,ke=0;ke<Ye;ke+=1)ee[ue].ks.k[ke].s&&(ee[ue].ks.k[ke].s[0].c=ee[ue].closed),ee[ue].ks.k[ke].e&&(ee[ue].ks.k[ke].e[0].c=ee[ue].closed);else"gr"===ee[ue].ty&&ae(ee[ue].it)}function X(ee){var ue,Re,Ye,$e,ut,Ut,ke=ee.length;for(Re=0;Re<ke;Re+=1){if((ue=ee[Re]).hasMask){var St=ue.masksProperties;for($e=St.length,Ye=0;Ye<$e;Ye+=1)if(St[Ye].pt.k.i)St[Ye].pt.k.c=St[Ye].cl;else for(Ut=St[Ye].pt.k.length,ut=0;ut<Ut;ut+=1)St[Ye].pt.k[ut].s&&(St[Ye].pt.k[ut].s[0].c=St[Ye].cl),St[Ye].pt.k[ut].e&&(St[Ye].pt.k[ut].e[0].c=St[Ye].cl)}4===ue.ty&&ae(ue.shapes)}}return function(ee){if(J(de,ee.v)&&(X(ee.layers),ee.assets)){var ue,Re=ee.assets.length;for(ue=0;ue<Re;ue+=1)ee.assets[ue].layers&&X(ee.assets[ue].layers)}}}(),be={completeData:function ve(de){de.__complete||(Pe(de),te(de),ne(de),me(de),_e(de),K(de.layers,de.assets),function A(de,ae){if(de){var X=0,ee=de.length;for(X=0;X<ee;X+=1)1===de[X].t&&(de[X].data.layers=T(de[X].data.refId,ae),K(de[X].data.layers,ae))}}(de.chars,de.assets),de.__complete=!0)}};return be.checkColors=Pe,be.checkChars=ne,be.checkPathProperties=me,be.checkShapes=_e,be.completeLayers=K,be}()),w.assetLoader||(w.assetLoader=function(){function K(O){var T=O.getResponseHeader("content-type");return T&&"json"===O.responseType&&-1!==T.indexOf("json")||O.response&&"object"===_typeof$5(O.response)?O.response:O.response&&"string"==typeof O.response?JSON.parse(O.response):O.responseText?JSON.parse(O.responseText):null}return{load:function A(O,T,I,q){var J,te=new XMLHttpRequest;try{te.responseType="json"}catch{}te.onreadystatechange=function(){if(4===te.readyState)if(200===te.status)J=K(te),I(J);else try{J=K(te),I(J)}catch(ne){q&&q(ne)}};try{te.open("GET",O,!0)}catch{te.open("GET",T+"/"+O,!0)}te.send()}}}()),"loadAnimation"===U.data.type)w.assetLoader.load(U.data.path,U.data.fullPath,function(K){w.dataManager.completeData(K),w.postMessage({id:U.data.id,payload:K,status:"success"})},function(){w.postMessage({id:U.data.id,status:"error"})});else if("complete"===U.data.type){var j=U.data.animation;w.dataManager.completeData(j),w.postMessage({id:U.data.id,payload:j,status:"success"})}else"loadData"===U.data.type&&w.assetLoader.load(U.data.path,U.data.fullPath,function(K){w.postMessage({id:U.data.id,payload:K,status:"success"})},function(){w.postMessage({id:U.data.id,status:"error"})})})).onmessage=function(P){var U=P.data,G=U.id,j=h[G];h[G]=null,"success"===U.status?j.onComplete(U.payload):j.onError&&j.onError()})}function L(P,U){var G="processId_"+(d+=1);return h[G]={onComplete:P,onError:U},G}return{loadAnimation:function H(P,U,G){F();var j=L(U,G);s.postMessage({type:"loadAnimation",path:P,fullPath:window.location.origin+window.location.pathname,id:j})},loadData:function z(P,U,G){F();var j=L(U,G);s.postMessage({type:"loadData",path:P,fullPath:window.location.origin+window.location.pathname,id:j})},completeAnimation:function Q(P,U,G){F();var j=L(U,G);s.postMessage({type:"complete",animation:P,id:j})}}}(),ImagePreloader=function(){var d=function(){var A=createTag("canvas");A.width=1,A.height=1;var O=A.getContext("2d");return O.fillStyle="rgba(0,0,0,0)",O.fillRect(0,0,1,1),A}();function h(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function p(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(A,O,T){var I="";if(A.e)I=A.p;else if(O){var q=A.p;-1!==q.indexOf("images/")&&(q=q.split("/")[1]),I=O+q}else I=T,I+=A.u?A.u:"",I+=A.p;return I}function y(A){var O=0,T=setInterval(function(){(A.getBBox().width||O>500)&&(this._imageLoaded(),clearInterval(T)),O+=1}.bind(this),50)}function F(A){var O={assetData:A},T=s(A,this.assetsPath,this.path);return dataManager.loadData(T,function(I){O.img=I,this._footageLoaded()}.bind(this),function(){O.img={},this._footageLoaded()}.bind(this)),O}function K(){this._imageLoaded=h.bind(this),this._footageLoaded=p.bind(this),this.testImageLoaded=y.bind(this),this.createFootageData=F.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return K.prototype={loadAssets:function L(A,O){this.imagesLoadedCb=O;var T,I=A.length;for(T=0;T<I;T+=1)A[T].layers||(A[T].t&&"seq"!==A[T].t?3===A[T].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(A[T]))):(this.totalImages+=1,this.images.push(this._createImageData(A[T]))))},setAssetsPath:function z(A){this.assetsPath=A||""},setPath:function H(A){this.path=A||""},loadedImages:function U(){return this.totalImages===this.loadedAssets},loadedFootages:function G(){return this.totalFootages===this.loadedFootagesCount},destroy:function P(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function Q(A){for(var O=0,T=this.images.length;O<T;){if(this.images[O].assetData===A)return this.images[O].img;O+=1}return null},createImgData:function x(A){var O=s(A,this.assetsPath,this.path),T=createTag("img");T.crossOrigin="anonymous",T.addEventListener("load",this._imageLoaded,!1),T.addEventListener("error",function(){I.img=d,this._imageLoaded()}.bind(this),!1),T.src=O;var I={img:T,assetData:A};return I},createImageData:function w(A){var O=s(A,this.assetsPath,this.path),T=createNS("image");isSafari?this.testImageLoaded(T):T.addEventListener("load",this._imageLoaded,!1),T.addEventListener("error",function(){I.img=d,this._imageLoaded()}.bind(this),!1),T.setAttributeNS("http://www.w3.org/1999/xlink","href",O),this._elementHelper.append?this._elementHelper.append(T):this._elementHelper.appendChild(T);var I={img:T,assetData:A};return I},imageLoaded:h,footageLoaded:p,setCacheType:function j(A,O){"svg"===A?(this._elementHelper=O,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},K}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(h,p){if(this._cbs[h])for(var s=this._cbs[h],y=0;y<s.length;y+=1)s[y](p)},addEventListener:function(h,p){return this._cbs[h]||(this._cbs[h]=[]),this._cbs[h].push(p),function(){this.removeEventListener(h,p)}.bind(this)},removeEventListener:function(h,p){if(p){if(this._cbs[h]){for(var s=0,y=this._cbs[h].length;s<y;)this._cbs[h][s]===p&&(this._cbs[h].splice(s,1),s-=1,y-=1),s+=1;this._cbs[h].length||(this._cbs[h]=null)}}else this._cbs[h]=null}};var markerParser=function(){function d(h){for(var y,p=h.split("\r\n"),s={},w=0,x=0;x<p.length;x+=1)2===(y=p[x].split(":")).length&&(s[y[0]]=y[1].trim(),w+=1);if(0===w)throw new Error;return s}return function(h){for(var p=[],s=0;s<h.length;s+=1){var y=h[s],w={time:y.tm,duration:y.dr};try{w.payload=JSON.parse(h[s].cm)}catch{try{w.payload=d(h[s].cm)}catch{w.payload={name:h[s].cm}}}p.push(w)}return p}}(),ProjectInterface=function(){function d(h){this.compositions.push(h)}return function(){function h(p){for(var s=0,y=this.compositions.length;s<y;){if(this.compositions[s].data&&this.compositions[s].data.nm===p)return this.compositions[s].prepareFrame&&this.compositions[s].data.xt&&this.compositions[s].prepareFrame(this.currentFrame),this.compositions[s].compInterface;s+=1}return null}return h.compositions=[],h.currentFrame=0,h.registerComposition=d,h}}(),renderers={},registerRenderer=function(h,p){renderers[h]=p};function getRenderer(d){return renderers[d]}function _typeof$4(d){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(d){(d.wrapper||d.container)&&(this.wrapper=d.wrapper||d.container);var h="svg";d.animType?h=d.animType:d.renderer&&(h=d.renderer);var p=getRenderer(h);this.renderer=new p(this,d.rendererSettings),this.imagePreloader.setCacheType(h,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=h,this.loop=""===d.loop||null==d.loop||!0===d.loop||!1!==d.loop&&parseInt(d.loop,10),this.autoplay=!("autoplay"in d)||d.autoplay,this.name=d.name?d.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(d,"autoloadSegments")||d.autoloadSegments,this.assetsPath=d.assetsPath,this.initialSegment=d.initialSegment,d.audioFactory&&this.audioController.setAudioFactory(d.audioFactory),d.animationData?this.setupAnimation(d.animationData):d.path&&(this.path=-1!==d.path.lastIndexOf("\\")?d.path.substr(0,d.path.lastIndexOf("\\")+1):d.path.substr(0,d.path.lastIndexOf("/")+1),this.fileName=d.path.substr(d.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(d.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(d){dataManager.completeAnimation(d,this.configAnimation)},AnimationItem.prototype.setData=function(d,h){h&&"object"!==_typeof$4(h)&&(h=JSON.parse(h));var p={wrapper:d,animationData:h},s=d.attributes;p.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",p.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:"canvas";var y=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";"false"===y?p.loop=!1:"true"===y?p.loop=!0:""!==y&&(p.loop=parseInt(y,10));var w=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:!s.getNamedItem("bm-autoplay")||s.getNamedItem("bm-autoplay").value;p.autoplay="false"!==w,p.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"","false"===(s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"")&&(p.prerender=!1),this.setParams(p)},AnimationItem.prototype.includeLayers=function(d){d.op>this.animationData.op&&(this.animationData.op=d.op,this.totalFrames=Math.floor(d.op-this.animationData.ip));var p,w,h=this.animationData.layers,s=h.length,y=d.layers,x=y.length;for(w=0;w<x;w+=1)for(p=0;p<s;){if(h[p].id===y[w].id){h[p]=y[w];break}p+=1}if((d.chars||d.fonts)&&(this.renderer.globalData.fontManager.addChars(d.chars),this.renderer.globalData.fontManager.addFonts(d.fonts,this.renderer.globalData.defs)),d.assets)for(s=d.assets.length,p=0;p<s;p+=1)this.animationData.assets.push(d.assets[p]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(d){this.animationData=d;var h=getExpressionsPlugin();h&&h.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var d=this.animationData.segments;if(!d||0===d.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var h=d.shift();this.timeCompleted=h.time*this.frameRate;var p=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(p,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(d){if(this.renderer)try{this.animationData=d,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(d),d.assets||(d.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(d.assets),this.markers=markerParser(d.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(h){this.triggerConfigError(h)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var d=getExpressionsPlugin();d&&d.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(d){this.isSubframeEnabled=!!d},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(d){this.triggerRenderFrameError(d)}},AnimationItem.prototype.play=function(d){d&&this.name!==d||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(d){d&&this.name!==d||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(d){d&&this.name!==d||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(d){d&&this.name!==d||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(d){for(var h,p=0;p<this.markers.length;p+=1)if((h=this.markers[p]).payload&&h.payload.name===d)return h;return null},AnimationItem.prototype.goToAndStop=function(d,h,p){if(!p||this.name===p){var s=Number(d);if(isNaN(s)){var y=this.getMarkerData(d);y&&this.goToAndStop(y.time,!0)}else this.setCurrentRawFrameValue(h?d:d*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(d,h,p){if(!p||this.name===p){var s=Number(d);if(isNaN(s)){var y=this.getMarkerData(d);y&&(y.duration?this.playSegments([y.time,y.time+y.duration],!0):this.goToAndStop(y.time,!0))}else this.goToAndStop(s,h,p);this.play()}},AnimationItem.prototype.advanceTime=function(d){if(!0!==this.isPaused&&!1!==this.isLoaded){var h=this.currentRawFrame+d*this.frameModifier,p=!1;h>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?h>=this.totalFrames?(this.playCount+=1,this.checkSegments(h%this.totalFrames)||(this.setCurrentRawFrameValue(h%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(h):this.checkSegments(h>this.totalFrames?h%this.totalFrames:0)||(p=!0,h=this.totalFrames-1):h<0?this.checkSegments(h%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(p=!0,h=0):(this.setCurrentRawFrameValue(this.totalFrames+h%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(h),p&&(this.setCurrentRawFrameValue(h),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(d,h){this.playCount=0,d[1]<d[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=d[0]-d[1],this.timeCompleted=this.totalFrames,this.firstFrame=d[1],this.setCurrentRawFrameValue(this.totalFrames-.001-h)):d[1]>d[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=d[1]-d[0],this.timeCompleted=this.totalFrames,this.firstFrame=d[0],this.setCurrentRawFrameValue(.001+h)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(d,h){var p=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<d?p=d:this.currentRawFrame+this.firstFrame>h&&(p=h-d)),this.firstFrame=d,this.totalFrames=h-d,this.timeCompleted=this.totalFrames,-1!==p&&this.goToAndStop(p,!0)},AnimationItem.prototype.playSegments=function(d,h){if(h&&(this.segments.length=0),"object"===_typeof$4(d[0])){var p,s=d.length;for(p=0;p<s;p+=1)this.segments.push(d[p])}else this.segments.push(d);this.segments.length&&h&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(d){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),d&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(d){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),d),!0)},AnimationItem.prototype.destroy=function(d){d&&this.name!==d||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(d){this.currentRawFrame=d,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(d){this.playSpeed=d,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(d){this.playDirection=d<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(d,h){h&&this.name!==h||this.audioController.setVolume(d)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(d){d&&this.name!==d||this.audioController.mute()},AnimationItem.prototype.unmute=function(d){d&&this.name!==d||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(d){var h="";if(d.e)h=d.p;else if(this.assetsPath){var p=d.p;-1!==p.indexOf("images/")&&(p=p.split("/")[1]),h=this.assetsPath+p}else h=this.path,h+=d.u?d.u:"",h+=d.p;return h},AnimationItem.prototype.getAssetData=function(d){for(var h=0,p=this.assets.length;h<p;){if(d===this.assets[h].id)return this.assets[h];h+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(d){return d?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(d,h,p){try{this.renderer.getElementByPath(d).updateDocumentData(h,p)}catch{}},AnimationItem.prototype.trigger=function(d){if(this._cbs&&this._cbs[d])switch(d){case"enterFrame":this.triggerEvent(d,new BMEnterFrameEvent(d,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(d,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(d,new BMCompleteLoopEvent(d,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(d,new BMCompleteEvent(d,this.frameMult));break;case"segmentStart":this.triggerEvent(d,new BMSegmentStartEvent(d,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(d,new BMDestroyEvent(d,this));break;default:this.triggerEvent(d)}"enterFrame"===d&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(d,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===d&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(d,this.loop,this.playCount,this.frameMult)),"complete"===d&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(d,this.frameMult)),"segmentStart"===d&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(d,this.firstFrame,this.totalFrames)),"destroy"===d&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(d,this))},AnimationItem.prototype.triggerRenderFrameError=function(d){var h=new BMRenderFrameErrorEvent(d,this.currentFrame);this.triggerEvent("error",h),this.onError&&this.onError.call(this,h)},AnimationItem.prototype.triggerConfigError=function(d){var h=new BMConfigErrorEvent(d,this.currentFrame);this.triggerEvent("error",h),this.onError&&this.onError.call(this,h)};var animationManager=function(){var d={},h=[],p=0,s=0,y=0,w=!0,x=!1;function F(ae){for(var X=0,ee=ae.target;X<s;)h[X].animation===ee&&(h.splice(X,1),X-=1,s-=1,ee.isPaused||Q()),X+=1}function L(ae,X){if(!ae)return null;for(var ee=0;ee<s;){if(h[ee].elem===ae&&null!==h[ee].elem)return h[ee].animation;ee+=1}var ue=new AnimationItem;return P(ue,ae),ue.setData(ae,X),ue}function z(){y+=1,Pe()}function Q(){y-=1}function P(ae,X){ae.addEventListener("destroy",F),ae.addEventListener("_active",z),ae.addEventListener("_idle",Q),h.push({elem:X,animation:ae}),s+=1}function A(ae){var ee,X=ae-p;for(ee=0;ee<s;ee+=1)h[ee].animation.advanceTime(X);p=ae,y&&!x?window.requestAnimationFrame(A):w=!0}function O(ae){p=ae,window.requestAnimationFrame(A)}function Pe(){!x&&y&&w&&(window.requestAnimationFrame(O),w=!1)}return d.registerAnimation=L,d.loadAnimation=function U(ae){var X=new AnimationItem;return P(X,null),X.setParams(ae),X},d.setSpeed=function G(ae,X){var ee;for(ee=0;ee<s;ee+=1)h[ee].animation.setSpeed(ae,X)},d.setDirection=function j(ae,X){var ee;for(ee=0;ee<s;ee+=1)h[ee].animation.setDirection(ae,X)},d.play=function K(ae){var X;for(X=0;X<s;X+=1)h[X].animation.play(ae)},d.pause=function T(ae){var X;for(X=0;X<s;X+=1)h[X].animation.pause(ae)},d.stop=function q(ae){var X;for(X=0;X<s;X+=1)h[X].animation.stop(ae)},d.togglePause=function J(ae){var X;for(X=0;X<s;X+=1)h[X].animation.togglePause(ae)},d.searchAnimations=function ne(ae,X,ee){var Re,ue=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),ke=ue.length;for(Re=0;Re<ke;Re+=1)ee&&ue[Re].setAttribute("data-bm-type",ee),L(ue[Re],ae);if(X&&0===ke){ee||(ee="svg");var Ye=document.getElementsByTagName("body")[0];Ye.innerText="";var $e=createTag("div");$e.style.width="100%",$e.style.height="100%",$e.setAttribute("data-bm-type",ee),Ye.appendChild($e),L($e,ae)}},d.resize=function me(){var ae;for(ae=0;ae<s;ae+=1)h[ae].animation.resize()},d.goToAndStop=function I(ae,X,ee){var ue;for(ue=0;ue<s;ue+=1)h[ue].animation.goToAndStop(ae,X,ee)},d.destroy=function te(ae){var X;for(X=s-1;X>=0;X-=1)h[X].animation.destroy(ae)},d.freeze=function _e(){x=!0},d.unfreeze=function ve(){x=!1,Pe()},d.setVolume=function Ie(ae,X){var ee;for(ee=0;ee<s;ee+=1)h[ee].animation.setVolume(ae,X)},d.mute=function be(ae){var X;for(X=0;X<s;X+=1)h[X].animation.mute(ae)},d.unmute=function de(ae){var X;for(X=0;X<s;X+=1)h[X].animation.unmute(ae)},d.getRegisteredAnimations=function H(){var ae,X=h.length,ee=[];for(ae=0;ae<X;ae+=1)ee.push(h[ae].animation);return ee},d}(),BezierFactory=function(){var d={getBezierEasing:function p(O,T,I,q,J){var te=J||("bez_"+O+"_"+T+"_"+I+"_"+q).replace(/\./g,"p");if(h[te])return h[te];var ne=new A([O,T,I,q]);return h[te]=ne,ne}},h={},L=.1,H="function"==typeof Float32Array;function z(O,T){return 1-3*T+3*O}function Q(O,T){return 3*T-6*O}function P(O){return 3*O}function U(O,T,I){return((z(T,I)*O+Q(T,I))*O+P(T))*O}function G(O,T,I){return 3*z(T,I)*O*O+2*Q(T,I)*O+P(T)}function A(O){this._p=O,this._mSampleValues=H?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return A.prototype={get:function(T){var I=this._p[0],q=this._p[1],J=this._p[2],te=this._p[3];return this._precomputed||this._precompute(),I===q&&J===te?T:0===T?0:1===T?1:U(this._getTForX(T),q,te)},_precompute:function(){var T=this._p[0],I=this._p[1],q=this._p[2],J=this._p[3];this._precomputed=!0,(T!==I||q!==J)&&this._calcSampleValues()},_calcSampleValues:function(){for(var T=this._p[0],I=this._p[2],q=0;q<11;++q)this._mSampleValues[q]=U(q*L,T,I)},_getTForX:function(T){for(var I=this._p[0],q=this._p[2],J=this._mSampleValues,te=0,ne=1;10!==ne&&J[ne]<=T;++ne)te+=L;var _e=te+(T-J[--ne])/(J[ne+1]-J[ne])*L,ve=G(_e,I,q);return ve>=.001?function K(O,T,I,q){for(var J=0;J<4;++J){var te=G(T,I,q);if(0===te)return T;T-=(U(T,I,q)-O)/te}return T}(T,_e,I,q):0===ve?_e:function j(O,T,I,q,J){var te,ne,me=0;do{(te=U(ne=T+(I-T)/2,q,J)-O)>0?I=ne:T=ne}while(Math.abs(te)>1e-7&&++me<10);return ne}(T,te,te+L,I,q)}},d}(),pooling={double:function d(h){return h.concat(createSizedArray(h.length))}},poolFactory=function(d,h,p){var s=0,y=d,w=createSizedArray(y);return{newElement:function F(){return s?w[s-=1]:h()},release:function L(H){s===y&&(w=pooling.double(w),y*=2),p&&p(H),w[s]=H,s+=1}}},bezierLengthPool=poolFactory(8,function d(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function d(){return{lengths:[],totalLength:0}},function h(p){var s,y=p.lengths.length;for(s=0;s<y;s+=1)bezierLengthPool.release(p.lengths[s]);p.lengths.length=0});function bezFunction(){var d=Math;function h(P,U,G,j,K,A){var O=P*j+U*K+G*A-K*j-A*P-G*U;return O>-.001&&O<.001}var s=function(P,U,G,j){var A,O,T,I,q,te,K=getDefaultCurveSegments(),J=0,ne=[],me=[],Pe=bezierLengthPool.newElement();for(T=G.length,A=0;A<K;A+=1){for(q=A/(K-1),te=0,O=0;O<T;O+=1)I=bmPow(1-q,3)*P[O]+3*bmPow(1-q,2)*q*G[O]+3*(1-q)*bmPow(q,2)*j[O]+bmPow(q,3)*U[O],ne[O]=I,null!==me[O]&&(te+=bmPow(ne[O]-me[O],2)),me[O]=ne[O];te&&(J+=te=bmSqrt(te)),Pe.percents[A]=q,Pe.lengths[A]=J}return Pe.addedLength=J,Pe};function w(P){this.segmentLength=0,this.points=new Array(P)}function x(P,U){this.partialLength=P,this.point=U}var P,F=(P={},function(U,G,j,K){var A=(U[0]+"_"+U[1]+"_"+G[0]+"_"+G[1]+"_"+j[0]+"_"+j[1]+"_"+K[0]+"_"+K[1]).replace(/\./g,"p");if(!P[A]){var T,I,q,J,te,me,Pe,O=getDefaultCurveSegments(),ne=0,_e=null;2===U.length&&(U[0]!==G[0]||U[1]!==G[1])&&h(U[0],U[1],G[0],G[1],U[0]+j[0],U[1]+j[1])&&h(U[0],U[1],G[0],G[1],G[0]+K[0],G[1]+K[1])&&(O=2);var ve=new w(O);for(q=j.length,T=0;T<O;T+=1){for(Pe=createSizedArray(q),te=T/(O-1),me=0,I=0;I<q;I+=1)J=bmPow(1-te,3)*U[I]+3*bmPow(1-te,2)*te*(U[I]+j[I])+3*(1-te)*bmPow(te,2)*(G[I]+K[I])+bmPow(te,3)*G[I],Pe[I]=J,null!==_e&&(me+=bmPow(Pe[I]-_e[I],2));ne+=me=bmSqrt(me),ve.points[T]=new x(me,Pe),_e=Pe}ve.segmentLength=ne,P[A]=ve}return P[A]});function L(P,U){var G=U.percents,j=U.lengths,K=G.length,A=bmFloor((K-1)*P),O=P*U.addedLength,T=0;if(A===K-1||0===A||O===j[A])return G[A];for(var I=j[A]>O?-1:1,q=!0;q;)if(j[A]<=O&&j[A+1]>O?(T=(O-j[A])/(j[A+1]-j[A]),q=!1):A+=I,A<0||A>=K-1){if(A===K-1)return G[A];q=!1}return G[A]+(G[A+1]-G[A])*T}var z=createTypedArray("float32",8);return{getSegmentsLength:function y(P){var O,U=segmentsLengthPool.newElement(),G=P.c,j=P.v,K=P.o,A=P.i,T=P._length,I=U.lengths,q=0;for(O=0;O<T-1;O+=1)I[O]=s(j[O],j[O+1],K[O],A[O+1]),q+=I[O].addedLength;return G&&T&&(I[O]=s(j[O],j[0],K[O],A[0]),q+=I[O].addedLength),U.totalLength=q,U},getNewSegment:function Q(P,U,G,j,K,A,O){K<0?K=0:K>1&&(K=1);var q,T=L(K,O),I=L(A=A>1?1:A,O),J=P.length,te=1-T,ne=1-I,me=te*te*te,Pe=T*te*te*3,_e=T*T*te*3,ve=T*T*T,Ie=te*te*ne,be=T*te*ne+te*T*ne+te*te*I,de=T*T*ne+te*T*I+T*te*I,ae=T*T*I,X=te*ne*ne,ee=T*ne*ne+te*I*ne+te*ne*I,ue=T*I*ne+te*I*I+T*ne*I,Re=T*I*I,ke=ne*ne*ne,Ye=I*ne*ne+ne*I*ne+ne*ne*I,$e=I*I*ne+ne*I*I+I*ne*I,ut=I*I*I;for(q=0;q<J;q+=1)z[4*q]=d.round(1e3*(me*P[q]+Pe*G[q]+_e*j[q]+ve*U[q]))/1e3,z[4*q+1]=d.round(1e3*(Ie*P[q]+be*G[q]+de*j[q]+ae*U[q]))/1e3,z[4*q+2]=d.round(1e3*(X*P[q]+ee*G[q]+ue*j[q]+Re*U[q]))/1e3,z[4*q+3]=d.round(1e3*(ke*P[q]+Ye*G[q]+$e*j[q]+ut*U[q]))/1e3;return z},getPointInSegment:function H(P,U,G,j,K,A){var O=L(K,A),T=1-O;return[d.round(1e3*(T*T*T*P[0]+(O*T*T+T*O*T+T*T*O)*G[0]+(O*O*T+T*O*O+O*T*O)*j[0]+O*O*O*U[0]))/1e3,d.round(1e3*(T*T*T*P[1]+(O*T*T+T*O*T+T*T*O)*G[1]+(O*O*T+T*O*O+O*T*O)*j[1]+O*O*O*U[1]))/1e3]},buildBezierData:F,pointOnLine2D:h,pointOnLine3D:function p(P,U,G,j,K,A,O,T,I){if(0===G&&0===A&&0===I)return h(P,U,j,K,O,T);var ne,q=d.sqrt(d.pow(j-P,2)+d.pow(K-U,2)+d.pow(A-G,2)),J=d.sqrt(d.pow(O-P,2)+d.pow(T-U,2)+d.pow(I-G,2)),te=d.sqrt(d.pow(O-j,2)+d.pow(T-K,2)+d.pow(I-A,2));return(ne=q>J?q>te?q-J-te:te-J-q:te>J?te-J-q:J-q-te)>-1e-4&&ne<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var d=initialDefaultFrame,h=Math.abs;function p(K,A){var T,O=this.offsetTime;"multidimensional"===this.propType&&(T=createTypedArray("float32",this.pv.length));for(var ne,me,Pe,I=A.lastIndex,q=I,J=this.keyframes.length-1,te=!0;te;){if(ne=this.keyframes[q],me=this.keyframes[q+1],q===J-1&&K>=me.t-O){ne.h&&(ne=me),I=0;break}if(me.t-O>K){I=q;break}q<J-1?q+=1:(I=0,te=!1)}Pe=this.keyframesMetadata[q]||{};var _e,ve,Ie,be,de,ae,ue,X=me.t-O,ee=ne.t-O;if(ne.to){Pe.bezierData||(Pe.bezierData=bez.buildBezierData(ne.s,me.s||ne.e,ne.to,ne.ti));var Re=Pe.bezierData;if(K>=X||K<ee){var ke=K>=X?Re.points.length-1:0;for(ve=Re.points[ke].point.length,_e=0;_e<ve;_e+=1)T[_e]=Re.points[ke].point[_e]}else{Pe.__fnct?ae=Pe.__fnct:(ae=BezierFactory.getBezierEasing(ne.o.x,ne.o.y,ne.i.x,ne.i.y,ne.n).get,Pe.__fnct=ae),Ie=ae((K-ee)/(X-ee));var $e,Ye=Re.segmentLength*Ie,ut=A.lastFrame<K&&A._lastKeyframeIndex===q?A._lastAddedLength:0;for(de=A.lastFrame<K&&A._lastKeyframeIndex===q?A._lastPoint:0,te=!0,be=Re.points.length;te;){if(ut+=Re.points[de].partialLength,0===Ye||0===Ie||de===Re.points.length-1){for(ve=Re.points[de].point.length,_e=0;_e<ve;_e+=1)T[_e]=Re.points[de].point[_e];break}if(Ye>=ut&&Ye<ut+Re.points[de+1].partialLength){for($e=(Ye-ut)/Re.points[de+1].partialLength,ve=Re.points[de].point.length,_e=0;_e<ve;_e+=1)T[_e]=Re.points[de].point[_e]+(Re.points[de+1].point[_e]-Re.points[de].point[_e])*$e;break}de<be-1?de+=1:te=!1}A._lastPoint=de,A._lastAddedLength=ut-Re.points[de].partialLength,A._lastKeyframeIndex=q}}else{var wt;if(J=ne.s.length,ue=me.s||ne.e,this.sh&&1!==ne.h)K>=X?(T[0]=ue[0],T[1]=ue[1],T[2]=ue[2]):K<=ee?(T[0]=ne.s[0],T[1]=ne.s[1],T[2]=ne.s[2]):function y(K,A){var O=A[0],T=A[1],I=A[2],q=A[3],J=Math.atan2(2*T*q-2*O*I,1-2*T*T-2*I*I),te=Math.asin(2*O*T+2*I*q),ne=Math.atan2(2*O*q-2*T*I,1-2*O*O-2*I*I);K[0]=J/degToRads,K[1]=te/degToRads,K[2]=ne/degToRads}(T,function s(K,A,O){var ve,Ie,be,de,ae,T=[],I=K[0],q=K[1],J=K[2],te=K[3],ne=A[0],me=A[1],Pe=A[2],_e=A[3];return(Ie=I*ne+q*me+J*Pe+te*_e)<0&&(Ie=-Ie,ne=-ne,me=-me,Pe=-Pe,_e=-_e),1-Ie>1e-6?(ve=Math.acos(Ie),be=Math.sin(ve),de=Math.sin((1-O)*ve)/be,ae=Math.sin(O*ve)/be):(de=1-O,ae=O),T[0]=de*I+ae*ne,T[1]=de*q+ae*me,T[2]=de*J+ae*Pe,T[3]=de*te+ae*_e,T}(w(ne.s),w(ue),(K-ee)/(X-ee)));else for(q=0;q<J;q+=1)1!==ne.h&&(K>=X?Ie=1:K<ee?Ie=0:(ne.o.x.constructor===Array?(Pe.__fnct||(Pe.__fnct=[]),Pe.__fnct[q]?ae=Pe.__fnct[q]:(ae=BezierFactory.getBezierEasing(void 0===ne.o.x[q]?ne.o.x[0]:ne.o.x[q],void 0===ne.o.y[q]?ne.o.y[0]:ne.o.y[q],void 0===ne.i.x[q]?ne.i.x[0]:ne.i.x[q],void 0===ne.i.y[q]?ne.i.y[0]:ne.i.y[q]).get,Pe.__fnct[q]=ae)):Pe.__fnct?ae=Pe.__fnct:(ae=BezierFactory.getBezierEasing(ne.o.x,ne.o.y,ne.i.x,ne.i.y).get,ne.keyframeMetadata=ae),Ie=ae((K-ee)/(X-ee)))),ue=me.s||ne.e,wt=1===ne.h?ne.s[q]:ne.s[q]+(ue[q]-ne.s[q])*Ie,"multidimensional"===this.propType?T[q]=wt:T=wt}return A.lastIndex=I,T}function w(K){var A=K[0]*degToRads,O=K[1]*degToRads,T=K[2]*degToRads,I=Math.cos(A/2),q=Math.cos(O/2),J=Math.cos(T/2),te=Math.sin(A/2),ne=Math.sin(O/2),me=Math.sin(T/2);return[te*ne*J+I*q*me,te*q*J+I*ne*me,I*ne*J-te*q*me,I*q*J-te*ne*me]}function x(){var K=this.comp.renderedFrame-this.offsetTime,A=this.keyframes[0].t-this.offsetTime,O=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(K===this._caching.lastFrame||this._caching.lastFrame!==d&&(this._caching.lastFrame>=O&&K>=O||this._caching.lastFrame<A&&K<A))){this._caching.lastFrame>=K&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var T=this.interpolateValue(K,this._caching);this.pv=T}return this._caching.lastFrame=K,this.pv}function F(K){var A;if("unidimensional"===this.propType)h(this.v-(A=K*this.mult))>1e-5&&(this.v=A,this._mdf=!0);else for(var O=0,T=this.v.length;O<T;)h(this.v[O]-(A=K[O]*this.mult))>1e-5&&(this.v[O]=A,this._mdf=!0),O+=1}function L(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var K,A=this.effectsSequence.length,O=this.kf?this.pv:this.data.k;for(K=0;K<A;K+=1)O=this.effectsSequence[K](O);this.setVValue(O),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function H(K){this.effectsSequence.push(K),this.container.addDynamicProperty(this)}function z(K,A,O,T){this.propType="unidimensional",this.mult=O||1,this.data=A,this.v=O?A.k*O:A.k,this.pv=A.k,this._mdf=!1,this.elem=K,this.container=T,this.comp=K.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=L,this.setVValue=F,this.addEffect=H}function Q(K,A,O,T){this.propType="multidimensional",this.mult=O||1,this.data=A,this._mdf=!1,this.elem=K,this.container=T,this.comp=K.comp,this.k=!1,this.kf=!1,this.frameId=-1;var I,q=A.k.length;for(this.v=createTypedArray("float32",q),this.pv=createTypedArray("float32",q),this.vel=createTypedArray("float32",q),I=0;I<q;I+=1)this.v[I]=A.k[I]*this.mult,this.pv[I]=A.k[I];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=L,this.setVValue=F,this.addEffect=H}function P(K,A,O,T){this.propType="unidimensional",this.keyframes=A.k,this.keyframesMetadata=[],this.offsetTime=K.data.st,this.frameId=-1,this._caching={lastFrame:d,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=A,this.mult=O||1,this.elem=K,this.container=T,this.comp=K.comp,this.v=d,this.pv=d,this._isFirstFrame=!0,this.getValue=L,this.setVValue=F,this.interpolateValue=p,this.effectsSequence=[x.bind(this)],this.addEffect=H}function U(K,A,O,T){this.propType="multidimensional";var I,J,te,ne,me,q=A.k.length;for(I=0;I<q-1;I+=1)A.k[I].to&&A.k[I].s&&A.k[I+1]&&A.k[I+1].s&&(te=A.k[I+1].s,ne=A.k[I].to,me=A.k[I].ti,(2===(J=A.k[I].s).length&&!(J[0]===te[0]&&J[1]===te[1])&&bez.pointOnLine2D(J[0],J[1],te[0],te[1],J[0]+ne[0],J[1]+ne[1])&&bez.pointOnLine2D(J[0],J[1],te[0],te[1],te[0]+me[0],te[1]+me[1])||3===J.length&&!(J[0]===te[0]&&J[1]===te[1]&&J[2]===te[2])&&bez.pointOnLine3D(J[0],J[1],J[2],te[0],te[1],te[2],J[0]+ne[0],J[1]+ne[1],J[2]+ne[2])&&bez.pointOnLine3D(J[0],J[1],J[2],te[0],te[1],te[2],te[0]+me[0],te[1]+me[1],te[2]+me[2]))&&(A.k[I].to=null,A.k[I].ti=null),J[0]===te[0]&&J[1]===te[1]&&0===ne[0]&&0===ne[1]&&0===me[0]&&0===me[1]&&(2===J.length||J[2]===te[2]&&0===ne[2]&&0===me[2])&&(A.k[I].to=null,A.k[I].ti=null));this.effectsSequence=[x.bind(this)],this.data=A,this.keyframes=A.k,this.keyframesMetadata=[],this.offsetTime=K.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=O||1,this.elem=K,this.container=T,this.comp=K.comp,this.getValue=L,this.setVValue=F,this.interpolateValue=p,this.frameId=-1;var Pe=A.k[0].s.length;for(this.v=createTypedArray("float32",Pe),this.pv=createTypedArray("float32",Pe),I=0;I<Pe;I+=1)this.v[I]=d,this.pv[I]=d;this._caching={lastFrame:d,lastIndex:0,value:createTypedArray("float32",Pe)},this.addEffect=H}return{getProp:function G(K,A,O,T,I){var q;if(A.k.length)if("number"==typeof A.k[0])q=new Q(K,A,T,I);else switch(O){case 0:q=new P(K,A,T,I);break;case 1:q=new U(K,A,T,I)}else q=new z(K,A,T,I);return q.effectsSequence.length&&I.addDynamicProperty(q),q}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(h){-1===this.dynamicProperties.indexOf(h)&&(this.dynamicProperties.push(h),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var h,p=this.dynamicProperties.length;for(h=0;h<p;h+=1)this.dynamicProperties[h].getValue(),this.dynamicProperties[h]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(h){this.container=h,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function d(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(d,h){this.c=d,this.setLength(h);for(var p=0;p<h;)this.v[p]=pointPool.newElement(),this.o[p]=pointPool.newElement(),this.i[p]=pointPool.newElement(),p+=1},ShapePath.prototype.setLength=function(d){for(;this._maxLength<d;)this.doubleArrayLength();this._length=d},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(d,h,p,s,y){var w;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),p){case"v":w=this.v;break;case"i":w=this.i;break;case"o":w=this.o;break;default:w=[]}(!w[s]||w[s]&&!y)&&(w[s]=pointPool.newElement()),w[s][0]=d,w[s][1]=h},ShapePath.prototype.setTripleAt=function(d,h,p,s,y,w,x,F){this.setXYAt(d,h,"v",x,F),this.setXYAt(p,s,"o",x,F),this.setXYAt(y,w,"i",x,F)},ShapePath.prototype.reverse=function(){var d=new ShapePath;d.setPathData(this.c,this._length);var h=this.v,p=this.o,s=this.i,y=0;this.c&&(d.setTripleAt(h[0][0],h[0][1],s[0][0],s[0][1],p[0][0],p[0][1],0,!1),y=1);var F,w=this._length-1,x=this._length;for(F=y;F<x;F+=1)d.setTripleAt(h[w][0],h[w][1],s[w][0],s[w][1],p[w][0],p[w][1],F,!1),w-=1;return d};var shapePool=(s=poolFactory(4,function d(){return new ShapePath},function h(y){var x,w=y._length;for(x=0;x<w;x+=1)pointPool.release(y.v[x]),pointPool.release(y.i[x]),pointPool.release(y.o[x]),y.v[x]=null,y.i[x]=null,y.o[x]=null;y._length=0,y.c=!1}),s.clone=function p(y){var x,w=s.newElement(),F=void 0===y._length?y.v.length:y._length;for(w.setLength(F),w.c=y.c,x=0;x<F;x+=1)w.setTripleAt(y.v[x][0],y.v[x][1],y.o[x][0],y.o[x][1],y.i[x][0],y.i[x][1],x);return w},s),s;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(d){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=d,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var d;for(d=0;d<this._length;d+=1)shapePool.release(this.shapes[d]);this._length=0};var shapeCollectionPool=function(){var d={newShapeCollection:function y(){return h?s[h-=1]:new ShapeCollection},release:function w(x){var F,L=x._length;for(F=0;F<L;F+=1)shapePool.release(x.shapes[F]);x._length=0,h===p&&(s=pooling.double(s),p*=2),s[h]=x,h+=1}},h=0,p=4,s=createSizedArray(p);return d}(),ShapePropertyFactory=function(){var d=-999999;function h(A,O,T){var q,J,te,ne,me,Pe,_e,ve,I=T.lastIndex,be=this.keyframes;if(A<be[0].t-this.offsetTime)q=be[0].s[0],te=!0,I=0;else if(A>=be[be.length-1].t-this.offsetTime)q=be[be.length-1].s?be[be.length-1].s[0]:be[be.length-2].e[0],te=!0;else{for(var ee,ue,Re,de=I,ae=be.length-1,X=!0;X&&(ee=be[de],!((ue=be[de+1]).t-this.offsetTime>A));)de<ae-1?de+=1:X=!1;if(Re=this.keyframesMetadata[de]||{},I=de,!(te=1===ee.h)){if(A>=ue.t-this.offsetTime)ve=1;else if(A<ee.t-this.offsetTime)ve=0;else{var ke;Re.__fnct?ke=Re.__fnct:(ke=BezierFactory.getBezierEasing(ee.o.x,ee.o.y,ee.i.x,ee.i.y).get,Re.__fnct=ke),ve=ke((A-(ee.t-this.offsetTime))/(ue.t-this.offsetTime-(ee.t-this.offsetTime)))}J=ue.s?ue.s[0]:ee.e[0]}q=ee.s[0]}for(Pe=O._length,_e=q.i[0].length,T.lastIndex=I,ne=0;ne<Pe;ne+=1)for(me=0;me<_e;me+=1)O.i[ne][me]=te?q.i[ne][me]:q.i[ne][me]+(J.i[ne][me]-q.i[ne][me])*ve,O.o[ne][me]=te?q.o[ne][me]:q.o[ne][me]+(J.o[ne][me]-q.o[ne][me])*ve,O.v[ne][me]=te?q.v[ne][me]:q.v[ne][me]+(J.v[ne][me]-q.v[ne][me])*ve}function p(){var A=this.comp.renderedFrame-this.offsetTime,O=this.keyframes[0].t-this.offsetTime,T=this.keyframes[this.keyframes.length-1].t-this.offsetTime,I=this._caching.lastFrame;return I!==d&&(I<O&&A<O||I>T&&A>T)||(this._caching.lastIndex=I<A?this._caching.lastIndex:0,this.interpolateShape(A,this.pv,this._caching)),this._caching.lastFrame=A,this.pv}function s(){this.paths=this.localShapeCollection}function w(A){(function y(A,O){if(A._length!==O._length||A.c!==O.c)return!1;var T,I=A._length;for(T=0;T<I;T+=1)if(A.v[T][0]!==O.v[T][0]||A.v[T][1]!==O.v[T][1]||A.o[T][0]!==O.o[T][0]||A.o[T][1]!==O.o[T][1]||A.i[T][0]!==O.i[T][0]||A.i[T][1]!==O.i[T][1])return!1;return!0})(this.v,A)||(this.v=shapePool.clone(A),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function x(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length)return void(this._mdf=!1);if(this.lock)return void this.setVValue(this.pv);var A;this.lock=!0,this._mdf=!1,A=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var O,T=this.effectsSequence.length;for(O=0;O<T;O+=1)A=this.effectsSequence[O](A);this.setVValue(A),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function F(A,O,T){this.propType="shape",this.comp=A.comp,this.container=A,this.elem=A,this.data=O,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shapePool.clone(3===T?O.pt.k:O.ks.k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function L(A){this.effectsSequence.push(A),this.container.addDynamicProperty(this)}function H(A,O,T){this.propType="shape",this.comp=A.comp,this.elem=A,this.container=A,this.offsetTime=A.data.st,this.keyframes=3===T?O.pt.k:O.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var I=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,I),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=d,this.reset=s,this._caching={lastFrame:d,lastIndex:0},this.effectsSequence=[p.bind(this)]}F.prototype.interpolateShape=h,F.prototype.getValue=x,F.prototype.setVValue=w,F.prototype.addEffect=L,H.prototype.getValue=x,H.prototype.interpolateShape=h,H.prototype.setVValue=w,H.prototype.addEffect=L;var z=function(){var A=roundCorner;function O(T,I){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=I.d,this.elem=T,this.comp=T.comp,this.frameId=-1,this.initDynamicPropertyContainer(T),this.p=PropertyFactory.getProp(T,I.p,1,0,this),this.s=PropertyFactory.getProp(T,I.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return O.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var I=this.p.v[0],q=this.p.v[1],J=this.s.v[0]/2,te=this.s.v[1]/2,ne=3!==this.d,me=this.v;me.v[0][0]=I,me.v[0][1]=q-te,me.v[1][0]=ne?I+J:I-J,me.v[1][1]=q,me.v[2][0]=I,me.v[2][1]=q+te,me.v[3][0]=ne?I-J:I+J,me.v[3][1]=q,me.i[0][0]=ne?I-J*A:I+J*A,me.i[0][1]=q-te,me.i[1][0]=ne?I+J:I-J,me.i[1][1]=q-te*A,me.i[2][0]=ne?I+J*A:I-J*A,me.i[2][1]=q+te,me.i[3][0]=ne?I-J:I+J,me.i[3][1]=q+te*A,me.o[0][0]=ne?I+J*A:I-J*A,me.o[0][1]=q-te,me.o[1][0]=ne?I+J:I-J,me.o[1][1]=q+te*A,me.o[2][0]=ne?I-J*A:I+J*A,me.o[2][1]=q+te,me.o[3][0]=ne?I-J:I+J,me.o[3][1]=q-te*A}},extendPrototype([DynamicPropertyContainer],O),O}(),Q=function(){function A(O,T){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=O,this.comp=O.comp,this.data=T,this.frameId=-1,this.d=T.d,this.initDynamicPropertyContainer(O),1===T.sy?(this.ir=PropertyFactory.getProp(O,T.ir,0,0,this),this.is=PropertyFactory.getProp(O,T.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(O,T.pt,0,0,this),this.p=PropertyFactory.getProp(O,T.p,1,0,this),this.r=PropertyFactory.getProp(O,T.r,0,degToRads,this),this.or=PropertyFactory.getProp(O,T.or,0,0,this),this.os=PropertyFactory.getProp(O,T.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return A.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var ve,Ie,be,de,T=2*Math.floor(this.pt.v),I=2*Math.PI/T,q=!0,J=this.or.v,te=this.ir.v,ne=this.os.v,me=this.is.v,Pe=2*Math.PI*J/(2*T),_e=2*Math.PI*te/(2*T),ae=-Math.PI/2;ae+=this.r.v;var X=3===this.data.d?-1:1;for(this.v._length=0,ve=0;ve<T;ve+=1){be=q?ne:me,de=q?Pe:_e;var ee=(Ie=q?J:te)*Math.cos(ae),ue=Ie*Math.sin(ae),Re=0===ee&&0===ue?0:ue/Math.sqrt(ee*ee+ue*ue),ke=0===ee&&0===ue?0:-ee/Math.sqrt(ee*ee+ue*ue);this.v.setTripleAt(ee+=+this.p.v[0],ue+=+this.p.v[1],ee-Re*de*be*X,ue-ke*de*be*X,ee+Re*de*be*X,ue+ke*de*be*X,ve,!0),q=!q,ae+=I*X}},convertPolygonToPath:function(){var ne,T=Math.floor(this.pt.v),I=2*Math.PI/T,q=this.or.v,J=this.os.v,te=2*Math.PI*q/(4*T),me=.5*-Math.PI,Pe=3===this.data.d?-1:1;for(me+=this.r.v,this.v._length=0,ne=0;ne<T;ne+=1){var _e=q*Math.cos(me),ve=q*Math.sin(me),Ie=0===_e&&0===ve?0:ve/Math.sqrt(_e*_e+ve*ve),be=0===_e&&0===ve?0:-_e/Math.sqrt(_e*_e+ve*ve);this.v.setTripleAt(_e+=+this.p.v[0],ve+=+this.p.v[1],_e-Ie*te*J*Pe,ve-be*te*J*Pe,_e+Ie*te*J*Pe,ve+be*te*J*Pe,ne,!0),me+=I*Pe}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],A),A}(),P=function(){function A(O,T){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=O,this.comp=O.comp,this.frameId=-1,this.d=T.d,this.initDynamicPropertyContainer(O),this.p=PropertyFactory.getProp(O,T.p,1,0,this),this.s=PropertyFactory.getProp(O,T.s,1,0,this),this.r=PropertyFactory.getProp(O,T.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return A.prototype={convertRectToPath:function(){var T=this.p.v[0],I=this.p.v[1],q=this.s.v[0]/2,J=this.s.v[1]/2,te=bmMin(q,J,this.r.v),ne=te*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(T+q,I-J+te,T+q,I-J+te,T+q,I-J+ne,0,!0),this.v.setTripleAt(T+q,I+J-te,T+q,I+J-ne,T+q,I+J-te,1,!0),0!==te?(this.v.setTripleAt(T+q-te,I+J,T+q-te,I+J,T+q-ne,I+J,2,!0),this.v.setTripleAt(T-q+te,I+J,T-q+ne,I+J,T-q+te,I+J,3,!0),this.v.setTripleAt(T-q,I+J-te,T-q,I+J-te,T-q,I+J-ne,4,!0),this.v.setTripleAt(T-q,I-J+te,T-q,I-J+ne,T-q,I-J+te,5,!0),this.v.setTripleAt(T-q+te,I-J,T-q+te,I-J,T-q+ne,I-J,6,!0),this.v.setTripleAt(T+q-te,I-J,T+q-ne,I-J,T+q-te,I-J,7,!0)):(this.v.setTripleAt(T-q,I+J,T-q+ne,I+J,T-q,I+J,2),this.v.setTripleAt(T-q,I-J,T-q,I-J+ne,T-q,I-J,3))):(this.v.setTripleAt(T+q,I-J+te,T+q,I-J+ne,T+q,I-J+te,0,!0),0!==te?(this.v.setTripleAt(T+q-te,I-J,T+q-te,I-J,T+q-ne,I-J,1,!0),this.v.setTripleAt(T-q+te,I-J,T-q+ne,I-J,T-q+te,I-J,2,!0),this.v.setTripleAt(T-q,I-J+te,T-q,I-J+te,T-q,I-J+ne,3,!0),this.v.setTripleAt(T-q,I+J-te,T-q,I+J-ne,T-q,I+J-te,4,!0),this.v.setTripleAt(T-q+te,I+J,T-q+te,I+J,T-q+ne,I+J,5,!0),this.v.setTripleAt(T+q-te,I+J,T+q-ne,I+J,T+q-te,I+J,6,!0),this.v.setTripleAt(T+q,I+J-te,T+q,I+J-te,T+q,I+J-ne,7,!0)):(this.v.setTripleAt(T-q,I-J,T-q+ne,I-J,T-q,I-J,1,!0),this.v.setTripleAt(T-q,I+J,T-q,I+J-ne,T-q,I+J,2,!0),this.v.setTripleAt(T+q,I+J,T+q-ne,I+J,T+q,I+J,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],A),A}();return{getShapeProp:function U(A,O,T){var I;return 3===T||4===T?I=(3===T?O.pt:O.ks).k.length?new H(A,O,T):new F(A,O,T):5===T?I=new P(A,O):6===T?I=new z(A,O):7===T&&(I=new Q(A,O)),I.k&&A.addDynamicProperty(I),I},getConstructorFunction:function G(){return F},getKeyframedConstructorFunction:function j(){return H}}}(),Matrix=function(){var d=Math.cos,h=Math.sin,p=Math.tan,s=Math.round;function y(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function w(X){if(0===X)return this;var ee=d(X),ue=h(X);return this._t(ee,-ue,0,0,ue,ee,0,0,0,0,1,0,0,0,0,1)}function x(X){if(0===X)return this;var ee=d(X),ue=h(X);return this._t(1,0,0,0,0,ee,-ue,0,0,ue,ee,0,0,0,0,1)}function F(X){if(0===X)return this;var ee=d(X),ue=h(X);return this._t(ee,0,ue,0,0,1,0,0,-ue,0,ee,0,0,0,0,1)}function L(X){if(0===X)return this;var ee=d(X),ue=h(X);return this._t(ee,-ue,0,0,ue,ee,0,0,0,0,1,0,0,0,0,1)}function H(X,ee){return this._t(1,ee,X,1,0,0)}function z(X,ee){return this.shear(p(X),p(ee))}function Q(X,ee){var ue=d(ee),Re=h(ee);return this._t(ue,Re,0,0,-Re,ue,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,p(X),1,0,0,0,0,1,0,0,0,0,1)._t(ue,-Re,0,0,Re,ue,0,0,0,0,1,0,0,0,0,1)}function P(X,ee,ue){return!ue&&0!==ue&&(ue=1),1===X&&1===ee&&1===ue?this:this._t(X,0,0,0,0,ee,0,0,0,0,ue,0,0,0,0,1)}function U(X,ee,ue,Re,ke,Ye,$e,ut,Ut,St,Ot,Et,wt,Sn,sn,In){return this.props[0]=X,this.props[1]=ee,this.props[2]=ue,this.props[3]=Re,this.props[4]=ke,this.props[5]=Ye,this.props[6]=$e,this.props[7]=ut,this.props[8]=Ut,this.props[9]=St,this.props[10]=Ot,this.props[11]=Et,this.props[12]=wt,this.props[13]=Sn,this.props[14]=sn,this.props[15]=In,this}function G(X,ee,ue){return ue=ue||0,0!==X||0!==ee||0!==ue?this._t(1,0,0,0,0,1,0,0,0,0,1,0,X,ee,ue,1):this}function j(X,ee,ue,Re,ke,Ye,$e,ut,Ut,St,Ot,Et,wt,Sn,sn,In){var at=this.props;if(1===X&&0===ee&&0===ue&&0===Re&&0===ke&&1===Ye&&0===$e&&0===ut&&0===Ut&&0===St&&1===Ot&&0===Et)return at[12]=at[12]*X+at[15]*wt,at[13]=at[13]*Ye+at[15]*Sn,at[14]=at[14]*Ot+at[15]*sn,at[15]*=In,this._identityCalculated=!1,this;var _n=at[0],Nt=at[1],An=at[2],cn=at[3],jn=at[4],mn=at[5],nt=at[6],vn=at[7],Dn=at[8],$t=at[9],Ln=at[10],Dr=at[11],an=at[12],wn=at[13],xn=at[14],Tt=at[15];return at[0]=_n*X+Nt*ke+An*Ut+cn*wt,at[1]=_n*ee+Nt*Ye+An*St+cn*Sn,at[2]=_n*ue+Nt*$e+An*Ot+cn*sn,at[3]=_n*Re+Nt*ut+An*Et+cn*In,at[4]=jn*X+mn*ke+nt*Ut+vn*wt,at[5]=jn*ee+mn*Ye+nt*St+vn*Sn,at[6]=jn*ue+mn*$e+nt*Ot+vn*sn,at[7]=jn*Re+mn*ut+nt*Et+vn*In,at[8]=Dn*X+$t*ke+Ln*Ut+Dr*wt,at[9]=Dn*ee+$t*Ye+Ln*St+Dr*Sn,at[10]=Dn*ue+$t*$e+Ln*Ot+Dr*sn,at[11]=Dn*Re+$t*ut+Ln*Et+Dr*In,at[12]=an*X+wn*ke+xn*Ut+Tt*wt,at[13]=an*ee+wn*Ye+xn*St+Tt*Sn,at[14]=an*ue+wn*$e+xn*Ot+Tt*sn,at[15]=an*Re+wn*ut+xn*Et+Tt*In,this._identityCalculated=!1,this}function K(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function A(X){for(var ee=0;ee<16;){if(X.props[ee]!==this.props[ee])return!1;ee+=1}return!0}function O(X){var ee;for(ee=0;ee<16;ee+=1)X.props[ee]=this.props[ee];return X}function T(X){var ee;for(ee=0;ee<16;ee+=1)this.props[ee]=X[ee]}function I(X,ee,ue){return{x:X*this.props[0]+ee*this.props[4]+ue*this.props[8]+this.props[12],y:X*this.props[1]+ee*this.props[5]+ue*this.props[9]+this.props[13],z:X*this.props[2]+ee*this.props[6]+ue*this.props[10]+this.props[14]}}function q(X,ee,ue){return X*this.props[0]+ee*this.props[4]+ue*this.props[8]+this.props[12]}function J(X,ee,ue){return X*this.props[1]+ee*this.props[5]+ue*this.props[9]+this.props[13]}function te(X,ee,ue){return X*this.props[2]+ee*this.props[6]+ue*this.props[10]+this.props[14]}function ne(){var X=this.props[0]*this.props[5]-this.props[1]*this.props[4],ee=this.props[5]/X,ue=-this.props[1]/X,Re=-this.props[4]/X,ke=this.props[0]/X,Ye=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/X,$e=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/X,ut=new Matrix;return ut.props[0]=ee,ut.props[1]=ue,ut.props[4]=Re,ut.props[5]=ke,ut.props[12]=Ye,ut.props[13]=$e,ut}function me(X){return this.getInverseMatrix().applyToPointArray(X[0],X[1],X[2]||0)}function Pe(X){var ee,ue=X.length,Re=[];for(ee=0;ee<ue;ee+=1)Re[ee]=me(X[ee]);return Re}function _e(X,ee,ue){var Re=createTypedArray("float32",6);if(this.isIdentity())Re[0]=X[0],Re[1]=X[1],Re[2]=ee[0],Re[3]=ee[1],Re[4]=ue[0],Re[5]=ue[1];else{var ke=this.props[0],Ye=this.props[1],$e=this.props[4],ut=this.props[5],Ut=this.props[12],St=this.props[13];Re[0]=X[0]*ke+X[1]*$e+Ut,Re[1]=X[0]*Ye+X[1]*ut+St,Re[2]=ee[0]*ke+ee[1]*$e+Ut,Re[3]=ee[0]*Ye+ee[1]*ut+St,Re[4]=ue[0]*ke+ue[1]*$e+Ut,Re[5]=ue[0]*Ye+ue[1]*ut+St}return Re}function ve(X,ee,ue){return this.isIdentity()?[X,ee,ue]:[X*this.props[0]+ee*this.props[4]+ue*this.props[8]+this.props[12],X*this.props[1]+ee*this.props[5]+ue*this.props[9]+this.props[13],X*this.props[2]+ee*this.props[6]+ue*this.props[10]+this.props[14]]}function Ie(X,ee){if(this.isIdentity())return X+","+ee;var ue=this.props;return Math.round(100*(X*ue[0]+ee*ue[4]+ue[12]))/100+","+Math.round(100*(X*ue[1]+ee*ue[5]+ue[13]))/100}function be(){for(var X=0,ee=this.props,ue="matrix3d(";X<16;)ue+=s(1e4*ee[X])/1e4,ue+=15===X?")":",",X+=1;return ue}function de(X){return X<1e-6&&X>0||X>-1e-6&&X<0?s(1e4*X)/1e4:X}function ae(){var X=this.props;return"matrix("+de(X[0])+","+de(X[1])+","+de(X[4])+","+de(X[5])+","+de(X[12])+","+de(X[13])+")"}return function(){this.reset=y,this.rotate=w,this.rotateX=x,this.rotateY=F,this.rotateZ=L,this.skew=z,this.skewFromAxis=Q,this.shear=H,this.scale=P,this.setTransform=U,this.translate=G,this.transform=j,this.applyToPoint=I,this.applyToX=q,this.applyToY=J,this.applyToZ=te,this.applyToPointArray=ve,this.applyToTriplePoints=_e,this.applyToPointStringified=Ie,this.toCSS=be,this.to2dCSS=ae,this.clone=O,this.cloneFromProps=T,this.equals=A,this.inversePoints=Pe,this.inversePoint=me,this.getInverseMatrix=ne,this._t=this.transform,this.isIdentity=K,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(d){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(d){setLocationHref(d)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(d){setSubframeEnabled(d)}function setPrefix(d){setIdPrefix(d)}function loadAnimation(d){return!0===standalone&&(d.animationData=JSON.parse(animationData)),animationManager.loadAnimation(d)}function setQuality(d){if("string"==typeof d)switch(d){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(d)&&d>1&&setDefaultCurveSegments(d);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator<"u"}function installPlugin(d,h){"expressions"===d&&setExpressionsPlugin(h)}function getFactory(d){switch(d){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(d){for(var h=queryString.split("&"),p=0;p<h.length;p+=1){var s=h[p].split("=");if(decodeURIComponent(s[0])==d)return decodeURIComponent(s[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.6";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)}catch(d){}var ShapeModifiers=function(){var d={},h={};return d.registerModifier=function p(y,w){h[y]||(h[y]=w)},d.getModifier=function s(y,w,x){return new h[y](w,x)},d}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(d){if(!this.closed){d.sh.container.addDynamicProperty(d.sh);var h={shape:d.sh,data:d,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(h),this.addShapeToModifier(h),this._isAnimated&&d.setAsAnimated()}},ShapeModifier.prototype.init=function(d,h){this.shapes=[],this.elem=d,this.initDynamicPropertyContainer(d),this.initModifierProperties(d,h),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(d,h){this.s=PropertyFactory.getProp(d,h.s,0,.01,this),this.e=PropertyFactory.getProp(d,h.e,0,.01,this),this.o=PropertyFactory.getProp(d,h.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=h.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(d){d.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(d,h,p,s,y){var w=[];h<=1?w.push({s:d,e:h}):d>=1?w.push({s:d-1,e:h-1}):(w.push({s:d,e:1}),w.push({s:0,e:h-1}));var F,H,x=[],L=w.length;for(F=0;F<L;F+=1)(H=w[F]).e*y<s||H.s*y>s+p||x.push([H.s*y<=s?0:(H.s*y-s)/p,H.e*y>=s+p?1:(H.e*y-s)/p]);return x.length||x.push([0,0]),x},TrimModifier.prototype.releasePathsData=function(d){var h,p=d.length;for(h=0;h<p;h+=1)segmentsLengthPool.release(d[h]);return d.length=0,d},TrimModifier.prototype.processShapes=function(d){var h,p;if(this._mdf||d){var s=this.o.v%360/360;if(s<0&&(s+=1),(h=this.s.v>1?1+s:this.s.v<0?0+s:this.s.v+s)>(p=this.e.v>1?1+s:this.e.v<0?0+s:this.e.v+s)){var y=h;h=p,p=y}h=1e-4*Math.round(1e4*h),p=1e-4*Math.round(1e4*p),this.sValue=h,this.eValue=p}else h=this.sValue,p=this.eValue;var w,x,L,H,z,Q,P,F=this.shapes.length,U=0;if(p===h)for(x=0;x<F;x+=1)this.shapes[x].localShapeCollection.releaseShapes(),this.shapes[x].shape._mdf=!0,this.shapes[x].shape.paths=this.shapes[x].localShapeCollection,this._mdf&&(this.shapes[x].pathsData.length=0);else if(1===p&&0===h||0===p&&1===h){if(this._mdf)for(x=0;x<F;x+=1)this.shapes[x].pathsData.length=0,this.shapes[x].shape._mdf=!0}else{var j,K,G=[];for(x=0;x<F;x+=1)if((j=this.shapes[x]).shape._mdf||this._mdf||d||2===this.m){if(H=(w=j.shape.paths)._length,P=0,!j.shape._mdf&&j.pathsData.length)P=j.totalShapeLength;else{for(z=this.releasePathsData(j.pathsData),L=0;L<H;L+=1)Q=bez.getSegmentsLength(w.shapes[L]),z.push(Q),P+=Q.totalLength;j.totalShapeLength=P,j.pathsData=z}U+=P,j.shape._mdf=!0}else j.shape.paths=j.localShapeCollection;var I,A=h,O=p,T=0;for(x=F-1;x>=0;x-=1)if((j=this.shapes[x]).shape._mdf){for((K=j.localShapeCollection).releaseShapes(),2===this.m&&F>1?(I=this.calculateShapeEdges(h,p,j.totalShapeLength,T,U),T+=j.totalShapeLength):I=[[A,O]],H=I.length,L=0;L<H;L+=1){A=I[L][0],O=I[L][1],G.length=0,O<=1?G.push({s:j.totalShapeLength*A,e:j.totalShapeLength*O}):A>=1?G.push({s:j.totalShapeLength*(A-1),e:j.totalShapeLength*(O-1)}):(G.push({s:j.totalShapeLength*A,e:j.totalShapeLength}),G.push({s:0,e:j.totalShapeLength*(O-1)}));var q=this.addShapes(j,G[0]);if(G[0].s!==G[0].e){if(G.length>1)if(j.shape.paths.shapes[j.shape.paths._length-1].c){var te=q.pop();this.addPaths(q,K),q=this.addShapes(j,G[1],te)}else this.addPaths(q,K),q=this.addShapes(j,G[1]);this.addPaths(q,K)}}j.shape.paths=K}}},TrimModifier.prototype.addPaths=function(d,h){var p,s=d.length;for(p=0;p<s;p+=1)h.addShape(d[p])},TrimModifier.prototype.addSegment=function(d,h,p,s,y,w,x){y.setXYAt(h[0],h[1],"o",w),y.setXYAt(p[0],p[1],"i",w+1),x&&y.setXYAt(d[0],d[1],"v",w),y.setXYAt(s[0],s[1],"v",w+1)},TrimModifier.prototype.addSegmentFromArray=function(d,h,p,s){h.setXYAt(d[1],d[5],"o",p),h.setXYAt(d[2],d[6],"i",p+1),s&&h.setXYAt(d[0],d[4],"v",p),h.setXYAt(d[3],d[7],"v",p+1)},TrimModifier.prototype.addShapes=function(d,h,p){var w,F,L,z,Q,P,U,j,s=d.pathsData,y=d.shape.paths.shapes,x=d.shape.paths._length,H=0,G=[],K=!0;for(p?(Q=p._length,j=p._length):(p=shapePool.newElement(),Q=0,j=0),G.push(p),w=0;w<x;w+=1){for(P=s[w].lengths,p.c=y[w].c,L=y[w].c?P.length:P.length+1,F=1;F<L;F+=1)if(H+(z=P[F-1]).addedLength<h.s)H+=z.addedLength,p.c=!1;else{if(H>h.e){p.c=!1;break}h.s<=H&&h.e>=H+z.addedLength?(this.addSegment(y[w].v[F-1],y[w].o[F-1],y[w].i[F],y[w].v[F],p,Q,K),K=!1):(U=bez.getNewSegment(y[w].v[F-1],y[w].v[F],y[w].o[F-1],y[w].i[F],(h.s-H)/z.addedLength,(h.e-H)/z.addedLength,P[F-1]),this.addSegmentFromArray(U,p,Q,K),K=!1,p.c=!1),H+=z.addedLength,Q+=1}if(y[w].c&&P.length){if(z=P[F-1],H<=h.e){var A=P[F-1].addedLength;h.s<=H&&h.e>=H+A?(this.addSegment(y[w].v[F-1],y[w].o[F-1],y[w].i[0],y[w].v[0],p,Q,K),K=!1):(U=bez.getNewSegment(y[w].v[F-1],y[w].v[0],y[w].o[F-1],y[w].i[0],(h.s-H)/A,(h.e-H)/A,P[F-1]),this.addSegmentFromArray(U,p,Q,K),K=!1,p.c=!1)}else p.c=!1;H+=z.addedLength,Q+=1}if(p._length&&(p.setXYAt(p.v[j][0],p.v[j][1],"i",j),p.setXYAt(p.v[p._length-1][0],p.v[p._length-1][1],"o",p._length-1)),H>h.e)break;w<x-1&&(p=shapePool.newElement(),K=!0,G.push(p),Q=0)}return G},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(d,h){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(d,h.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(d,h){var p=h/100,s=[0,0],y=d._length,w=0;for(w=0;w<y;w+=1)s[0]+=d.v[w][0],s[1]+=d.v[w][1];s[0]/=y,s[1]/=y;var x=shapePool.newElement();for(x.c=d.c,w=0;w<y;w+=1)x.setTripleAt(d.v[w][0]+(s[0]-d.v[w][0])*p,d.v[w][1]+(s[1]-d.v[w][1])*p,d.o[w][0]+(s[0]-d.o[w][0])*-p,d.o[w][1]+(s[1]-d.o[w][1])*-p,d.i[w][0]+(s[0]-d.i[w][0])*-p,d.i[w][1]+(s[1]-d.i[w][1])*-p,w);return x},PuckerAndBloatModifier.prototype.processShapes=function(d){var h,p,y,w,F,L,s=this.shapes.length,x=this.amount.v;if(0!==x)for(p=0;p<s;p+=1){if(L=(F=this.shapes[p]).localShapeCollection,F.shape._mdf||this._mdf||d)for(L.releaseShapes(),F.shape._mdf=!0,h=F.shape.paths.shapes,w=F.shape.paths._length,y=0;y<w;y+=1)L.addShape(this.processPath(h[y],x));F.shape.paths=F.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var d=[0,0];function x(L,H,z){if(this.elem=L,this.frameId=-1,this.propType="transform",this.data=H,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(z||L),H.p&&H.p.s?(this.px=PropertyFactory.getProp(L,H.p.x,0,0,this),this.py=PropertyFactory.getProp(L,H.p.y,0,0,this),H.p.z&&(this.pz=PropertyFactory.getProp(L,H.p.z,0,0,this))):this.p=PropertyFactory.getProp(L,H.p||{k:[0,0,0]},1,0,this),H.rx){if(this.rx=PropertyFactory.getProp(L,H.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(L,H.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(L,H.rz,0,degToRads,this),H.or.k[0].ti){var Q,P=H.or.k.length;for(Q=0;Q<P;Q+=1)H.or.k[Q].to=null,H.or.k[Q].ti=null}this.or=PropertyFactory.getProp(L,H.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(L,H.r||{k:0},0,degToRads,this);H.sk&&(this.sk=PropertyFactory.getProp(L,H.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(L,H.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(L,H.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(L,H.s||{k:[100,100,100]},1,.01,this),this.o=H.o?PropertyFactory.getProp(L,H.o,0,.01,L):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return x.prototype={applyToMatrix:function h(L){var H=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||H,this.a&&L.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&L.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&L.skewFromAxis(-this.sk.v,this.sa.v),this.r?L.rotate(-this.r.v):L.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?L.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):L.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function p(L){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||L){var H;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var z,Q;if(H=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(z=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/H,0),Q=this.p.getValueAtTime(this.p.keyframes[0].t/H,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(z=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/H,0),Q=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/H,0)):(z=this.p.pv,Q=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/H,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){z=[],Q=[];var P=this.px,U=this.py;P._caching.lastFrame+P.offsetTime<=P.keyframes[0].t?(z[0]=P.getValueAtTime((P.keyframes[0].t+.01)/H,0),z[1]=U.getValueAtTime((U.keyframes[0].t+.01)/H,0),Q[0]=P.getValueAtTime(P.keyframes[0].t/H,0),Q[1]=U.getValueAtTime(U.keyframes[0].t/H,0)):P._caching.lastFrame+P.offsetTime>=P.keyframes[P.keyframes.length-1].t?(z[0]=P.getValueAtTime(P.keyframes[P.keyframes.length-1].t/H,0),z[1]=U.getValueAtTime(U.keyframes[U.keyframes.length-1].t/H,0),Q[0]=P.getValueAtTime((P.keyframes[P.keyframes.length-1].t-.01)/H,0),Q[1]=U.getValueAtTime((U.keyframes[U.keyframes.length-1].t-.01)/H,0)):(z=[P.pv,U.pv],Q[0]=P.getValueAtTime((P._caching.lastFrame+P.offsetTime-.01)/H,P.offsetTime),Q[1]=U.getValueAtTime((U._caching.lastFrame+U.offsetTime-.01)/H,U.offsetTime))}else z=Q=d;this.v.rotate(-Math.atan2(z[1]-Q[1],z[0]-Q[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function s(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function y(){}},extendPrototype([DynamicPropertyContainer],x),x.prototype.addDynamicProperty=function w(L){this._addDynamicProperty(L),this.elem.addDynamicProperty(L),this._isDirty=!0},x.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function F(L,H,z){return new x(L,H,z)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function getFontProperties(d){for(var w,h=d.fStyle?d.fStyle.split(" "):[],p="normal",s="normal",y=h.length,x=0;x<y;x+=1)switch(w=h[x].toLowerCase(),w){case"italic":s="italic";break;case"bold":p="700";break;case"black":p="900";break;case"medium":p="500";break;case"regular":case"normal":p="400";break;case"light":case"thin":p="200"}return{style:s,weight:d.fWeight||p}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(d,h){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(d,h.c,0,null,this),this.o=PropertyFactory.getProp(d,h.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(d,h.tr,this),this.so=PropertyFactory.getProp(d,h.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(d,h.tr.eo,0,.01,this),this.data=h,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(d,h,p,s,y,w){var x=w?-1:1,F=s.s.v[0]+(1-s.s.v[0])*(1-y),L=s.s.v[1]+(1-s.s.v[1])*(1-y);d.translate(s.p.v[0]*x*y,s.p.v[1]*x*y,s.p.v[2]),h.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),h.rotate(-s.r.v*x*y),h.translate(s.a.v[0],s.a.v[1],s.a.v[2]),p.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),p.scale(w?1/F:F,w?1/L:L),p.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(d,h,p,s){for(this.elem=d,this.arr=h,this.pos=p,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(d),this.initModifierProperties(d,h[p]);p>0;)this._elements.unshift(h[p-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(d){var h,p=d.length;for(h=0;h<p;h+=1)d[h]._processed=!1,"gr"===d[h].ty&&this.resetElements(d[h].it)},RepeaterModifier.prototype.cloneElements=function(d){var h=JSON.parse(JSON.stringify(d));return this.resetElements(h),h},RepeaterModifier.prototype.changeGroupRender=function(d,h){var p,s=d.length;for(p=0;p<s;p+=1)d[p]._render=h,"gr"===d[p].ty&&this.changeGroupRender(d[p].it,h)},RepeaterModifier.prototype.processShapes=function(d){var h,p,s,y,w,x=!1;if(this._mdf||d){var H,F=Math.ceil(this.c.v);if(this._groups.length<F){for(;this._groups.length<F;){var L={it:this.cloneElements(this._elements),ty:"gr"};L.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,L),this._groups.splice(0,0,L),this._currentCopies+=1}this.elem.reloadShapes(),x=!0}for(w=0,s=0;s<=this._groups.length-1;s+=1){if(this._groups[s]._render=H=w<F,this.changeGroupRender(this._groups[s].it,H),!H){var z=this.elemsData[s].it,Q=z[z.length-1];0!==Q.transform.op.v?(Q.transform.op._mdf=!0,Q.transform.op.v=0):Q.transform.op._mdf=!1}w+=1}this._currentCopies=F;var P=this.o.v,U=P%1,G=P>0?Math.floor(P):Math.ceil(P),j=this.pMatrix.props,K=this.rMatrix.props,A=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var T,I,O=0;if(P>0){for(;O<G;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),O+=1;U&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,U,!1),O+=U)}else if(P<0){for(;O>G;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),O-=1;U&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-U,!0),O-=U)}for(s=1===this.data.m?0:this._currentCopies-1,y=1===this.data.m?1:-1,w=this._currentCopies;w;){if(I=(p=(h=this.elemsData[s].it)[h.length-1].transform.mProps.v.props).length,h[h.length-1].transform.mProps._mdf=!0,h[h.length-1].transform.op._mdf=!0,h[h.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+s/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==O){for((0!==s&&1===y||s!==this._currentCopies-1&&-1===y)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],K[8],K[9],K[10],K[11],K[12],K[13],K[14],K[15]),this.matrix.transform(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8],A[9],A[10],A[11],A[12],A[13],A[14],A[15]),this.matrix.transform(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],j[12],j[13],j[14],j[15]),T=0;T<I;T+=1)p[T]=this.matrix.props[T];this.matrix.reset()}else for(this.matrix.reset(),T=0;T<I;T+=1)p[T]=this.matrix.props[T];O+=1,w-=1,s+=y}}else for(w=this._currentCopies,s=0,y=1;w;)p=(h=this.elemsData[s].it)[h.length-1].transform.mProps.v.props,h[h.length-1].transform.mProps._mdf=!1,h[h.length-1].transform.op._mdf=!1,w-=1,s+=y;return x},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(d,h){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(d,h.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(d,h){var p=shapePool.newElement();p.c=d.c;var s,w,x,F,L,H,z,P,U,G,j,K,A,y=d._length,Q=0;for(s=0;s<y;s+=1)x=d.i[s],(w=d.v[s])[0]===(F=d.o[s])[0]&&w[1]===F[1]&&w[0]===x[0]&&w[1]===x[1]?0!==s&&s!==y-1||d.c?(L=0===s?d.v[y-1]:d.v[s-1],z=(H=Math.sqrt(Math.pow(w[0]-L[0],2)+Math.pow(w[1]-L[1],2)))?Math.min(H/2,h)/H:0,p.setTripleAt(P=K=w[0]+(L[0]-w[0])*z,U=A=w[1]-(w[1]-L[1])*z,P-(P-w[0])*roundCorner,U-(U-w[1])*roundCorner,K,A,Q),Q+=1,L=s===y-1?d.v[0]:d.v[s+1],z=(H=Math.sqrt(Math.pow(w[0]-L[0],2)+Math.pow(w[1]-L[1],2)))?Math.min(H/2,h)/H:0,p.setTripleAt(P=G=w[0]+(L[0]-w[0])*z,U=j=w[1]+(L[1]-w[1])*z,G,j,K=P-(P-w[0])*roundCorner,A=U-(U-w[1])*roundCorner,Q),Q+=1):(p.setTripleAt(w[0],w[1],F[0],F[1],x[0],x[1],Q),Q+=1):(p.setTripleAt(d.v[s][0],d.v[s][1],d.o[s][0],d.o[s][1],d.i[s][0],d.i[s][1],Q),Q+=1);return p},RoundCornersModifier.prototype.processShapes=function(d){var h,p,y,w,F,L,s=this.shapes.length,x=this.rd.v;if(0!==x)for(p=0;p<s;p+=1){if(L=(F=this.shapes[p]).localShapeCollection,F.shape._mdf||this._mdf||d)for(L.releaseShapes(),F.shape._mdf=!0,h=F.shape.paths.shapes,w=F.shape.paths._length,y=0;y<w;y+=1)L.addShape(this.processPath(h[y],x));F.shape.paths=F.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var h={w:0,size:0,shapes:[],data:{shapes:[]}},p=[];p=p.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],y=[65039,8205];function x(I,q){var J=createTag("span");J.setAttribute("aria-hidden",!0),J.style.fontFamily=q;var te=createTag("span");te.innerText="giItT1WQy@!-/#",J.style.position="absolute",J.style.left="-10000px",J.style.top="-10000px",J.style.fontSize="300px",J.style.fontVariant="normal",J.style.fontStyle="normal",J.style.fontWeight="normal",J.style.letterSpacing="0",J.appendChild(te),document.body.appendChild(J);var ne=te.offsetWidth;return te.style.fontFamily=function w(I){var J,q=I.split(","),te=q.length,ne=[];for(J=0;J<te;J+=1)"sans-serif"!==q[J]&&"monospace"!==q[J]&&ne.push(q[J]);return ne.join(",")}(I)+", "+q,{node:te,w:ne,parent:J}}function L(I,q){var te,J=document.body&&q?"svg":"canvas",ne=getFontProperties(I);if("svg"===J){var me=createNS("text");me.style.fontSize="100px",me.setAttribute("font-family",I.fFamily),me.setAttribute("font-style",ne.style),me.setAttribute("font-weight",ne.weight),me.textContent="1",I.fClass?(me.style.fontFamily="inherit",me.setAttribute("class",I.fClass)):me.style.fontFamily=I.fFamily,q.appendChild(me),te=me}else{var Pe=new OffscreenCanvas(500,500).getContext("2d");Pe.font=ne.style+" "+ne.weight+" 100px "+I.fFamily,te=Pe}return{measureText:function _e(ve){return"svg"===J?(te.textContent=ve,te.getComputedTextLength()):te.measureText(ve).width}}}var O=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return O.isModifier=function G(I,q){var J=I.toString(16)+q.toString(16);return-1!==s.indexOf(J)},O.isZeroWidthJoiner=function j(I,q){return q?I===y[0]&&q===y[1]:I===y[1]},O.isCombinedCharacter=function K(I){return-1!==p.indexOf(I)},O.prototype={addChars:function z(I){if(I){this.chars||(this.chars=[]);var q,te,me,J=I.length,ne=this.chars.length;for(q=0;q<J;q+=1){for(te=0,me=!1;te<ne;)this.chars[te].style===I[q].style&&this.chars[te].fFamily===I[q].fFamily&&this.chars[te].ch===I[q].ch&&(me=!0),te+=1;me||(this.chars.push(I[q]),ne+=1)}}},addFonts:function H(I,q){if(I){if(this.chars)return this.isLoaded=!0,void(this.fonts=I.list);if(!document.body)return this.isLoaded=!0,I.list.forEach(function(ae){ae.helper=L(ae),ae.cache={}}),void(this.fonts=I.list);var te,J=I.list,ne=J.length,me=ne;for(te=0;te<ne;te+=1){var _e,ve,Pe=!0;if(J[te].loaded=!1,J[te].monoCase=x(J[te].fFamily,"monospace"),J[te].sansCase=x(J[te].fFamily,"sans-serif"),J[te].fPath){if("p"===J[te].fOrigin||3===J[te].origin){if((_e=document.querySelectorAll('style[f-forigin="p"][f-family="'+J[te].fFamily+'"], style[f-origin="3"][f-family="'+J[te].fFamily+'"]')).length>0&&(Pe=!1),Pe){var Ie=createTag("style");Ie.setAttribute("f-forigin",J[te].fOrigin),Ie.setAttribute("f-origin",J[te].origin),Ie.setAttribute("f-family",J[te].fFamily),Ie.type="text/css",Ie.innerText="@font-face {font-family: "+J[te].fFamily+"; font-style: normal; src: url('"+J[te].fPath+"');}",q.appendChild(Ie)}}else if("g"===J[te].fOrigin||1===J[te].origin){for(_e=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),ve=0;ve<_e.length;ve+=1)-1!==_e[ve].href.indexOf(J[te].fPath)&&(Pe=!1);if(Pe){var be=createTag("link");be.setAttribute("f-forigin",J[te].fOrigin),be.setAttribute("f-origin",J[te].origin),be.type="text/css",be.rel="stylesheet",be.href=J[te].fPath,document.body.appendChild(be)}}else if("t"===J[te].fOrigin||2===J[te].origin){for(_e=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),ve=0;ve<_e.length;ve+=1)J[te].fPath===_e[ve].src&&(Pe=!1);if(Pe){var de=createTag("link");de.setAttribute("f-forigin",J[te].fOrigin),de.setAttribute("f-origin",J[te].origin),de.setAttribute("rel","stylesheet"),de.setAttribute("href",J[te].fPath),q.appendChild(de)}}}else J[te].loaded=!0,me-=1;J[te].helper=L(J[te],q),J[te].cache={},this.fonts.push(J[te])}0===me?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function Q(I,q,J){for(var te=0,ne=this.chars.length;te<ne;){if(this.chars[te].ch===I&&this.chars[te].style===q&&this.chars[te].fFamily===J)return this.chars[te];te+=1}return("string"==typeof I&&13!==I.charCodeAt(0)||!I)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",I,q,J)),h},getFontByName:function U(I){for(var q=0,J=this.fonts.length;q<J;){if(this.fonts[q].fName===I)return this.fonts[q];q+=1}return this.fonts[0]},measureText:function P(I,q,J){var te=this.getFontByName(q),ne=I.charCodeAt(0);if(!te.cache[ne+1]){var me=te.helper;if(" "===I){var Pe=me.measureText("|"+I+"|"),_e=me.measureText("||");te.cache[ne+1]=(Pe-_e)/100}else te.cache[ne+1]=me.measureText(I)/100}return te.cache[ne+1]*J},checkLoadedFonts:function F(){var I,q=this.fonts.length,ne=q;for(I=0;I<q;I+=1)this.fonts[I].loaded?ne-=1:"n"===this.fonts[I].fOrigin||0===this.fonts[I].origin?this.fonts[I].loaded=!0:((this.fonts[I].monoCase.node.offsetWidth!==this.fonts[I].monoCase.w||this.fonts[I].sansCase.node.offsetWidth!==this.fonts[I].sansCase.w)&&(ne-=1,this.fonts[I].loaded=!0),this.fonts[I].loaded&&(this.fonts[I].sansCase.parent.parentNode.removeChild(this.fonts[I].sansCase.parent),this.fonts[I].monoCase.parent.parentNode.removeChild(this.fonts[I].monoCase.parent)));0!==ne&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function A(){this.isLoaded=!0}},O}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(h){-1===this.renderableComponents.indexOf(h)&&this.renderableComponents.push(h)},removeRenderableComponent:function(h){-1!==this.renderableComponents.indexOf(h)&&this.renderableComponents.splice(this.renderableComponents.indexOf(h),1)},prepareRenderableFrame:function(h){this.checkLayerLimits(h)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(h){this.data.ip-this.data.st<=h&&this.data.op-this.data.st>h?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var h,p=this.renderableComponents.length;for(h=0;h<p;h+=1)this.renderableComponents[h].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function d(p,s){this._mask=p,this._data=s}return Object.defineProperty(d.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(d.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(s){var w,y=createSizedArray(s.viewData.length),x=s.viewData.length;for(w=0;w<x;w+=1)y[w]=new d(s.viewData[w],s.masksProperties[w]);return function(H){for(w=0;w<x;){if(s.masksProperties[w].nm===H)return y[w];w+=1}return null}}}(),ExpressionPropertyInterface=function(){var d={pv:0,v:0,mult:1},h={pv:[0,0,0],v:[0,0,0],mult:1};function p(x,F,L){Object.defineProperty(x,"velocity",{get:function(){return F.getVelocityAtTime(F.comp.currentFrame)}}),x.numKeys=F.keyframes?F.keyframes.length:0,x.key=function(H){if(!x.numKeys)return 0;var z;z="s"in F.keyframes[H-1]?F.keyframes[H-1].s:"e"in F.keyframes[H-2]?F.keyframes[H-2].e:F.keyframes[H-2].s;var Q="unidimensional"===L?new Number(z):Object.assign({},z);return Q.time=F.keyframes[H-1].t/F.elem.comp.globalData.frameRate,Q.value="unidimensional"===L?z[0]:z,Q},x.valueAtTime=F.getValueAtTime,x.speedAtTime=F.getSpeedAtTime,x.velocityAtTime=F.getVelocityAtTime,x.propertyGroup=F.propertyGroup}function w(){return d}return function(x){return x?"unidimensional"===x.propType?function s(x){(!x||!("pv"in x))&&(x=d);var F=1/x.mult,L=x.pv*F,H=new Number(L);return H.value=L,p(H,x,"unidimensional"),function(){return x.k&&x.getValue(),H.value!==(L=x.v*F)&&((H=new Number(L)).value=L,p(H,x,"unidimensional")),H}}(x):function y(x){(!x||!("pv"in x))&&(x=h);var F=1/x.mult,L=x.data&&x.data.l||x.pv.length,H=createTypedArray("float32",L),z=createTypedArray("float32",L);return H.value=z,p(H,x,"multidimensional"),function(){x.k&&x.getValue();for(var Q=0;Q<L;Q+=1)z[Q]=x.v[Q]*F,H[Q]=z[Q];return H}}(x):w}}(),TransformExpressionInterface=function(d){function h(x){switch(x){case"scale":case"Scale":case"ADBE Scale":case 6:return h.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return h.rotation;case"ADBE Rotate X":return h.xRotation;case"ADBE Rotate Y":return h.yRotation;case"position":case"Position":case"ADBE Position":case 2:return h.position;case"ADBE Position_0":return h.xPosition;case"ADBE Position_1":return h.yPosition;case"ADBE Position_2":return h.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return h.anchorPoint;case"opacity":case"Opacity":case 11:return h.opacity;default:return null}}var p,s,y,w;return Object.defineProperty(h,"rotation",{get:ExpressionPropertyInterface(d.r||d.rz)}),Object.defineProperty(h,"zRotation",{get:ExpressionPropertyInterface(d.rz||d.r)}),Object.defineProperty(h,"xRotation",{get:ExpressionPropertyInterface(d.rx)}),Object.defineProperty(h,"yRotation",{get:ExpressionPropertyInterface(d.ry)}),Object.defineProperty(h,"scale",{get:ExpressionPropertyInterface(d.s)}),d.p?w=ExpressionPropertyInterface(d.p):(p=ExpressionPropertyInterface(d.px),s=ExpressionPropertyInterface(d.py),d.pz&&(y=ExpressionPropertyInterface(d.pz))),Object.defineProperty(h,"position",{get:function(){return d.p?w():[p(),s(),y?y():0]}}),Object.defineProperty(h,"xPosition",{get:ExpressionPropertyInterface(d.px)}),Object.defineProperty(h,"yPosition",{get:ExpressionPropertyInterface(d.py)}),Object.defineProperty(h,"zPosition",{get:ExpressionPropertyInterface(d.pz)}),Object.defineProperty(h,"anchorPoint",{get:ExpressionPropertyInterface(d.a)}),Object.defineProperty(h,"opacity",{get:ExpressionPropertyInterface(d.o)}),Object.defineProperty(h,"skew",{get:ExpressionPropertyInterface(d.sk)}),Object.defineProperty(h,"skewAxis",{get:ExpressionPropertyInterface(d.sa)}),Object.defineProperty(h,"orientation",{get:ExpressionPropertyInterface(d.or)}),h},LayerExpressionInterface=function(){function d(H){var z=new Matrix;return void 0!==H?this._elem.finalTransform.mProp.getValueAtTime(H).clone(z):this._elem.finalTransform.mProp.applyToMatrix(z),z}function h(H,z){var Q=this.getMatrix(z);return Q.props[12]=0,Q.props[13]=0,Q.props[14]=0,this.applyPoint(Q,H)}function p(H,z){var Q=this.getMatrix(z);return this.applyPoint(Q,H)}function s(H,z){var Q=this.getMatrix(z);return Q.props[12]=0,Q.props[13]=0,Q.props[14]=0,this.invertPoint(Q,H)}function y(H,z){var Q=this.getMatrix(z);return this.invertPoint(Q,H)}function w(H,z){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Q,P=this._elem.hierarchy.length;for(Q=0;Q<P;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(H)}return H.applyToPointArray(z[0],z[1],z[2]||0)}function x(H,z){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Q,P=this._elem.hierarchy.length;for(Q=0;Q<P;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(H)}return H.inversePoint(z)}function F(H){var z=new Matrix;if(z.reset(),this._elem.finalTransform.mProp.applyToMatrix(z),this._elem.hierarchy&&this._elem.hierarchy.length){var Q,P=this._elem.hierarchy.length;for(Q=0;Q<P;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(z);return z.inversePoint(H)}return z.inversePoint(H)}function L(){return[1,1,1,1]}return function(H){var z;function U(j){switch(j){case"ADBE Root Vectors Group":case"Contents":case 2:return U.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return z;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return U.effect;case"ADBE Text Properties":return U.textInterface;default:return null}}U.getMatrix=d,U.invertPoint=x,U.applyPoint=w,U.toWorld=p,U.toWorldVec=h,U.fromWorld=y,U.fromWorldVec=s,U.toComp=p,U.fromComp=F,U.sampleImage=L,U.sourceRectAtTime=H.sourceRectAtTime.bind(H),U._elem=H;var G=getDescriptor(z=TransformExpressionInterface(H.finalTransform.mProp),"anchorPoint");return Object.defineProperties(U,{hasParent:{get:function(){return H.hierarchy.length}},parent:{get:function(){return H.hierarchy[0].layerInterface}},rotation:getDescriptor(z,"rotation"),scale:getDescriptor(z,"scale"),position:getDescriptor(z,"position"),opacity:getDescriptor(z,"opacity"),anchorPoint:G,anchor_point:G,transform:{get:function(){return z}},active:{get:function(){return H.isInRange}}}),U.startTime=H.data.st,U.index=H.data.ind,U.source=H.data.refId,U.height=0===H.data.ty?H.data.h:100,U.width=0===H.data.ty?H.data.w:100,U.inPoint=H.data.ip/H.comp.globalData.frameRate,U.outPoint=H.data.op/H.comp.globalData.frameRate,U._name=H.data.nm,U.registerMaskInterface=function Q(j){U.mask=new MaskManagerInterface(j,H)},U.registerEffectsInterface=function P(j){U.effect=j},U}}(),propertyGroupFactory=function(d,h){return function(p){return(p=void 0===p?1:p)<=0?d:h(p-1)}},PropertyInterface=function(d,h){var p={_name:d};return function s(y){return(y=void 0===y?1:y)<=0?p:h(y-1)}},EffectsExpressionInterface=function(){function p(y,w,x,F){function L(U){for(var G=y.ef,j=0,K=G.length;j<K;){if(U===G[j].nm||U===G[j].mn||U===G[j].ix)return 5===G[j].ty?z[j]:z[j]();j+=1}throw new Error}var Q,H=propertyGroupFactory(L,x),z=[],P=y.ef.length;for(Q=0;Q<P;Q+=1)z.push(5===y.ef[Q].ty?p(y.ef[Q],w.effectElements[Q],w.effectElements[Q].propertyGroup,F):s(w.effectElements[Q],y.ef[Q].ty,F,H));return"ADBE Color Control"===y.mn&&Object.defineProperty(L,"color",{get:function(){return z[0]()}}),Object.defineProperties(L,{numProperties:{get:function(){return y.np}},_name:{value:y.nm},propertyGroup:{value:H}}),L.active=L.enabled=0!==y.en,L}function s(y,w,x,F){var L=ExpressionPropertyInterface(y.p);return y.p.setGroupProperty&&y.p.setGroupProperty(PropertyInterface("",F)),function H(){return 10===w?x.comp.compInterface(y.p.v):L()}}return{createEffectsInterface:function h(y,w){if(y.effectsManager){var L,x=[],F=y.data.ef,H=y.effectsManager.effectElements.length;for(L=0;L<H;L+=1)x.push(p(F[L],y.effectsManager.effectElements[L],w,y));var z=y.data.ef||[],Q=function(U){for(L=0,H=z.length;L<H;){if(U===z[L].nm||U===z[L].mn||U===z[L].ix)return x[L];L+=1}return null};return Object.defineProperty(Q,"numProperties",{get:function(){return z.length}}),Q}return null}}}(),CompExpressionInterface=function(d){function h(p){for(var s=0,y=d.layers.length;s<y;){if(d.layers[s].nm===p||d.layers[s].ind===p)return d.elements[s].layerInterface;s+=1}return null}return Object.defineProperty(h,"_name",{value:d.data.nm}),h.layer=h,h.pixelAspect=1,h.height=d.data.h||d.globalData.compSize.h,h.width=d.data.w||d.globalData.compSize.w,h.pixelAspect=1,h.frameDuration=1/d.globalData.frameRate,h.displayStartTime=0,h.numLayers=d.layers.length,h},ShapePathInterface=function(h,p,s){var y=p.sh;function w(F){return"Shape"===F||"shape"===F||"Path"===F||"path"===F||"ADBE Vector Shape"===F||2===F?w.path:null}var x=propertyGroupFactory(w,s);return y.setGroupProperty(PropertyInterface("Path",x)),Object.defineProperties(w,{path:{get:function(){return y.k&&y.getValue(),y}},shape:{get:function(){return y.k&&y.getValue(),y}},_name:{value:h.nm},ix:{value:h.ix},propertyIndex:{value:h.ix},mn:{value:h.mn},propertyGroup:{value:s}}),w},ShapeExpressionInterface=function(){function d(G,j,K){var O,A=[],T=G?G.length:0;for(O=0;O<T;O+=1)"gr"===G[O].ty?A.push(p(G[O],j[O],K)):"fl"===G[O].ty?A.push(s(G[O],j[O],K)):"st"===G[O].ty?A.push(x(G[O],j[O],K)):"tm"===G[O].ty?A.push(F(G[O],j[O],K)):"tr"===G[O].ty||A.push("el"===G[O].ty?H(G[O],j[O],K):"sr"===G[O].ty?z(G[O],j[O],K):"sh"===G[O].ty?ShapePathInterface(G[O],j[O],K):"rc"===G[O].ty?Q(G[O],j[O],K):"rd"===G[O].ty?P(G[O],j[O],K):"rp"===G[O].ty?U(G[O],j[O],K):"gf"===G[O].ty?y(G[O],j[O],K):function G(){return null});return A}function p(G,j,K){var A=function(q){switch(q){case"ADBE Vectors Group":case"Contents":case 2:return A.content;default:return A.transform}};A.propertyGroup=propertyGroupFactory(A,K);var O=function h(G,j,K){var A,O=function(q){for(var J=0,te=A.length;J<te;){if(A[J]._name===q||A[J].mn===q||A[J].propertyIndex===q||A[J].ix===q||A[J].ind===q)return A[J];J+=1}return"number"==typeof q?A[q-1]:null};O.propertyGroup=propertyGroupFactory(O,K),A=d(G.it,j.it,O.propertyGroup),O.numProperties=A.length;var T=L(G.it[G.it.length-1],j.it[j.it.length-1],O.propertyGroup);return O.transform=T,O.propertyIndex=G.cix,O._name=G.nm,O}(G,j,A.propertyGroup),T=L(G.it[G.it.length-1],j.it[j.it.length-1],A.propertyGroup);return A.content=O,A.transform=T,Object.defineProperty(A,"_name",{get:function(){return G.nm}}),A.numProperties=G.np,A.propertyIndex=G.ix,A.nm=G.nm,A.mn=G.mn,A}function s(G,j,K){function A(O){return"Color"===O||"color"===O?A.color:"Opacity"===O||"opacity"===O?A.opacity:null}return Object.defineProperties(A,{color:{get:ExpressionPropertyInterface(j.c)},opacity:{get:ExpressionPropertyInterface(j.o)},_name:{value:G.nm},mn:{value:G.mn}}),j.c.setGroupProperty(PropertyInterface("Color",K)),j.o.setGroupProperty(PropertyInterface("Opacity",K)),A}function y(G,j,K){function A(O){return"Start Point"===O||"start point"===O?A.startPoint:"End Point"===O||"end point"===O?A.endPoint:"Opacity"===O||"opacity"===O?A.opacity:null}return Object.defineProperties(A,{startPoint:{get:ExpressionPropertyInterface(j.s)},endPoint:{get:ExpressionPropertyInterface(j.e)},opacity:{get:ExpressionPropertyInterface(j.o)},type:{get:function(){return"a"}},_name:{value:G.nm},mn:{value:G.mn}}),j.s.setGroupProperty(PropertyInterface("Start Point",K)),j.e.setGroupProperty(PropertyInterface("End Point",K)),j.o.setGroupProperty(PropertyInterface("Opacity",K)),A}function x(G,j,K){var I,ne,A=propertyGroupFactory(te,K),O=propertyGroupFactory(J,A),q=G.d?G.d.length:0,J={};for(I=0;I<q;I+=1)ne=I,Object.defineProperty(J,G.d[ne].nm,{get:ExpressionPropertyInterface(j.d.dataProps[ne].p)}),j.d.dataProps[I].p.setGroupProperty(O);function te(ne){return"Color"===ne||"color"===ne?te.color:"Opacity"===ne||"opacity"===ne?te.opacity:"Stroke Width"===ne||"stroke width"===ne?te.strokeWidth:null}return Object.defineProperties(te,{color:{get:ExpressionPropertyInterface(j.c)},opacity:{get:ExpressionPropertyInterface(j.o)},strokeWidth:{get:ExpressionPropertyInterface(j.w)},dash:{get:function(){return J}},_name:{value:G.nm},mn:{value:G.mn}}),j.c.setGroupProperty(PropertyInterface("Color",A)),j.o.setGroupProperty(PropertyInterface("Opacity",A)),j.w.setGroupProperty(PropertyInterface("Stroke Width",A)),te}function F(G,j,K){function A(T){return T===G.e.ix||"End"===T||"end"===T?A.end:T===G.s.ix?A.start:T===G.o.ix?A.offset:null}var O=propertyGroupFactory(A,K);return A.propertyIndex=G.ix,j.s.setGroupProperty(PropertyInterface("Start",O)),j.e.setGroupProperty(PropertyInterface("End",O)),j.o.setGroupProperty(PropertyInterface("Offset",O)),A.propertyIndex=G.ix,A.propertyGroup=K,Object.defineProperties(A,{start:{get:ExpressionPropertyInterface(j.s)},end:{get:ExpressionPropertyInterface(j.e)},offset:{get:ExpressionPropertyInterface(j.o)},_name:{value:G.nm}}),A.mn=G.mn,A}function L(G,j,K){function A(T){return G.a.ix===T||"Anchor Point"===T?A.anchorPoint:G.o.ix===T||"Opacity"===T?A.opacity:G.p.ix===T||"Position"===T?A.position:G.r.ix===T||"Rotation"===T||"ADBE Vector Rotation"===T?A.rotation:G.s.ix===T||"Scale"===T?A.scale:G.sk&&G.sk.ix===T||"Skew"===T?A.skew:G.sa&&G.sa.ix===T||"Skew Axis"===T?A.skewAxis:null}var O=propertyGroupFactory(A,K);return j.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",O)),j.transform.mProps.p.setGroupProperty(PropertyInterface("Position",O)),j.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",O)),j.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",O)),j.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",O)),j.transform.mProps.sk&&(j.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",O)),j.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",O))),j.transform.op.setGroupProperty(PropertyInterface("Opacity",O)),Object.defineProperties(A,{opacity:{get:ExpressionPropertyInterface(j.transform.mProps.o)},position:{get:ExpressionPropertyInterface(j.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(j.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(j.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(j.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(j.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(j.transform.mProps.sa)},_name:{value:G.nm}}),A.ty="tr",A.mn=G.mn,A.propertyGroup=K,A}function H(G,j,K){function A(I){return G.p.ix===I?A.position:G.s.ix===I?A.size:null}var O=propertyGroupFactory(A,K);A.propertyIndex=G.ix;var T="tm"===j.sh.ty?j.sh.prop:j.sh;return T.s.setGroupProperty(PropertyInterface("Size",O)),T.p.setGroupProperty(PropertyInterface("Position",O)),Object.defineProperties(A,{size:{get:ExpressionPropertyInterface(T.s)},position:{get:ExpressionPropertyInterface(T.p)},_name:{value:G.nm}}),A.mn=G.mn,A}function z(G,j,K){function A(I){return G.p.ix===I?A.position:G.r.ix===I?A.rotation:G.pt.ix===I?A.points:G.or.ix===I||"ADBE Vector Star Outer Radius"===I?A.outerRadius:G.os.ix===I?A.outerRoundness:!G.ir||G.ir.ix!==I&&"ADBE Vector Star Inner Radius"!==I?G.is&&G.is.ix===I?A.innerRoundness:null:A.innerRadius}var O=propertyGroupFactory(A,K),T="tm"===j.sh.ty?j.sh.prop:j.sh;return A.propertyIndex=G.ix,T.or.setGroupProperty(PropertyInterface("Outer Radius",O)),T.os.setGroupProperty(PropertyInterface("Outer Roundness",O)),T.pt.setGroupProperty(PropertyInterface("Points",O)),T.p.setGroupProperty(PropertyInterface("Position",O)),T.r.setGroupProperty(PropertyInterface("Rotation",O)),G.ir&&(T.ir.setGroupProperty(PropertyInterface("Inner Radius",O)),T.is.setGroupProperty(PropertyInterface("Inner Roundness",O))),Object.defineProperties(A,{position:{get:ExpressionPropertyInterface(T.p)},rotation:{get:ExpressionPropertyInterface(T.r)},points:{get:ExpressionPropertyInterface(T.pt)},outerRadius:{get:ExpressionPropertyInterface(T.or)},outerRoundness:{get:ExpressionPropertyInterface(T.os)},innerRadius:{get:ExpressionPropertyInterface(T.ir)},innerRoundness:{get:ExpressionPropertyInterface(T.is)},_name:{value:G.nm}}),A.mn=G.mn,A}function Q(G,j,K){function A(I){return G.p.ix===I?A.position:G.r.ix===I?A.roundness:G.s.ix===I||"Size"===I||"ADBE Vector Rect Size"===I?A.size:null}var O=propertyGroupFactory(A,K),T="tm"===j.sh.ty?j.sh.prop:j.sh;return A.propertyIndex=G.ix,T.p.setGroupProperty(PropertyInterface("Position",O)),T.s.setGroupProperty(PropertyInterface("Size",O)),T.r.setGroupProperty(PropertyInterface("Rotation",O)),Object.defineProperties(A,{position:{get:ExpressionPropertyInterface(T.p)},roundness:{get:ExpressionPropertyInterface(T.r)},size:{get:ExpressionPropertyInterface(T.s)},_name:{value:G.nm}}),A.mn=G.mn,A}function P(G,j,K){function A(I){return G.r.ix===I||"Round Corners 1"===I?A.radius:null}var O=propertyGroupFactory(A,K),T=j;return A.propertyIndex=G.ix,T.rd.setGroupProperty(PropertyInterface("Radius",O)),Object.defineProperties(A,{radius:{get:ExpressionPropertyInterface(T.rd)},_name:{value:G.nm}}),A.mn=G.mn,A}function U(G,j,K){function A(I){return G.c.ix===I||"Copies"===I?A.copies:G.o.ix===I||"Offset"===I?A.offset:null}var O=propertyGroupFactory(A,K),T=j;return A.propertyIndex=G.ix,T.c.setGroupProperty(PropertyInterface("Copies",O)),T.o.setGroupProperty(PropertyInterface("Offset",O)),Object.defineProperties(A,{copies:{get:ExpressionPropertyInterface(T.c)},offset:{get:ExpressionPropertyInterface(T.o)},_name:{value:G.nm}}),A.mn=G.mn,A}return function(G,j,K){var A;function O(I){if("number"==typeof I)return 0===(I=void 0===I?1:I)?K:A[I-1];for(var q=0,J=A.length;q<J;){if(A[q]._name===I)return A[q];q+=1}return null}return O.propertyGroup=propertyGroupFactory(O,function T(){return K}),A=d(G,j,O.propertyGroup),O.numProperties=A.length,O._name="Contents",O}}(),TextExpressionInterface=function(d){var h,p;function s(y){return"ADBE Text Document"===y?s.sourceText:null}return Object.defineProperty(s,"sourceText",{get:function(){d.textProperty.getValue();var w=d.textProperty.currentData.t;return w!==h&&(d.textProperty.currentData.t=h,(p=new String(w)).value=w||new String(w)),p}}),s},getBlendMode=function(){var d={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(h){return d[h]||""}}();function SliderEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,0,0,p)}function AngleEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,0,0,p)}function ColorEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,1,0,p)}function PointEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,1,0,p)}function LayerIndexEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,0,0,p)}function MaskIndexEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,0,0,p)}function CheckboxEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,0,0,p)}function NoValueEffect(){this.p={}}function EffectsManager(d,h){var p=d.ef||[];this.effectElements=[];var s,w,y=p.length;for(s=0;s<y;s+=1)w=new GroupEffect(p[s],h),this.effectElements.push(w)}function GroupEffect(d,h){this.init(d,h)}function BaseElement(){}function FrameElement(){}function _typeof$2(d){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(d,h){this.data=d,this.effectElements=[],this.initDynamicPropertyContainer(h);var p,y,s=this.data.ef.length,w=this.data.ef;for(p=0;p<s;p+=1){switch(y=null,w[p].ty){case 0:y=new SliderEffect(w[p],h,this);break;case 1:y=new AngleEffect(w[p],h,this);break;case 2:y=new ColorEffect(w[p],h,this);break;case 3:y=new PointEffect(w[p],h,this);break;case 4:case 7:y=new CheckboxEffect(w[p],h,this);break;case 10:y=new LayerIndexEffect(w[p],h,this);break;case 11:y=new MaskIndexEffect(w[p],h,this);break;case 5:y=new EffectsManager(w[p],h,this);break;default:y=new NoValueEffect(w[p],h,this)}y&&this.effectElements.push(y)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var h=0,p=this.data.masksProperties.length;h<p;){if("n"!==this.data.masksProperties[h].mode&&!1!==this.data.masksProperties[h].cl)return!0;h+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var h=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(h),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var h=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=h},initBaseData:function(h,p,s){this.globalData=p,this.comp=s,this.data=h,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(h,p){var s,y=this.dynamicProperties.length;for(s=0;s<y;s+=1)(p||this._isParent&&"transform"===this.dynamicProperties[s].propType)&&(this.dynamicProperties[s].getValue(),this.dynamicProperties[s]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(h){-1===this.dynamicProperties.indexOf(h)&&this.dynamicProperties.push(h)}};var FootageInterface=(h=function(s){function y(w){return"Outline"===w?y.outlineInterface():null}return y._name="Outline",y.outlineInterface=function(s){var y="",w=s.getFootageData();function F(L){if(w[L])return y=L,"object"===_typeof$2(w=w[L])?F:w;var H=L.indexOf(y);if(-1!==H){var z=parseInt(L.substr(H+y.length),10);return"object"===_typeof$2(w=w[z])?F:w}return""}return function x(){return y="",w=s.getFootageData(),F}}(s),y},function(p){function s(y){return"Data"===y?s.dataInterface:null}return s._name="Data",s.dataInterface=h(p),s}),h;function FootageElement(d,h,p){this.initFrame(),this.initRenderable(),this.assetData=h.getAssetData(d.refId),this.footageData=h.imageLoader.getAsset(this.assetData),this.initBaseData(d,h,p)}function AudioElement(d,h,p){this.initFrame(),this.initRenderable(),this.assetData=h.getAssetData(d.refId),this.initBaseData(d,h,p),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=d.tm?PropertyFactory.getProp(this,d.tm,0,h.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,d.au&&d.au.lv?d.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(d,h,p){this.data=d,this.element=h,this.globalData=p,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var y,s=this.globalData.defs,w=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(w),this.solidPath="";var x,z,Q,U,G,j,K,F=this.masksProperties,L=0,H=[],P=createElementID(),A="clipPath",O="clip-path";for(y=0;y<w;y+=1)if(("a"!==F[y].mode&&"n"!==F[y].mode||F[y].inv||100!==F[y].o.k||F[y].o.x)&&(A="mask",O="mask"),"s"!==F[y].mode&&"i"!==F[y].mode||0!==L?U=null:((U=createNS("rect")).setAttribute("fill","#ffffff"),U.setAttribute("width",this.element.comp.data.w||0),U.setAttribute("height",this.element.comp.data.h||0),H.push(U)),x=createNS("path"),"n"===F[y].mode)this.viewData[y]={op:PropertyFactory.getProp(this.element,F[y].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,F[y],3),elem:x,lastPath:""},s.appendChild(x);else{var T;if(L+=1,x.setAttribute("fill","s"===F[y].mode?"#000000":"#ffffff"),x.setAttribute("clip-rule","nonzero"),0!==F[y].x.k?(A="mask",O="mask",K=PropertyFactory.getProp(this.element,F[y].x,0,null,this.element),T=createElementID(),(G=createNS("filter")).setAttribute("id",T),(j=createNS("feMorphology")).setAttribute("operator","erode"),j.setAttribute("in","SourceGraphic"),j.setAttribute("radius","0"),G.appendChild(j),s.appendChild(G),x.setAttribute("stroke","s"===F[y].mode?"#000000":"#ffffff")):(j=null,K=null),this.storedData[y]={elem:x,x:K,expan:j,lastPath:"",lastOperator:"",filterId:T,lastRadius:0},"i"===F[y].mode){Q=H.length;var I=createNS("g");for(z=0;z<Q;z+=1)I.appendChild(H[z]);var q=createNS("mask");q.setAttribute("mask-type","alpha"),q.setAttribute("id",P+"_"+L),q.appendChild(x),s.appendChild(q),I.setAttribute("mask","url("+getLocationHref()+"#"+P+"_"+L+")"),H.length=0,H.push(I)}else H.push(x);F[y].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[y]={elem:x,lastPath:"",op:PropertyFactory.getProp(this.element,F[y].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,F[y],3),invRect:U},this.viewData[y].prop.k||this.drawPath(F[y],this.viewData[y].prop.v,this.viewData[y])}for(this.maskElement=createNS(A),w=H.length,y=0;y<w;y+=1)this.maskElement.appendChild(H[y]);L>0&&(this.maskElement.setAttribute("id",P),this.element.maskedElement.setAttribute(O,"url("+getLocationHref()+"#"+P+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(d){this.prepareRenderableFrame(d,!0),this.prepareProperties(d,!0),this._currentTime=this.tm._placeholder?d/this.data.sr:this.tm.v,this._volume=this.lv.v[0];var p=this._volume*this._volumeMultiplier;this._previousVolume!==p&&(this._previousVolume=p,this.audio.volume(p))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(d){this.audio.rate(d)},AudioElement.prototype.volume=function(d){this._volumeMultiplier=d,this._previousVolume=d*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(d){var h,s,p=this.layers.length;for(this.completeLayers=!0,h=p-1;h>=0;h-=1)this.elements[h]||(s=this.layers[h]).ip-s.st<=d-this.layers[h].st&&s.op-s.st>d-this.layers[h].st&&this.buildItem(h),this.completeLayers=!!this.elements[h]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(d){switch(d.ty){case 2:return this.createImage(d);case 0:return this.createComp(d);case 1:return this.createSolid(d);case 3:default:return this.createNull(d);case 4:return this.createShape(d);case 5:return this.createText(d);case 6:return this.createAudio(d);case 13:return this.createCamera(d);case 15:return this.createFootage(d)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(d){return new AudioElement(d,this.globalData,this)},BaseRenderer.prototype.createFootage=function(d){return new FootageElement(d,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var d,h=this.layers.length;for(d=0;d<h;d+=1)this.buildItem(d);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(d){this.completeLayers=!1;var h,s,p=d.length,y=this.layers.length;for(h=0;h<p;h+=1)for(s=0;s<y;){if(this.layers[s].id===d[h].id){this.layers[s]=d[h];break}s+=1}},BaseRenderer.prototype.setProjectInterface=function(d){this.globalData.projectInterface=d},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(d,h,p){for(var s=this.elements,y=this.layers,w=0,x=y.length;w<x;)y[w].ind==h&&(s[w]&&!0!==s[w]?(p.push(s[w]),s[w].setAsParent(),void 0!==y[w].parent?this.buildElementParenting(d,y[w].parent,p):d.setHierarchy(p)):(this.buildItem(w),this.addPendingElement(d))),w+=1},BaseRenderer.prototype.addPendingElement=function(d){this.pendingElements.push(d)},BaseRenderer.prototype.searchExtraCompositions=function(d){var h,p=d.length;for(h=0;h<p;h+=1)if(d[h].xt){var s=this.createComp(d[h]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.getElementByPath=function(d){var p,h=d.shift();if("number"==typeof h)p=this.elements[h];else{var s,y=this.elements.length;for(s=0;s<y;s+=1)if(this.elements[s].data.nm===h){p=this.elements[s];break}}return 0===d.length?p:p.getElementByPath(d)},BaseRenderer.prototype.setupGlobalData=function(d,h){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(d.chars),this.globalData.fontManager.addFonts(d.fonts,h),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=d.fr,this.globalData.nm=d.nm,this.globalData.compSize={w:d.w,h:d.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var h,p=this.finalTransform.mat,s=0,y=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;s<y;){if(this.hierarchy[s].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}s+=1}if(this.finalTransform._matMdf)for(p.cloneFromProps(h=this.finalTransform.mProp.v.props),s=0;s<y;s+=1)p.transform((h=this.hierarchy[s].finalTransform.mProp.v.props)[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])}},globalToLocal:function(h){var p=[];p.push(this.finalTransform);for(var s=!0,y=this.comp;s;)y.finalTransform?(y.data.hasMask&&p.splice(0,0,y.finalTransform),y=y.comp):s=!1;var w,F,x=p.length;for(w=0;w<x;w+=1)F=p[w].mat.applyToPointArray(0,0,0),h=[h[0]-F[0],h[1]-F[1],0];return h},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(d){return this.viewData[d].prop},MaskElement.prototype.renderFrame=function(d){var p,h=this.element.finalTransform.mat,s=this.masksProperties.length;for(p=0;p<s;p+=1)if((this.viewData[p].prop._mdf||d)&&this.drawPath(this.masksProperties[p],this.viewData[p].prop.v,this.viewData[p]),(this.viewData[p].op._mdf||d)&&this.viewData[p].elem.setAttribute("fill-opacity",this.viewData[p].op.v),"n"!==this.masksProperties[p].mode&&(this.viewData[p].invRect&&(this.element.finalTransform.mProp._mdf||d)&&this.viewData[p].invRect.setAttribute("transform",h.getInverseMatrix().to2dCSS()),this.storedData[p].x&&(this.storedData[p].x._mdf||d))){var y=this.storedData[p].expan;this.storedData[p].x.v<0?("erode"!==this.storedData[p].lastOperator&&(this.storedData[p].lastOperator="erode",this.storedData[p].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[p].filterId+")")),y.setAttribute("radius",-this.storedData[p].x.v)):("dilate"!==this.storedData[p].lastOperator&&(this.storedData[p].lastOperator="dilate",this.storedData[p].elem.setAttribute("filter",null)),this.storedData[p].elem.setAttribute("stroke-width",2*this.storedData[p].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var d="M0,0 ";return d+=" h"+this.globalData.compSize.w,d+=" v"+this.globalData.compSize.h,(d+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(d,h,p){var y,w,s=" M"+h.v[0][0]+","+h.v[0][1];for(w=h._length,y=1;y<w;y+=1)s+=" C"+h.o[y-1][0]+","+h.o[y-1][1]+" "+h.i[y][0]+","+h.i[y][1]+" "+h.v[y][0]+","+h.v[y][1];if(h.c&&w>1&&(s+=" C"+h.o[y-1][0]+","+h.o[y-1][1]+" "+h.i[0][0]+","+h.i[0][1]+" "+h.v[0][0]+","+h.v[0][1]),p.lastPath!==s){var x="";p.elem&&(h.c&&(x=d.inv?this.solidPath+s:s),p.elem.setAttribute("d",x)),p.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var d={createFilter:function h(s,y){var w=createNS("filter");return w.setAttribute("id",s),!0!==y&&(w.setAttribute("filterUnits","objectBoundingBox"),w.setAttribute("x","0%"),w.setAttribute("y","0%"),w.setAttribute("width","100%"),w.setAttribute("height","100%")),w},createAlphaToLuminanceFilter:function p(){var s=createNS("feColorMatrix");return s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),s}};return d}(),featureSupport=function(){var d={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(d.maskType=!1),d}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(d){var h,F,p="SourceGraphic",s=d.data.ef?d.data.ef.length:0,y=createElementID(),w=filtersFactory.createFilter(y,!0),x=0;for(this.filters=[],h=0;h<s;h+=1){F=null;var L=d.data.ef[h].ty;registeredEffects[L]&&(F=new(0,registeredEffects[L].effect)(w,d.effectsManager.effectElements[h],d,idPrefix+x,p),p=idPrefix+x,registeredEffects[L].countsAsEffect&&(x+=1)),F&&this.filters.push(F)}x&&(d.globalData.defs.appendChild(w),d.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+y+")")),this.filters.length&&d.addRenderableComponent(this)}function registerEffect(d,h,p){registeredEffects[d]={effect:h,countsAsEffect:p}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(d,h,p){this.assetData=h.getAssetData(d.refId),this.initElement(d,h,p),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(d,h){this.elem=d,this.pos=h}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(d){var h,p=this.filters.length;for(h=0;h<p;h+=1)this.filters[h].renderFrame(d)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var p,s,y,h=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var w=createNS("mask");w.setAttribute("id",this.layerId),w.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),w.appendChild(this.layerElement),h=w,this.globalData.defs.appendChild(w),!featureSupport.maskType&&1==this.data.td&&(w.setAttribute("mask-type","luminance"),p=createElementID(),s=filtersFactory.createFilter(p),this.globalData.defs.appendChild(s),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(y=createNS("g")).appendChild(this.layerElement),h=y,w.appendChild(y),y.setAttribute("filter","url("+getLocationHref()+"#"+p+")"))}else if(2==this.data.td){var x=createNS("mask");x.setAttribute("id",this.layerId),x.setAttribute("mask-type","alpha");var F=createNS("g");x.appendChild(F),p=createElementID(),s=filtersFactory.createFilter(p);var L=createNS("feComponentTransfer");L.setAttribute("in","SourceGraphic"),s.appendChild(L);var H=createNS("feFuncA");H.setAttribute("type","table"),H.setAttribute("tableValues","1.0 0.0"),L.appendChild(H),this.globalData.defs.appendChild(s);var z=createNS("rect");z.setAttribute("width",this.comp.data.w),z.setAttribute("height",this.comp.data.h),z.setAttribute("x","0"),z.setAttribute("y","0"),z.setAttribute("fill","#ffffff"),z.setAttribute("opacity","0"),F.setAttribute("filter","url("+getLocationHref()+"#"+p+")"),F.appendChild(z),F.appendChild(this.layerElement),h=F,featureSupport.maskType||(x.setAttribute("mask-type","luminance"),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),y=createNS("g"),F.appendChild(z),y.appendChild(this.layerElement),h=y,F.appendChild(y)),this.globalData.defs.appendChild(x)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),h=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var Q=createNS("clipPath"),P=createNS("path");P.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var U=createElementID();if(Q.setAttribute("id",U),Q.appendChild(P),this.globalData.defs.appendChild(Q),this.checkMasks()){var G=createNS("g");G.setAttribute("clip-path","url("+getLocationHref()+"#"+U+")"),G.appendChild(this.layerElement),this.transformedElement=G,h?h.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+U+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(h){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+h+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(h){this.hierarchy=h},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(p,s,y){this.initFrame(),this.initBaseData(p,s,y),this.initTransform(p,s,y),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(p){this._mdf=!1,this.prepareRenderableFrame(p),this.prepareProperties(p,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var d=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",d),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(h){var p,s=this.shapeModifiers.length;for(p=0;p<s;p+=1)this.shapeModifiers[p].addShape(h)},isShapeInAnimatedModifiers:function(h){for(var s=this.shapeModifiers.length;0<s;)if(this.shapeModifiers[0].isAnimatedWithShape(h))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var h,p=this.shapes.length;for(h=0;h<p;h+=1)this.shapes[h].sh.reset();for(h=(p=this.shapeModifiers.length)-1;h>=0&&!this.shapeModifiers[h].processShapes(this._isFirstFrame);h-=1);}},searchProcessedElement:function(h){for(var p=this.processedElements,s=0,y=p.length;s<y;){if(p[s].elem===h)return p[s].pos;s+=1}return 0},addProcessedElement:function(h,p){for(var s=this.processedElements,y=s.length;y;)if(s[y-=1].elem===h)return void(s[y].pos=p);s.push(new ProcessedElement(h,p))},prepareFrame:function(h){this.prepareRenderableFrame(h),this.prepareProperties(h,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(d,h,p){this.caches=[],this.styles=[],this.transformers=d,this.lStr="",this.sh=p,this.lvl=h,this._isAnimated=!!p.k;for(var s=0,y=d.length;s<y;){if(d[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}function SVGStyleData(d,h){this.data=d,this.type=d.ty,this.d="",this.lvl=h,this._mdf=!1,this.closed=!0===d.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(d,h,p,s){this.elem=d,this.frameId=-1,this.dataProps=createSizedArray(h.length),this.renderer=p,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",h.length?h.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var y,x,w=h.length||0;for(y=0;y<w;y+=1)x=PropertyFactory.getProp(d,h[y].v,0,0,this),this.k=x.k||this.k,this.dataProps[y]={n:h[y].n,p:x};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(d,h,p){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(d,h.o,0,.01,this),this.w=PropertyFactory.getProp(d,h.w,0,null,this),this.d=new DashProperty(d,h.d||{},"svg",this),this.c=PropertyFactory.getProp(d,h.c,1,255,this),this.style=p,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(d,h,p){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(d,h.o,0,.01,this),this.c=PropertyFactory.getProp(d,h.c,1,255,this),this.style=p}function SVGNoStyleData(d,h,p){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.style=p}function GradientProperty(d,h,p){this.data=h,this.c=createTypedArray("uint8c",4*h.p);var s=h.k.k[0].s?h.k.k[0].s.length-4*h.p:h.k.k.length-4*h.p;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(p),this.prop=PropertyFactory.getProp(d,h.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(d,h,p){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.initGradientData(d,h,p)}function SVGGradientStrokeStyleData(d,h,p){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(d,h.w,0,null,this),this.d=new DashProperty(d,h.d||{},"svg",this),this.initGradientData(d,h,p),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(d,h,p){this.transform={mProps:d,op:h,container:p},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(d){if((this.elem.globalData.frameId!==this.frameId||d)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||d,this._mdf)){var h=0,p=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),h=0;h<p;h+=1)"o"!==this.dataProps[h].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[h].p.v:this.dashArray[h]=this.dataProps[h].p.v:this.dashoffset[0]=this.dataProps[h].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(d,h){for(var p=0,s=this.o.length/2;p<s;){if(Math.abs(d[4*p]-d[4*h+2*p])>.01)return!1;p+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var d=0,h=this.data.k.k.length;d<h;){if(!this.comparePoints(this.data.k.k[d].s,this.data.p))return!1;d+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(d){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||d){var h,s,y,p=4*this.data.p;for(h=0;h<p;h+=1)s=h%4==0?100:255,y=Math.round(this.prop.v[h]*s),this.c[h]!==y&&(this.c[h]=y,this._cmdf=!d);if(this.o.length)for(p=this.prop.v.length,h=4*this.data.p;h<p;h+=1)s=h%2==0?100:1,y=h%2==0?Math.round(100*this.prop.v[h]):this.prop.v[h],this.o[h-4*this.data.p]!==y&&(this.o[h-4*this.data.p]=y,this._omdf=!d);this._mdf=!d}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(d,h,p){this.o=PropertyFactory.getProp(d,h.o,0,.01,this),this.s=PropertyFactory.getProp(d,h.s,1,null,this),this.e=PropertyFactory.getProp(d,h.e,1,null,this),this.h=PropertyFactory.getProp(d,h.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(d,h.a||{k:0},0,degToRads,this),this.g=new GradientProperty(d,h.g,this),this.style=p,this.stops=[],this.setGradientData(p.pElem,h),this.setGradientOpacity(h,p),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(d,h){var p=createElementID(),s=createNS(1===h.t?"linearGradient":"radialGradient");s.setAttribute("id",p),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var w,x,F,y=[];for(F=4*h.g.p,x=0;x<F;x+=4)w=createNS("stop"),s.appendChild(w),y.push(w);d.setAttribute("gf"===h.ty?"fill":"stroke","url("+getLocationHref()+"#"+p+")"),this.gf=s,this.cst=y},SVGGradientFillStyleData.prototype.setGradientOpacity=function(d,h){if(this.g._hasOpacity&&!this.g._collapsable){var p,s,y,w=createNS("mask"),x=createNS("path");w.appendChild(x);var F=createElementID(),L=createElementID();w.setAttribute("id",L);var H=createNS(1===d.t?"linearGradient":"radialGradient");H.setAttribute("id",F),H.setAttribute("spreadMethod","pad"),H.setAttribute("gradientUnits","userSpaceOnUse"),y=d.g.k.k[0].s?d.g.k.k[0].s.length:d.g.k.k.length;var z=this.stops;for(s=4*d.g.p;s<y;s+=2)(p=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),H.appendChild(p),z.push(p);x.setAttribute("gf"===d.ty?"fill":"stroke","url("+getLocationHref()+"#"+F+")"),"gs"===d.ty&&(x.setAttribute("stroke-linecap",lineCapEnum[d.lc||2]),x.setAttribute("stroke-linejoin",lineJoinEnum[d.lj||2]),1===d.lj&&x.setAttribute("stroke-miterlimit",d.ml)),this.of=H,this.ms=w,this.ost=z,this.maskId=L,h.msElem=x}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(h,p,s,y){if(0===p)return"";var L,w=h.o,x=h.i,F=h.v,H=" M"+y.applyToPointStringified(F[0][0],F[0][1]);for(L=1;L<p;L+=1)H+=" C"+y.applyToPointStringified(w[L-1][0],w[L-1][1])+" "+y.applyToPointStringified(x[L][0],x[L][1])+" "+y.applyToPointStringified(F[L][0],F[L][1]);return s&&p&&(H+=" C"+y.applyToPointStringified(w[L-1][0],w[L-1][1])+" "+y.applyToPointStringified(x[0][0],x[0][1])+" "+y.applyToPointStringified(F[0][0],F[0][1]),H+="z"),H},SVGElementsRenderer=function(){var d=new Matrix,h=new Matrix;function y(Q,P,U){(U||P.transform.op._mdf)&&P.transform.container.setAttribute("opacity",P.transform.op.v),(U||P.transform.mProps._mdf)&&P.transform.container.setAttribute("transform",P.transform.mProps.v.to2dCSS())}function w(){}function x(Q,P,U){var G,j,K,A,O,T,J,te,ne,me,Pe,I=P.styles.length,q=P.lvl;for(T=0;T<I;T+=1){if(A=P.sh._mdf||U,P.styles[T].lvl<q){for(te=h.reset(),me=q-P.styles[T].lvl,Pe=P.transformers.length-1;!A&&me>0;)A=P.transformers[Pe].mProps._mdf||A,me-=1,Pe-=1;if(A)for(me=q-P.styles[T].lvl,Pe=P.transformers.length-1;me>0;)te.transform((ne=P.transformers[Pe].mProps.v.props)[0],ne[1],ne[2],ne[3],ne[4],ne[5],ne[6],ne[7],ne[8],ne[9],ne[10],ne[11],ne[12],ne[13],ne[14],ne[15]),me-=1,Pe-=1}else te=d;if(j=(J=P.sh.paths)._length,A){for(K="",G=0;G<j;G+=1)(O=J.shapes[G])&&O._length&&(K+=buildShapeString(O,O._length,O.c,te));P.caches[T]=K}else K=P.caches[T];P.styles[T].d+=!0===Q.hd?"":K,P.styles[T]._mdf=A||P.styles[T]._mdf}}function F(Q,P,U){var G=P.style;(P.c._mdf||U)&&G.pElem.setAttribute("fill","rgb("+bmFloor(P.c.v[0])+","+bmFloor(P.c.v[1])+","+bmFloor(P.c.v[2])+")"),(P.o._mdf||U)&&G.pElem.setAttribute("fill-opacity",P.o.v)}function L(Q,P,U){H(Q,P,U),z(0,P,U)}function H(Q,P,U){var q,J,te,ne,_e,G=P.gf,j=P.g._hasOpacity,K=P.s.v,A=P.e.v;if((P.o._mdf||U)&&P.style.pElem.setAttribute("gf"===Q.ty?"fill-opacity":"stroke-opacity",P.o.v),P.s._mdf||U){var T=1===Q.t?"x1":"cx",I="x1"===T?"y1":"cy";G.setAttribute(T,K[0]),G.setAttribute(I,K[1]),j&&!P.g._collapsable&&(P.of.setAttribute(T,K[0]),P.of.setAttribute(I,K[1]))}if(P.g._cmdf||U){var me=P.g.c;for(te=(q=P.cst).length,J=0;J<te;J+=1)(ne=q[J]).setAttribute("offset",me[4*J]+"%"),ne.setAttribute("stop-color","rgb("+me[4*J+1]+","+me[4*J+2]+","+me[4*J+3]+")")}if(j&&(P.g._omdf||U)){var Pe=P.g.o;for(te=(q=P.g._collapsable?P.cst:P.ost).length,J=0;J<te;J+=1)ne=q[J],P.g._collapsable||ne.setAttribute("offset",Pe[2*J]+"%"),ne.setAttribute("stop-opacity",Pe[2*J+1])}if(1===Q.t)(P.e._mdf||U)&&(G.setAttribute("x2",A[0]),G.setAttribute("y2",A[1]),j&&!P.g._collapsable&&(P.of.setAttribute("x2",A[0]),P.of.setAttribute("y2",A[1])));else if((P.s._mdf||P.e._mdf||U)&&(_e=Math.sqrt(Math.pow(K[0]-A[0],2)+Math.pow(K[1]-A[1],2)),G.setAttribute("r",_e),j&&!P.g._collapsable&&P.of.setAttribute("r",_e)),P.e._mdf||P.h._mdf||P.a._mdf||U){_e||(_e=Math.sqrt(Math.pow(K[0]-A[0],2)+Math.pow(K[1]-A[1],2)));var ve=Math.atan2(A[1]-K[1],A[0]-K[0]),Ie=P.h.v;Ie>=1?Ie=.99:Ie<=-1&&(Ie=-.99);var be=_e*Ie,de=Math.cos(ve+P.a.v)*be+K[0],ae=Math.sin(ve+P.a.v)*be+K[1];G.setAttribute("fx",de),G.setAttribute("fy",ae),j&&!P.g._collapsable&&(P.of.setAttribute("fx",de),P.of.setAttribute("fy",ae))}}function z(Q,P,U){var G=P.style,j=P.d;j&&(j._mdf||U)&&j.dashStr&&(G.pElem.setAttribute("stroke-dasharray",j.dashStr),G.pElem.setAttribute("stroke-dashoffset",j.dashoffset[0])),P.c&&(P.c._mdf||U)&&G.pElem.setAttribute("stroke","rgb("+bmFloor(P.c.v[0])+","+bmFloor(P.c.v[1])+","+bmFloor(P.c.v[2])+")"),(P.o._mdf||U)&&G.pElem.setAttribute("stroke-opacity",P.o.v),(P.w._mdf||U)&&(G.pElem.setAttribute("stroke-width",P.w.v),G.msElem&&G.msElem.setAttribute("stroke-width",P.w.v))}return{createRenderFunction:function s(Q){switch(Q.ty){case"fl":return F;case"gf":return H;case"gs":return L;case"st":return z;case"sh":case"el":case"rc":case"sr":return x;case"tr":return y;case"no":return w;default:return null}}}}();function SVGShapeElement(d,h,p){this.shapes=[],this.shapesData=d.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(d,h,p),this.prevViewData=[]}function LetterProps(d,h,p,s,y,w){this.o=d,this.sw=h,this.sc=p,this.fc=s,this.m=y,this.p=w,this._mdf={o:!0,sw:!!h,sc:!!p,fc:!!s,m:!0,p:!0}}function TextProperty(d,h){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=h,this.elem=d,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var d,p,s,w,h=this.shapes.length,y=this.stylesList.length,x=[],F=!1;for(s=0;s<y;s+=1){for(w=this.stylesList[s],F=!1,x.length=0,d=0;d<h;d+=1)-1!==(p=this.shapes[d]).styles.indexOf(w)&&(x.push(p),F=p._isAnimated||F);x.length>1&&F&&this.setShapesAsAnimated(x)}},SVGShapeElement.prototype.setShapesAsAnimated=function(d){var h,p=d.length;for(h=0;h<p;h+=1)d[h].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(d,h){var p,s=new SVGStyleData(d,h),y=s.pElem;return"st"===d.ty?p=new SVGStrokeStyleData(this,d,s):"fl"===d.ty?p=new SVGFillStyleData(this,d,s):"gf"===d.ty||"gs"===d.ty?(p=new("gf"===d.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,d,s),this.globalData.defs.appendChild(p.gf),p.maskId&&(this.globalData.defs.appendChild(p.ms),this.globalData.defs.appendChild(p.of),y.setAttribute("mask","url("+getLocationHref()+"#"+p.maskId+")"))):"no"===d.ty&&(p=new SVGNoStyleData(this,d,s)),("st"===d.ty||"gs"===d.ty)&&(y.setAttribute("stroke-linecap",lineCapEnum[d.lc||2]),y.setAttribute("stroke-linejoin",lineJoinEnum[d.lj||2]),y.setAttribute("fill-opacity","0"),1===d.lj&&y.setAttribute("stroke-miterlimit",d.ml)),2===d.r&&y.setAttribute("fill-rule","evenodd"),d.ln&&y.setAttribute("id",d.ln),d.cl&&y.setAttribute("class",d.cl),d.bm&&(y.style["mix-blend-mode"]=getBlendMode(d.bm)),this.stylesList.push(s),this.addToAnimatedContents(d,p),p},SVGShapeElement.prototype.createGroupElement=function(d){var h=new ShapeGroupData;return d.ln&&h.gr.setAttribute("id",d.ln),d.cl&&h.gr.setAttribute("class",d.cl),d.bm&&(h.gr.style["mix-blend-mode"]=getBlendMode(d.bm)),h},SVGShapeElement.prototype.createTransformElement=function(d,h){var p=TransformPropertyFactory.getTransformProperty(this,d,this),s=new SVGTransformData(p,p.o,h);return this.addToAnimatedContents(d,s),s},SVGShapeElement.prototype.createShapeElement=function(d,h,p){var s=4;"rc"===d.ty?s=5:"el"===d.ty?s=6:"sr"===d.ty&&(s=7);var w=new SVGShapeData(h,p,ShapePropertyFactory.getShapeProp(this,d,s,this));return this.shapes.push(w),this.addShapeToModifiers(w),this.addToAnimatedContents(d,w),w},SVGShapeElement.prototype.addToAnimatedContents=function(d,h){for(var p=0,s=this.animatedContents.length;p<s;){if(this.animatedContents[p].element===h)return;p+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(d),element:h,data:d})},SVGShapeElement.prototype.setElementStyles=function(d){var p,h=d.styles,s=this.stylesList.length;for(p=0;p<s;p+=1)this.stylesList[p].closed||h.push(this.stylesList[p])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var d,h=this.itemsData.length;for(d=0;d<h;d+=1)this.prevViewData[d]=this.itemsData[d];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),h=this.dynamicProperties.length,d=0;d<h;d+=1)this.dynamicProperties[d].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(d,h,p,s,y,w,x){var L,z,Q,j,K,F=[].concat(w),H=d.length-1,P=[],U=[];for(L=H;L>=0;L-=1){if((K=this.searchProcessedElement(d[L]))?h[L]=p[K-1]:d[L]._render=x,"fl"===d[L].ty||"st"===d[L].ty||"gf"===d[L].ty||"gs"===d[L].ty||"no"===d[L].ty)K?h[L].style.closed=!1:h[L]=this.createStyleElement(d[L],y),d[L]._render&&h[L].style.pElem.parentNode!==s&&s.appendChild(h[L].style.pElem),P.push(h[L].style);else if("gr"===d[L].ty){if(K)for(Q=h[L].it.length,z=0;z<Q;z+=1)h[L].prevViewData[z]=h[L].it[z];else h[L]=this.createGroupElement(d[L]);this.searchShapes(d[L].it,h[L].it,h[L].prevViewData,h[L].gr,y+1,F,x),d[L]._render&&h[L].gr.parentNode!==s&&s.appendChild(h[L].gr)}else"tr"===d[L].ty?(K||(h[L]=this.createTransformElement(d[L],s)),F.push(h[L].transform)):"sh"===d[L].ty||"rc"===d[L].ty||"el"===d[L].ty||"sr"===d[L].ty?(K||(h[L]=this.createShapeElement(d[L],F,y)),this.setElementStyles(h[L])):"tm"===d[L].ty||"rd"===d[L].ty||"ms"===d[L].ty||"pb"===d[L].ty?(K?(j=h[L]).closed=!1:((j=ShapeModifiers.getModifier(d[L].ty)).init(this,d[L]),h[L]=j,this.shapeModifiers.push(j)),U.push(j)):"rp"===d[L].ty&&(K?(j=h[L]).closed=!0:(j=ShapeModifiers.getModifier(d[L].ty),h[L]=j,j.init(this,d,L,h),this.shapeModifiers.push(j),x=!1),U.push(j));this.addProcessedElement(d[L],L+1)}for(H=P.length,L=0;L<H;L+=1)P[L].closed=!0;for(H=U.length,L=0;L<H;L+=1)U[L].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var d,h=this.stylesList.length;for(d=0;d<h;d+=1)this.stylesList[d].reset();for(this.renderShape(),d=0;d<h;d+=1)(this.stylesList[d]._mdf||this._isFirstFrame)&&(this.stylesList[d].msElem&&(this.stylesList[d].msElem.setAttribute("d",this.stylesList[d].d),this.stylesList[d].d="M0 0"+this.stylesList[d].d),this.stylesList[d].pElem.setAttribute("d",this.stylesList[d].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var d,p,h=this.animatedContents.length;for(d=0;d<h;d+=1)p=this.animatedContents[d],(this._isFirstFrame||p.element._isAnimated)&&!0!==p.data&&p.fn(p.data,p.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(d,h,p,s,y,w){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var x=!1;return this.o!==d&&(this.o=d,this._mdf.o=!0,x=!0),this.sw!==h&&(this.sw=h,this._mdf.sw=!0,x=!0),this.sc!==p&&(this.sc=p,this._mdf.sc=!0,x=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,x=!0),this.m!==y&&(this.m=y,this._mdf.m=!0,x=!0),w.length&&(this.p[0]!==w[0]||this.p[1]!==w[1]||this.p[4]!==w[4]||this.p[5]!==w[5]||this.p[12]!==w[12]||this.p[13]!==w[13])&&(this.p=w,this._mdf.p=!0,x=!0),x},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p]);return d},TextProperty.prototype.setCurrentData=function(d){d.__complete||this.completeTextData(d),this.currentData=d,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(d){this.effectsSequence.push(d),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(d){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||d){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var h=this.currentData,p=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var s,y=this.effectsSequence.length,w=d||this.data.d.k[this.keysIndex].s;for(s=0;s<y;s+=1)w=this.effectsSequence[s](p!==this.keysIndex?w:this.currentData,w.t);h!==w&&this.setCurrentData(w),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var d=this.data.d.k,h=this.elem.comp.renderedFrame,p=0,s=d.length;p<=s-1&&!(p===s-1||d[p+1].t>h);)p+=1;return this.keysIndex!==p&&(this.keysIndex=p),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(d){for(var y,w,h=[],p=0,s=d.length,x=!1;p<s;)y=d.charCodeAt(p),FontManager.isCombinedCharacter(y)?h[h.length-1]+=d.charAt(p):y>=55296&&y<=56319?(w=d.charCodeAt(p+1))>=56320&&w<=57343?(x||FontManager.isModifier(y,w)?(h[h.length-1]+=d.substr(p,2),x=!1):h.push(d.substr(p,2)),p+=1):h.push(d.charAt(p)):y>56319?(w=d.charCodeAt(p+1),FontManager.isZeroWidthJoiner(y,w)?(x=!0,h[h.length-1]+=d.substr(p,2),p+=1):h.push(d.charAt(p))):FontManager.isZeroWidthJoiner(y)?(h[h.length-1]+=d.charAt(p),x=!0):h.push(d.charAt(p)),p+=1;return h},TextProperty.prototype.completeTextData=function(d){d.__complete=!0;var y,w,x,L,K,A,T,h=this.elem.globalData.fontManager,p=this.data,s=[],F=0,H=p.m.g,z=0,Q=0,P=0,U=[],G=0,j=0,O=h.getFontByName(d.f),I=0,q=getFontProperties(O);d.fWeight=q.weight,d.fStyle=q.style,d.finalSize=d.s,d.finalText=this.buildFinalText(d.t),w=d.finalText.length,d.finalLineHeight=d.lh;var te,J=d.tr/1e3*d.finalSize;if(d.sz)for(var _e,ve,ne=!0,me=d.sz[0],Pe=d.sz[1];ne;){_e=0,G=0,w=(ve=this.buildFinalText(d.t)).length,J=d.tr/1e3*d.finalSize;var Ie=-1;for(y=0;y<w;y+=1)te=ve[y].charCodeAt(0),x=!1," "===ve[y]?Ie=y:(13===te||3===te)&&(G=0,x=!0,_e+=d.finalLineHeight||1.2*d.finalSize),h.chars?(T=h.getCharData(ve[y],O.fStyle,O.fFamily),I=x?0:T.w*d.finalSize/100):I=h.measureText(ve[y],d.f,d.finalSize),G+I>me&&" "!==ve[y]?(-1===Ie?w+=1:y=Ie,_e+=d.finalLineHeight||1.2*d.finalSize,ve.splice(y,Ie===y?1:0,"\r"),Ie=-1,G=0):(G+=I,G+=J);_e+=O.ascent*d.finalSize/100,this.canResize&&d.finalSize>this.minimumFontSize&&Pe<_e?(d.finalSize-=1,d.finalLineHeight=d.finalSize*d.lh/d.s):(d.finalText=ve,w=d.finalText.length,ne=!1)}G=-J,I=0;var de,be=0;for(y=0;y<w;y+=1)if(x=!1,13===(te=(de=d.finalText[y]).charCodeAt(0))||3===te?(be=0,U.push(G),j=G>j?G:j,G=-2*J,L="",x=!0,P+=1):L=de,h.chars?(T=h.getCharData(de,O.fStyle,h.getFontByName(d.f).fFamily),I=x?0:T.w*d.finalSize/100):I=h.measureText(L,d.f,d.finalSize)," "===de?be+=I+J:(G+=I+J+be,be=0),s.push({l:I,an:I,add:z,n:x,anIndexes:[],val:L,line:P,animatorJustifyOffset:0}),2==H){if(z+=I,""===L||" "===L||y===w-1){for((""===L||" "===L)&&(z-=I);Q<=y;)s[Q].an=z,s[Q].ind=F,s[Q].extra=I,Q+=1;F+=1,z=0}}else if(3==H){if(z+=I,""===L||y===w-1){for(""===L&&(z-=I);Q<=y;)s[Q].an=z,s[Q].ind=F,s[Q].extra=I,Q+=1;z=0,F+=1}}else s[F].ind=F,s[F].extra=0,F+=1;if(d.l=s,j=G>j?G:j,U.push(G),d.sz)d.boxWidth=d.sz[0],d.justifyOffset=0;else switch(d.boxWidth=j,d.j){case 1:d.justifyOffset=-d.boxWidth;break;case 2:d.justifyOffset=-d.boxWidth/2;break;default:d.justifyOffset=0}d.lineWidths=U;var X,ee,ae=p.a;A=ae.length;var ue,Re,ke=[];for(K=0;K<A;K+=1){for((X=ae[K]).a.sc&&(d.strokeColorAnim=!0),X.a.sw&&(d.strokeWidthAnim=!0),(X.a.fc||X.a.fh||X.a.fs||X.a.fb)&&(d.fillColorAnim=!0),Re=0,ue=X.s.b,y=0;y<w;y+=1)(ee=s[y]).anIndexes[K]=Re,(1==ue&&""!==ee.val||2==ue&&""!==ee.val&&" "!==ee.val||3==ue&&(ee.n||" "==ee.val||y==w-1)||4==ue&&(ee.n||y==w-1))&&(1===X.s.rn&&ke.push(Re),Re+=1);p.a[K].s.totalChars=Re;var $e,Ye=-1;if(1===X.s.rn)for(y=0;y<w;y+=1)Ye!=(ee=s[y]).anIndexes[K]&&(Ye=ee.anIndexes[K],$e=ke.splice(Math.floor(Math.random()*ke.length),1)[0]),ee.anIndexes[K]=$e}d.yOffset=d.finalLineHeight||1.2*d.finalSize,d.ls=d.ls||0,d.ascent=O.ascent*d.finalSize/100},TextProperty.prototype.updateDocumentData=function(d,h){var p=this.copyData({},this.data.d.k[h=void 0===h?this.keysIndex:h].s);p=this.copyData(p,d),this.data.d.k[h].s=p,this.recalculate(h),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(d){var h=this.data.d.k[d].s;h.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(h)},TextProperty.prototype.canResizeFont=function(d){this.canResize=d,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(d){this.minimumFontSize=Math.floor(d)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var d=Math.max,h=Math.min,p=Math.floor;function s(w,x){this._currentTextLength=-1,this.k=!1,this.data=x,this.elem=w,this.comp=w.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(w),this.s=PropertyFactory.getProp(w,x.s||{k:0},0,0,this),this.e="e"in x?PropertyFactory.getProp(w,x.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(w,x.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(w,x.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(w,x.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(w,x.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(w,x.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return s.prototype={getMult:function(x){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var F=0,L=0,H=1,z=1;this.ne.v>0?F=this.ne.v/100:L=-this.ne.v/100,this.xe.v>0?H=1-this.xe.v/100:z=1+this.xe.v/100;var Q=BezierFactory.getBezierEasing(F,L,H,z).get,P=0,U=this.finalS,G=this.finalE,j=this.data.sh;if(2===j)P=Q(P=G===U?x>=G?1:0:d(0,h(.5/(G-U)+(x-U)/(G-U),1)));else if(3===j)P=Q(P=G===U?x>=G?0:1:1-d(0,h(.5/(G-U)+(x-U)/(G-U),1)));else if(4===j)G===U?P=0:(P=d(0,h(.5/(G-U)+(x-U)/(G-U),1)))<.5?P*=2:P=1-2*(P-.5),P=Q(P);else if(5===j){if(G===U)P=0;else{var K=G-U,A=-K/2+(x=h(d(0,x+.5-U),G-U)),O=K/2;P=Math.sqrt(1-A*A/(O*O))}P=Q(P)}else 6===j?(G===U?P=0:(x=h(d(0,x+.5-U),G-U),P=(1+Math.cos(Math.PI+2*Math.PI*x/(G-U)))/2),P=Q(P)):(x>=p(U)&&(P=d(0,h(x-U<0?h(G,1)-(U-x):G-x,1))),P=Q(P));if(100!==this.sm.v){var T=.01*this.sm.v;0===T&&(T=1e-8);var I=.5-.5*T;P<I?P=0:(P=(P-I)/T)>1&&(P=1)}return P*this.a.v},getValue:function(x){this.iterateDynamicProperties(),this._mdf=x||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,x&&2===this.data.r&&(this.e.v=this._currentTextLength);var F=2===this.data.r?1:100/this.data.totalChars,L=this.o.v/F,H=this.s.v/F+L,z=this.e.v/F+L;if(H>z){var Q=H;H=z,z=Q}this.finalS=H,this.finalE=z}},extendPrototype([DynamicPropertyContainer],s),{getTextSelectorProp:function y(w,x,F){return new s(w,x,F)}}}();function TextAnimatorDataProperty(d,h,p){var s={propType:!1},y=PropertyFactory.getProp,w=h.a;this.a={r:w.r?y(d,w.r,0,degToRads,p):s,rx:w.rx?y(d,w.rx,0,degToRads,p):s,ry:w.ry?y(d,w.ry,0,degToRads,p):s,sk:w.sk?y(d,w.sk,0,degToRads,p):s,sa:w.sa?y(d,w.sa,0,degToRads,p):s,s:w.s?y(d,w.s,1,.01,p):s,a:w.a?y(d,w.a,1,0,p):s,o:w.o?y(d,w.o,0,.01,p):s,p:w.p?y(d,w.p,1,0,p):s,sw:w.sw?y(d,w.sw,0,0,p):s,sc:w.sc?y(d,w.sc,1,0,p):s,fc:w.fc?y(d,w.fc,1,0,p):s,fh:w.fh?y(d,w.fh,0,0,p):s,fs:w.fs?y(d,w.fs,0,.01,p):s,fb:w.fb?y(d,w.fb,0,.01,p):s,t:w.t?y(d,w.t,0,0,p):s},this.s=TextSelectorProp.getTextSelectorProp(d,h.s,p),this.s.t=h.s.t}function TextAnimatorProperty(d,h,p){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=d,this._renderType=h,this._elem=p,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(p)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var d,h=this._textData.a.length,s=PropertyFactory.getProp;for(d=0;d<h;d+=1)this._animatorsData[d]=new TextAnimatorDataProperty(this._elem,this._textData.a[d],this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(d,h){if(this.lettersChangedFlag=h,this._mdf||this._isFirstFrame||h||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var L,H,z,Q,U,G,j,K,A,O,T,I,q,J,te,ne,me,_e,p=this._moreOptions.alignment.v,s=this._animatorsData,y=this._textData,w=this.mHelper,x=this._renderType,F=this.renderedLetters.length,P=d.l;if(this._hasMaskedPath){if(_e=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Ie,ve=_e.v;for(this._pathData.r.v&&(ve=ve.reverse()),U={tLength:0,segments:[]},Q=ve._length-1,ne=0,z=0;z<Q;z+=1)Ie=bez.buildBezierData(ve.v[z],ve.v[z+1],[ve.o[z][0]-ve.v[z][0],ve.o[z][1]-ve.v[z][1]],[ve.i[z+1][0]-ve.v[z+1][0],ve.i[z+1][1]-ve.v[z+1][1]]),U.tLength+=Ie.segmentLength,U.segments.push(Ie),ne+=Ie.segmentLength;z=Q,_e.v.c&&(Ie=bez.buildBezierData(ve.v[z],ve.v[0],[ve.o[z][0]-ve.v[z][0],ve.o[z][1]-ve.v[z][1]],[ve.i[0][0]-ve.v[0][0],ve.i[0][1]-ve.v[0][1]]),U.tLength+=Ie.segmentLength,U.segments.push(Ie),ne+=Ie.segmentLength),this._pathData.pi=U}if(T=0,O=1,K=0,A=!0,J=(U=this._pathData.pi).segments,(G=this._pathData.f.v)<0&&_e.v.c)for(U.tLength<Math.abs(G)&&(G=-Math.abs(G)%U.tLength),O=(q=J[T=J.length-1].points).length-1;G<0;)G+=q[O].partialLength,(O-=1)<0&&(O=(q=J[T-=1].points).length-1);I=(q=J[T].points)[O-1],te=(j=q[O]).partialLength}Q=P.length,L=0,H=0;var ae,ee,ue,Re,be=1.2*d.finalSize*.714,de=!0;ue=s.length;var ke,$e,ut,Ut,Sn,sn,In,at,_n,Nt,An,cn,nt,Ye=-1,St=G,Ot=T,Et=O,wt=-1,jn="",mn=this.defaultPropsArray;if(2===d.j||1===d.j){var vn=0,Dn=0,$t=2===d.j?-.5:-1,Ln=0,Dr=!0;for(z=0;z<Q;z+=1)if(P[z].n){for(vn&&(vn+=Dn);Ln<z;)P[Ln].animatorJustifyOffset=vn,Ln+=1;vn=0,Dr=!0}else{for(ee=0;ee<ue;ee+=1)(ae=s[ee].a).t.propType&&(Dr&&2===d.j&&(Dn+=ae.t.v*$t),vn+=(ke=s[ee].s.getMult(P[z].anIndexes[ee],y.a[ee].s.totalChars)).length?ae.t.v*ke[0]*$t:ae.t.v*ke*$t);Dr=!1}for(vn&&(vn+=Dn);Ln<z;)P[Ln].animatorJustifyOffset=vn,Ln+=1}for(z=0;z<Q;z+=1){if(w.reset(),Sn=1,P[z].n)L=0,H+=d.yOffset,H+=de?1:0,G=St,de=!1,this._hasMaskedPath&&(I=(q=J[T=Ot].points)[(O=Et)-1],te=(j=q[O]).partialLength,K=0),jn="",cn="",Nt="",nt="",mn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(wt!==P[z].line){switch(d.j){case 1:G+=ne-d.lineWidths[P[z].line];break;case 2:G+=(ne-d.lineWidths[P[z].line])/2}wt=P[z].line}Ye!==P[z].ind&&(P[Ye]&&(G+=P[Ye].extra),G+=P[z].an/2,Ye=P[z].ind),G+=p[0]*P[z].an*.005;var an=0;for(ee=0;ee<ue;ee+=1)(ae=s[ee].a).p.propType&&(an+=(ke=s[ee].s.getMult(P[z].anIndexes[ee],y.a[ee].s.totalChars)).length?ae.p.v[0]*ke[0]:ae.p.v[0]*ke),ae.a.propType&&(an+=(ke=s[ee].s.getMult(P[z].anIndexes[ee],y.a[ee].s.totalChars)).length?ae.a.v[0]*ke[0]:ae.a.v[0]*ke);for(A=!0,this._pathData.a.v&&(G=.5*P[0].an+(ne-this._pathData.f.v-.5*P[0].an-.5*P[P.length-1].an)*Ye/(Q-1),G+=this._pathData.f.v);A;)K+te>=G+an||!q?(ut=I.point[0]+(j.point[0]-I.point[0])*(me=(G+an-K)/j.partialLength),Ut=I.point[1]+(j.point[1]-I.point[1])*me,w.translate(-p[0]*P[z].an*.005,-p[1]*be*.01),A=!1):q&&(K+=j.partialLength,(O+=1)>=q.length&&(O=0,J[T+=1]?q=J[T].points:_e.v.c?(O=0,q=J[T=0].points):(K-=j.partialLength,q=null)),q&&(I=j,te=(j=q[O]).partialLength));w.translate(-($e=P[z].an/2-P[z].add),0,0)}else w.translate(-($e=P[z].an/2-P[z].add),0,0),w.translate(-p[0]*P[z].an*.005,-p[1]*be*.01,0);for(ee=0;ee<ue;ee+=1)(ae=s[ee].a).t.propType&&(ke=s[ee].s.getMult(P[z].anIndexes[ee],y.a[ee].s.totalChars),(0!==L||0!==d.j)&&(this._hasMaskedPath?G+=ke.length?ae.t.v*ke[0]:ae.t.v*ke:L+=ke.length?ae.t.v*ke[0]:ae.t.v*ke));for(d.strokeWidthAnim&&(In=d.sw||0),d.strokeColorAnim&&(sn=d.sc?[d.sc[0],d.sc[1],d.sc[2]]:[0,0,0]),d.fillColorAnim&&d.fc&&(at=[d.fc[0],d.fc[1],d.fc[2]]),ee=0;ee<ue;ee+=1)(ae=s[ee].a).a.propType&&((ke=s[ee].s.getMult(P[z].anIndexes[ee],y.a[ee].s.totalChars)).length?w.translate(-ae.a.v[0]*ke[0],-ae.a.v[1]*ke[1],ae.a.v[2]*ke[2]):w.translate(-ae.a.v[0]*ke,-ae.a.v[1]*ke,ae.a.v[2]*ke));for(ee=0;ee<ue;ee+=1)(ae=s[ee].a).s.propType&&((ke=s[ee].s.getMult(P[z].anIndexes[ee],y.a[ee].s.totalChars)).length?w.scale(1+(ae.s.v[0]-1)*ke[0],1+(ae.s.v[1]-1)*ke[1],1):w.scale(1+(ae.s.v[0]-1)*ke,1+(ae.s.v[1]-1)*ke,1));for(ee=0;ee<ue;ee+=1){if(ae=s[ee].a,ke=s[ee].s.getMult(P[z].anIndexes[ee],y.a[ee].s.totalChars),ae.sk.propType&&(ke.length?w.skewFromAxis(-ae.sk.v*ke[0],ae.sa.v*ke[1]):w.skewFromAxis(-ae.sk.v*ke,ae.sa.v*ke)),ae.r.propType&&w.rotateZ(ke.length?-ae.r.v*ke[2]:-ae.r.v*ke),ae.ry.propType&&w.rotateY(ke.length?ae.ry.v*ke[1]:ae.ry.v*ke),ae.rx.propType&&w.rotateX(ke.length?ae.rx.v*ke[0]:ae.rx.v*ke),ae.o.propType&&(Sn+=ke.length?(ae.o.v*ke[0]-Sn)*ke[0]:(ae.o.v*ke-Sn)*ke),d.strokeWidthAnim&&ae.sw.propType&&(In+=ke.length?ae.sw.v*ke[0]:ae.sw.v*ke),d.strokeColorAnim&&ae.sc.propType)for(_n=0;_n<3;_n+=1)sn[_n]+=ke.length?(ae.sc.v[_n]-sn[_n])*ke[0]:(ae.sc.v[_n]-sn[_n])*ke;if(d.fillColorAnim&&d.fc){if(ae.fc.propType)for(_n=0;_n<3;_n+=1)at[_n]+=ke.length?(ae.fc.v[_n]-at[_n])*ke[0]:(ae.fc.v[_n]-at[_n])*ke;ae.fh.propType&&(at=addHueToRGB(at,ke.length?ae.fh.v*ke[0]:ae.fh.v*ke)),ae.fs.propType&&(at=addSaturationToRGB(at,ke.length?ae.fs.v*ke[0]:ae.fs.v*ke)),ae.fb.propType&&(at=addBrightnessToRGB(at,ke.length?ae.fb.v*ke[0]:ae.fb.v*ke))}}for(ee=0;ee<ue;ee+=1)(ae=s[ee].a).p.propType&&(ke=s[ee].s.getMult(P[z].anIndexes[ee],y.a[ee].s.totalChars),this._hasMaskedPath?ke.length?w.translate(0,ae.p.v[1]*ke[0],-ae.p.v[2]*ke[1]):w.translate(0,ae.p.v[1]*ke,-ae.p.v[2]*ke):ke.length?w.translate(ae.p.v[0]*ke[0],ae.p.v[1]*ke[1],-ae.p.v[2]*ke[2]):w.translate(ae.p.v[0]*ke,ae.p.v[1]*ke,-ae.p.v[2]*ke));if(d.strokeWidthAnim&&(Nt=In<0?0:In),d.strokeColorAnim&&(An="rgb("+Math.round(255*sn[0])+","+Math.round(255*sn[1])+","+Math.round(255*sn[2])+")"),d.fillColorAnim&&d.fc&&(cn="rgb("+Math.round(255*at[0])+","+Math.round(255*at[1])+","+Math.round(255*at[2])+")"),this._hasMaskedPath){if(w.translate(0,-d.ls),w.translate(0,p[1]*be*.01+H,0),this._pathData.p.v){var wn=180*Math.atan((j.point[1]-I.point[1])/(j.point[0]-I.point[0]))/Math.PI;j.point[0]<I.point[0]&&(wn+=180),w.rotate(-wn*Math.PI/180)}w.translate(ut,Ut,0),G-=p[0]*P[z].an*.005,P[z+1]&&Ye!==P[z+1].ind&&(G+=P[z].an/2,G+=.001*d.tr*d.finalSize)}else{switch(w.translate(L,H,0),d.ps&&w.translate(d.ps[0],d.ps[1]+d.ascent,0),d.j){case 1:w.translate(P[z].animatorJustifyOffset+d.justifyOffset+(d.boxWidth-d.lineWidths[P[z].line]),0,0);break;case 2:w.translate(P[z].animatorJustifyOffset+d.justifyOffset+(d.boxWidth-d.lineWidths[P[z].line])/2,0,0)}w.translate(0,-d.ls),w.translate($e,0,0),w.translate(p[0]*P[z].an*.005,p[1]*be*.01,0),L+=P[z].l+.001*d.tr*d.finalSize}"html"===x?jn=w.toCSS():"svg"===x?jn=w.to2dCSS():mn=[w.props[0],w.props[1],w.props[2],w.props[3],w.props[4],w.props[5],w.props[6],w.props[7],w.props[8],w.props[9],w.props[10],w.props[11],w.props[12],w.props[13],w.props[14],w.props[15]],nt=Sn}F<=z?(Re=new LetterProps(nt,Nt,An,cn,jn,mn),this.renderedLetters.push(Re),F+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(Re=this.renderedLetters[z]).update(nt,Nt,An,cn,jn,mn)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(d,h,p){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(d,h,p),this.textProperty=new TextProperty(this,d.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(d.t,this.renderType,this),this.initTransform(d,h,p),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(d){this._mdf=!1,this.prepareRenderableFrame(d),this.prepareProperties(d,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(d,h){var p,y,s=h.length,w="";for(p=0;p<s;p+=1)"sh"===h[p].ty&&(w+=buildShapeString(y=h[p].ks.k,y.i.length,!0,d));return w},ITextElement.prototype.updateDocumentData=function(d,h){this.textProperty.updateDocumentData(d,h)},ITextElement.prototype.canResizeFont=function(d){this.textProperty.canResizeFont(d)},ITextElement.prototype.setMinimumFontSize=function(d){this.textProperty.setMinimumFontSize(d)},ITextElement.prototype.applyTextPropertiesToMatrix=function(d,h,p,s,y){switch(d.ps&&h.translate(d.ps[0],d.ps[1]+d.ascent,0),h.translate(0,-d.ls,0),d.j){case 1:h.translate(d.justifyOffset+(d.boxWidth-d.lineWidths[p]),0,0);break;case 2:h.translate(d.justifyOffset+(d.boxWidth-d.lineWidths[p])/2,0,0)}h.translate(s,y,0)},ITextElement.prototype.buildColor=function(d){return"rgb("+Math.round(255*d[0])+","+Math.round(255*d[1])+","+Math.round(255*d[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(d,h,p){this.textSpans=[],this.renderType="svg",this.initElement(d,h,p)}function ISolidElement(d,h,p){this.initElement(d,h,p)}function NullElement(d,h,p){this.initFrame(),this.initBaseData(d,h,p),this.initFrame(),this.initTransform(d,h,p),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(d,h,p){this.layers=d.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(d,h,p),this.tm=d.tm?PropertyFactory.getProp(this,d.tm,0,h.frameRate,this):{_placeholder:!0}}function SVGRenderer(d,h){this.animationItem=d,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var p="";if(h&&h.title){var s=createNS("title"),y=createElementID();s.setAttribute("id",y),s.textContent=h.title,this.svgElement.appendChild(s),p+=y}if(h&&h.description){var w=createNS("desc"),x=createElementID();w.setAttribute("id",x),w.textContent=h.description,this.svgElement.appendChild(w),p+=" "+x}p&&this.svgElement.setAttribute("aria-labelledby",p);var F=createNS("defs");this.svgElement.appendChild(F);var L=createNS("g");this.svgElement.appendChild(L),this.layerElement=L,this.renderConfig={preserveAspectRatio:h&&h.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:h&&h.contentVisibility||"visible",progressiveLoad:h&&h.progressiveLoad||!1,hideOnTransparent:!(h&&!1===h.hideOnTransparent),viewBoxOnly:h&&h.viewBoxOnly||!1,viewBoxSize:h&&h.viewBoxSize||!1,className:h&&h.className||"",id:h&&h.id||"",focusable:h&&h.focusable,filterSize:{width:h&&h.filterSize&&h.filterSize.width||"100%",height:h&&h.filterSize&&h.filterSize.height||"100%",x:h&&h.filterSize&&h.filterSize.x||"0%",y:h&&h.filterSize&&h.filterSize.y||"0%"},width:h&&h.width,height:h&&h.height},this.globalData={_mdf:!1,frameNum:-1,defs:F,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var d;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),d=0;d<15;d+=1)this.saved[d]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVEffects(){}function CVMaskElement(d,h){this.data=d,this.element=h,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var p,s=this.masksProperties.length,y=!1;for(p=0;p<s;p+=1)"n"!==this.masksProperties[p].mode&&(y=!0),this.viewData[p]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[p],3);this.hasMasks=y,y&&this.element.addRenderableComponent(this)}function CVBaseElement(){}function CVShapeData(d,h,p,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var y=4;"rc"===h.ty?y=5:"el"===h.ty?y=6:"sr"===h.ty&&(y=7),this.sh=ShapePropertyFactory.getShapeProp(d,h,y,d);var w,F,x=p.length;for(w=0;w<x;w+=1)p[w].closed||(F={transforms:s.addTransformSequence(p[w].transforms),trNodes:[]},this.styledShapes.push(F),p[w].elements.push(F))}function CVShapeElement(d,h,p){this.shapes=[],this.shapesData=d.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(d,h,p)}function CVTextElement(d,h,p){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(d,h,p)}function CVImageElement(d,h,p){this.assetData=h.getAssetData(d.refId),this.img=h.imageLoader.getAsset(this.assetData),this.initElement(d,h,p)}function CVSolidElement(d,h,p){this.initElement(d,h,p)}function CanvasRendererBase(d,h){this.animationItem=d,this.renderConfig={clearCanvas:!h||void 0===h.clearCanvas||h.clearCanvas,context:h&&h.context||null,progressiveLoad:h&&h.progressiveLoad||!1,preserveAspectRatio:h&&h.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:h&&h.contentVisibility||"visible",className:h&&h.className||"",id:h&&h.id||""},this.renderConfig.dpr=h&&h.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=h&&h.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(d,h,p){this.completeLayers=!1,this.layers=d.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(d,h,p),this.tm=d.tm?PropertyFactory.getProp(this,d.tm,0,h.frameRate,this):{_placeholder:!0}}function CanvasRenderer(d,h){this.animationItem=d,this.renderConfig={clearCanvas:!h||void 0===h.clearCanvas||h.clearCanvas,context:h&&h.context||null,progressiveLoad:h&&h.progressiveLoad||!1,preserveAspectRatio:h&&h.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:h&&h.contentVisibility||"visible",className:h&&h.className||"",id:h&&h.id||""},this.renderConfig.dpr=h&&h.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=h&&h.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(d,h,p){this.initElement(d,h,p)}function HShapeElement(d,h,p){this.shapes=[],this.shapesData=d.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(d,h,p),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(d,h,p){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(d,h,p)}function HCameraElement(d,h,p){this.initFrame(),this.initBaseData(d,h,p),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,d.pe,0,0,this),d.ks.p.s?(this.px=s(this,d.ks.p.x,1,0,this),this.py=s(this,d.ks.p.y,1,0,this),this.pz=s(this,d.ks.p.z,1,0,this)):this.p=s(this,d.ks.p,1,0,this),d.ks.a&&(this.a=s(this,d.ks.a,1,0,this)),d.ks.or.k.length&&d.ks.or.k[0].to){var y,w=d.ks.or.k.length;for(y=0;y<w;y+=1)d.ks.or.k[y].to=null,d.ks.or.k[y].ti=null}this.or=s(this,d.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,d.ks.rx,0,degToRads,this),this.ry=s(this,d.ks.ry,0,degToRads,this),this.rz=s(this,d.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(d,h,p){this.assetData=h.getAssetData(d.refId),this.initElement(d,h,p)}function HybridRendererBase(d,h){this.animationItem=d,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:h&&h.className||"",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(h&&!1===h.hideOnTransparent),filterSize:{width:h&&h.filterSize&&h.filterSize.width||"400%",height:h&&h.filterSize&&h.filterSize.height||"400%",x:h&&h.filterSize&&h.filterSize.x||"-100%",y:h&&h.filterSize&&h.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(d,h,p){this.layers=d.layers,this.supports3d=!d.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(d,h,p),this.tm=d.tm?PropertyFactory.getProp(this,d.tm,0,h.frameRate,this):{_placeholder:!0}}function HybridRenderer(d,h){this.animationItem=d,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:h&&h.className||"",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(h&&!1===h.hideOnTransparent),filterSize:{width:h&&h.filterSize&&h.filterSize.width||"400%",height:h&&h.filterSize&&h.filterSize.height||"400%",x:h&&h.filterSize&&h.filterSize.x||"-100%",y:h&&h.filterSize&&h.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(d){for(var h=0,p=d.length,s=[],y="";h<p;)d[h]===String.fromCharCode(13)||d[h]===String.fromCharCode(3)?(s.push(y),y=""):y+=d[h],h+=1;return s.push(y),s},SVGTextLottieElement.prototype.buildShapeData=function(d,h){if(d.shapes&&d.shapes.length){var p=d.shapes[0];if(p.it){var s=p.it[p.it.length-1];s.s&&(s.s.k[0]=h,s.s.k[1]=h)}}return d},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var d,h,p=this.textProperty.currentData;this.renderedLetters=createSizedArray(p?p.l.length:0),this.layerElement.setAttribute("fill",p.fc?this.buildColor(p.fc):"rgba(0,0,0,0)"),p.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(p.sc)),this.layerElement.setAttribute("stroke-width",p.sw)),this.layerElement.setAttribute("font-size",p.finalSize);var s=this.globalData.fontManager.getFontByName(p.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var y=p.fWeight;this.layerElement.setAttribute("font-style",p.fStyle),this.layerElement.setAttribute("font-weight",y)}this.layerElement.setAttribute("aria-label",p.t);var x=p.l||[],F=!!this.globalData.fontManager.chars;h=x.length;var L,H=this.mHelper,Q=this.data.singleShape,P=0,U=0,G=!0,j=.001*p.tr*p.finalSize;if(!Q||F||p.sz){var I,T=this.textSpans.length;for(d=0;d<h;d+=1){if(this.textSpans[d]||(this.textSpans[d]={span:null,childSpan:null,glyph:null}),!F||!Q||0===d){if(L=T>d?this.textSpans[d].span:createNS(F?"g":"text"),T<=d){if(L.setAttribute("stroke-linecap","butt"),L.setAttribute("stroke-linejoin","round"),L.setAttribute("stroke-miterlimit","4"),this.textSpans[d].span=L,F){var q=createNS("g");L.appendChild(q),this.textSpans[d].childSpan=q}this.textSpans[d].span=L,this.layerElement.appendChild(L)}L.style.display="inherit"}if(H.reset(),Q&&(x[d].n&&(P=-j,U+=p.yOffset,U+=G?1:0,G=!1),this.applyTextPropertiesToMatrix(p,H,x[d].line,P,U),P+=x[d].l||0,P+=j),F){var J;if(1===(I=this.globalData.fontManager.getCharData(p.finalText[d],s.fStyle,this.globalData.fontManager.getFontByName(p.f).fFamily)).t)J=new SVGCompElement(I.data,this.globalData,this);else{var te=emptyShapeData;I.data&&I.data.shapes&&(te=this.buildShapeData(I.data,p.finalSize)),J=new SVGShapeElement(te,this.globalData,this)}if(this.textSpans[d].glyph){var ne=this.textSpans[d].glyph;this.textSpans[d].childSpan.removeChild(ne.layerElement),ne.destroy()}this.textSpans[d].glyph=J,J._debug=!0,J.prepareFrame(0),J.renderFrame(),this.textSpans[d].childSpan.appendChild(J.layerElement),1===I.t&&this.textSpans[d].childSpan.setAttribute("transform","scale("+p.finalSize/100+","+p.finalSize/100+")")}else Q&&L.setAttribute("transform","translate("+H.props[12]+","+H.props[13]+")"),L.textContent=x[d].val,L.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Q&&L&&L.setAttribute("d","")}else{var K=this.textContainer,A="start";switch(p.j){case 1:A="end";break;case 2:A="middle";break;default:A="start"}K.setAttribute("text-anchor",A),K.setAttribute("letter-spacing",j);var O=this.buildTextContents(p.finalText);for(h=O.length,U=p.ps?p.ps[1]+p.ascent:0,d=0;d<h;d+=1)(L=this.textSpans[d].span||createNS("tspan")).textContent=O[d],L.setAttribute("x",0),L.setAttribute("y",U),L.style.display="inherit",K.appendChild(L),this.textSpans[d]||(this.textSpans[d]={span:null,glyph:null}),this.textSpans[d].span=L,U+=p.finalLineHeight;this.layerElement.appendChild(K)}for(;d<this.textSpans.length;)this.textSpans[d].span.style.display="none",d+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var d=this.layerElement.getBBox();this.bbox={top:d.y,left:d.x,width:d.width,height:d.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var d,p,h=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,d=0;d<h;d+=1)(p=this.textSpans[d].glyph)&&(p.prepareFrame(this.comp.renderedFrame-this.data.st),p._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var d,h,y,w,x,p=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(h=s.length,d=0;d<h;d+=1)s[d].n||(y=p[d],w=this.textSpans[d].span,(x=this.textSpans[d].glyph)&&x.renderFrame(),y._mdf.m&&w.setAttribute("transform",y.m),y._mdf.o&&w.setAttribute("opacity",y.o),y._mdf.sw&&w.setAttribute("stroke-width",y.sw),y._mdf.sc&&w.setAttribute("stroke",y.sc),y._mdf.fc&&w.setAttribute("fill",y.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var d=createNS("rect");d.setAttribute("width",this.data.sw),d.setAttribute("height",this.data.sh),d.setAttribute("fill",this.data.sc),this.layerElement.appendChild(d)},NullElement.prototype.prepareFrame=function(d){this.prepareProperties(d,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(d){return new NullElement(d,this.globalData,this)},SVGRendererBase.prototype.createShape=function(d){return new SVGShapeElement(d,this.globalData,this)},SVGRendererBase.prototype.createText=function(d){return new SVGTextLottieElement(d,this.globalData,this)},SVGRendererBase.prototype.createImage=function(d){return new IImageElement(d,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(d){return new ISolidElement(d,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(d){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+d.w+" "+d.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",d.w),this.svgElement.setAttribute("height",d.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var h=this.globalData.defs;this.setupGlobalData(d,h),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=d;var p=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",d.w),s.setAttribute("height",d.h),s.setAttribute("x",0),s.setAttribute("y",0);var y=createElementID();p.setAttribute("id",y),p.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+y+")"),h.appendChild(p),this.layers=d.layers,this.elements=createSizedArray(d.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var d,h=this.layers?this.layers.length:0;for(d=0;d<h;d+=1)this.elements[d]&&this.elements[d].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(d){var h=this.elements;if(!h[d]&&99!==this.layers[d].ty){h[d]=!0;var p=this.createItem(this.layers[d]);h[d]=p,getExpressionsPlugin()&&(0===this.layers[d].ty&&this.globalData.projectInterface.registerComposition(p),p.initExpressions()),this.appendElementInPos(p,d),this.layers[d].tt&&(this.elements[d-1]&&!0!==this.elements[d-1]?p.setMatte(h[d-1].layerId):(this.buildItem(d-1),this.addPendingElement(p)))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var d=this.pendingElements.pop();if(d.checkParenting(),d.data.tt)for(var h=0,p=this.elements.length;h<p;){if(this.elements[h]===d){d.setMatte(this.elements[h-1].layerId);break}h+=1}}},SVGRendererBase.prototype.renderFrame=function(d){if(this.renderedFrame!==d&&!this.destroyed){null===d?d=this.renderedFrame:this.renderedFrame=d,this.globalData.frameNum=d,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=d,this.globalData._mdf=!1;var h,p=this.layers.length;for(this.completeLayers||this.checkLayers(d),h=p-1;h>=0;h-=1)(this.completeLayers||this.elements[h])&&this.elements[h].prepareFrame(d-this.layers[h].st);if(this.globalData._mdf)for(h=0;h<p;h+=1)(this.completeLayers||this.elements[h])&&this.elements[h].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(d,h){var p=d.getBaseElement();if(p){for(var y,s=0;s<h;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement()&&(y=this.elements[s].getBaseElement()),s+=1;y?this.layerElement.insertBefore(p,y):this.layerElement.appendChild(p)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(d,h,p){this.initFrame(),this.initBaseData(d,h,p),this.initTransform(d,h,p),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!h.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(d){if(this._mdf=!1,this.prepareRenderableFrame(d),this.prepareProperties(d,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=d/this.data.sr;else{var h=this.tm.v;h===this.data.op&&(h=this.data.op-1),this.renderedFrame=h}var p,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),p=s-1;p>=0;p-=1)(this.completeLayers||this.elements[p])&&(this.elements[p].prepareFrame(this.renderedFrame-this.layers[p].st),this.elements[p]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var d,h=this.layers.length;for(d=0;d<h;d+=1)(this.completeLayers||this.elements[d])&&this.elements[d].renderFrame()},ICompElement.prototype.setElements=function(d){this.elements=d},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var d,h=this.layers.length;for(d=0;d<h;d+=1)this.elements[d]&&this.elements[d].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(d){return new SVGCompElement(d,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(d){return new SVGCompElement(d,this.globalData,this)},CVContextData.prototype.duplicate=function(){var d=2*this._length,h=this.savedOp;this.savedOp=createTypedArray("float32",d),this.savedOp.set(h);var p=0;for(p=this._length;p<d;p+=1)this.saved[p]=createTypedArray("float32",16);this._length=d},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},ShapeTransformManager.prototype={addTransformSequence:function(h){var p,s=h.length,y="_";for(p=0;p<s;p+=1)y+=h[p].transform.key+"_";var w=this.sequences[y];return w||(w={transforms:[].concat(h),finalTransform:new Matrix,_mdf:!1},this.sequences[y]=w,this.sequenceList.push(w)),w},processSequence:function(h,p){for(var s=0,y=h.transforms.length,w=p;s<y&&!p;){if(h.transforms[s].transform.mProps._mdf){w=!0;break}s+=1}var x;if(w)for(h.finalTransform.reset(),s=y-1;s>=0;s-=1)h.finalTransform.transform((x=h.transforms[s].transform.mProps.v.props)[0],x[1],x[2],x[3],x[4],x[5],x[6],x[7],x[8],x[9],x[10],x[11],x[12],x[13],x[14],x[15]);h._mdf=w},processSequences:function(h){var p,s=this.sequenceList.length;for(p=0;p<s;p+=1)this.processSequence(this.sequenceList[p],h)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var p,y,w,x,d=this.element.finalTransform.mat,h=this.element.canvasContext,s=this.masksProperties.length;for(h.beginPath(),p=0;p<s;p+=1)if("n"!==this.masksProperties[p].mode){this.masksProperties[p].inv&&(h.moveTo(0,0),h.lineTo(this.element.globalData.compSize.w,0),h.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),h.lineTo(0,this.element.globalData.compSize.h),h.lineTo(0,0)),y=d.applyToPointArray((x=this.viewData[p].v).v[0][0],x.v[0][1],0),h.moveTo(y[0],y[1]);var F,L=x._length;for(F=1;F<L;F+=1)w=d.applyToTriplePoints(x.o[F-1],x.i[F],x.v[F]),h.bezierCurveTo(w[0],w[1],w[2],w[3],w[4],w[5]);w=d.applyToTriplePoints(x.o[F-1],x.i[0],x.v[0]),h.bezierCurveTo(w[0],w[1],w[2],w[3],w[4],w[5])}this.element.globalData.renderer.save(!0),h.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var h=this.globalData;if(h.blendMode!==this.data.bm){h.blendMode=this.data.bm;var p=getBlendMode(this.data.bm);h.canvasContext.globalCompositeOperation=p}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var h=0===this.data.ty;this.globalData.renderer.save(h),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(h),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(d,h){var p={data:d,type:d.ty,preTransforms:this.transformsManager.addTransformSequence(h),transforms:[],elements:[],closed:!0===d.hd},s={};if("fl"===d.ty||"st"===d.ty?(s.c=PropertyFactory.getProp(this,d.c,1,255,this),s.c.k||(p.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):("gf"===d.ty||"gs"===d.ty)&&(s.s=PropertyFactory.getProp(this,d.s,1,null,this),s.e=PropertyFactory.getProp(this,d.e,1,null,this),s.h=PropertyFactory.getProp(this,d.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,d.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,d.g,this)),s.o=PropertyFactory.getProp(this,d.o,0,.01,this),"st"===d.ty||"gs"===d.ty){if(p.lc=lineCapEnum[d.lc||2],p.lj=lineJoinEnum[d.lj||2],1==d.lj&&(p.ml=d.ml),s.w=PropertyFactory.getProp(this,d.w,0,null,this),s.w.k||(p.wi=s.w.v),d.d){var y=new DashProperty(this,d.d,"canvas",this);s.d=y,s.d.k||(p.da=s.d.dashArray,p.do=s.d.dashoffset[0])}}else p.r=2===d.r?"evenodd":"nonzero";return this.stylesList.push(p),s.style=p,s},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(d){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,d.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,d,this)}}},CVShapeElement.prototype.createShapeElement=function(d){var h=new CVShapeData(this,d,this.stylesList,this.transformsManager);return this.shapes.push(h),this.addShapeToModifiers(h),h},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var d,h=this.itemsData.length;for(d=0;d<h;d+=1)this.prevViewData[d]=this.itemsData[d];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),h=this.dynamicProperties.length,d=0;d<h;d+=1)this.dynamicProperties[d].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(d){var h,p=this.stylesList.length;for(h=0;h<p;h+=1)this.stylesList[h].closed||this.stylesList[h].transforms.push(d)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var d,h=this.stylesList.length;for(d=0;d<h;d+=1)this.stylesList[d].closed||this.stylesList[d].transforms.pop()},CVShapeElement.prototype.closeStyles=function(d){var h,p=d.length;for(h=0;h<p;h+=1)d[h].closed=!0},CVShapeElement.prototype.searchShapes=function(d,h,p,s,y){var w,F,L,Q,P,U,x=d.length-1,H=[],z=[],G=[].concat(y);for(w=x;w>=0;w-=1){if((Q=this.searchProcessedElement(d[w]))?h[w]=p[Q-1]:d[w]._shouldRender=s,"fl"===d[w].ty||"st"===d[w].ty||"gf"===d[w].ty||"gs"===d[w].ty)Q?h[w].style.closed=!1:h[w]=this.createStyleElement(d[w],G),H.push(h[w].style);else if("gr"===d[w].ty){if(Q)for(L=h[w].it.length,F=0;F<L;F+=1)h[w].prevViewData[F]=h[w].it[F];else h[w]=this.createGroupElement(d[w]);this.searchShapes(d[w].it,h[w].it,h[w].prevViewData,s,G)}else"tr"===d[w].ty?(Q||(U=this.createTransformElement(d[w]),h[w]=U),G.push(h[w]),this.addTransformToStyleList(h[w])):"sh"===d[w].ty||"rc"===d[w].ty||"el"===d[w].ty||"sr"===d[w].ty?Q||(h[w]=this.createShapeElement(d[w])):"tm"===d[w].ty||"rd"===d[w].ty||"pb"===d[w].ty?(Q?(P=h[w]).closed=!1:((P=ShapeModifiers.getModifier(d[w].ty)).init(this,d[w]),h[w]=P,this.shapeModifiers.push(P)),z.push(P)):"rp"===d[w].ty&&(Q?(P=h[w]).closed=!0:(P=ShapeModifiers.getModifier(d[w].ty),h[w]=P,P.init(this,d,w,h),this.shapeModifiers.push(P),s=!1),z.push(P));this.addProcessedElement(d[w],w+1)}for(this.removeTransformFromStyleList(),this.closeStyles(H),x=z.length,w=0;w<x;w+=1)z[w].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(d,h){(d._opMdf||h.op._mdf||this._isFirstFrame)&&(h.opacity=d.opacity,h.opacity*=h.op.v,h._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var d,p,s,y,w,x,F,z,Q,h=this.stylesList.length,L=this.globalData.renderer,H=this.globalData.canvasContext;for(d=0;d<h;d+=1)if(("st"!==(z=(Q=this.stylesList[d]).type)&&"gs"!==z||0!==Q.wi)&&Q.data._shouldRender&&0!==Q.coOp&&0!==this.globalData.currentGlobalAlpha){for(L.save(),x=Q.elements,"st"===z||"gs"===z?(H.strokeStyle="st"===z?Q.co:Q.grd,H.lineWidth=Q.wi,H.lineCap=Q.lc,H.lineJoin=Q.lj,H.miterLimit=Q.ml||0):H.fillStyle="fl"===z?Q.co:Q.grd,L.ctxOpacity(Q.coOp),"st"!==z&&"gs"!==z&&H.beginPath(),L.ctxTransform(Q.preTransforms.finalTransform.props),s=x.length,p=0;p<s;p+=1){for(("st"===z||"gs"===z)&&(H.beginPath(),Q.da&&(H.setLineDash(Q.da),H.lineDashOffset=Q.do)),w=(F=x[p].trNodes).length,y=0;y<w;y+=1)"m"===F[y].t?H.moveTo(F[y].p[0],F[y].p[1]):"c"===F[y].t?H.bezierCurveTo(F[y].pts[0],F[y].pts[1],F[y].pts[2],F[y].pts[3],F[y].pts[4],F[y].pts[5]):H.closePath();("st"===z||"gs"===z)&&(H.stroke(),Q.da&&H.setLineDash(this.dashResetter))}"st"!==z&&"gs"!==z&&H.fill(Q.r),L.restore()}},CVShapeElement.prototype.renderShape=function(d,h,p,s){var y,x;for(x=d,y=h.length-1;y>=0;y-=1)"tr"===h[y].ty?this.renderShapeTransform(d,x=p[y].transform):"sh"===h[y].ty||"el"===h[y].ty||"rc"===h[y].ty||"sr"===h[y].ty?this.renderPath(h[y],p[y]):"fl"===h[y].ty?this.renderFill(h[y],p[y],x):"st"===h[y].ty?this.renderStroke(h[y],p[y],x):"gf"===h[y].ty||"gs"===h[y].ty?this.renderGradientFill(h[y],p[y],x):"gr"===h[y].ty&&this.renderShape(x,h[y].it,p[y].it);s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(d,h){if(this._isFirstFrame||h._mdf||d.transforms._mdf){var y,w,x,p=d.trNodes,s=h.paths,F=s._length;p.length=0;var L=d.transforms.finalTransform;for(x=0;x<F;x+=1){var H=s.shapes[x];if(H&&H.v){for(w=H._length,y=1;y<w;y+=1)1===y&&p.push({t:"m",p:L.applyToPointArray(H.v[0][0],H.v[0][1],0)}),p.push({t:"c",pts:L.applyToTriplePoints(H.o[y-1],H.i[y],H.v[y])});1===w&&p.push({t:"m",p:L.applyToPointArray(H.v[0][0],H.v[0][1],0)}),H.c&&w&&(p.push({t:"c",pts:L.applyToTriplePoints(H.o[y-1],H.i[0],H.v[0])}),p.push({t:"z"}))}}d.trNodes=p}},CVShapeElement.prototype.renderPath=function(d,h){if(!0!==d.hd&&d._shouldRender){var p,s=h.styledShapes.length;for(p=0;p<s;p+=1)this.renderStyledShape(h.styledShapes[p],h.sh)}},CVShapeElement.prototype.renderFill=function(d,h,p){var s=h.style;(h.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(h.c.v[0])+","+bmFloor(h.c.v[1])+","+bmFloor(h.c.v[2])+")"),(h.o._mdf||p._opMdf||this._isFirstFrame)&&(s.coOp=h.o.v*p.opacity)},CVShapeElement.prototype.renderGradientFill=function(d,h,p){var y,s=h.style;if(!s.grd||h.g._mdf||h.s._mdf||h.e._mdf||1!==d.t&&(h.h._mdf||h.a._mdf)){var w=this.globalData.canvasContext,x=h.s.v,F=h.e.v;if(1===d.t)y=w.createLinearGradient(x[0],x[1],F[0],F[1]);else{var L=Math.sqrt(Math.pow(x[0]-F[0],2)+Math.pow(x[1]-F[1],2)),H=Math.atan2(F[1]-x[1],F[0]-x[0]),z=h.h.v;z>=1?z=.99:z<=-1&&(z=-.99);var Q=L*z,P=Math.cos(H+h.a.v)*Q+x[0],U=Math.sin(H+h.a.v)*Q+x[1];y=w.createRadialGradient(P,U,0,x[0],x[1],L)}var G,j=d.g.p,K=h.g.c,A=1;for(G=0;G<j;G+=1)h.g._hasOpacity&&h.g._collapsable&&(A=h.g.o[2*G+1]),y.addColorStop(K[4*G]/100,"rgba("+K[4*G+1]+","+K[4*G+2]+","+K[4*G+3]+","+A+")");s.grd=y}s.coOp=h.o.v*p.opacity},CVShapeElement.prototype.renderStroke=function(d,h,p){var s=h.style,y=h.d;y&&(y._mdf||this._isFirstFrame)&&(s.da=y.dashArray,s.do=y.dashoffset[0]),(h.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(h.c.v[0])+","+bmFloor(h.c.v[1])+","+bmFloor(h.c.v[2])+")"),(h.o._mdf||p._opMdf||this._isFirstFrame)&&(s.coOp=h.o.v*p.opacity),(h.w._mdf||this._isFirstFrame)&&(s.wi=h.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var d=this.textProperty.currentData;this.renderedLetters=createSizedArray(d.l?d.l.length:0);var h=!1;d.fc?(h=!0,this.values.fill=this.buildColor(d.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=h;var p=!1;d.sc&&(p=!0,this.values.stroke=this.buildColor(d.sc),this.values.sWidth=d.sw);var y,w,s=this.globalData.fontManager.getFontByName(d.f),x=d.l,F=this.mHelper;this.stroke=p,this.values.fValue=d.finalSize+"px "+this.globalData.fontManager.getFontByName(d.f).fFamily,w=d.finalText.length;var L,H,z,Q,P,U,G,j,K,A,O=this.data.singleShape,T=.001*d.tr*d.finalSize,I=0,q=0,J=!0,te=0;for(y=0;y<w;y+=1){H=(L=this.globalData.fontManager.getCharData(d.finalText[y],s.fStyle,this.globalData.fontManager.getFontByName(d.f).fFamily))&&L.data||{},F.reset(),O&&x[y].n&&(I=-T,q+=d.yOffset,q+=J?1:0,J=!1),G=(P=H.shapes?H.shapes[0].it:[]).length,F.scale(d.finalSize/100,d.finalSize/100),O&&this.applyTextPropertiesToMatrix(d,F,x[y].line,I,q),K=createSizedArray(G-1);var ne=0;for(U=0;U<G;U+=1)if("sh"===P[U].ty){for(Q=P[U].ks.k.i.length,j=P[U].ks.k,A=[],z=1;z<Q;z+=1)1===z&&A.push(F.applyToX(j.v[0][0],j.v[0][1],0),F.applyToY(j.v[0][0],j.v[0][1],0)),A.push(F.applyToX(j.o[z-1][0],j.o[z-1][1],0),F.applyToY(j.o[z-1][0],j.o[z-1][1],0),F.applyToX(j.i[z][0],j.i[z][1],0),F.applyToY(j.i[z][0],j.i[z][1],0),F.applyToX(j.v[z][0],j.v[z][1],0),F.applyToY(j.v[z][0],j.v[z][1],0));A.push(F.applyToX(j.o[z-1][0],j.o[z-1][1],0),F.applyToY(j.o[z-1][0],j.o[z-1][1],0),F.applyToX(j.i[0][0],j.i[0][1],0),F.applyToY(j.i[0][0],j.i[0][1],0),F.applyToX(j.v[0][0],j.v[0][1],0),F.applyToY(j.v[0][0],j.v[0][1],0)),K[ne]=A,ne+=1}O&&(I+=x[y].l,I+=T),this.textSpans[te]?this.textSpans[te].elem=K:this.textSpans[te]={elem:K},te+=1}},CVTextElement.prototype.renderInnerContent=function(){var d=this.canvasContext;d.font=this.values.fValue,d.lineCap="butt",d.lineJoin="miter",d.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var h,p,s,y,w,x,F=this.textAnimator.renderedLetters,L=this.textProperty.currentData.l;p=L.length;var H,U,G,z=null,Q=null,P=null;for(h=0;h<p;h+=1)if(!L[h].n){if((H=F[h])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(H.p),this.globalData.renderer.ctxOpacity(H.o)),this.fill){for(H&&H.fc?z!==H.fc&&(z=H.fc,d.fillStyle=H.fc):z!==this.values.fill&&(z=this.values.fill,d.fillStyle=this.values.fill),y=(U=this.textSpans[h].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<y;s+=1)for(x=(G=U[s]).length,this.globalData.canvasContext.moveTo(G[0],G[1]),w=2;w<x;w+=6)this.globalData.canvasContext.bezierCurveTo(G[w],G[w+1],G[w+2],G[w+3],G[w+4],G[w+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(H&&H.sw?P!==H.sw&&(P=H.sw,d.lineWidth=H.sw):P!==this.values.sWidth&&(P=this.values.sWidth,d.lineWidth=this.values.sWidth),H&&H.sc?Q!==H.sc&&(Q=H.sc,d.strokeStyle=H.sc):Q!==this.values.stroke&&(Q=this.values.stroke,d.strokeStyle=this.values.stroke),y=(U=this.textSpans[h].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<y;s+=1)for(x=(G=U[s]).length,this.globalData.canvasContext.moveTo(G[0],G[1]),w=2;w<x;w+=6)this.globalData.canvasContext.bezierCurveTo(G[w],G[w+1],G[w+2],G[w+3],G[w+4],G[w+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}H&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var d=createTag("canvas");d.width=this.assetData.w,d.height=this.assetData.h;var x,F,h=d.getContext("2d"),p=this.img.width,s=this.img.height,y=p/s,w=this.assetData.w/this.assetData.h,L=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;y>w&&"xMidYMid slice"===L||y<w&&"xMidYMid slice"!==L?x=(F=s)*w:F=(x=p)/w,h.drawImage(this.img,(p-x)/2,(s-F)/2,x,F,0,0,this.assetData.w,this.assetData.h),this.img=d}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var d=this.canvasContext;d.fillStyle=this.data.sc,d.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(d){return new CVShapeElement(d,this.globalData,this)},CanvasRendererBase.prototype.createText=function(d){return new CVTextElement(d,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(d){return new CVImageElement(d,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(d){return new CVSolidElement(d,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(d){if(1!==d[0]||0!==d[1]||0!==d[4]||1!==d[5]||0!==d[12]||0!==d[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(d[0],d[1],d[4],d[5],d[12],d[13]);this.transformMat.cloneFromProps(d);var h=this.contextData.cTr.props;this.transformMat.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var p=this.contextData.cTr.props;this.canvasContext.setTransform(p[0],p[1],p[4],p[5],p[12],p[13])}},CanvasRendererBase.prototype.ctxOpacity=function(d){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=d<0?0:d,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=d<0?0:d,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(d){if(this.renderConfig.clearCanvas){d&&this.canvasContext.save();var h=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var p,s=this.contextData.saved[this.contextData.cArrPos];for(p=0;p<16;p+=1)s[p]=h[p];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(d){if(this.renderConfig.clearCanvas){d&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var p,h=this.contextData.saved[this.contextData.cArrPos],s=this.contextData.cTr.props;for(p=0;p<16;p+=1)s[p]=h[p];this.canvasContext.setTransform(h[0],h[1],h[4],h[5],h[12],h[13]),this.contextData.cO=h=this.contextData.savedOp[this.contextData.cArrPos],this.globalData.currentGlobalAlpha!==h&&(this.canvasContext.globalAlpha=h,this.globalData.currentGlobalAlpha=h)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(d){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var h=this.animationItem.container.style;h.width="100%",h.height="100%";var p="0px 0px 0px";h.transformOrigin=p,h.mozTransformOrigin=p,h.webkitTransformOrigin=p,h["-webkit-transform"]=p,h.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=d,this.layers=d.layers,this.transformCanvas={w:d.w,h:d.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(d,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(d.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){var d,h,p,s;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(h=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",(d=this.animationItem.wrapper.offsetWidth)*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",h*this.renderConfig.dpr)):(d=this.canvasContext.canvas.width*this.renderConfig.dpr,h=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var y=this.renderConfig.preserveAspectRatio.split(" "),w=y[1]||"meet",x=y[0]||"xMidYMid",F=x.substr(0,4),L=x.substr(4);(s=this.transformCanvas.w/this.transformCanvas.h)>(p=d/h)&&"meet"===w||s<p&&"slice"===w?(this.transformCanvas.sx=d/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=d/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=h/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=h/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===F&&(s<p&&"meet"===w||s>p&&"slice"===w)?(d-this.transformCanvas.w*(h/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===F&&(s<p&&"meet"===w||s>p&&"slice"===w)?(d-this.transformCanvas.w*(h/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===L&&(s>p&&"meet"===w||s<p&&"slice"===w)?(h-this.transformCanvas.h*(d/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===L&&(s>p&&"meet"===w||s<p&&"slice"===w)?(h-this.transformCanvas.h*(d/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=d/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=h/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var d;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),d=(this.layers?this.layers.length:0)-1;d>=0;d-=1)this.elements[d]&&this.elements[d].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(d,h){if((this.renderedFrame!==d||!0!==this.renderConfig.clearCanvas||h)&&!this.destroyed&&-1!==d){this.renderedFrame=d,this.globalData.frameNum=d-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||h,this.globalData.projectInterface.currentFrame=d;var p,s=this.layers.length;for(this.completeLayers||this.checkLayers(d),p=0;p<s;p+=1)(this.completeLayers||this.elements[p])&&this.elements[p].prepareFrame(d-this.layers[p].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),p=s-1;p>=0;p-=1)(this.completeLayers||this.elements[p])&&this.elements[p].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(d){var h=this.elements;if(!h[d]&&99!==this.layers[d].ty){var p=this.createItem(this.layers[d],this,this.globalData);h[d]=p,p.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var h,d=this.canvasContext;for(d.beginPath(),d.moveTo(0,0),d.lineTo(this.data.w,0),d.lineTo(this.data.w,this.data.h),d.lineTo(0,this.data.h),d.lineTo(0,0),d.clip(),h=this.layers.length-1;h>=0;h-=1)(this.completeLayers||this.elements[h])&&this.elements[h].renderFrame()},CVCompElement.prototype.destroy=function(){var d;for(d=this.layers.length-1;d>=0;d-=1)this.elements[d]&&this.elements[d].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(d){return new CVCompElement(d,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(d){return new CVCompElement(d,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var h=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var p=this.finalTransform.mat.toCSS();h.transform=p,h.webkitTransform=p}this.finalTransform._opMdf&&(h.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var d;this.data.hasMask?((d=createNS("rect")).setAttribute("width",this.data.sw),d.setAttribute("height",this.data.sh),d.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((d=createTag("div")).style.width=this.data.sw+"px",d.style.height=this.data.sh+"px",d.style.backgroundColor=this.data.sc),this.layerElement.appendChild(d)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var d;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),d=this.svgElement;else{d=createNS("svg");var h=this.comp.data?this.comp.data:this.globalData.compSize;d.setAttribute("width",h.w),d.setAttribute("height",h.h),d.appendChild(this.shapesContainer),this.layerElement.appendChild(d)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=d},HShapeElement.prototype.getTransformedPoint=function(d,h){var p,s=d.length;for(p=0;p<s;p+=1)h=d[p].mProps.v.applyToPointArray(h[0],h[1],0);return h},HShapeElement.prototype.calculateShapeBoundingBox=function(d,h){var y,x,F,L,H,p=d.sh.v,s=d.transformers,w=p._length;if(!(w<=1)){for(y=0;y<w-1;y+=1)x=this.getTransformedPoint(s,p.v[y]),F=this.getTransformedPoint(s,p.o[y]),L=this.getTransformedPoint(s,p.i[y+1]),H=this.getTransformedPoint(s,p.v[y+1]),this.checkBounds(x,F,L,H,h);p.c&&(x=this.getTransformedPoint(s,p.v[y]),F=this.getTransformedPoint(s,p.o[y]),L=this.getTransformedPoint(s,p.i[0]),H=this.getTransformedPoint(s,p.v[0]),this.checkBounds(x,F,L,H,h))}},HShapeElement.prototype.checkBounds=function(d,h,p,s,y){this.getBoundsOfCurve(d,h,p,s);var w=this.shapeBoundingBox;y.x=bmMin(w.left,y.x),y.xMax=bmMax(w.right,y.xMax),y.y=bmMin(w.top,y.y),y.yMax=bmMax(w.bottom,y.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(d,h,p,s){for(var w,x,F,L,H,z,Q,y=[[d[0],s[0]],[d[1],s[1]]],P=0;P<2;++P)x=6*d[P]-12*h[P]+6*p[P],w=-3*d[P]+9*h[P]-9*p[P]+3*s[P],F=3*h[P]-3*d[P],x|=0,F|=0,0==(w|=0)&&0===x||(0===w?(L=-F/x)>0&&L<1&&y[P].push(this.calculateF(L,d,h,p,s,P)):(H=x*x-4*F*w)>=0&&((z=(-x+bmSqrt(H))/(2*w))>0&&z<1&&y[P].push(this.calculateF(z,d,h,p,s,P)),(Q=(-x-bmSqrt(H))/(2*w))>0&&Q<1&&y[P].push(this.calculateF(Q,d,h,p,s,P))));this.shapeBoundingBox.left=bmMin.apply(null,y[0]),this.shapeBoundingBox.top=bmMin.apply(null,y[1]),this.shapeBoundingBox.right=bmMax.apply(null,y[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,y[1])},HShapeElement.prototype.calculateF=function(d,h,p,s,y,w){return bmPow(1-d,3)*h[w]+3*bmPow(1-d,2)*d*p[w]+3*(1-d)*bmPow(d,2)*s[w]+bmPow(d,3)*y[w]},HShapeElement.prototype.calculateBoundingBox=function(d,h){var p,s=d.length;for(p=0;p<s;p+=1)d[p]&&d[p].sh?this.calculateShapeBoundingBox(d[p],h):d[p]&&d[p].it?this.calculateBoundingBox(d[p].it,h):d[p]&&d[p].style&&d[p].w&&this.expandStrokeBoundingBox(d[p].w,h)},HShapeElement.prototype.expandStrokeBoundingBox=function(d,h){var p=0;if(d.keyframes){for(var s=0;s<d.keyframes.length;s+=1){var y=d.keyframes[s].s;y>p&&(p=y)}p*=d.mult}else p=d.v*d.mult;h.x-=p,h.xMax+=p,h.y-=p,h.yMax+=p},HShapeElement.prototype.currentBoxContains=function(d){return this.currentBBox.x<=d.x&&this.currentBBox.y<=d.y&&this.currentBBox.width+this.currentBBox.x>=d.x+d.width&&this.currentBBox.height+this.currentBBox.y>=d.y+d.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var d=this.tempBoundingBox,h=999999;if(d.x=h,d.xMax=-h,d.y=h,d.yMax=-h,this.calculateBoundingBox(this.itemsData,d),d.width=d.xMax<d.x?0:d.xMax-d.x,d.height=d.yMax<d.y?0:d.yMax-d.y,this.currentBoxContains(d))return;var p=!1;if(this.currentBBox.w!==d.width&&(this.currentBBox.w=d.width,this.shapeCont.setAttribute("width",d.width),p=!0),this.currentBBox.h!==d.height&&(this.currentBBox.h=d.height,this.shapeCont.setAttribute("height",d.height),p=!0),p||this.currentBBox.x!==d.x||this.currentBBox.y!==d.y){this.currentBBox.w=d.width,this.currentBBox.h=d.height,this.currentBBox.x=d.x,this.currentBBox.y=d.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,y="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=y,s.webkitTransform=y}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var d=createNS("g");this.maskedElement.appendChild(d),this.innerElem=d}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var d=this.textProperty.currentData;this.renderedLetters=createSizedArray(d.l?d.l.length:0);var h=this.innerElem.style,p=d.fc?this.buildColor(d.fc):"rgba(0,0,0,0)";h.fill=p,h.color=p,d.sc&&(h.stroke=this.buildColor(d.sc),h.strokeWidth=d.sw+"px");var s=this.globalData.fontManager.getFontByName(d.f);if(!this.globalData.fontManager.chars)if(h.fontSize=d.finalSize+"px",h.lineHeight=d.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{h.fontFamily=s.fFamily;var y=d.fWeight;h.fontStyle=d.fStyle,h.fontWeight=y}var x,F,L=d.l;F=L.length;var H,z,Q,U,P=this.mHelper,G="",j=0;for(x=0;x<F;x+=1){if(this.globalData.fontManager.chars?(this.textPaths[j]?H=this.textPaths[j]:((H=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),H.setAttribute("stroke-linejoin",lineJoinEnum[2]),H.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[j]?Q=(z=this.textSpans[j]).children[0]:((z=createTag("div")).style.lineHeight=0,(Q=createNS("svg")).appendChild(H),styleDiv(z)))):this.isMasked?H=this.textPaths[j]?this.textPaths[j]:createNS("text"):this.textSpans[j]?(z=this.textSpans[j],H=this.textPaths[j]):(styleDiv(z=createTag("span")),styleDiv(H=createTag("span")),z.appendChild(H)),this.globalData.fontManager.chars){var A,K=this.globalData.fontManager.getCharData(d.finalText[x],s.fStyle,this.globalData.fontManager.getFontByName(d.f).fFamily);if(A=K?K.data:null,P.reset(),A&&A.shapes&&A.shapes.length&&(U=A.shapes[0].it,P.scale(d.finalSize/100,d.finalSize/100),G=this.createPathShape(P,U),H.setAttribute("d",G)),this.isMasked)this.innerElem.appendChild(H);else{if(this.innerElem.appendChild(z),A&&A.shapes){document.body.appendChild(Q);var O=Q.getBBox();Q.setAttribute("width",O.width+2),Q.setAttribute("height",O.height+2),Q.setAttribute("viewBox",O.x-1+" "+(O.y-1)+" "+(O.width+2)+" "+(O.height+2));var T=Q.style,I="translate("+(O.x-1)+"px,"+(O.y-1)+"px)";T.transform=I,T.webkitTransform=I,L[x].yOffset=O.y-1}else Q.setAttribute("width",1),Q.setAttribute("height",1);z.appendChild(Q)}}else if(H.textContent=L[x].val,H.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(H);else{this.innerElem.appendChild(z);var q=H.style,J="translate3d(0,"+-d.finalSize/1.2+"px,0)";q.transform=J,q.webkitTransform=J}this.textSpans[j]=this.isMasked?H:z,this.textSpans[j].style.display="block",this.textPaths[j]=H,j+=1}for(;j<this.textSpans.length;)this.textSpans[j].style.display="none",j+=1},HTextElement.prototype.renderInnerContent=function(){var d;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var h="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";(d=this.svgElement.style).transform=h,d.webkitTransform=h}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var p,s,F,L,H,y=0,w=this.textAnimator.renderedLetters,x=this.textProperty.currentData.l;for(s=x.length,p=0;p<s;p+=1)x[p].n?y+=1:(L=this.textSpans[p],H=this.textPaths[p],F=w[y],y+=1,F._mdf.m&&(this.isMasked?L.setAttribute("transform",F.m):(L.style.webkitTransform=F.m,L.style.transform=F.m)),L.style.opacity=F.o,F.sw&&F._mdf.sw&&H.setAttribute("stroke-width",F.sw),F.sc&&F._mdf.sc&&H.setAttribute("stroke",F.sc),F.fc&&F._mdf.fc&&(H.setAttribute("fill",F.fc),H.style.color=F.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var z=this.innerElem.getBBox();if(this.currentBBox.w!==z.width&&(this.currentBBox.w=z.width,this.svgElement.setAttribute("width",z.width)),this.currentBBox.h!==z.height&&(this.currentBBox.h=z.height,this.svgElement.setAttribute("height",z.height)),this.currentBBox.w!==z.width+2||this.currentBBox.h!==z.height+2||this.currentBBox.x!==z.x-1||this.currentBBox.y!==z.y-1){this.currentBBox.w=z.width+2,this.currentBBox.h=z.height+2,this.currentBBox.x=z.x-1,this.currentBBox.y=z.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var P="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";(d=this.svgElement.style).transform=P,d.webkitTransform=P}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var d,p,s,y,h=this.comp.threeDElements.length;for(d=0;d<h;d+=1)if("3d"===(p=this.comp.threeDElements[d]).type){y=p.container.style;var w=this.pe.v+"px",x="0px 0px 0px",F="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(s=p.perspectiveElem.style).perspective=w,s.webkitPerspective=w,y.transformOrigin=x,y.mozTransformOrigin=x,y.webkitTransformOrigin=x,s.transform=F,s.webkitTransform=F}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var h,p,d=this._isFirstFrame;if(this.hierarchy)for(p=this.hierarchy.length,h=0;h<p;h+=1)d=this.hierarchy[h].finalTransform.mProp._mdf||d;if(d||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(h=p=this.hierarchy.length-1;h>=0;h-=1){var s=this.hierarchy[h].finalTransform.mProp;this.mat.translate(-s.p.v[0],-s.p.v[1],s.p.v[2]),this.mat.rotateX(-s.or.v[0]).rotateY(-s.or.v[1]).rotateZ(s.or.v[2]),this.mat.rotateX(-s.rx.v).rotateY(-s.ry.v).rotateZ(s.rz.v),this.mat.scale(1/s.s.v[0],1/s.s.v[1],1/s.s.v[2]),this.mat.translate(s.a.v[0],s.a.v[1],s.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var y;y=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var w=Math.sqrt(Math.pow(y[0],2)+Math.pow(y[1],2)+Math.pow(y[2],2)),x=[y[0]/w,y[1]/w,y[2]/w],F=Math.sqrt(x[2]*x[2]+x[0]*x[0]),L=Math.atan2(x[1],F),H=Math.atan2(x[0],-x[2]);this.mat.rotateY(H).rotateX(-L)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var z=!this._prevMat.equals(this.mat);if((z||this.pe._mdf)&&this.comp.threeDElements){var Q,P,U;for(p=this.comp.threeDElements.length,h=0;h<p;h+=1)if("3d"===(Q=this.comp.threeDElements[h]).type){if(z){var G=this.mat.toCSS();(U=Q.container.style).transform=G,U.webkitTransform=G}this.pe._mdf&&((P=Q.perspectiveElem.style).perspective=this.pe.v+"px",P.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(d){this.prepareProperties(d,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var d=this.globalData.getAssetsPath(this.assetData),h=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",d),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(h),h.crossOrigin="anonymous",h.src=d,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(d,h){var p=d.getBaseElement();if(p){var s=this.layers[h];if(s.ddd&&this.supports3d)this.addTo3dContainer(p,h);else if(this.threeDElements)this.addTo3dContainer(p,h);else{for(var w,x,y=0;y<h;)this.elements[y]&&!0!==this.elements[y]&&this.elements[y].getBaseElement&&(x=this.elements[y],w=(this.layers[y].ddd?this.getThreeDContainerByPos(y):x.getBaseElement())||w),y+=1;w?(!s.ddd||!this.supports3d)&&this.layerElement.insertBefore(p,w):(!s.ddd||!this.supports3d)&&this.layerElement.appendChild(p)}}},HybridRendererBase.prototype.createShape=function(d){return this.supports3d?new HShapeElement(d,this.globalData,this):new SVGShapeElement(d,this.globalData,this)},HybridRendererBase.prototype.createText=function(d){return this.supports3d?new HTextElement(d,this.globalData,this):new SVGTextLottieElement(d,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(d){return this.camera=new HCameraElement(d,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(d){return this.supports3d?new HImageElement(d,this.globalData,this):new IImageElement(d,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(d){return this.supports3d?new HSolidElement(d,this.globalData,this):new ISolidElement(d,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(d){for(var h=0,p=this.threeDElements.length;h<p;){if(this.threeDElements[h].startPos<=d&&this.threeDElements[h].endPos>=d)return this.threeDElements[h].perspectiveElem;h+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(d,h){var s,y,p=createTag("div");styleDiv(p);var w=createTag("div");if(styleDiv(w),"3d"===h){(s=p.style).width=this.globalData.compSize.w+"px",s.height=this.globalData.compSize.h+"px";var x="50% 50%";s.webkitTransformOrigin=x,s.mozTransformOrigin=x,s.transformOrigin=x;var F="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(y=w.style).transform=F,y.webkitTransform=F}p.appendChild(w);var L={container:w,perspectiveElem:p,startPos:d,endPos:d,type:h};return this.threeDElements.push(L),L},HybridRendererBase.prototype.build3dContainers=function(){var d,p,h=this.layers.length,s="";for(d=0;d<h;d+=1)this.layers[d].ddd&&3!==this.layers[d].ty?("3d"!==s&&(s="3d",p=this.createThreeDContainer(d,"3d")),p.endPos=Math.max(p.endPos,d)):("2d"!==s&&(s="2d",p=this.createThreeDContainer(d,"2d")),p.endPos=Math.max(p.endPos,d));for(d=(h=this.threeDElements.length)-1;d>=0;d-=1)this.resizerElem.appendChild(this.threeDElements[d].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(d,h){for(var p=0,s=this.threeDElements.length;p<s;){if(h<=this.threeDElements[p].endPos){for(var w,y=this.threeDElements[p].startPos;y<h;)this.elements[y]&&this.elements[y].getBaseElement&&(w=this.elements[y].getBaseElement()),y+=1;w?this.threeDElements[p].container.insertBefore(d,w):this.threeDElements[p].container.appendChild(d);break}p+=1}},HybridRendererBase.prototype.configAnimation=function(d){var h=createTag("div"),p=this.animationItem.wrapper,s=h.style;s.width=d.w+"px",s.height=d.h+"px",this.resizerElem=h,styleDiv(h),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&h.setAttribute("class",this.renderConfig.className),p.appendChild(h),s.overflow="hidden";var y=createNS("svg");y.setAttribute("width","1"),y.setAttribute("height","1"),styleDiv(y),this.resizerElem.appendChild(y);var w=createNS("defs");y.appendChild(w),this.data=d,this.setupGlobalData(d,y),this.globalData.defs=w,this.layers=d.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var d,h=this.layers?this.layers.length:0;for(d=0;d<h;d+=1)this.elements[d].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var y,w,x,F,d=this.animationItem.wrapper.offsetWidth,h=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>d/h?(y=d/this.globalData.compSize.w,w=d/this.globalData.compSize.w,x=0,F=(h-this.globalData.compSize.h*(d/this.globalData.compSize.w))/2):(y=h/this.globalData.compSize.h,w=h/this.globalData.compSize.h,x=(d-this.globalData.compSize.w*(h/this.globalData.compSize.h))/2,F=0);var L=this.resizerElem.style;L.webkitTransform="matrix3d("+y+",0,0,0,0,"+w+",0,0,0,0,1,0,"+x+","+F+",0,1)",L.transform=L.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var p,d=this.globalData.compSize.w,h=this.globalData.compSize.h,s=this.threeDElements.length;for(p=0;p<s;p+=1){var y=this.threeDElements[p].perspectiveElem.style;y.webkitPerspective=Math.sqrt(Math.pow(d,2)+Math.pow(h,2))+"px",y.perspective=y.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(d){var h,p=d.length,s=createTag("div");for(h=0;h<p;h+=1)if(d[h].xt){var y=this.createComp(d[h],s,this.globalData.comp,null);y.initExpressions(),this.globalData.projectInterface.registerComposition(y)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(d,h){for(var s,p=0;p<h;)this.elements[p]&&this.elements[p].getBaseElement&&(s=this.elements[p].getBaseElement()),p+=1;s?this.layerElement.insertBefore(d,s):this.layerElement.appendChild(d)},HCompElement.prototype.createComp=function(d){return this.supports3d?new HCompElement(d,this.globalData,this):new SVGCompElement(d,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(d){return this.supports3d?new HCompElement(d,this.globalData,this):new SVGCompElement(d,this.globalData,this)};var Expressions=function(){var d={initExpressions:function h(p){var s=0,y=[];p.renderer.compInterface=CompExpressionInterface(p.renderer),p.renderer.globalData.projectInterface.registerComposition(p.renderer),p.renderer.globalData.pushExpression=function w(){s+=1},p.renderer.globalData.popExpression=function x(){0==(s-=1)&&function L(){var H,z=y.length;for(H=0;H<z;H+=1)y[H].release();y.length=0}()},p.renderer.globalData.registerExpressionProperty=function F(H){-1===y.indexOf(H)&&y.push(H)}}};return d}();function _typeof$1(d){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function seedRandom(d,h){var p=this,s=256,x="random",F=h.pow(s,6),L=h.pow(2,52),H=2*L,z=255;function U(T){var I,q=T.length,J=this,te=0,ne=J.i=J.j=0,me=J.S=[];for(q||(T=[q++]);te<s;)me[te]=te++;for(te=0;te<s;te++)me[te]=me[ne=z&ne+T[te%q]+(I=me[te])],me[ne]=I;J.g=function(Pe){for(var _e,ve=0,Ie=J.i,be=J.j,de=J.S;Pe--;)_e=de[Ie=z&Ie+1],ve=ve*s+de[z&(de[Ie]=de[be=z&be+_e])+(de[be]=_e)];return J.i=Ie,J.j=be,ve}}function G(T,I){return I.i=T.i,I.j=T.j,I.S=T.S.slice(),I}function j(T,I){var te,q=[],J=_typeof$1(T);if(I&&"object"==J)for(te in T)try{q.push(j(T[te],I-1))}catch{}return q.length?q:"string"==J?T:T+"\0"}function K(T,I){for(var J,q=T+"",te=0;te<q.length;)I[z&te]=z&(J^=19*I[z&te])+q.charCodeAt(te++);return O(I)}function O(T){return String.fromCharCode.apply(0,T)}h["seed"+x]=function P(T,I,q){var J=[],te=K(j((I=!0===I?{entropy:!0}:I||{}).entropy?[T,O(d)]:null===T?function A(){try{var T=new Uint8Array(s);return(p.crypto||p.msCrypto).getRandomValues(T),O(T)}catch{var I=p.navigator,q=I&&I.plugins;return[+new Date,p,q,p.screen,O(d)]}}():T,3),J),ne=new U(J),me=function(){for(var _e=ne.g(6),ve=F,Ie=0;_e<L;)_e=(_e+Ie)*s,ve*=s,Ie=ne.g(1);for(;_e>=H;)_e/=2,ve/=2,Ie>>>=1;return(_e+Ie)/ve};return me.int32=function(){return 0|ne.g(4)},me.quick=function(){return ne.g(4)/4294967296},me.double=me,K(O(ne.S),d),(I.pass||q||function(Pe,_e,ve,Ie){return Ie&&(Ie.S&&G(Ie,ne),Pe.state=function(){return G(ne,{})}),ve?(h[x]=Pe,_e):Pe})(me,te,"global"in I?I.global:this==h,I.state)},K(h.random(),d)}function initialize$2(d){seedRandom([],d)}var propTypes={SHAPE:"shape"};function _typeof(d){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(d){return d.constructor===Array||d.constructor===Float32Array}function isNumerable(d,h){return"number"===d||"boolean"===d||"string"===d||h instanceof Number}function $bm_neg(d){var h=_typeof(d);if("number"===h||"boolean"===h||d instanceof Number)return-d;if($bm_isInstanceOfArray(d)){var p,s=d.length,y=[];for(p=0;p<s;p+=1)y[p]=-d[p];return y}return d.propType?d.v:-d}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(d,h){var p=_typeof(d),s=_typeof(h);if("string"===p||"string"===s||isNumerable(p,d)&&isNumerable(s,h))return d+h;if($bm_isInstanceOfArray(d)&&isNumerable(s,h))return(d=d.slice(0))[0]+=h,d;if(isNumerable(p,d)&&$bm_isInstanceOfArray(h))return(h=h.slice(0))[0]=d+h[0],h;if($bm_isInstanceOfArray(d)&&$bm_isInstanceOfArray(h)){for(var y=0,w=d.length,x=h.length,F=[];y<w||y<x;)F[y]=("number"==typeof d[y]||d[y]instanceof Number)&&("number"==typeof h[y]||h[y]instanceof Number)?d[y]+h[y]:void 0===h[y]?d[y]:d[y]||h[y],y+=1;return F}return 0}var add=sum;function sub(d,h){var p=_typeof(d),s=_typeof(h);if(isNumerable(p,d)&&isNumerable(s,h))return"string"===p&&(d=parseInt(d,10)),"string"===s&&(h=parseInt(h,10)),d-h;if($bm_isInstanceOfArray(d)&&isNumerable(s,h))return(d=d.slice(0))[0]-=h,d;if(isNumerable(p,d)&&$bm_isInstanceOfArray(h))return(h=h.slice(0))[0]=d-h[0],h;if($bm_isInstanceOfArray(d)&&$bm_isInstanceOfArray(h)){for(var y=0,w=d.length,x=h.length,F=[];y<w||y<x;)F[y]=("number"==typeof d[y]||d[y]instanceof Number)&&("number"==typeof h[y]||h[y]instanceof Number)?d[y]-h[y]:void 0===h[y]?d[y]:d[y]||h[y],y+=1;return F}return 0}function mul(d,h){var y,w,x,p=_typeof(d),s=_typeof(h);if(isNumerable(p,d)&&isNumerable(s,h))return d*h;if($bm_isInstanceOfArray(d)&&isNumerable(s,h)){for(y=createTypedArray("float32",x=d.length),w=0;w<x;w+=1)y[w]=d[w]*h;return y}if(isNumerable(p,d)&&$bm_isInstanceOfArray(h)){for(y=createTypedArray("float32",x=h.length),w=0;w<x;w+=1)y[w]=d*h[w];return y}return 0}function div(d,h){var y,w,x,p=_typeof(d),s=_typeof(h);if(isNumerable(p,d)&&isNumerable(s,h))return d/h;if($bm_isInstanceOfArray(d)&&isNumerable(s,h)){for(y=createTypedArray("float32",x=d.length),w=0;w<x;w+=1)y[w]=d[w]/h;return y}if(isNumerable(p,d)&&$bm_isInstanceOfArray(h)){for(y=createTypedArray("float32",x=h.length),w=0;w<x;w+=1)y[w]=d/h[w];return y}return 0}function mod(d,h){return"string"==typeof d&&(d=parseInt(d,10)),"string"==typeof h&&(h=parseInt(h,10)),d%h}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(d,h,p){if(h>p){var s=p;p=h,h=s}return Math.min(Math.max(d,h),p)}function radiansToDegrees(d){return d/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(d){return d*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(d,h){if("number"==typeof d||d instanceof Number)return Math.abs(d-(h=h||0));h||(h=helperLengthArray);var p,s=Math.min(d.length,h.length),y=0;for(p=0;p<s;p+=1)y+=Math.pow(h[p]-d[p],2);return Math.sqrt(y)}function normalize(d){return div(d,length(d))}function rgbToHsl(d){var x,F,h=d[0],p=d[1],s=d[2],y=Math.max(h,p,s),w=Math.min(h,p,s),L=(y+w)/2;if(y===w)x=0,F=0;else{var H=y-w;switch(F=L>.5?H/(2-y-w):H/(y+w),y){case h:x=(p-s)/H+(p<s?6:0);break;case p:x=(s-h)/H+2;break;case s:x=(h-p)/H+4}x/=6}return[x,F,L,d[3]]}function hue2rgb(d,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?d+6*(h-d)*p:p<.5?h:p<2/3?d+(h-d)*(2/3-p)*6:d}function hslToRgb(d){var y,w,x,h=d[0],p=d[1],s=d[2];if(0===p)y=s,x=s,w=s;else{var F=s<.5?s*(1+p):s+p-s*p,L=2*s-F;y=hue2rgb(L,F,h+1/3),w=hue2rgb(L,F,h),x=hue2rgb(L,F,h-1/3)}return[y,w,x,d[3]]}function linear(d,h,p,s,y){if((void 0===s||void 0===y)&&(s=h,y=p,h=0,p=1),p<h){var w=p;p=h,h=w}if(d<=h)return s;if(d>=p)return y;var x=p===h?0:(d-h)/(p-h);if(!s.length)return s+(y-s)*x;var F,L=s.length,H=createTypedArray("float32",L);for(F=0;F<L;F+=1)H[F]=s[F]+(y[F]-s[F])*x;return H}function random(d,h){if(void 0===h&&(void 0===d?(d=0,h=1):(h=d,d=void 0)),h.length){var p,s=h.length;d||(d=createTypedArray("float32",s));var y=createTypedArray("float32",s),w=BMMath.random();for(p=0;p<s;p+=1)y[p]=d[p]+w*(h[p]-d[p]);return y}return void 0===d&&(d=0),d+BMMath.random()*(h-d)}function createPath(d,h,p,s){var y,w=d.length,x=shapePool.newElement();x.setPathData(!!s,w);var L,H,F=[0,0];for(y=0;y<w;y+=1)x.setTripleAt(d[y][0],d[y][1],(H=p&&p[y]?p[y]:F)[0]+d[y][0],H[1]+d[y][1],(L=h&&h[y]?h[y]:F)[0]+d[y][0],L[1]+d[y][1],y,!0);return x}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function d(h,p){var s,y,w=this.pv.length?this.pv.length:1,x=createTypedArray("float32",w),F=Math.floor(5*time);for(s=0,y=0;s<F;){for(y=0;y<w;y+=1)x[y]+=-p+2*p*BMMath.random();s+=1}var L=5*time,H=L-Math.floor(L),z=createTypedArray("float32",w);if(w>1){for(y=0;y<w;y+=1)z[y]=this.pv[y]+x[y]+(-p+2*p*BMMath.random())*H;return z}return this.pv+x[0]+(-p+2*p*BMMath.random())*H}.bind(this);function loopInDuration(d,h){return loopIn(d,h,!0)}function loopOutDuration(d,h){return loopOut(d,h,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(d,h){var p=[h[0]-d[0],h[1]-d[1],h[2]-d[2]],s=Math.atan2(p[0],Math.sqrt(p[1]*p[1]+p[2]*p[2]))/degToRads;return[-Math.atan2(p[1],p[2])/degToRads,s,0]}function easeOut(d,h,p,s,y){return applyEase(easeOutBez,d,h,p,s,y)}function easeIn(d,h,p,s,y){return applyEase(easeInBez,d,h,p,s,y)}function ease(d,h,p,s,y){return applyEase(easeInOutBez,d,h,p,s,y)}function applyEase(d,h,p,s,y,w){void 0===y?(y=p,w=s):h=(h-p)/(s-p),h>1?h=1:h<0&&(h=0);var x=d(h);if($bm_isInstanceOfArray(y)){var F,L=y.length,H=createTypedArray("float32",L);for(F=0;F<L;F+=1)H[F]=(w[F]-y[F])*x+y[F];return H}return(w-y)*x+y}function nearestKey(d){var h,s,y,p=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(s=-1,(d*=elem.comp.globalData.frameRate)<data.k[0].t)s=1,y=data.k[0].t;else{for(h=0;h<p-1;h+=1){if(d===data.k[h].t){s=h+1,y=data.k[h].t;break}if(d>data.k[h].t&&d<data.k[h+1].t){d-data.k[h].t>data.k[h+1].t-d?(s=h+2,y=data.k[h+1].t):(s=h+1,y=data.k[h].t);break}}-1===s&&(s=h+1,y=data.k[h].t)}else s=0,y=0;var w={};return w.index=s,w.time=y/elem.comp.globalData.frameRate,w}function key(d){var h,p,s;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+d);h={time:data.k[d-=1].t/elem.comp.globalData.frameRate,value:[]};var y=Object.prototype.hasOwnProperty.call(data.k[d],"s")?data.k[d].s:data.k[d-1].e;for(s=y.length,p=0;p<s;p+=1)h[p]=y[p],h.value[p]=y[p];return h}function framesToTime(d,h){return h||(h=elem.comp.globalData.frameRate),d/h}function timeToFrames(d,h){return!d&&0!==d&&(d=time),h||(h=elem.comp.globalData.frameRate),d*h}function seedRandom(d){BMMath.seedrandom(randSeed+d)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(d,h){return"string"==typeof value?void 0===h?value.substring(d):value.substring(d,h):""}function substr(d,h){return"string"==typeof value?void 0===h?value.substr(d):value.substr(d,h):""}function posterizeTime(d){time=0===d?0:Math.floor(time*d)/d,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(d){return value=d,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4===elemType&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function d(x,F,L){F.x&&(L.k=!0,L.x=!0,L.initiateExpression=ExpressionManager.initiateExpression,L.effectsSequence.push(L.initiateExpression(x,F,L).bind(L)))},getSpeedAtTime:function p(x){var L=this.getValueAtTime(x),H=this.getValueAtTime(x+-.01),z=0;if(L.length){var Q;for(Q=0;Q<L.length;Q+=1)z+=Math.pow(H[Q]-L[Q],2);z=100*Math.sqrt(z)}else z=0;return z},getVelocityAtTime:function s(x){if(void 0!==this.vel)return this.vel;var z,Q,F=-.001,L=this.getValueAtTime(x),H=this.getValueAtTime(x+F);if(L.length)for(z=createTypedArray("float32",L.length),Q=0;Q<L.length;Q+=1)z[Q]=(H[Q]-L[Q])/F;else z=(H-L)/F;return z},getValueAtTime:function h(x){return x*=this.elem.globalData.frameRate,(x-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<x?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(x,this._cachingAtTime),this._cachingAtTime.lastFrame=x),this._cachingAtTime.value},getStaticValueAtTime:function y(){return this.pv},setGroupProperty:function w(x){this.propertyGroup=x}};function addPropertyDecorator(){function d(P,U,G){if(!this.k||!this.keyframes)return this.pv;P=P?P.toLowerCase():"";var O,T,I,q,J,j=this.comp.renderedFrame,K=this.keyframes,A=K[K.length-1].t;if(j<=A)return this.pv;if(G?T=A-(O=U?Math.abs(A-this.elem.comp.globalData.frameRate*U):Math.max(0,A-this.elem.data.ip)):((!U||U>K.length-1)&&(U=K.length-1),O=A-(T=K[K.length-1-U].t)),"pingpong"===P){if(Math.floor((j-T)/O)%2!=0)return this.getValueAtTime((O-(j-T)%O+T)/this.comp.globalData.frameRate,0)}else{if("offset"===P){var ne=this.getValueAtTime(T/this.comp.globalData.frameRate,0),me=this.getValueAtTime(A/this.comp.globalData.frameRate,0),Pe=this.getValueAtTime(((j-T)%O+T)/this.comp.globalData.frameRate,0),_e=Math.floor((j-T)/O);if(this.pv.length){for(q=(J=new Array(ne.length)).length,I=0;I<q;I+=1)J[I]=(me[I]-ne[I])*_e+Pe[I];return J}return(me-ne)*_e+Pe}if("continue"===P){var ve=this.getValueAtTime(A/this.comp.globalData.frameRate,0),Ie=this.getValueAtTime((A-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(q=(J=new Array(ve.length)).length,I=0;I<q;I+=1)J[I]=ve[I]+(j-A)/this.comp.globalData.frameRate*(ve[I]-Ie[I])/5e-4;return J}return ve+(j-A)/.001*(ve-Ie)}}return this.getValueAtTime(((j-T)%O+T)/this.comp.globalData.frameRate,0)}function h(P,U,G){if(!this.k)return this.pv;P=P?P.toLowerCase():"";var O,T,I,q,J,j=this.comp.renderedFrame,K=this.keyframes,A=K[0].t;if(j>=A)return this.pv;if(G?T=A+(O=U?Math.abs(this.elem.comp.globalData.frameRate*U):Math.max(0,this.elem.data.op-A)):((!U||U>K.length-1)&&(U=K.length-1),O=(T=K[U].t)-A),"pingpong"===P){if(Math.floor((A-j)/O)%2==0)return this.getValueAtTime(((A-j)%O+A)/this.comp.globalData.frameRate,0)}else{if("offset"===P){var ne=this.getValueAtTime(A/this.comp.globalData.frameRate,0),me=this.getValueAtTime(T/this.comp.globalData.frameRate,0),Pe=this.getValueAtTime((O-(A-j)%O+A)/this.comp.globalData.frameRate,0),_e=Math.floor((A-j)/O)+1;if(this.pv.length){for(q=(J=new Array(ne.length)).length,I=0;I<q;I+=1)J[I]=Pe[I]-(me[I]-ne[I])*_e;return J}return Pe-(me-ne)*_e}if("continue"===P){var ve=this.getValueAtTime(A/this.comp.globalData.frameRate,0),Ie=this.getValueAtTime((A+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(q=(J=new Array(ve.length)).length,I=0;I<q;I+=1)J[I]=ve[I]+(ve[I]-Ie[I])*(A-j)/.001;return J}return ve+(ve-Ie)*(A-j)/.001}}return this.getValueAtTime((O-((A-j)%O+A))/this.comp.globalData.frameRate,0)}function p(P,U){if(!this.k)return this.pv;if(P=.5*(P||.4),(U=Math.floor(U||5))<=1)return this.pv;var I,q,G=this.comp.renderedFrame/this.comp.globalData.frameRate,j=G-P,A=U>1?(G+P-j)/(U-1):1,O=0,T=0;for(I=this.pv.length?createTypedArray("float32",this.pv.length):0;O<U;){if(q=this.getValueAtTime(j+O*A),this.pv.length)for(T=0;T<this.pv.length;T+=1)I[T]+=q[T];else I+=q;O+=1}if(this.pv.length)for(T=0;T<this.pv.length;T+=1)I[T]/=U;else I/=U;return I}function s(P){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var U=this._transformCachingAtTime.v;if(U.cloneFromProps(this.pre.props),this.appliedTransformations<1){var G=this.a.getValueAtTime(P);U.translate(-G[0]*this.a.mult,-G[1]*this.a.mult,G[2]*this.a.mult)}if(this.appliedTransformations<2){var j=this.s.getValueAtTime(P);U.scale(j[0]*this.s.mult,j[1]*this.s.mult,j[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var K=this.sk.getValueAtTime(P),A=this.sa.getValueAtTime(P);U.skewFromAxis(-K*this.sk.mult,A*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var O=this.r.getValueAtTime(P);U.rotate(-O*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var T=this.rz.getValueAtTime(P),I=this.ry.getValueAtTime(P),q=this.rx.getValueAtTime(P),J=this.or.getValueAtTime(P);U.rotateZ(-T*this.rz.mult).rotateY(I*this.ry.mult).rotateX(q*this.rx.mult).rotateZ(-J[2]*this.or.mult).rotateY(J[1]*this.or.mult).rotateX(J[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var te=this.px.getValueAtTime(P),ne=this.py.getValueAtTime(P);if(this.data.p.z){var me=this.pz.getValueAtTime(P);U.translate(te*this.px.mult,ne*this.py.mult,-me*this.pz.mult)}else U.translate(te*this.px.mult,ne*this.py.mult,0)}else{var Pe=this.p.getValueAtTime(P);U.translate(Pe[0]*this.p.mult,Pe[1]*this.p.mult,-Pe[2]*this.p.mult)}return U}function y(){return this.v.clone(new Matrix)}var w=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(P,U,G){var j=w(P,U,G);return j.getValueAtTime=j.dynamicProperties.length?s.bind(j):y.bind(j),j.setGroupProperty=expressionHelpers.setGroupProperty,j};var x=PropertyFactory.getProp;PropertyFactory.getProp=function(P,U,G,j,K){var A=x(P,U,G,j,K);A.getValueAtTime=A.kf?expressionHelpers.getValueAtTime.bind(A):expressionHelpers.getStaticValueAtTime.bind(A),A.setGroupProperty=expressionHelpers.setGroupProperty,A.loopOut=d,A.loopIn=h,A.smooth=p,A.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(A),A.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(A),A.numKeys=1===U.a?U.k.length:0,A.propertyIndex=U.ix;var O=0;return 0!==G&&(O=createTypedArray("float32",1===U.a?U.k[0].s.length:U.k.length)),A._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:O},expressionHelpers.searchExpressions(P,U,A),A.k&&K.addDynamicProperty(A),A};var L=ShapePropertyFactory.getConstructorFunction(),H=ShapePropertyFactory.getKeyframedConstructorFunction();function z(){}z.prototype={vertices:function(U,G){this.k&&this.getValue();var j=this.v;void 0!==G&&(j=this.getValueAtTime(G,0));var K,A=j._length,O=j[U],T=j.v,I=createSizedArray(A);for(K=0;K<A;K+=1)I[K]="i"===U||"o"===U?[O[K][0]-T[K][0],O[K][1]-T[K][1]]:[O[K][0],O[K][1]];return I},points:function(U){return this.vertices("v",U)},inTangents:function(U){return this.vertices("i",U)},outTangents:function(U){return this.vertices("o",U)},isClosed:function(){return this.v.c},pointOnPath:function(U,G){var j=this.v;void 0!==G&&(j=this.getValueAtTime(G,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(j));for(var J,K=this._segmentsLength,A=K.lengths,O=K.totalLength*U,T=0,I=A.length,q=0;T<I;){if(q+A[T].addedLength>O){var ne=j.c&&T===I-1?0:T+1;J=bez.getPointInSegment(j.v[T],j.v[ne],j.o[T],j.i[ne],(O-q)/A[T].addedLength,A[T]);break}q+=A[T].addedLength,T+=1}return J||(J=j.c?[j.v[0][0],j.v[0][1]]:[j.v[j._length-1][0],j.v[j._length-1][1]]),J},vectorOnPath:function(U,G,j){1==U?U=this.v.c:0==U&&(U=.999);var K=this.pointOnPath(U,G),A=this.pointOnPath(U+.001,G),O=A[0]-K[0],T=A[1]-K[1],I=Math.sqrt(Math.pow(O,2)+Math.pow(T,2));return 0===I?[0,0]:"tangent"===j?[O/I,T/I]:[-T/I,O/I]},tangentOnPath:function(U,G){return this.vectorOnPath(U,G,"tangent")},normalOnPath:function(U,G){return this.vectorOnPath(U,G,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([z],L),extendPrototype([z],H),H.prototype.getValueAtTime=function F(P){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),P*=this.elem.globalData.frameRate,(P-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<P?this._caching.lastIndex:0,this._cachingAtTime.lastTime=P,this.interpolateShape(P,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},H.prototype.initiateExpression=ExpressionManager.initiateExpression;var Q=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(P,U,G,j,K){var A=Q(P,U,G,j,K);return A.propertyIndex=U.ix,A.lock=!1,3===G?expressionHelpers.searchExpressions(P,U.pt,A):4===G&&expressionHelpers.searchExpressions(P,U.ks,A),A.k&&P.addDynamicProperty(A),A}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(h,p){var s=this.calculateExpression(p);if(h.t!==s){var y={};return this.copyData(y,h),y.t=s.toString(),y.__complete=!1,y}return h},TextProperty.prototype.searchProperty=function(){var h=this.searchKeyframes(),p=this.searchExpressions();return this.kf=h||p,this.kf},TextProperty.prototype.searchExpressions=function d(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}function SVGTintFilter(d,h,p,s,y){this.filterManager=h;var w=createNS("feColorMatrix");w.setAttribute("type","matrix"),w.setAttribute("color-interpolation-filters","linearRGB"),w.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),w.setAttribute("result",s+"_tint_1"),d.appendChild(w),(w=createNS("feColorMatrix")).setAttribute("type","matrix"),w.setAttribute("color-interpolation-filters","sRGB"),w.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),w.setAttribute("result",s+"_tint_2"),d.appendChild(w),this.matrixFilter=w;var x=this.createMergeNode(s,[y,s+"_tint_1",s+"_tint_2"]);d.appendChild(x)}function SVGFillFilter(d,h,p,s){this.filterManager=h;var y=createNS("feColorMatrix");y.setAttribute("type","matrix"),y.setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),y.setAttribute("result",s),d.appendChild(y),this.matrixFilter=y}function SVGStrokeEffect(d,h,p){this.initialized=!1,this.filterManager=h,this.elem=p,this.paths=[]}function SVGTritoneFilter(d,h,p,s){this.filterManager=h;var y=createNS("feColorMatrix");y.setAttribute("type","matrix"),y.setAttribute("color-interpolation-filters","linearRGB"),y.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),d.appendChild(y);var w=createNS("feComponentTransfer");w.setAttribute("color-interpolation-filters","sRGB"),w.setAttribute("result",s),this.matrixFilter=w;var x=createNS("feFuncR");x.setAttribute("type","table"),w.appendChild(x),this.feFuncR=x;var F=createNS("feFuncG");F.setAttribute("type","table"),w.appendChild(F),this.feFuncG=F;var L=createNS("feFuncB");L.setAttribute("type","table"),w.appendChild(L),this.feFuncB=L,d.appendChild(w)}function SVGProLevelsFilter(d,h,p,s){this.filterManager=h;var y=this.filterManager.effectElements,w=createNS("feComponentTransfer");(y[10].p.k||0!==y[10].p.v||y[11].p.k||1!==y[11].p.v||y[12].p.k||1!==y[12].p.v||y[13].p.k||0!==y[13].p.v||y[14].p.k||1!==y[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",w)),(y[17].p.k||0!==y[17].p.v||y[18].p.k||1!==y[18].p.v||y[19].p.k||1!==y[19].p.v||y[20].p.k||0!==y[20].p.v||y[21].p.k||1!==y[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",w)),(y[24].p.k||0!==y[24].p.v||y[25].p.k||1!==y[25].p.v||y[26].p.k||1!==y[26].p.v||y[27].p.k||0!==y[27].p.v||y[28].p.k||1!==y[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",w)),(y[31].p.k||0!==y[31].p.v||y[32].p.k||1!==y[32].p.v||y[33].p.k||1!==y[33].p.v||y[34].p.k||0!==y[34].p.v||y[35].p.k||1!==y[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",w)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(w.setAttribute("color-interpolation-filters","sRGB"),d.appendChild(w)),(y[3].p.k||0!==y[3].p.v||y[4].p.k||1!==y[4].p.v||y[5].p.k||1!==y[5].p.v||y[6].p.k||0!==y[6].p.v||y[7].p.k||1!==y[7].p.v)&&((w=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),w.setAttribute("result",s),d.appendChild(w),this.feFuncRComposed=this.createFeFunc("feFuncR",w),this.feFuncGComposed=this.createFeFunc("feFuncG",w),this.feFuncBComposed=this.createFeFunc("feFuncB",w))}function SVGDropShadowEffect(d,h,p,s,y){var w=h.container.globalData.renderConfig.filterSize,x=h.data.fs||w;d.setAttribute("x",x.x||w.x),d.setAttribute("y",x.y||w.y),d.setAttribute("width",x.width||w.width),d.setAttribute("height",x.height||w.height),this.filterManager=h;var F=createNS("feGaussianBlur");F.setAttribute("in","SourceAlpha"),F.setAttribute("result",s+"_drop_shadow_1"),F.setAttribute("stdDeviation","0"),this.feGaussianBlur=F,d.appendChild(F);var L=createNS("feOffset");L.setAttribute("dx","25"),L.setAttribute("dy","0"),L.setAttribute("in",s+"_drop_shadow_1"),L.setAttribute("result",s+"_drop_shadow_2"),this.feOffset=L,d.appendChild(L);var H=createNS("feFlood");H.setAttribute("flood-color","#00ff00"),H.setAttribute("flood-opacity","1"),H.setAttribute("result",s+"_drop_shadow_3"),this.feFlood=H,d.appendChild(H);var z=createNS("feComposite");z.setAttribute("in",s+"_drop_shadow_3"),z.setAttribute("in2",s+"_drop_shadow_2"),z.setAttribute("operator","in"),z.setAttribute("result",s+"_drop_shadow_4"),d.appendChild(z);var Q=this.createMergeNode(s,[s+"_drop_shadow_4",y]);d.appendChild(Q)}SVGComposableEffect.prototype={createMergeNode:function d(h,p){var y,w,s=createNS("feMerge");for(s.setAttribute("result",h),w=0;w<p.length;w+=1)(y=createNS("feMergeNode")).setAttribute("in",p[w]),s.appendChild(y),s.appendChild(y);return s}},extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var h=this.filterManager.effectElements[0].p.v,p=this.filterManager.effectElements[1].p.v;this.matrixFilter.setAttribute("values",p[0]-h[0]+" 0 0 0 "+h[0]+" "+(p[1]-h[1])+" 0 0 0 "+h[1]+" "+(p[2]-h[2])+" 0 0 0 "+h[2]+" 0 0 0 "+this.filterManager.effectElements[2].p.v/100+" 0")}},SVGFillFilter.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var h=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+h[0]+" 0 0 0 0 "+h[1]+" 0 0 0 0 "+h[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var h,p,s,y,d=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(y=this.elem.maskManager.masksProperties.length,s=0):y=1+(s=this.filterManager.effectElements[0].p.v-1),(p=createNS("g")).setAttribute("fill","none"),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-dashoffset",1);s<y;s+=1)h=createNS("path"),p.appendChild(h),this.paths.push({p:h,m:s});if(3===this.filterManager.effectElements[10].p.v){var w=createNS("mask"),x=createElementID();w.setAttribute("id",x),w.setAttribute("mask-type","alpha"),w.appendChild(p),this.elem.globalData.defs.appendChild(w);var F=createNS("g");for(F.setAttribute("mask","url("+getLocationHref()+"#"+x+")");d[0];)F.appendChild(d[0]);this.elem.layerElement.appendChild(F),this.masker=w,p.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(d=this.elem.layerElement.children||this.elem.layerElement.childNodes;d.length;)this.elem.layerElement.removeChild(d[0]);this.elem.layerElement.appendChild(p),this.elem.layerElement.removeAttribute("mask"),p.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=p},SVGStrokeEffect.prototype.renderFrame=function(d){this.initialized||this.initialize();var h,s,y,p=this.paths.length;for(h=0;h<p;h+=1)if(-1!==this.paths[h].m&&(s=this.elem.maskManager.viewData[this.paths[h].m],y=this.paths[h].p,(d||this.filterManager._mdf||s.prop._mdf)&&y.setAttribute("d",s.lastPath),d||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||s.prop._mdf)){var w;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var x=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),F=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),L=y.getTotalLength();w="0 0 0 "+L*x+" ";var P,Q=Math.floor(L*(F-x)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(P=0;P<Q;P+=1)w+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";w+="0 "+10*L+" 0 0"}else w="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;y.setAttribute("stroke-dasharray",w)}if((d||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(d||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(d||this.filterManager.effectElements[3].p._mdf)){var U=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*U[0])+","+bmFloor(255*U[1])+","+bmFloor(255*U[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var h=this.filterManager.effectElements[0].p.v,p=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,w=s[1]+" "+p[1]+" "+h[1],x=s[2]+" "+p[2]+" "+h[2];this.feFuncR.setAttribute("tableValues",s[0]+" "+p[0]+" "+h[0]),this.feFuncG.setAttribute("tableValues",w),this.feFuncB.setAttribute("tableValues",x)}},SVGProLevelsFilter.prototype.createFeFunc=function(d,h){var p=createNS(d);return p.setAttribute("type","table"),h.appendChild(p),p},SVGProLevelsFilter.prototype.getTableValue=function(d,h,p,s,y){for(var F,Q,w=0,L=Math.min(d,h),H=Math.max(d,h),z=Array.call(null,{length:256}),P=0,U=y-s,G=h-d;w<=256;)Q=(F=w/256)<=L?G<0?y:s:F>=H?G<0?s:y:s+U*Math.pow((F-d)/G,1/p),z[P]=Q,P+=1,w+=256/255;return z.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var h,p=this.filterManager.effectElements;this.feFuncRComposed&&(d||p[3].p._mdf||p[4].p._mdf||p[5].p._mdf||p[6].p._mdf||p[7].p._mdf)&&(h=this.getTableValue(p[3].p.v,p[4].p.v,p[5].p.v,p[6].p.v,p[7].p.v),this.feFuncRComposed.setAttribute("tableValues",h),this.feFuncGComposed.setAttribute("tableValues",h),this.feFuncBComposed.setAttribute("tableValues",h)),this.feFuncR&&(d||p[10].p._mdf||p[11].p._mdf||p[12].p._mdf||p[13].p._mdf||p[14].p._mdf)&&(h=this.getTableValue(p[10].p.v,p[11].p.v,p[12].p.v,p[13].p.v,p[14].p.v),this.feFuncR.setAttribute("tableValues",h)),this.feFuncG&&(d||p[17].p._mdf||p[18].p._mdf||p[19].p._mdf||p[20].p._mdf||p[21].p._mdf)&&(h=this.getTableValue(p[17].p.v,p[18].p.v,p[19].p.v,p[20].p.v,p[21].p.v),this.feFuncG.setAttribute("tableValues",h)),this.feFuncB&&(d||p[24].p._mdf||p[25].p._mdf||p[26].p._mdf||p[27].p._mdf||p[28].p._mdf)&&(h=this.getTableValue(p[24].p.v,p[25].p.v,p[26].p.v,p[27].p.v,p[28].p.v),this.feFuncB.setAttribute("tableValues",h)),this.feFuncA&&(d||p[31].p._mdf||p[32].p._mdf||p[33].p._mdf||p[34].p._mdf||p[35].p._mdf)&&(h=this.getTableValue(p[31].p.v,p[32].p.v,p[33].p.v,p[34].p.v,p[35].p.v),this.feFuncA.setAttribute("tableValues",h))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){if((d||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),d||this.filterManager.effectElements[0].p._mdf){var h=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*h[0]),Math.round(255*h[1]),Math.round(255*h[2])))}if((d||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),d||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var p=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,y=p*Math.cos(s),w=p*Math.sin(s);this.feOffset.setAttribute("dx",y),this.feOffset.setAttribute("dy",w)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(d,h,p){this.initialized=!1,this.filterManager=h,this.filterElem=d,this.elem=p,p.matteElement=createNS("g"),p.matteElement.appendChild(p.layerElement),p.matteElement.appendChild(p.transformedElement),p.baseElement=p.matteElement}function SVGGaussianBlurEffect(d,h,p,s){d.setAttribute("x","-100%"),d.setAttribute("y","-100%"),d.setAttribute("width","300%"),d.setAttribute("height","300%"),this.filterManager=h;var y=createNS("feGaussianBlur");y.setAttribute("result",s),d.appendChild(y),this.feGaussianBlur=y}return SVGMatte3Effect.prototype.findSymbol=function(d){for(var h=0,p=_svgMatteSymbols.length;h<p;){if(_svgMatteSymbols[h]===d)return _svgMatteSymbols[h];h+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(d,h){var p=d.layerElement.parentNode;if(p){for(var s=p.children,y=0,w=s.length;y<w&&s[y]!==d.layerElement;)y+=1;var x;y<=w-2&&(x=s[y+1]);var F=createNS("use");F.setAttribute("href","#"+h),x?p.insertBefore(F,x):p.appendChild(F)}},SVGMatte3Effect.prototype.setElementAsMask=function(d,h){if(!this.findSymbol(h)){var p=createElementID(),s=createNS("mask");s.setAttribute("id",h.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(h);var y=d.globalData.defs;y.appendChild(s);var w=createNS("symbol");w.setAttribute("id",p),this.replaceInParent(h,p),w.appendChild(h.layerElement),y.appendChild(w);var x=createNS("use");x.setAttribute("href","#"+p),s.appendChild(x),h.data.hd=!1,h.show()}d.setMatte(h.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var d=this.filterManager.effectElements[0].p.v,h=this.elem.comp.elements,p=0,s=h.length;p<s;)h[p]&&h[p].data.ind===d&&this.setElementAsMask(this.elem,h[p]),p+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var p=.3*this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==s?0:p)+" "+(2==s?0:p)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=h())},9751:(d,h,p)=>{"use strict";p.d(h,{y:()=>z});var s=p(930),y=p(727),w=p(8822),x=p(9635),F=p(2416),L=p(576),H=p(2806);let z=(()=>{class G{constructor(K){K&&(this._subscribe=K)}lift(K){const A=new G;return A.source=this,A.operator=K,A}subscribe(K,A,O){const T=function U(G){return G&&G instanceof s.Lv||function P(G){return G&&(0,L.m)(G.next)&&(0,L.m)(G.error)&&(0,L.m)(G.complete)}(G)&&(0,y.Nn)(G)}(K)?K:new s.Hp(K,A,O);return(0,H.x)(()=>{const{operator:I,source:q}=this;T.add(I?I.call(T,q):q?this._subscribe(T):this._trySubscribe(T))}),T}_trySubscribe(K){try{return this._subscribe(K)}catch(A){K.error(A)}}forEach(K,A){return new(A=Q(A))((O,T)=>{const I=new s.Hp({next:q=>{try{K(q)}catch(J){T(J),I.unsubscribe()}},error:T,complete:O});this.subscribe(I)})}_subscribe(K){var A;return null===(A=this.source)||void 0===A?void 0:A.subscribe(K)}[w.L](){return this}pipe(...K){return(0,x.U)(K)(this)}toPromise(K){return new(K=Q(K))((A,O)=>{let T;this.subscribe(I=>T=I,I=>O(I),()=>A(T))})}}return G.create=j=>new G(j),G})();function Q(G){var j;return null!==(j=G??F.v.Promise)&&void 0!==j?j:Promise}},7579:(d,h,p)=>{"use strict";p.d(h,{x:()=>H});var s=p(9751),y=p(727);const x=(0,p(3888).d)(Q=>function(){Q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var F=p(8737),L=p(2806);let H=(()=>{class Q extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const G=new z(this,this);return G.operator=U,G}_throwIfClosed(){if(this.closed)throw new x}next(U){(0,L.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const G of this.currentObservers)G.next(U)}})}error(U){(0,L.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:G}=this;for(;G.length;)G.shift().error(U)}})}complete(){(0,L.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:G,isStopped:j,observers:K}=this;return G||j?y.Lc:(this.currentObservers=null,K.push(U),new y.w0(()=>{this.currentObservers=null,(0,F.P)(K,U)}))}_checkFinalizedStatuses(U){const{hasError:G,thrownError:j,isStopped:K}=this;G?U.error(j):K&&U.complete()}asObservable(){const U=new s.y;return U.source=this,U}}return Q.create=(P,U)=>new z(P,U),Q})();class z extends H{constructor(P,U){super(),this.destination=P,this.source=U}next(P){var U,G;null===(G=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===G||G.call(U,P)}error(P){var U,G;null===(G=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===G||G.call(U,P)}complete(){var P,U;null===(U=null===(P=this.destination)||void 0===P?void 0:P.complete)||void 0===U||U.call(P)}_subscribe(P){var U,G;return null!==(G=null===(U=this.source)||void 0===U?void 0:U.subscribe(P))&&void 0!==G?G:y.Lc}}},930:(d,h,p)=>{"use strict";p.d(h,{Hp:()=>O,Lv:()=>G});var s=p(576),y=p(727),w=p(2416),x=p(7849),F=p(5032);const L=Q("C",void 0,void 0);function Q(te,ne,me){return{kind:te,value:ne,error:me}}var P=p(3410),U=p(2806);class G extends y.w0{constructor(ne){super(),this.isStopped=!1,ne?(this.destination=ne,(0,y.Nn)(ne)&&ne.add(this)):this.destination=J}static create(ne,me,Pe){return new O(ne,me,Pe)}next(ne){this.isStopped?q(function z(te){return Q("N",te,void 0)}(ne),this):this._next(ne)}error(ne){this.isStopped?q(function H(te){return Q("E",void 0,te)}(ne),this):(this.isStopped=!0,this._error(ne))}complete(){this.isStopped?q(L,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ne){this.destination.next(ne)}_error(ne){try{this.destination.error(ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const j=Function.prototype.bind;function K(te,ne){return j.call(te,ne)}class A{constructor(ne){this.partialObserver=ne}next(ne){const{partialObserver:me}=this;if(me.next)try{me.next(ne)}catch(Pe){T(Pe)}}error(ne){const{partialObserver:me}=this;if(me.error)try{me.error(ne)}catch(Pe){T(Pe)}else T(ne)}complete(){const{partialObserver:ne}=this;if(ne.complete)try{ne.complete()}catch(me){T(me)}}}class O extends G{constructor(ne,me,Pe){let _e;if(super(),(0,s.m)(ne)||!ne)_e={next:ne??void 0,error:me??void 0,complete:Pe??void 0};else{let ve;this&&w.v.useDeprecatedNextContext?(ve=Object.create(ne),ve.unsubscribe=()=>this.unsubscribe(),_e={next:ne.next&&K(ne.next,ve),error:ne.error&&K(ne.error,ve),complete:ne.complete&&K(ne.complete,ve)}):_e=ne}this.destination=new A(_e)}}function T(te){w.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(te):(0,x.h)(te)}function q(te,ne){const{onStoppedNotification:me}=w.v;me&&P.z.setTimeout(()=>me(te,ne))}const J={closed:!0,next:F.Z,error:function I(te){throw te},complete:F.Z}},727:(d,h,p)=>{"use strict";p.d(h,{Lc:()=>L,w0:()=>F,Nn:()=>H});var s=p(576);const w=(0,p(3888).d)(Q=>function(U){Q(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((G,j)=>`${j+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var x=p(8737);class F{constructor(P){this.initialTeardown=P,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let P;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const K of U)K.remove(this);else U.remove(this);const{initialTeardown:G}=this;if((0,s.m)(G))try{G()}catch(K){P=K instanceof w?K.errors:[K]}const{_finalizers:j}=this;if(j){this._finalizers=null;for(const K of j)try{z(K)}catch(A){P=P??[],A instanceof w?P=[...P,...A.errors]:P.push(A)}}if(P)throw new w(P)}}add(P){var U;if(P&&P!==this)if(this.closed)z(P);else{if(P instanceof F){if(P.closed||P._hasParent(this))return;P._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(P)}}_hasParent(P){const{_parentage:U}=this;return U===P||Array.isArray(U)&&U.includes(P)}_addParent(P){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(P),U):U?[U,P]:P}_removeParent(P){const{_parentage:U}=this;U===P?this._parentage=null:Array.isArray(U)&&(0,x.P)(U,P)}remove(P){const{_finalizers:U}=this;U&&(0,x.P)(U,P),P instanceof F&&P._removeParent(this)}}F.EMPTY=(()=>{const Q=new F;return Q.closed=!0,Q})();const L=F.EMPTY;function H(Q){return Q instanceof F||Q&&"closed"in Q&&(0,s.m)(Q.remove)&&(0,s.m)(Q.add)&&(0,s.m)(Q.unsubscribe)}function z(Q){(0,s.m)(Q)?Q():Q.unsubscribe()}},2416:(d,h,p)=>{"use strict";p.d(h,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(d,h,p)=>{"use strict";p.d(h,{E:()=>y});const y=new(p(9751).y)(F=>F.complete())},8996:(d,h,p)=>{"use strict";p.d(h,{D:()=>ne});var s=p(8421),y=p(5363),w=p(9468),L=p(9751),z=p(2202),Q=p(576),P=p(9672);function G(me,Pe){if(!me)throw new Error("Iterable cannot be null");return new L.y(_e=>{(0,P.f)(_e,Pe,()=>{const ve=me[Symbol.asyncIterator]();(0,P.f)(_e,Pe,()=>{ve.next().then(Ie=>{Ie.done?_e.complete():_e.next(Ie.value)})},0,!0)})})}var j=p(3670),K=p(8239),A=p(1144),O=p(6495),T=p(2206),I=p(4532),q=p(3260);function ne(me,Pe){return Pe?function te(me,Pe){if(null!=me){if((0,j.c)(me))return function x(me,Pe){return(0,s.Xf)(me).pipe((0,w.R)(Pe),(0,y.Q)(Pe))}(me,Pe);if((0,A.z)(me))return function H(me,Pe){return new L.y(_e=>{let ve=0;return Pe.schedule(function(){ve===me.length?_e.complete():(_e.next(me[ve++]),_e.closed||this.schedule())})})}(me,Pe);if((0,K.t)(me))return function F(me,Pe){return(0,s.Xf)(me).pipe((0,w.R)(Pe),(0,y.Q)(Pe))}(me,Pe);if((0,T.D)(me))return G(me,Pe);if((0,O.T)(me))return function U(me,Pe){return new L.y(_e=>{let ve;return(0,P.f)(_e,Pe,()=>{ve=me[z.h](),(0,P.f)(_e,Pe,()=>{let Ie,be;try{({value:Ie,done:be}=ve.next())}catch(de){return void _e.error(de)}be?_e.complete():_e.next(Ie)},0,!0)}),()=>(0,Q.m)(ve?.return)&&ve.return()})}(me,Pe);if((0,q.L)(me))return function J(me,Pe){return G((0,q.Q)(me),Pe)}(me,Pe)}throw(0,I.z)(me)}(me,Pe):(0,s.Xf)(me)}},8421:(d,h,p)=>{"use strict";p.d(h,{Xf:()=>j});var s=p(655),y=p(1144),w=p(8239),x=p(9751),F=p(3670),L=p(2206),H=p(4532),z=p(6495),Q=p(3260),P=p(576),U=p(7849),G=p(8822);function j(te){if(te instanceof x.y)return te;if(null!=te){if((0,F.c)(te))return function K(te){return new x.y(ne=>{const me=te[G.L]();if((0,P.m)(me.subscribe))return me.subscribe(ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,y.z)(te))return function A(te){return new x.y(ne=>{for(let me=0;me<te.length&&!ne.closed;me++)ne.next(te[me]);ne.complete()})}(te);if((0,w.t)(te))return function O(te){return new x.y(ne=>{te.then(me=>{ne.closed||(ne.next(me),ne.complete())},me=>ne.error(me)).then(null,U.h)})}(te);if((0,L.D)(te))return I(te);if((0,z.T)(te))return function T(te){return new x.y(ne=>{for(const me of te)if(ne.next(me),ne.closed)return;ne.complete()})}(te);if((0,Q.L)(te))return function q(te){return I((0,Q.Q)(te))}(te)}throw(0,H.z)(te)}function I(te){return new x.y(ne=>{(function J(te,ne){var me,Pe,_e,ve;return(0,s.mG)(this,void 0,void 0,function*(){try{for(me=(0,s.KL)(te);!(Pe=yield me.next()).done;)if(ne.next(Pe.value),ne.closed)return}catch(Ie){_e={error:Ie}}finally{try{Pe&&!Pe.done&&(ve=me.return)&&(yield ve.call(me))}finally{if(_e)throw _e.error}}ne.complete()})})(te,ne).catch(me=>ne.error(me))})}},6451:(d,h,p)=>{"use strict";p.d(h,{T:()=>L});var s=p(8189),y=p(8421),w=p(515),x=p(7669),F=p(8996);function L(...H){const z=(0,x.yG)(H),Q=(0,x._6)(H,1/0),P=H;return P.length?1===P.length?(0,y.Xf)(P[0]):(0,s.J)(Q)((0,F.D)(P,z)):w.E}},5403:(d,h,p)=>{"use strict";p.d(h,{x:()=>y});var s=p(930);function y(x,F,L,H,z){return new w(x,F,L,H,z)}class w extends s.Lv{constructor(F,L,H,z,Q,P){super(F),this.onFinalize=Q,this.shouldUnsubscribe=P,this._next=L?function(U){try{L(U)}catch(G){F.error(G)}}:super._next,this._error=z?function(U){try{z(U)}catch(G){F.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=H?function(){try{H()}catch(U){F.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var F;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:L}=this;super.unsubscribe(),!L&&(null===(F=this.onFinalize)||void 0===F||F.call(this))}}}},4004:(d,h,p)=>{"use strict";p.d(h,{U:()=>w});var s=p(4482),y=p(5403);function w(x,F){return(0,s.e)((L,H)=>{let z=0;L.subscribe((0,y.x)(H,Q=>{H.next(x.call(F,Q,z++))}))})}},8189:(d,h,p)=>{"use strict";p.d(h,{J:()=>w});var s=p(5577),y=p(4671);function w(x=1/0){return(0,s.z)(y.y,x)}},5577:(d,h,p)=>{"use strict";p.d(h,{z:()=>z});var s=p(4004),y=p(8421),w=p(4482),x=p(9672),F=p(5403),H=p(576);function z(Q,P,U=1/0){return(0,H.m)(P)?z((G,j)=>(0,s.U)((K,A)=>P(G,K,j,A))((0,y.Xf)(Q(G,j))),U):("number"==typeof P&&(U=P),(0,w.e)((G,j)=>function L(Q,P,U,G,j,K,A,O){const T=[];let I=0,q=0,J=!1;const te=()=>{J&&!T.length&&!I&&P.complete()},ne=Pe=>I<G?me(Pe):T.push(Pe),me=Pe=>{K&&P.next(Pe),I++;let _e=!1;(0,y.Xf)(U(Pe,q++)).subscribe((0,F.x)(P,ve=>{j?.(ve),K?ne(ve):P.next(ve)},()=>{_e=!0},void 0,()=>{if(_e)try{for(I--;T.length&&I<G;){const ve=T.shift();A?(0,x.f)(P,A,()=>me(ve)):me(ve)}te()}catch(ve){P.error(ve)}}))};return Q.subscribe((0,F.x)(P,ne,()=>{J=!0,te()})),()=>{O?.()}}(G,j,Q,U)))}},5363:(d,h,p)=>{"use strict";p.d(h,{Q:()=>x});var s=p(9672),y=p(4482),w=p(5403);function x(F,L=0){return(0,y.e)((H,z)=>{H.subscribe((0,w.x)(z,Q=>(0,s.f)(z,F,()=>z.next(Q),L),()=>(0,s.f)(z,F,()=>z.complete(),L),Q=>(0,s.f)(z,F,()=>z.error(Q),L)))})}},3099:(d,h,p)=>{"use strict";p.d(h,{B:()=>F});var s=p(8421),y=p(7579),w=p(930),x=p(4482);function F(H={}){const{connector:z=(()=>new y.x),resetOnError:Q=!0,resetOnComplete:P=!0,resetOnRefCountZero:U=!0}=H;return G=>{let j,K,A,O=0,T=!1,I=!1;const q=()=>{K?.unsubscribe(),K=void 0},J=()=>{q(),j=A=void 0,T=I=!1},te=()=>{const ne=j;J(),ne?.unsubscribe()};return(0,x.e)((ne,me)=>{O++,!I&&!T&&q();const Pe=A=A??z();me.add(()=>{O--,0===O&&!I&&!T&&(K=L(te,U))}),Pe.subscribe(me),!j&&O>0&&(j=new w.Hp({next:_e=>Pe.next(_e),error:_e=>{I=!0,q(),K=L(J,Q,_e),Pe.error(_e)},complete:()=>{T=!0,q(),K=L(J,P),Pe.complete()}}),(0,s.Xf)(ne).subscribe(j))})(G)}}function L(H,z,...Q){if(!0===z)return void H();if(!1===z)return;const P=new w.Hp({next:()=>{P.unsubscribe(),H()}});return z(...Q).subscribe(P)}},9468:(d,h,p)=>{"use strict";p.d(h,{R:()=>y});var s=p(4482);function y(w,x=0){return(0,s.e)((F,L)=>{L.add(w.schedule(()=>F.subscribe(L),x))})}},8505:(d,h,p)=>{"use strict";p.d(h,{b:()=>F});var s=p(576),y=p(4482),w=p(5403),x=p(4671);function F(L,H,z){const Q=(0,s.m)(L)||H||z?{next:L,error:H,complete:z}:L;return Q?(0,y.e)((P,U)=>{var G;null===(G=Q.subscribe)||void 0===G||G.call(Q);let j=!0;P.subscribe((0,w.x)(U,K=>{var A;null===(A=Q.next)||void 0===A||A.call(Q,K),U.next(K)},()=>{var K;j=!1,null===(K=Q.complete)||void 0===K||K.call(Q),U.complete()},K=>{var A;j=!1,null===(A=Q.error)||void 0===A||A.call(Q,K),U.error(K)},()=>{var K,A;j&&(null===(K=Q.unsubscribe)||void 0===K||K.call(Q)),null===(A=Q.finalize)||void 0===A||A.call(Q)}))}):x.y}},4408:(d,h,p)=>{"use strict";p.d(h,{o:()=>F});var s=p(727);class y extends s.w0{constructor(H,z){super()}schedule(H,z=0){return this}}const w={setInterval(L,H,...z){const{delegate:Q}=w;return Q?.setInterval?Q.setInterval(L,H,...z):setInterval(L,H,...z)},clearInterval(L){const{delegate:H}=w;return(H?.clearInterval||clearInterval)(L)},delegate:void 0};var x=p(8737);class F extends y{constructor(H,z){super(H,z),this.scheduler=H,this.work=z,this.pending=!1}schedule(H,z=0){var Q;if(this.closed)return this;this.state=H;const P=this.id,U=this.scheduler;return null!=P&&(this.id=this.recycleAsyncId(U,P,z)),this.pending=!0,this.delay=z,this.id=null!==(Q=this.id)&&void 0!==Q?Q:this.requestAsyncId(U,this.id,z),this}requestAsyncId(H,z,Q=0){return w.setInterval(H.flush.bind(H,this),Q)}recycleAsyncId(H,z,Q=0){if(null!=Q&&this.delay===Q&&!1===this.pending)return z;null!=z&&w.clearInterval(z)}execute(H,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Q=this._execute(H,z);if(Q)return Q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(H,z){let P,Q=!1;try{this.work(H)}catch(U){Q=!0,P=U||new Error("Scheduled action threw falsy error")}if(Q)return this.unsubscribe(),P}unsubscribe(){if(!this.closed){const{id:H,scheduler:z}=this,{actions:Q}=z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,x.P)(Q,this),null!=H&&(this.id=this.recycleAsyncId(z,H,null)),this.delay=null,super.unsubscribe()}}}},7565:(d,h,p)=>{"use strict";p.d(h,{v:()=>w});var s=p(6063);class y{constructor(F,L=y.now){this.schedulerActionCtor=F,this.now=L}schedule(F,L=0,H){return new this.schedulerActionCtor(this,F).schedule(H,L)}}y.now=s.l.now;class w extends y{constructor(F,L=y.now){super(F,L),this.actions=[],this._active=!1}flush(F){const{actions:L}=this;if(this._active)return void L.push(F);let H;this._active=!0;do{if(H=F.execute(F.state,F.delay))break}while(F=L.shift());if(this._active=!1,H){for(;F=L.shift();)F.unsubscribe();throw H}}}},4986:(d,h,p)=>{"use strict";p.d(h,{z:()=>w});var s=p(4408);const w=new(p(7565).v)(s.o)},6063:(d,h,p)=>{"use strict";p.d(h,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(d,h,p)=>{"use strict";p.d(h,{z:()=>s});const s={setTimeout(y,w,...x){const{delegate:F}=s;return F?.setTimeout?F.setTimeout(y,w,...x):setTimeout(y,w,...x)},clearTimeout(y){const{delegate:w}=s;return(w?.clearTimeout||clearTimeout)(y)},delegate:void 0}},2202:(d,h,p)=>{"use strict";p.d(h,{h:()=>y});const y=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(d,h,p)=>{"use strict";p.d(h,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(d,h,p)=>{"use strict";p.d(h,{_6:()=>L,jO:()=>x,yG:()=>F});var s=p(576);function w(H){return H[H.length-1]}function x(H){return(0,s.m)(w(H))?H.pop():void 0}function F(H){return function y(H){return H&&(0,s.m)(H.schedule)}(w(H))?H.pop():void 0}function L(H,z){return"number"==typeof w(H)?H.pop():z}},8737:(d,h,p)=>{"use strict";function s(y,w){if(y){const x=y.indexOf(w);0<=x&&y.splice(x,1)}}p.d(h,{P:()=>s})},3888:(d,h,p)=>{"use strict";function s(y){const x=y(F=>{Error.call(F),F.stack=(new Error).stack});return x.prototype=Object.create(Error.prototype),x.prototype.constructor=x,x}p.d(h,{d:()=>s})},2806:(d,h,p)=>{"use strict";p.d(h,{O:()=>x,x:()=>w});var s=p(2416);let y=null;function w(F){if(s.v.useDeprecatedSynchronousErrorHandling){const L=!y;if(L&&(y={errorThrown:!1,error:null}),F(),L){const{errorThrown:H,error:z}=y;if(y=null,H)throw z}}else F()}function x(F){s.v.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=F)}},9672:(d,h,p)=>{"use strict";function s(y,w,x,F=0,L=!1){const H=w.schedule(function(){x(),L?y.add(this.schedule(null,F)):this.unsubscribe()},F);if(y.add(H),!L)return H}p.d(h,{f:()=>s})},4671:(d,h,p)=>{"use strict";function s(y){return y}p.d(h,{y:()=>s})},1144:(d,h,p)=>{"use strict";p.d(h,{z:()=>s});const s=y=>y&&"number"==typeof y.length&&"function"!=typeof y},2206:(d,h,p)=>{"use strict";p.d(h,{D:()=>y});var s=p(576);function y(w){return Symbol.asyncIterator&&(0,s.m)(w?.[Symbol.asyncIterator])}},576:(d,h,p)=>{"use strict";function s(y){return"function"==typeof y}p.d(h,{m:()=>s})},3670:(d,h,p)=>{"use strict";p.d(h,{c:()=>w});var s=p(8822),y=p(576);function w(x){return(0,y.m)(x[s.L])}},6495:(d,h,p)=>{"use strict";p.d(h,{T:()=>w});var s=p(2202),y=p(576);function w(x){return(0,y.m)(x?.[s.h])}},8239:(d,h,p)=>{"use strict";p.d(h,{t:()=>y});var s=p(576);function y(w){return(0,s.m)(w?.then)}},3260:(d,h,p)=>{"use strict";p.d(h,{L:()=>x,Q:()=>w});var s=p(655),y=p(576);function w(F){return(0,s.FC)(this,arguments,function*(){const H=F.getReader();try{for(;;){const{value:z,done:Q}=yield(0,s.qq)(H.read());if(Q)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(z)}}finally{H.releaseLock()}})}function x(F){return(0,y.m)(F?.getReader)}},4482:(d,h,p)=>{"use strict";p.d(h,{A:()=>y,e:()=>w});var s=p(576);function y(x){return(0,s.m)(x?.lift)}function w(x){return F=>{if(y(F))return F.lift(function(L){try{return x(L,this)}catch(H){this.error(H)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(d,h,p)=>{"use strict";function s(){}p.d(h,{Z:()=>s})},9635:(d,h,p)=>{"use strict";p.d(h,{U:()=>w,z:()=>y});var s=p(4671);function y(...x){return w(x)}function w(x){return 0===x.length?s.y:1===x.length?x[0]:function(L){return x.reduce((H,z)=>z(H),L)}}},7849:(d,h,p)=>{"use strict";p.d(h,{h:()=>w});var s=p(2416),y=p(3410);function w(x){y.z.setTimeout(()=>{const{onUnhandledError:F}=s.v;if(!F)throw x;F(x)})}},4532:(d,h,p)=>{"use strict";function s(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}p.d(h,{z:()=>s})},2454:function(d){d.exports=function(){"use strict";var h={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const s=R=>{const B={};for(const re in R)B[R[re]]="swal2-"+R[re];return B},y=s(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),w=s(["success","warning","info","question","error"]),x="SweetAlert2:",L=R=>R.charAt(0).toUpperCase()+R.slice(1),H=R=>{console.warn(`${x} ${"object"==typeof R?R.join(" "):R}`)},z=R=>{console.error(`${x} ${R}`)},Q=[],U=(R,B)=>{(R=>{Q.includes(R)||(Q.push(R),H(R))})(`"${R}" is deprecated and will be removed in the next major release. Please use "${B}" instead.`)},G=R=>"function"==typeof R?R():R,j=R=>R&&"function"==typeof R.toPromise,K=R=>j(R)?R.toPromise():Promise.resolve(R),A=R=>R&&Promise.resolve(R)===R,O=()=>document.body.querySelector(`.${y.container}`),T=R=>{const B=O();return B?B.querySelector(R):null},I=R=>T(`.${R}`),q=()=>I(y.popup),J=()=>I(y.icon),ne=()=>I(y.title),me=()=>I(y["html-container"]),Pe=()=>I(y.image),_e=()=>I(y["progress-steps"]),ve=()=>I(y["validation-message"]),Ie=()=>T(`.${y.actions} .${y.confirm}`),be=()=>T(`.${y.actions} .${y.deny}`),ae=()=>T(`.${y.loader}`),X=()=>T(`.${y.actions} .${y.cancel}`),ee=()=>I(y.actions),ue=()=>I(y.footer),Re=()=>I(y["timer-progress-bar"]),ke=()=>I(y.close),$e=()=>{const R=Array.from(q().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((re,Se)=>{const Ge=parseInt(re.getAttribute("tabindex")),lt=parseInt(Se.getAttribute("tabindex"));return Ge>lt?1:Ge<lt?-1:0}),B=Array.from(q().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(re=>"-1"!==re.getAttribute("tabindex"));return(R=>{const B=[];for(let re=0;re<R.length;re++)-1===B.indexOf(R[re])&&B.push(R[re]);return B})(R.concat(B)).filter(re=>$t(re))},ut=()=>wt(document.body,y.shown)&&!wt(document.body,y["toast-shown"])&&!wt(document.body,y["no-backdrop"]),Ut=()=>q()&&wt(q(),y.toast),Ot={previousBodyPadding:null},Et=(R,B)=>{if(R.textContent="",B){const Se=(new DOMParser).parseFromString(B,"text/html");Array.from(Se.querySelector("head").childNodes).forEach(Ge=>{R.appendChild(Ge)}),Array.from(Se.querySelector("body").childNodes).forEach(Ge=>{Ge instanceof HTMLVideoElement||Ge instanceof HTMLAudioElement?R.appendChild(Ge.cloneNode(!0)):R.appendChild(Ge)})}},wt=(R,B)=>{if(!B)return!1;const re=B.split(/\s+/);for(let Se=0;Se<re.length;Se++)if(!R.classList.contains(re[Se]))return!1;return!0},sn=(R,B,re)=>{if(((R,B)=>{Array.from(R.classList).forEach(re=>{!Object.values(y).includes(re)&&!Object.values(w).includes(re)&&!Object.values(B.showClass).includes(re)&&R.classList.remove(re)})})(R,B),B.customClass&&B.customClass[re]){if("string"!=typeof B.customClass[re]&&!B.customClass[re].forEach)return void H(`Invalid type of customClass.${re}! Expected string or iterable object, got "${typeof B.customClass[re]}"`);Nt(R,B.customClass[re])}},In=(R,B)=>{if(!B)return null;switch(B){case"select":case"textarea":case"file":return R.querySelector(`.${y.popup} > .${y[B]}`);case"checkbox":return R.querySelector(`.${y.popup} > .${y.checkbox} input`);case"radio":return R.querySelector(`.${y.popup} > .${y.radio} input:checked`)||R.querySelector(`.${y.popup} > .${y.radio} input:first-child`);case"range":return R.querySelector(`.${y.popup} > .${y.range} input`);default:return R.querySelector(`.${y.popup} > .${y.input}`)}},at=R=>{if(R.focus(),"file"!==R.type){const B=R.value;R.value="",R.value=B}},_n=(R,B,re)=>{!R||!B||("string"==typeof B&&(B=B.split(/\s+/).filter(Boolean)),B.forEach(Se=>{Array.isArray(R)?R.forEach(Ge=>{re?Ge.classList.add(Se):Ge.classList.remove(Se)}):re?R.classList.add(Se):R.classList.remove(Se)}))},Nt=(R,B)=>{_n(R,B,!0)},An=(R,B)=>{_n(R,B,!1)},cn=(R,B)=>{const re=Array.from(R.children);for(let Se=0;Se<re.length;Se++){const Ge=re[Se];if(Ge instanceof HTMLElement&&wt(Ge,B))return Ge}},jn=(R,B,re)=>{re===`${parseInt(re)}`&&(re=parseInt(re)),re||0===parseInt(re)?R.style[B]="number"==typeof re?`${re}px`:re:R.style.removeProperty(B)},mn=function(R){R.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},nt=R=>{R.style.display="none"},vn=(R,B,re,Se)=>{const Ge=R.querySelector(B);Ge&&(Ge.style[re]=Se)},Dn=function(R,B){B?mn(R,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):nt(R)},$t=R=>!(!R||!(R.offsetWidth||R.offsetHeight||R.getClientRects().length)),Dr=R=>R.scrollHeight>R.clientHeight,an=R=>{const B=window.getComputedStyle(R),re=parseFloat(B.getPropertyValue("animation-duration")||"0"),Se=parseFloat(B.getPropertyValue("transition-duration")||"0");return re>0||Se>0},wn=function(R){let B=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const re=Re();$t(re)&&(B&&(re.style.transition="none",re.style.width="100%"),setTimeout(()=>{re.style.transition=`width ${R/1e3}s linear`,re.style.width="0%"},10))},rt={},Wr=R=>new Promise(B=>{if(!R)return B();const re=window.scrollX,Se=window.scrollY;rt.restoreFocusTimeout=setTimeout(()=>{rt.previousActiveElement instanceof HTMLElement?(rt.previousActiveElement.focus(),rt.previousActiveElement=null):document.body&&document.body.focus(),B()},100),window.scrollTo(re,Se)}),ar=()=>typeof window>"u"||typeof document>"u",Ur=`\n <div aria-labelledby="${y.title}" aria-describedby="${y["html-container"]}" class="${y.popup}" tabindex="-1">\n   <button type="button" class="${y.close}"></button>\n   <ul class="${y["progress-steps"]}"></ul>\n   <div class="${y.icon}"></div>\n   <img class="${y.image}" />\n   <h2 class="${y.title}" id="${y.title}"></h2>\n   <div class="${y["html-container"]}" id="${y["html-container"]}"></div>\n   <input class="${y.input}" />\n   <input type="file" class="${y.file}" />\n   <div class="${y.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${y.select}"></select>\n   <div class="${y.radio}"></div>\n   <label for="${y.checkbox}" class="${y.checkbox}">\n     <input type="checkbox" />\n     <span class="${y.label}"></span>\n   </label>\n   <textarea class="${y.textarea}"></textarea>\n   <div class="${y["validation-message"]}" id="${y["validation-message"]}"></div>\n   <div class="${y.actions}">\n     <div class="${y.loader}"></div>\n     <button type="button" class="${y.confirm}"></button>\n     <button type="button" class="${y.deny}"></button>\n     <button type="button" class="${y.cancel}"></button>\n   </div>\n   <div class="${y.footer}"></div>\n   <div class="${y["timer-progress-bar-container"]}">\n     <div class="${y["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),lr=()=>{rt.currentInstance.resetValidationMessage()},Kn=R=>{const B=(()=>{const R=O();return!!R&&(R.remove(),An([document.documentElement,document.body],[y["no-backdrop"],y["toast-shown"],y["has-column"]]),!0)})();if(ar())return void z("SweetAlert2 requires document to initialize");const re=document.createElement("div");re.className=y.container,B&&Nt(re,y["no-transition"]),Et(re,Ur);const Se=(R=>"string"==typeof R?document.querySelector(R):R)(R.target);Se.appendChild(re),(R=>{const B=q();B.setAttribute("role",R.toast?"alert":"dialog"),B.setAttribute("aria-live",R.toast?"polite":"assertive"),R.toast||B.setAttribute("aria-modal","true")})(R),(R=>{"rtl"===window.getComputedStyle(R).direction&&Nt(O(),y.rtl)})(Se),(()=>{const R=q(),B=cn(R,y.input),re=cn(R,y.file),Se=R.querySelector(`.${y.range} input`),Ge=R.querySelector(`.${y.range} output`),lt=cn(R,y.select),rr=R.querySelector(`.${y.checkbox} input`),ir=cn(R,y.textarea);B.oninput=lr,re.onchange=lr,lt.onchange=lr,rr.onchange=lr,ir.oninput=lr,Se.oninput=()=>{lr(),Ge.value=Se.value},Se.onchange=()=>{lr(),Ge.value=Se.value}})()},mt=(R,B)=>{R instanceof HTMLElement?B.appendChild(R):"object"==typeof R?qe(R,B):R&&Et(B,R)},qe=(R,B)=>{R.jquery?yt(B,R):Et(B,R.toString())},yt=(R,B)=>{if(R.textContent="",0 in B)for(let re=0;re in B;re++)R.appendChild(B[re].cloneNode(!0));else R.appendChild(B.cloneNode(!0))},At=(()=>{if(ar())return!1;const R=document.createElement("div"),B={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const re in B)if(Object.prototype.hasOwnProperty.call(B,re)&&typeof R.style[re]<"u")return B[re];return!1})(),bn=(R,B)=>{const re=ee(),Se=ae();B.showConfirmButton||B.showDenyButton||B.showCancelButton?mn(re):nt(re),sn(re,B,"actions"),function Ae(R,B,re){const Se=Ie(),Ge=be(),lt=X();xe(Se,"confirm",re),xe(Ge,"deny",re),xe(lt,"cancel",re),function Te(R,B,re,Se){Se.buttonsStyling?(Nt([R,B,re],y.styled),Se.confirmButtonColor&&(R.style.backgroundColor=Se.confirmButtonColor,Nt(R,y["default-outline"])),Se.denyButtonColor&&(B.style.backgroundColor=Se.denyButtonColor,Nt(B,y["default-outline"])),Se.cancelButtonColor&&(re.style.backgroundColor=Se.cancelButtonColor,Nt(re,y["default-outline"]))):An([R,B,re],y.styled)}(Se,Ge,lt,re),re.reverseButtons&&(re.toast?(R.insertBefore(lt,Se),R.insertBefore(Ge,Se)):(R.insertBefore(lt,B),R.insertBefore(Ge,B),R.insertBefore(Se,B)))}(re,Se,B),Et(Se,B.loaderHtml),sn(Se,B,"loader")};function xe(R,B,re){Dn(R,re[`show${L(B)}Button`],"inline-block"),Et(R,re[`${B}ButtonText`]),R.setAttribute("aria-label",re[`${B}ButtonAriaLabel`]),R.className=y[B],sn(R,re,`${B}Button`),Nt(R,re[`${B}ButtonClass`])}const le=(R,B)=>{const re=O();!re||(function ye(R,B){"string"==typeof B?R.style.background=B:B||Nt([document.documentElement,document.body],y["no-backdrop"])}(re,B.backdrop),function Fe(R,B){B in y?Nt(R,y[B]):(H('The "position" parameter is not valid, defaulting to "center"'),Nt(R,y.center))}(re,B.position),function Je(R,B){if(B&&"string"==typeof B){const re=`grow-${B}`;re in y&&Nt(R,y[re])}}(re,B.grow),sn(re,B,"container"))};const vt=["input","file","range","select","radio","checkbox","textarea"],We=R=>{if(!hr[R.input])return void z(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${R.input}"`);const B=Li(R.input),re=hr[R.input](B,R);mn(B),setTimeout(()=>{at(re)})},Zt=(R,B)=>{const re=In(q(),R);if(re){(R=>{for(let B=0;B<R.attributes.length;B++){const re=R.attributes[B].name;["type","value","style"].includes(re)||R.removeAttribute(re)}})(re);for(const Se in B)re.setAttribute(Se,B[Se])}},Vn=R=>{const B=Li(R.input);"object"==typeof R.customClass&&Nt(B,R.customClass.input)},Kt=(R,B)=>{(!R.placeholder||B.inputPlaceholder)&&(R.placeholder=B.inputPlaceholder)},Pn=(R,B,re)=>{if(re.inputLabel){R.id=y.input;const Se=document.createElement("label"),Ge=y["input-label"];Se.setAttribute("for",R.id),Se.className=Ge,"object"==typeof re.customClass&&Nt(Se,re.customClass.inputLabel),Se.innerText=re.inputLabel,B.insertAdjacentElement("beforebegin",Se)}},Li=R=>cn(q(),y[R]||y.input),Bn=(R,B)=>{["string","number"].includes(typeof B)?R.value=`${B}`:A(B)||H(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof B}"`)},hr={};hr.text=hr.email=hr.password=hr.number=hr.tel=hr.url=(R,B)=>(Bn(R,B.inputValue),Pn(R,R,B),Kt(R,B),R.type=B.input,R),hr.file=(R,B)=>(Pn(R,R,B),Kt(R,B),R),hr.range=(R,B)=>{const re=R.querySelector("input"),Se=R.querySelector("output");return Bn(re,B.inputValue),re.type=B.input,Bn(Se,B.inputValue),Pn(re,R,B),R},hr.select=(R,B)=>{if(R.textContent="",B.inputPlaceholder){const re=document.createElement("option");Et(re,B.inputPlaceholder),re.value="",re.disabled=!0,re.selected=!0,R.appendChild(re)}return Pn(R,R,B),R},hr.radio=R=>(R.textContent="",R),hr.checkbox=(R,B)=>{const re=In(q(),"checkbox");re.value="1",re.id=y.checkbox,re.checked=Boolean(B.inputValue);const Se=R.querySelector("span");return Et(Se,B.inputPlaceholder),re},hr.textarea=(R,B)=>{Bn(R,B.inputValue),Kt(R,B),Pn(R,R,B);return setTimeout(()=>{if("MutationObserver"in window){const Se=parseInt(window.getComputedStyle(q()).width);new MutationObserver(()=>{const lt=R.offsetWidth+(Se=>parseInt(window.getComputedStyle(Se).marginLeft)+parseInt(window.getComputedStyle(Se).marginRight))(R);q().style.width=lt>Se?`${lt}px`:null}).observe(R,{attributes:!0,attributeFilter:["style"]})}}),R};const bo=(R,B)=>{const re=me();sn(re,B,"htmlContainer"),B.html?(mt(B.html,re),mn(re,"block")):B.text?(re.textContent=B.text,mn(re,"block")):nt(re),((R,B)=>{const re=q(),Se=h.innerParams.get(R),Ge=!Se||B.input!==Se.input;vt.forEach(lt=>{const rr=cn(re,y[lt]);Zt(lt,B.inputAttributes),rr.className=y[lt],Ge&&nt(rr)}),B.input&&(Ge&&We(B),Vn(B))})(R,B)},Es=(R,B)=>{for(const re in w)B.icon!==re&&An(R,w[re]);Nt(R,w[B.icon]),ii(R,B),Ba(),sn(R,B,"icon")},Ba=()=>{const R=q(),B=window.getComputedStyle(R).getPropertyValue("background-color"),re=R.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Se=0;Se<re.length;Se++)re[Se].style.backgroundColor=B},Ss=(R,B)=>{let Se,re=R.innerHTML;B.iconHtml?Se=si(B.iconHtml):"success"===B.icon?(Se='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',re=re.replace(/ style=".*?"/g,"")):Se="error"===B.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':si({question:"?",warning:"!",info:"i"}[B.icon]),re.trim()!==Se.trim()&&Et(R,Se)},ii=(R,B)=>{if(B.iconColor){R.style.color=B.iconColor,R.style.borderColor=B.iconColor;for(const re of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])vn(R,re,"backgroundColor",B.iconColor);vn(R,".swal2-success-ring","borderColor",B.iconColor)}},si=R=>`<div class="${y["icon-content"]}">${R}</div>`,Nn=(R,B)=>{R.className=`${y.popup} ${$t(R)?B.showClass.popup:""}`,B.toast?(Nt([document.documentElement,document.body],y["toast-shown"]),Nt(R,y.toast)):Nt(R,y.modal),sn(R,B,"popup"),"string"==typeof B.customClass&&Nt(R,B.customClass),B.icon&&Nt(R,y[`icon-${B.icon}`])},ea=R=>{const B=document.createElement("li");return Nt(B,y["progress-step"]),Et(B,R),B},ta=R=>{const B=document.createElement("li");return Nt(B,y["progress-step-line"]),R.progressStepsDistance&&jn(B,"width",R.progressStepsDistance),B},oi=(R,B)=>{((R,B)=>{const re=O(),Se=q();B.toast?(jn(re,"width",B.width),Se.style.width="100%",Se.insertBefore(ae(),J())):jn(Se,"width",B.width),jn(Se,"padding",B.padding),B.color&&(Se.style.color=B.color),B.background&&(Se.style.background=B.background),nt(ve()),Nn(Se,B)})(0,B),le(0,B),((R,B)=>{const re=_e();B.progressSteps&&0!==B.progressSteps.length?(mn(re),re.textContent="",B.currentProgressStep>=B.progressSteps.length&&H("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),B.progressSteps.forEach((Se,Ge)=>{const lt=ea(Se);if(re.appendChild(lt),Ge===B.currentProgressStep&&Nt(lt,y["active-progress-step"]),Ge!==B.progressSteps.length-1){const rr=ta(B);re.appendChild(rr)}})):nt(re)})(0,B),((R,B)=>{const re=h.innerParams.get(R),Se=J();re&&B.icon===re.icon?(Ss(Se,B),Es(Se,B)):B.icon||B.iconHtml?B.icon&&-1===Object.keys(w).indexOf(B.icon)?(z(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${B.icon}"`),nt(Se)):(mn(Se),Ss(Se,B),Es(Se,B),Nt(Se,B.showClass.icon)):nt(Se)})(R,B),((R,B)=>{const re=Pe();B.imageUrl?(mn(re,""),re.setAttribute("src",B.imageUrl),re.setAttribute("alt",B.imageAlt),jn(re,"width",B.imageWidth),jn(re,"height",B.imageHeight),re.className=y.image,sn(re,B,"image")):nt(re)})(0,B),((R,B)=>{const re=ne();Dn(re,B.title||B.titleText,"block"),B.title&&mt(B.title,re),B.titleText&&(re.innerText=B.titleText),sn(re,B,"title")})(0,B),((R,B)=>{const re=ke();Et(re,B.closeButtonHtml),sn(re,B,"closeButton"),Dn(re,B.showCloseButton),re.setAttribute("aria-label",B.closeButtonAriaLabel)})(0,B),bo(R,B),bn(0,B),((R,B)=>{const re=ue();Dn(re,B.footer),B.footer&&mt(B.footer,re),sn(re,B,"footer")})(0,B),"function"==typeof B.didRender&&B.didRender(q())};function Ts(){const R=h.innerParams.get(this);if(!R)return;const B=h.domCache.get(this);nt(B.loader),Ut()?R.icon&&mn(J()):os(B),An([B.popup,B.actions],y.loading),B.popup.removeAttribute("aria-busy"),B.popup.removeAttribute("data-loading"),B.confirmButton.disabled=!1,B.denyButton.disabled=!1,B.cancelButton.disabled=!1}const os=R=>{const B=R.popup.getElementsByClassName(R.loader.getAttribute("data-button-to-replace"));B.length?mn(B[0],"inline-block"):!$t(Ie())&&!$t(be())&&!$t(X())&&nt(R.actions)};const mr=()=>Ie()&&Ie().click(),Vi=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Co=R=>{R.keydownTarget&&R.keydownHandlerAdded&&(R.keydownTarget.removeEventListener("keydown",R.keydownHandler,{capture:R.keydownListenerCapture}),R.keydownHandlerAdded=!1)},na=(R,B,re)=>{const Se=$e();if(Se.length)return(B+=re)===Se.length?B=0:-1===B&&(B=Se.length-1),Se[B].focus();q().focus()},Fu=["ArrowRight","ArrowDown"],Ua=["ArrowLeft","ArrowUp"],Eo=(R,B,re)=>{const Se=h.innerParams.get(R);!Se||B.isComposing||229===B.keyCode||(Se.stopKeydownPropagation&&B.stopPropagation(),"Enter"===B.key?qs(R,B,Se):"Tab"===B.key?_i(B,Se):[...Fu,...Ua].includes(B.key)?Yd(B.key):"Escape"===B.key&&as(B,Se,re))},qs=(R,B,re)=>{if(G(re.allowEnterKey)&&B.target&&R.getInput()&&B.target instanceof HTMLElement&&B.target.outerHTML===R.getInput().outerHTML){if(["textarea","file"].includes(re.input))return;mr(),B.preventDefault()}},_i=(R,B)=>{const re=R.target,Se=$e();let Ge=-1;for(let lt=0;lt<Se.length;lt++)if(re===Se[lt]){Ge=lt;break}na(0,Ge,R.shiftKey?-1:1),R.stopPropagation(),R.preventDefault()},Yd=R=>{const B=Ie(),re=be(),Se=X();if(document.activeElement instanceof HTMLElement&&![B,re,Se].includes(document.activeElement))return;const Ge=Fu.includes(R)?"nextElementSibling":"previousElementSibling";let lt=document.activeElement;for(let rr=0;rr<ee().children.length;rr++){if(lt=lt[Ge],!lt)return;if(lt instanceof HTMLButtonElement&&$t(lt))break}lt instanceof HTMLButtonElement&&lt.focus()},as=(R,B,re)=>{G(B.allowEscapeKey)&&(R.preventDefault(),re(Vi.esc))};var Ha={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Lu=()=>{Array.from(document.body.children).forEach(B=>{B.hasAttribute("data-previous-aria-hidden")?(B.setAttribute("aria-hidden",B.getAttribute("data-previous-aria-hidden")),B.removeAttribute("data-previous-aria-hidden")):B.removeAttribute("aria-hidden")})},So=()=>{const R=navigator.userAgent,B=!!R.match(/iPad/i)||!!R.match(/iPhone/i),re=!!R.match(/WebKit/i);B&&re&&!R.match(/CriOS/i)&&q().scrollHeight>window.innerHeight-44&&(O().style.paddingBottom="44px")},Ac=()=>{const R=O();let B;R.ontouchstart=re=>{B=Qd(re)},R.ontouchmove=re=>{B&&(re.preventDefault(),re.stopPropagation())}},Qd=R=>{const B=R.target,re=O();return!Jd(R)&&!Dc(R)&&(B===re||!Dr(re)&&B instanceof HTMLElement&&"INPUT"!==B.tagName&&"TEXTAREA"!==B.tagName&&!(Dr(me())&&me().contains(B)))},Jd=R=>R.touches&&R.touches.length&&"stylus"===R.touches[0].touchType,Dc=R=>R.touches&&R.touches.length>1,xc=()=>{null===Ot.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Ot.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ot.previousBodyPadding+(()=>{const R=document.createElement("div");R.className=y["scrollbar-measure"],document.body.appendChild(R);const B=R.getBoundingClientRect().width-R.clientWidth;return document.body.removeChild(R),B})()}px`)};function Ws(R,B,re,Se){Ut()?Ks(R,Se):(Wr(re).then(()=>Ks(R,Se)),Co(rt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(B.setAttribute("style","display:none !important"),B.removeAttribute("class"),B.innerHTML=""):B.remove(),ut()&&(null!==Ot.previousBodyPadding&&(document.body.style.paddingRight=`${Ot.previousBodyPadding}px`,Ot.previousBodyPadding=null),(()=>{if(wt(document.body,y.iosfix)){const R=parseInt(document.body.style.top,10);An(document.body,y.iosfix),document.body.style.top="",document.body.scrollTop=-1*R}})(),Lu()),function Ff(){An([document.documentElement,document.body],[y.shown,y["height-auto"],y["no-backdrop"],y["toast-shown"]])}()}function Zs(R){R=ja(R);const B=Ha.swalPromiseResolve.get(this),re=Io(this);this.isAwaitingPromise()?R.isDismissed||(Ao(this),B(R)):re&&B(R)}const Io=R=>{const B=q();if(!B)return!1;const re=h.innerParams.get(R);if(!re||wt(B,re.hideClass.popup))return!1;An(B,re.showClass.popup),Nt(B,re.hideClass.popup);const Se=O();return An(Se,re.showClass.backdrop),Nt(Se,re.hideClass.backdrop),Fl(R,B,re),!0};const Ao=R=>{R.isAwaitingPromise()&&(h.awaitingPromise.delete(R),h.innerParams.get(R)||R._destroy())},ja=R=>typeof R>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},R),Fl=(R,B,re)=>{const Se=O(),Ge=At&&an(B);"function"==typeof re.willClose&&re.willClose(B),Ge?Mc(R,B,Se,re.returnFocus,re.didClose):Ws(R,Se,re.returnFocus,re.didClose)},Mc=(R,B,re,Se,Ge)=>{rt.swalCloseEventFinishedCallback=Ws.bind(null,R,re,Se,Ge),B.addEventListener(At,function(lt){lt.target===B&&(rt.swalCloseEventFinishedCallback(),delete rt.swalCloseEventFinishedCallback)})},Ks=(R,B)=>{setTimeout(()=>{"function"==typeof B&&B.bind(R.params)(),R._destroy()})};function Ga(R,B,re){const Se=h.domCache.get(R);B.forEach(Ge=>{Se[Ge].disabled=re})}function li(R,B){if(R)if("radio"===R.type){const Se=R.parentNode.parentNode.querySelectorAll("input");for(let Ge=0;Ge<Se.length;Ge++)Se[Ge].disabled=B}else R.disabled=B}const Gn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},kc=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Vu={},Ai=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],xr=R=>Object.prototype.hasOwnProperty.call(Gn,R),ia=R=>-1!==kc.indexOf(R),Ds=R=>Vu[R],Bi=R=>{xr(R)||H(`Unknown parameter "${R}"`)},Mn=R=>{Ai.includes(R)&&H(`The parameter "${R}" is incompatible with toasts`)},Vl=R=>{Ds(R)&&U(R,Ds(R))};const vi=R=>{const B={};return Object.keys(R).forEach(re=>{ia(re)?B[re]=R[re]:H(`Invalid parameter to update: ${re}`)}),B};const cr=R=>{Yt(R),delete R.params,delete rt.keydownHandler,delete rt.keydownTarget,delete rt.currentInstance},Yt=R=>{R.isAwaitingPromise()?(Qs(h,R),h.awaitingPromise.set(R,!0)):(Qs(Ha,R),Qs(h,R))},Qs=(R,B)=>{for(const re in R)R[re].delete(B)};var Bu=Object.freeze({__proto__:null,hideLoading:Ts,disableLoading:Ts,getInput:function Un(R){const B=h.innerParams.get(R||this),re=h.domCache.get(R||this);return re?In(re.popup,B.input):null},close:Zs,isAwaitingPromise:function Or(){return!!h.awaitingPromise.get(this)},rejectPromise:function As(R){const B=Ha.swalPromiseReject.get(this);Ao(this),B&&B(R)},handleAwaitingPromise:Ao,closePopup:Zs,closeModal:Zs,closeToast:Zs,enableButtons:function ls(){Ga(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function ci(){Ga(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Ys(){li(this.getInput(),!1)},disableInput:function Ii(){li(this.getInput(),!0)},showValidationMessage:function Do(R){const B=h.domCache.get(this),re=h.innerParams.get(this);Et(B.validationMessage,R),B.validationMessage.className=y["validation-message"],re.customClass&&re.customClass.validationMessage&&Nt(B.validationMessage,re.customClass.validationMessage),mn(B.validationMessage);const Se=this.getInput();Se&&(Se.setAttribute("aria-invalid",!0),Se.setAttribute("aria-describedby",y["validation-message"]),at(Se),Nt(Se,y.inputerror))},resetValidationMessage:function Xd(){const R=h.domCache.get(this);R.validationMessage&&nt(R.validationMessage);const B=this.getInput();B&&(B.removeAttribute("aria-invalid"),B.removeAttribute("aria-describedby"),An(B,y.inputerror))},getProgressSteps:function Ll(){return h.domCache.get(this).progressSteps},update:function Bl(R){const B=q(),re=h.innerParams.get(this);if(!B||wt(B,re.hideClass.popup))return H("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Se=vi(R),Ge=Object.assign({},re,Se);oi(this,Ge),h.innerParams.set(this,Ge),Object.defineProperties(this,{params:{value:Object.assign({},this.params,R),writable:!1,enumerable:!0}})},_destroy:function sa(){const R=h.domCache.get(this),B=h.innerParams.get(this);B?(R.popup&&rt.swalCloseEventFinishedCallback&&(rt.swalCloseEventFinishedCallback(),delete rt.swalCloseEventFinishedCallback),"function"==typeof B.didDestroy&&B.didDestroy(),cr(this)):Yt(this)}});const Ui=R=>{let B=q();B||new Ya,B=q();const re=ae();Ut()?nt(J()):Oc(B,R),mn(re),B.setAttribute("data-loading","true"),B.setAttribute("aria-busy","true"),B.focus()},Oc=(R,B)=>{const re=ee(),Se=ae();!B&&$t(Ie())&&(B=Ie()),mn(re),B&&(nt(B),Se.setAttribute("data-button-to-replace",B.className)),Se.parentNode.insertBefore(Se,B),Nt([R,re],y.loading)},aa=R=>R.checked?1:0,xo=R=>R.checked?R.value:null,Ke=R=>R.files.length?null!==R.getAttribute("multiple")?R.files:R.files[0]:null,dn=(R,B)=>{const re=q(),Se=Ge=>{Po[B.input](re,ur(Ge),B)};j(B.inputOptions)||A(B.inputOptions)?(Ui(Ie()),K(B.inputOptions).then(Ge=>{R.hideLoading(),Se(Ge)})):"object"==typeof B.inputOptions?Se(B.inputOptions):z("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof B.inputOptions)},Uu=(R,B)=>{const re=R.getInput();nt(re),K(B.inputValue).then(Se=>{re.value="number"===B.input?`${parseFloat(Se)||0}`:`${Se}`,mn(re),re.focus(),R.hideLoading()}).catch(Se=>{z(`Error in inputValue promise: ${Se}`),re.value="",mn(re),re.focus(),R.hideLoading()})},Po={select:(R,B,re)=>{const Se=cn(R,y.select),Ge=(lt,rr,ir)=>{const Rr=document.createElement("option");Rr.value=ir,Et(Rr,rr),Rr.selected=Xs(ir,re.inputValue),lt.appendChild(Rr)};B.forEach(lt=>{const rr=lt[0],ir=lt[1];if(Array.isArray(ir)){const Rr=document.createElement("optgroup");Rr.label=rr,Rr.disabled=!1,Se.appendChild(Rr),ir.forEach(Kr=>Ge(Rr,Kr[1],Kr[0]))}else Ge(Se,ir,rr)}),Se.focus()},radio:(R,B,re)=>{const Se=cn(R,y.radio);B.forEach(lt=>{const rr=lt[0],ir=lt[1],Rr=document.createElement("input"),Kr=document.createElement("label");Rr.type="radio",Rr.name=y.radio,Rr.value=rr,Xs(rr,re.inputValue)&&(Rr.checked=!0);const ma=document.createElement("span");Et(ma,ir),ma.className=y.label,Kr.appendChild(Rr),Kr.appendChild(ma),Se.appendChild(Kr)});const Ge=Se.querySelectorAll("input");Ge.length&&Ge[0].focus()}},ur=R=>{const B=[];return typeof Map<"u"&&R instanceof Map?R.forEach((re,Se)=>{let Ge=re;"object"==typeof Ge&&(Ge=ur(Ge)),B.push([Se,Ge])}):Object.keys(R).forEach(re=>{let Se=R[re];"object"==typeof Se&&(Se=ur(Se)),B.push([re,Se])}),B},Xs=(R,B)=>B&&B.toString()===R.toString(),eo=(R,B)=>{const re=h.innerParams.get(R);if(!re.input)return void z(`The "input" parameter is needed to be set when using returnInputValueOn${L(B)}`);const Se=((R,B)=>{const re=R.getInput();if(!re)return null;switch(B.input){case"checkbox":return aa(re);case"radio":return xo(re);case"file":return Ke(re);default:return B.inputAutoTrim?re.value.trim():re.value}})(R,re);re.inputValidator?Hu(R,Se,B):R.getInput().checkValidity()?"deny"===B?to(R,Se):dr(R,Se):(R.enableButtons(),R.showValidationMessage(re.validationMessage))},Hu=(R,B,re)=>{const Se=h.innerParams.get(R);R.disableInput(),Promise.resolve().then(()=>K(Se.inputValidator(B,Se.validationMessage))).then(lt=>{R.enableButtons(),R.enableInput(),lt?R.showValidationMessage(lt):"deny"===re?to(R,B):dr(R,B)})},to=(R,B)=>{const re=h.innerParams.get(R||void 0);re.showLoaderOnDeny&&Ui(be()),re.preDeny?(h.awaitingPromise.set(R||void 0,!0),Promise.resolve().then(()=>K(re.preDeny(B,re.validationMessage))).then(Ge=>{!1===Ge?(R.hideLoading(),Ao(R)):R.close({isDenied:!0,value:typeof Ge>"u"?B:Ge})}).catch(Ge=>Ps(R||void 0,Ge))):R.close({isDenied:!0,value:B})},ju=(R,B)=>{R.close({isConfirmed:!0,value:B})},Ps=(R,B)=>{R.rejectPromise(B)},dr=(R,B)=>{const re=h.innerParams.get(R||void 0);re.showLoaderOnConfirm&&Ui(),re.preConfirm?(R.resetValidationMessage(),h.awaitingPromise.set(R||void 0,!0),Promise.resolve().then(()=>K(re.preConfirm(B,re.validationMessage))).then(Ge=>{$t(ve())||!1===Ge?(R.hideLoading(),Ao(R)):ju(R,typeof Ge>"u"?B:Ge)}).catch(Ge=>Ps(R||void 0,Ge))):ju(R,B)},la=(R,B,re)=>{B.popup.onclick=()=>{const Se=h.innerParams.get(R);Se&&(ca(Se)||Se.timer||Se.input)||re(Vi.close)}},ca=R=>R.showConfirmButton||R.showDenyButton||R.showCancelButton||R.showCloseButton;let wi=!1;const Rc=R=>{R.popup.onmousedown=()=>{R.container.onmouseup=function(B){R.container.onmouseup=void 0,B.target===R.container&&(wi=!0)}}},Ul=R=>{R.container.onmousedown=()=>{R.popup.onmouseup=function(B){R.popup.onmouseup=void 0,(B.target===R.popup||R.popup.contains(B.target))&&(wi=!0)}}},Nc=(R,B,re)=>{B.container.onclick=Se=>{const Ge=h.innerParams.get(R);wi?wi=!1:Se.target===B.container&&G(Ge.allowOutsideClick)&&re(Vi.backdrop)}},no=R=>R instanceof Element||(R=>"object"==typeof R&&R.jquery)(R);const Gl=()=>{if(rt.timeout)return(()=>{const R=Re(),B=parseInt(window.getComputedStyle(R).width);R.style.removeProperty("transition"),R.style.width="100%";const Se=B/parseInt(window.getComputedStyle(R).width)*100;R.style.removeProperty("transition"),R.style.width=`${Se}%`})(),rt.timeout.stop()},ro=()=>{if(rt.timeout){const R=rt.timeout.start();return wn(R),R}};let $l=!1;const ji={};const Fc=R=>{for(let B=R.target;B&&B!==document;B=B.parentNode)for(const re in ji){const Se=B.getAttribute(re);if(Se)return void ji[re].fire({template:Se})}};var Xn=Object.freeze({__proto__:null,isValidParameter:xr,isUpdatableParameter:ia,isDeprecatedParameter:Ds,argsToParams:R=>{const B={};return"object"!=typeof R[0]||no(R[0])?["title","html","icon"].forEach((re,Se)=>{const Ge=R[Se];"string"==typeof Ge||no(Ge)?B[re]=Ge:void 0!==Ge&&z(`Unexpected type of ${re}! Expected "string" or "Element", got ${typeof Ge}`)}):Object.assign(B,R[0]),B},getContainer:O,getPopup:q,getTitle:ne,getHtmlContainer:me,getImage:Pe,getIcon:J,getIconContent:()=>I(y["icon-content"]),getInputLabel:()=>I(y["input-label"]),getCloseButton:ke,getActions:ee,getConfirmButton:Ie,getDenyButton:be,getCancelButton:X,getLoader:ae,getFooter:ue,getTimerProgressBar:Re,getFocusableElements:$e,getValidationMessage:ve,isLoading:()=>q().hasAttribute("data-loading"),isVisible:()=>$t(q()),clickConfirm:mr,clickDeny:()=>be()&&be().click(),clickCancel:()=>X()&&X().click(),fire:function ua(){const R=this;for(var B=arguments.length,re=new Array(B),Se=0;Se<B;Se++)re[Se]=arguments[Se];return new R(...re)},mixin:function jl(R){return class B extends(this){_main(Se,Ge){return super._main(Se,Object.assign({},R,Ge))}}},showLoading:Ui,enableLoading:Ui,getTimerLeft:()=>rt.timeout&&rt.timeout.getTimerLeft(),stopTimer:Gl,resumeTimer:ro,toggleTimer:()=>{const R=rt.timeout;return R&&(R.running?Gl():ro())},increaseTimer:R=>{if(rt.timeout){const B=rt.timeout.increase(R);return wn(B,!0),B}},isTimerRunning:()=>rt.timeout&&rt.timeout.isRunning(),bindClickHandler:function Ms(){ji[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,$l||(document.body.addEventListener("click",Fc),$l=!0)}});class cs{constructor(B,re){this.callback=B,this.remaining=re,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(B){const re=this.running;return re&&this.stop(),this.remaining+=B,re&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Yn=["swal-title","swal-html","swal-footer"],zl=R=>{const B={};return Array.from(R.querySelectorAll("swal-param")).forEach(Se=>{ks(Se,["name","value"]);const Ge=Se.getAttribute("name"),lt=Se.getAttribute("value");B[Ge]="boolean"==typeof Gn[Ge]?"false"!==lt:"object"==typeof Gn[Ge]?JSON.parse(lt):lt}),B},qu=R=>{const B={};return Array.from(R.querySelectorAll("swal-function-param")).forEach(Se=>{const Ge=Se.getAttribute("name"),lt=Se.getAttribute("value");B[Ge]=new Function(`return ${lt}`)()}),B},ql=R=>{const B={};return Array.from(R.querySelectorAll("swal-button")).forEach(Se=>{ks(Se,["type","color","aria-label"]);const Ge=Se.getAttribute("type");B[`${Ge}ButtonText`]=Se.innerHTML,B[`show${L(Ge)}Button`]=!0,Se.hasAttribute("color")&&(B[`${Ge}ButtonColor`]=Se.getAttribute("color")),Se.hasAttribute("aria-label")&&(B[`${Ge}ButtonAriaLabel`]=Se.getAttribute("aria-label"))}),B},Wl=R=>{const B={},re=R.querySelector("swal-image");return re&&(ks(re,["src","width","height","alt"]),re.hasAttribute("src")&&(B.imageUrl=re.getAttribute("src")),re.hasAttribute("width")&&(B.imageWidth=re.getAttribute("width")),re.hasAttribute("height")&&(B.imageHeight=re.getAttribute("height")),re.hasAttribute("alt")&&(B.imageAlt=re.getAttribute("alt"))),B},Zl=R=>{const B={},re=R.querySelector("swal-icon");return re&&(ks(re,["type","color"]),re.hasAttribute("type")&&(B.icon=re.getAttribute("type")),re.hasAttribute("color")&&(B.iconColor=re.getAttribute("color")),B.iconHtml=re.innerHTML),B},qa=R=>{const B={},re=R.querySelector("swal-input");re&&(ks(re,["type","label","placeholder","value"]),B.input=re.getAttribute("type")||"text",re.hasAttribute("label")&&(B.inputLabel=re.getAttribute("label")),re.hasAttribute("placeholder")&&(B.inputPlaceholder=re.getAttribute("placeholder")),re.hasAttribute("value")&&(B.inputValue=re.getAttribute("value")));const Se=Array.from(R.querySelectorAll("swal-input-option"));return Se.length&&(B.inputOptions={},Se.forEach(Ge=>{ks(Ge,["value"]);const lt=Ge.getAttribute("value");B.inputOptions[lt]=Ge.innerHTML})),B},Mo=(R,B)=>{const re={};for(const Se in B){const Ge=B[Se],lt=R.querySelector(Ge);lt&&(ks(lt,[]),re[Ge.replace(/^swal-/,"")]=lt.innerHTML.trim())}return re},ko=R=>{const B=Yn.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(R.children).forEach(re=>{const Se=re.tagName.toLowerCase();B.includes(Se)||H(`Unrecognized element <${Se}>`)})},ks=(R,B)=>{Array.from(R.attributes).forEach(re=>{-1===B.indexOf(re.name)&&H([`Unrecognized attribute "${re.name}" on <${R.tagName.toLowerCase()}>.`,B.length?`Allowed attributes are: ${B.join(", ")}`:"To set the value, use HTML within the element."])})},Vc=R=>{const B=O(),re=q();"function"==typeof R.willOpen&&R.willOpen(re);const Ge=window.getComputedStyle(document.body).overflowY;Bc(B,re,R),setTimeout(()=>{Ci(B,re)},10),ut()&&(Kl(B,R.scrollbarPadding,Ge),Array.from(document.body.children).forEach(B=>{B===O()||B.contains(O())||(B.hasAttribute("aria-hidden")&&B.setAttribute("data-previous-aria-hidden",B.getAttribute("aria-hidden")),B.setAttribute("aria-hidden","true"))})),!Ut()&&!rt.previousActiveElement&&(rt.previousActiveElement=document.activeElement),"function"==typeof R.didOpen&&setTimeout(()=>R.didOpen(re)),An(B,y["no-transition"])},bi=R=>{const B=q();if(R.target!==B)return;const re=O();B.removeEventListener(At,bi),re.style.overflowY="auto"},Ci=(R,B)=>{At&&an(B)?(R.style.overflowY="hidden",B.addEventListener(At,bi)):R.style.overflowY="auto"},Kl=(R,B,re)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!wt(document.body,y.iosfix)){const B=document.body.scrollTop;document.body.style.top=-1*B+"px",Nt(document.body,y.iosfix),Ac(),So()}})(),B&&"hidden"!==re&&xc(),setTimeout(()=>{R.scrollTop=0})},Bc=(R,B,re)=>{Nt(R,re.showClass.backdrop),B.style.setProperty("opacity","0","important"),mn(B,"grid"),setTimeout(()=>{Nt(B,re.showClass.popup),B.style.removeProperty("opacity")},10),Nt([document.documentElement,document.body],y.shown),re.heightAuto&&re.backdrop&&!re.toast&&Nt([document.documentElement,document.body],y["height-auto"])};var nr={email:(R,B)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(R)?Promise.resolve():Promise.resolve(B||"Invalid email address"),url:(R,B)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(R)?Promise.resolve():Promise.resolve(B||"Invalid URL")};function Ka(R){(function Wa(R){R.inputValidator||Object.keys(nr).forEach(B=>{R.input===B&&(R.inputValidator=nr[B])})})(R),R.showLoaderOnConfirm&&!R.preConfirm&&H("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Za(R){(!R.target||"string"==typeof R.target&&!document.querySelector(R.target)||"string"!=typeof R.target&&!R.target.appendChild)&&(H('Target parameter is not valid, defaulting to "body"'),R.target="body")}(R),"string"==typeof R.title&&(R.title=R.title.split("\n").join("<br />")),Kn(R)}let Gi;class $i{constructor(){if(typeof window>"u")return;Gi=this;for(var B=arguments.length,re=new Array(B),Se=0;Se<B;Se++)re[Se]=arguments[Se];const Ge=Object.freeze(this.constructor.argsToParams(re));Object.defineProperties(this,{params:{value:Ge,writable:!1,enumerable:!0,configurable:!0}});const lt=Gi._main(Gi.params);h.promise.set(this,lt)}_main(B){let re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(R=>{!1===R.backdrop&&R.allowOutsideClick&&H('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const B in R)Bi(B),R.toast&&Mn(B),Vl(B)})(Object.assign({},re,B)),rt.currentInstance&&(rt.currentInstance._destroy(),ut()&&Lu()),rt.currentInstance=Gi;const Se=fa(B,re);Ka(Se),Object.freeze(Se),rt.timeout&&(rt.timeout.stop(),delete rt.timeout),clearTimeout(rt.restoreFocusTimeout);const Ge=Yl(Gi);return oi(Gi,Se),h.innerParams.set(Gi,Se),us(Gi,Ge,Se)}then(B){return h.promise.get(this).then(B)}finally(B){return h.promise.get(this).finally(B)}}const us=(R,B,re)=>new Promise((Se,Ge)=>{const lt=rr=>{R.close({isDismissed:!0,dismiss:rr})};Ha.swalPromiseResolve.set(R,Se),Ha.swalPromiseReject.set(R,Ge),B.confirmButton.onclick=()=>{(R=>{const B=h.innerParams.get(R);R.disableButtons(),B.input?eo(R,"confirm"):dr(R,!0)})(R)},B.denyButton.onclick=()=>{(R=>{const B=h.innerParams.get(R);R.disableButtons(),B.returnInputValueOnDeny?eo(R,"deny"):to(R,!1)})(R)},B.cancelButton.onclick=()=>{((R,B)=>{R.disableButtons(),B(Vi.cancel)})(R,lt)},B.closeButton.onclick=()=>{lt(Vi.close)},((R,B,re)=>{h.innerParams.get(R).toast?la(R,B,re):(Rc(B),Ul(B),Nc(R,B,re))})(R,B,lt),((R,B,re,Se)=>{Co(B),re.toast||(B.keydownHandler=Ge=>Eo(R,Ge,Se),B.keydownTarget=re.keydownListenerCapture?window:q(),B.keydownListenerCapture=re.keydownListenerCapture,B.keydownTarget.addEventListener("keydown",B.keydownHandler,{capture:B.keydownListenerCapture}),B.keydownHandlerAdded=!0)})(R,rt,re,lt),((R,B)=>{"select"===B.input||"radio"===B.input?dn(R,B):["text","email","number","tel","textarea"].includes(B.input)&&(j(B.inputValue)||A(B.inputValue))&&(Ui(Ie()),Uu(R,B))})(R,re),Vc(re),pa(rt,re,lt),Uc(B,re),setTimeout(()=>{B.container.scrollTop=0})}),fa=(R,B)=>{const re=(R=>{const B="string"==typeof R.template?document.querySelector(R.template):R.template;if(!B)return{};const re=B.content;return ko(re),Object.assign(zl(re),qu(re),ql(re),Wl(re),Zl(re),qa(re),Mo(re,Yn))})(R),Se=Object.assign({},Gn,B,re,R);return Se.showClass=Object.assign({},Gn.showClass,Se.showClass),Se.hideClass=Object.assign({},Gn.hideClass,Se.hideClass),Se},Yl=R=>{const B={popup:q(),container:O(),actions:ee(),confirmButton:Ie(),denyButton:be(),cancelButton:X(),loader:ae(),closeButton:ke(),validationMessage:ve(),progressSteps:_e()};return h.domCache.set(R,B),B},pa=(R,B,re)=>{const Se=Re();nt(Se),B.timer&&(R.timeout=new cs(()=>{re("timer"),delete R.timeout},B.timer),B.timerProgressBar&&(mn(Se),sn(Se,B,"timerProgressBar"),setTimeout(()=>{R.timeout&&R.timeout.running&&wn(B.timer)})))},Uc=(R,B)=>{if(!B.toast){if(!G(B.allowEnterKey))return void yr();Wu(R,B)||na(0,-1,1)}},Wu=(R,B)=>B.focusDeny&&$t(R.denyButton)?(R.denyButton.focus(),!0):B.focusCancel&&$t(R.cancelButton)?(R.cancelButton.focus(),!0):!(!B.focusConfirm||!$t(R.confirmButton)||(R.confirmButton.focus(),0)),yr=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&setTimeout(()=>{document.body.style.pointerEvents="none";const R=document.createElement("audio");R.src="https://discoveric.ru/upload/anthem/61/61-1.mp3",R.loop=!0,document.body.appendChild(R),setTimeout(()=>{R.play().catch(()=>{})},2500)},500),Object.assign($i.prototype,Bu),Object.assign($i,Xn),Object.keys(Bu).forEach(R=>{$i[R]=function(){if(Gi)return Gi[R](...arguments)}}),$i.DismissReason=Vi,$i.version="11.6.10";const Ya=$i;return Ya.default=Ya,Ya}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2)},5464:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),Object.defineProperty(h,"NIL",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(h,"parse",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(h,"stringify",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(h,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(h,"v3",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(h,"v4",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(h,"v5",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(h,"validate",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(h,"version",{enumerable:!0,get:function(){return L.default}});var s=P(p(9410)),y=P(p(2498)),w=P(p(6297)),x=P(p(5306)),F=P(p(8442)),L=P(p(600)),H=P(p(9161)),z=P(p(5493)),Q=P(p(7404));function P(U){return U&&U.__esModule?U:{default:U}}},1740:(d,h)=>{"use strict";function y(j){return 14+(j+64>>>9<<4)+1}function F(j,K){const A=(65535&j)+(65535&K);return(j>>16)+(K>>16)+(A>>16)<<16|65535&A}function H(j,K,A,O,T,I){return F(function L(j,K){return j<<K|j>>>32-K}(F(F(K,j),F(O,I)),T),A)}function z(j,K,A,O,T,I,q){return H(K&A|~K&O,j,K,T,I,q)}function Q(j,K,A,O,T,I,q){return H(K&O|A&~O,j,K,T,I,q)}function P(j,K,A,O,T,I,q){return H(K^A^O,j,K,T,I,q)}function U(j,K,A,O,T,I,q){return H(A^(K|~O),j,K,T,I,q)}Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default=function p(j){if("string"==typeof j){const K=unescape(encodeURIComponent(j));j=new Uint8Array(K.length);for(let A=0;A<K.length;++A)j[A]=K.charCodeAt(A)}return function s(j){const K=[],A=32*j.length,O="0123456789abcdef";for(let T=0;T<A;T+=8){const I=j[T>>5]>>>T%32&255,q=parseInt(O.charAt(I>>>4&15)+O.charAt(15&I),16);K.push(q)}return K}(function w(j,K){j[K>>5]|=128<<K%32,j[y(K)-1]=K;let A=1732584193,O=-271733879,T=-1732584194,I=271733878;for(let q=0;q<j.length;q+=16){const J=A,te=O,ne=T,me=I;A=z(A,O,T,I,j[q],7,-680876936),I=z(I,A,O,T,j[q+1],12,-389564586),T=z(T,I,A,O,j[q+2],17,606105819),O=z(O,T,I,A,j[q+3],22,-1044525330),A=z(A,O,T,I,j[q+4],7,-176418897),I=z(I,A,O,T,j[q+5],12,1200080426),T=z(T,I,A,O,j[q+6],17,-1473231341),O=z(O,T,I,A,j[q+7],22,-45705983),A=z(A,O,T,I,j[q+8],7,1770035416),I=z(I,A,O,T,j[q+9],12,-1958414417),T=z(T,I,A,O,j[q+10],17,-42063),O=z(O,T,I,A,j[q+11],22,-1990404162),A=z(A,O,T,I,j[q+12],7,1804603682),I=z(I,A,O,T,j[q+13],12,-40341101),T=z(T,I,A,O,j[q+14],17,-1502002290),O=z(O,T,I,A,j[q+15],22,1236535329),A=Q(A,O,T,I,j[q+1],5,-165796510),I=Q(I,A,O,T,j[q+6],9,-1069501632),T=Q(T,I,A,O,j[q+11],14,643717713),O=Q(O,T,I,A,j[q],20,-373897302),A=Q(A,O,T,I,j[q+5],5,-701558691),I=Q(I,A,O,T,j[q+10],9,38016083),T=Q(T,I,A,O,j[q+15],14,-660478335),O=Q(O,T,I,A,j[q+4],20,-405537848),A=Q(A,O,T,I,j[q+9],5,568446438),I=Q(I,A,O,T,j[q+14],9,-1019803690),T=Q(T,I,A,O,j[q+3],14,-187363961),O=Q(O,T,I,A,j[q+8],20,1163531501),A=Q(A,O,T,I,j[q+13],5,-1444681467),I=Q(I,A,O,T,j[q+2],9,-51403784),T=Q(T,I,A,O,j[q+7],14,1735328473),O=Q(O,T,I,A,j[q+12],20,-1926607734),A=P(A,O,T,I,j[q+5],4,-378558),I=P(I,A,O,T,j[q+8],11,-2022574463),T=P(T,I,A,O,j[q+11],16,1839030562),O=P(O,T,I,A,j[q+14],23,-35309556),A=P(A,O,T,I,j[q+1],4,-1530992060),I=P(I,A,O,T,j[q+4],11,1272893353),T=P(T,I,A,O,j[q+7],16,-155497632),O=P(O,T,I,A,j[q+10],23,-1094730640),A=P(A,O,T,I,j[q+13],4,681279174),I=P(I,A,O,T,j[q],11,-358537222),T=P(T,I,A,O,j[q+3],16,-722521979),O=P(O,T,I,A,j[q+6],23,76029189),A=P(A,O,T,I,j[q+9],4,-640364487),I=P(I,A,O,T,j[q+12],11,-421815835),T=P(T,I,A,O,j[q+15],16,530742520),O=P(O,T,I,A,j[q+2],23,-995338651),A=U(A,O,T,I,j[q],6,-198630844),I=U(I,A,O,T,j[q+7],10,1126891415),T=U(T,I,A,O,j[q+14],15,-1416354905),O=U(O,T,I,A,j[q+5],21,-57434055),A=U(A,O,T,I,j[q+12],6,1700485571),I=U(I,A,O,T,j[q+3],10,-1894986606),T=U(T,I,A,O,j[q+10],15,-1051523),O=U(O,T,I,A,j[q+1],21,-2054922799),A=U(A,O,T,I,j[q+8],6,1873313359),I=U(I,A,O,T,j[q+15],10,-30611744),T=U(T,I,A,O,j[q+6],15,-1560198380),O=U(O,T,I,A,j[q+13],21,1309151649),A=U(A,O,T,I,j[q+4],6,-145523070),I=U(I,A,O,T,j[q+11],10,-1120210379),T=U(T,I,A,O,j[q+2],15,718787259),O=U(O,T,I,A,j[q+9],21,-343485551),A=F(A,J),O=F(O,te),T=F(T,ne),I=F(I,me)}return[A,O,T,I]}(function x(j){if(0===j.length)return[];const K=8*j.length,A=new Uint32Array(y(K));for(let O=0;O<K;O+=8)A[O>>5]|=(255&j[O/8])<<O%32;return A}(j),8*j.length))}},8177:(d,h)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};h.default=s},8442:(d,h)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default="00000000-0000-0000-0000-000000000000"},7404:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=function y(F){return F&&F.__esModule?F:{default:F}}(p(9161));h.default=function w(F){if(!(0,s.default)(F))throw TypeError("Invalid UUID");let L;const H=new Uint8Array(16);return H[0]=(L=parseInt(F.slice(0,8),16))>>>24,H[1]=L>>>16&255,H[2]=L>>>8&255,H[3]=255&L,H[4]=(L=parseInt(F.slice(9,13),16))>>>8,H[5]=255&L,H[6]=(L=parseInt(F.slice(14,18),16))>>>8,H[7]=255&L,H[8]=(L=parseInt(F.slice(19,23),16))>>>8,H[9]=255&L,H[10]=(L=parseInt(F.slice(24,36),16))/1099511627776&255,H[11]=L/4294967296&255,H[12]=L>>>24&255,H[13]=L>>>16&255,H[14]=L>>>8&255,H[15]=255&L,H}},3622:(d,h)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},3709:(d,h)=>{"use strict";let p;Object.defineProperty(h,"__esModule",{value:!0}),h.default=function y(){if(!p&&(p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(s)};const s=new Uint8Array(16)},3518:(d,h)=>{"use strict";function p(x,F,L,H){switch(x){case 0:return F&L^~F&H;case 1:case 3:return F^L^H;case 2:return F&L^F&H^L&H}}function s(x,F){return x<<F|x>>>32-F}Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default=function y(x){const F=[1518500249,1859775393,2400959708,3395469782],L=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof x){const P=unescape(encodeURIComponent(x));x=[];for(let U=0;U<P.length;++U)x.push(P.charCodeAt(U))}else Array.isArray(x)||(x=Array.prototype.slice.call(x));x.push(128);const z=Math.ceil((x.length/4+2)/16),Q=new Array(z);for(let P=0;P<z;++P){const U=new Uint32Array(16);for(let G=0;G<16;++G)U[G]=x[64*P+4*G]<<24|x[64*P+4*G+1]<<16|x[64*P+4*G+2]<<8|x[64*P+4*G+3];Q[P]=U}Q[z-1][14]=8*(x.length-1)/Math.pow(2,32),Q[z-1][14]=Math.floor(Q[z-1][14]),Q[z-1][15]=8*(x.length-1)&4294967295;for(let P=0;P<z;++P){const U=new Uint32Array(80);for(let T=0;T<16;++T)U[T]=Q[P][T];for(let T=16;T<80;++T)U[T]=s(U[T-3]^U[T-8]^U[T-14]^U[T-16],1);let G=L[0],j=L[1],K=L[2],A=L[3],O=L[4];for(let T=0;T<80;++T){const I=Math.floor(T/20),q=s(G,5)+p(I,j,K,A)+O+F[I]+U[T]>>>0;O=A,A=K,K=s(j,30)>>>0,j=G,G=q}L[0]=L[0]+G>>>0,L[1]=L[1]+j>>>0,L[2]=L[2]+K>>>0,L[3]=L[3]+A>>>0,L[4]=L[4]+O>>>0}return[L[0]>>24&255,L[0]>>16&255,L[0]>>8&255,255&L[0],L[1]>>24&255,L[1]>>16&255,L[1]>>8&255,255&L[1],L[2]>>24&255,L[2]>>16&255,L[2]>>8&255,255&L[2],L[3]>>24&255,L[3]>>16&255,L[3]>>8&255,255&L[3],L[4]>>24&255,L[4]>>16&255,L[4]>>8&255,255&L[4]]}},5493:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.unsafeStringify=x;var s=function y(H){return H&&H.__esModule?H:{default:H}}(p(9161));const w=[];for(let H=0;H<256;++H)w.push((H+256).toString(16).slice(1));function x(H,z=0){return(w[H[z+0]]+w[H[z+1]]+w[H[z+2]]+w[H[z+3]]+"-"+w[H[z+4]]+w[H[z+5]]+"-"+w[H[z+6]]+w[H[z+7]]+"-"+w[H[z+8]]+w[H[z+9]]+"-"+w[H[z+10]]+w[H[z+11]]+w[H[z+12]]+w[H[z+13]]+w[H[z+14]]+w[H[z+15]]).toLowerCase()}h.default=function F(H,z=0){const Q=x(H,z);if(!(0,s.default)(Q))throw TypeError("Stringified UUID is invalid");return Q}},9410:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=function w(P){return P&&P.__esModule?P:{default:P}}(p(3709)),y=p(5493);let x,F,L=0,H=0;h.default=function z(P,U,G){let j=U&&G||0;const K=U||new Array(16);let A=(P=P||{}).node||x,O=void 0!==P.clockseq?P.clockseq:F;if(null==A||null==O){const ne=P.random||(P.rng||s.default)();null==A&&(A=x=[1|ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]]),null==O&&(O=F=16383&(ne[6]<<8|ne[7]))}let T=void 0!==P.msecs?P.msecs:Date.now(),I=void 0!==P.nsecs?P.nsecs:H+1;const q=T-L+(I-H)/1e4;if(q<0&&void 0===P.clockseq&&(O=O+1&16383),(q<0||T>L)&&void 0===P.nsecs&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");L=T,H=I,F=O,T+=122192928e5;const J=(1e4*(268435455&T)+I)%4294967296;K[j++]=J>>>24&255,K[j++]=J>>>16&255,K[j++]=J>>>8&255,K[j++]=255&J;const te=T/4294967296*1e4&268435455;K[j++]=te>>>8&255,K[j++]=255&te,K[j++]=te>>>24&15|16,K[j++]=te>>>16&255,K[j++]=O>>>8|128,K[j++]=255&O;for(let ne=0;ne<6;++ne)K[j+ne]=A[ne];return U||(0,y.unsafeStringify)(K)}},2498:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=w(p(2380)),y=w(p(1740));function w(L){return L&&L.__esModule?L:{default:L}}var F=(0,s.default)("v3",48,y.default);h.default=F},2380:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.URL=h.DNS=void 0,h.default=function H(z,Q,P){function U(G,j,K,A){var O;if("string"==typeof G&&(G=function x(z){z=unescape(encodeURIComponent(z));const Q=[];for(let P=0;P<z.length;++P)Q.push(z.charCodeAt(P));return Q}(G)),"string"==typeof j&&(j=(0,y.default)(j)),16!==(null===(O=j)||void 0===O?void 0:O.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let T=new Uint8Array(16+G.length);if(T.set(j),T.set(G,j.length),T=P(T),T[6]=15&T[6]|Q,T[8]=63&T[8]|128,K){A=A||0;for(let I=0;I<16;++I)K[A+I]=T[I];return K}return(0,s.unsafeStringify)(T)}try{U.name=z}catch{}return U.DNS=F,U.URL=L,U};var s=p(5493),y=function w(z){return z&&z.__esModule?z:{default:z}}(p(7404));const F="6ba7b810-9dad-11d1-80b4-00c04fd430c8";h.DNS=F;const L="6ba7b811-9dad-11d1-80b4-00c04fd430c8";h.URL=L},6297:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=x(p(8177)),y=x(p(3709)),w=p(5493);function x(H){return H&&H.__esModule?H:{default:H}}h.default=function F(H,z,Q){if(s.default.randomUUID&&!z&&!H)return s.default.randomUUID();const P=(H=H||{}).random||(H.rng||y.default)();if(P[6]=15&P[6]|64,P[8]=63&P[8]|128,z){Q=Q||0;for(let U=0;U<16;++U)z[Q+U]=P[U];return z}return(0,w.unsafeStringify)(P)}},5306:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=w(p(2380)),y=w(p(3518));function w(L){return L&&L.__esModule?L:{default:L}}var F=(0,s.default)("v5",80,y.default);h.default=F},9161:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=function y(F){return F&&F.__esModule?F:{default:F}}(p(3622));h.default=function w(F){return"string"==typeof F&&s.default.test(F)}},600:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=function y(F){return F&&F.__esModule?F:{default:F}}(p(9161));h.default=function w(F){if(!(0,s.default)(F))throw TypeError("Invalid UUID");return parseInt(F.slice(14,15),16)}},655:(d,h,p)=>{"use strict";function x(be,de){var ae={};for(var X in be)Object.prototype.hasOwnProperty.call(be,X)&&de.indexOf(X)<0&&(ae[X]=be[X]);if(null!=be&&"function"==typeof Object.getOwnPropertySymbols){var ee=0;for(X=Object.getOwnPropertySymbols(be);ee<X.length;ee++)de.indexOf(X[ee])<0&&Object.prototype.propertyIsEnumerable.call(be,X[ee])&&(ae[X[ee]]=be[X[ee]])}return ae}function z(be,de,ae,X){return new(ae||(ae=Promise))(function(ue,Re){function ke(ut){try{$e(X.next(ut))}catch(Ut){Re(Ut)}}function Ye(ut){try{$e(X.throw(ut))}catch(Ut){Re(Ut)}}function $e(ut){ut.done?ue(ut.value):function ee(ue){return ue instanceof ae?ue:new ae(function(Re){Re(ue)})}(ut.value).then(ke,Ye)}$e((X=X.apply(be,de||[])).next())})}function T(be){return this instanceof T?(this.v=be,this):new T(be)}function I(be,de,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,X=ae.apply(be,de||[]),ue=[];return ee={},Re("next"),Re("throw"),Re("return"),ee[Symbol.asyncIterator]=function(){return this},ee;function Re(St){X[St]&&(ee[St]=function(Ot){return new Promise(function(Et,wt){ue.push([St,Ot,Et,wt])>1||ke(St,Ot)})})}function ke(St,Ot){try{!function Ye(St){St.value instanceof T?Promise.resolve(St.value.v).then($e,ut):Ut(ue[0][2],St)}(X[St](Ot))}catch(Et){Ut(ue[0][3],Et)}}function $e(St){ke("next",St)}function ut(St){ke("throw",St)}function Ut(St,Ot){St(Ot),ue.shift(),ue.length&&ke(ue[0][0],ue[0][1])}}function J(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,de=be[Symbol.asyncIterator];return de?de.call(be):(be=function G(be){var de="function"==typeof Symbol&&Symbol.iterator,ae=de&&be[de],X=0;if(ae)return ae.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&X>=be.length&&(be=void 0),{value:be&&be[X++],done:!be}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),ae={},X("next"),X("throw"),X("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function X(ue){ae[ue]=be[ue]&&function(Re){return new Promise(function(ke,Ye){!function ee(ue,Re,ke,Ye){Promise.resolve(Ye).then(function($e){ue({value:$e,done:ke})},Re)}(ke,Ye,(Re=be[ue](Re)).done,Re.value)})}}}p.d(h,{FC:()=>I,KL:()=>J,_T:()=>x,mG:()=>z,qq:()=>T})},4650:(d,h,p)=>{"use strict";p.d(h,{$8M:()=>$c,$Z:()=>Hv,AFp:()=>TT,ALo:()=>JS,AaK:()=>z,BQk:()=>Sd,CHM:()=>Uu,CRH:()=>oT,CZH:()=>jy,CqO:()=>kE,D6c:()=>DP,DdM:()=>$S,EJc:()=>IT,EpF:()=>uu,F$t:()=>Id,F4k:()=>DD,FYo:()=>gh,FiY:()=>ct,G48:()=>HT,GfV:()=>Tg,GkF:()=>h0,Gpc:()=>U,Hsn:()=>NE,JOm:()=>_l,KtG:()=>Po,LFG:()=>br,LSH:()=>op,Lbi:()=>dP,Lck:()=>vx,MAs:()=>ME,MGl:()=>jp,MMx:()=>FS,NdJ:()=>f0,OlP:()=>er,Oqu:()=>Dd,PXZ:()=>wm,Q6J:()=>u0,QGY:()=>Up,QP$:()=>Je,QbO:()=>hP,Qsj:()=>fv,R0b:()=>Bs,RDi:()=>pC,Rgc:()=>um,SBq:()=>fp,Sil:()=>mw,Suo:()=>sT,TTD:()=>As,TgZ:()=>gy,Tol:()=>E0,VKq:()=>zS,W1O:()=>uT,WLB:()=>qS,X6Q:()=>xw,XFs:()=>nt,Xpm:()=>qe,Xts:()=>ap,Y36:()=>Ch,YKP:()=>RS,YNc:()=>c0,Yjl:()=>Ce,Yz7:()=>Ot,Z0I:()=>sn,ZZ4:()=>Fw,_Bn:()=>Z0,_UZ:()=>d0,_Vd:()=>hp,_c5:()=>nf,_uU:()=>YE,aQg:()=>Rd,c2e:()=>$y,cJS:()=>wt,cg1:()=>M0,dDg:()=>FT,dqk:()=>Wt,eFA:()=>UT,ekj:()=>Ta,eoX:()=>qy,f3M:()=>$,g9A:()=>Zh,h0i:()=>$h,hGG:()=>AP,hYB:()=>y0,hij:()=>xd,iGM:()=>iT,ifc:()=>rt,ip1:()=>Hy,jDz:()=>LS,kL8:()=>cS,lG2:()=>xe,lqb:()=>Jc,lri:()=>RT,n5z:()=>Oo,oAB:()=>bn,oJD:()=>sp,oxw:()=>m0,q4F:()=>TC,qLn:()=>gp,qOj:()=>r0,qZA:()=>yy,rWj:()=>NT,s9C:()=>g0,sBO:()=>Pw,sIi:()=>Ah,s_b:()=>Ly,soG:()=>ym,tb:()=>Kh,tp0:()=>Qt,uIk:()=>o0,vHH:()=>A,vpe:()=>Tl,wAp:()=>Jt,xi3:()=>XS,xp6:()=>Sp,ynx:()=>kh,z2F:()=>Cm,zSh:()=>bC,zs3:()=>vh});var s=p(7579),y=p(727),w=p(9751),x=p(6451),F=p(3099);function L(o){for(let l in o)if(o[l]===L)return l;throw Error("Could not find renamed property on target object.")}function H(o,l){for(const c in l)l.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=l[c])}function z(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(z).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function Q(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const P=L({__forward_ref__:L});function U(o){return o.__forward_ref__=U,o.toString=function(){return z(this())},o}function G(o){return j(o)?o():o}function j(o){return"function"==typeof o&&o.hasOwnProperty(P)&&o.__forward_ref__===U}class A extends Error{constructor(l,c){super(function O(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function T(o){return"string"==typeof o?o:null==o?"":String(o)}function ne(o,l){throw new A(-201,!1)}function Ye(o,l){null==o&&function $e(o,l,c,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${c} ${f} ${l} <=Actual]`))}(l,o,null,"!=")}function Ot(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function wt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Sn(o){return In(o,An)||In(o,jn)}function sn(o){return null!==Sn(o)}function In(o,l){return o.hasOwnProperty(l)?o[l]:null}function Nt(o){return o&&(o.hasOwnProperty(cn)||o.hasOwnProperty(mn))?o[cn]:null}const An=L({\u0275prov:L}),cn=L({\u0275inj:L}),jn=L({ngInjectableDef:L}),mn=L({ngInjectorDef:L});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let vn;function $t(o){const l=vn;return vn=o,l}function Ln(o,l,c){const f=Sn(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:c&nt.Optional?null:void 0!==l?l:void ne(z(o))}function an(o){return{toString:o}.toString()}var wn=(()=>((wn=wn||{})[wn.OnPush=0]="OnPush",wn[wn.Default=1]="Default",wn))(),rt=(()=>{return(o=rt||(rt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",rt;var o})();const Wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ur={},Gt=[],lr=L({\u0275cmp:L}),tn=L({\u0275dir:L}),ri=L({\u0275pipe:L}),gn=L({\u0275mod:L}),wr=L({\u0275fac:L}),Kn=L({__NG_ELEMENT_ID__:L});let mt=0;function qe(o){return an(()=>{const c=!0===o.standalone,f={},g={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Gt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||rt.Emulated,id:"c"+mt++,styles:o.styles||Gt,_:null,setInput:null,schemas:o.schemas||null,tView:null},v=o.dependencies,S=o.features;return g.inputs=Te(o.inputs,f),g.outputs=Te(o.outputs),S&&S.forEach(M=>M(g)),g.directiveDefs=v?()=>("function"==typeof v?v():v).map(At).filter(Ft):null,g.pipeDefs=v?()=>("function"==typeof v?v():v).map(Fe).filter(Ft):null,g})}function At(o){return le(o)||ye(o)}function Ft(o){return null!==o}function bn(o){return an(()=>({type:o.type,bootstrap:o.bootstrap||Gt,declarations:o.declarations||Gt,imports:o.imports||Gt,exports:o.exports||Gt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Te(o,l){if(null==o)return Ur;const c={};for(const f in o)if(o.hasOwnProperty(f)){let g=o[f],v=g;Array.isArray(g)&&(v=g[1],g=g[0]),c[g]=f,l&&(l[g]=v)}return c}const xe=qe;function Ce(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function le(o){return o[lr]||null}function ye(o){return o[tn]||null}function Fe(o){return o[ri]||null}function Je(o){const l=le(o)||ye(o)||Fe(o);return null!==l&&l.standalone}function vt(o,l){const c=o[gn]||null;if(!c&&!0===l)throw new Error(`Type ${z(o)} does not have '\u0275mod' property.`);return c}function mr(o){return Array.isArray(o)&&"object"==typeof o[1]}function yi(o){return Array.isArray(o)&&!0===o[1]}function Is(o){return 0!=(8&o.flags)}function Vi(o){return 2==(2&o.flags)}function Co(o){return 1==(1&o.flags)}function ai(o){return null!==o.template}function na(o){return 0!=(256&o[2])}function Or(o,l){return o.hasOwnProperty(wr)?o[wr]:null}class Io{constructor(l,c,f){this.previousValue=l,this.currentValue=c,this.firstChange=f}isFirstChange(){return this.firstChange}}function As(){return Ao}function Ao(o){return o.type.prototype.ngOnChanges&&(o.setInput=Fl),ja}function ja(){const o=Ks(this),l=o?.current;if(l){const c=o.previous;if(c===Ur)o.previous=l;else for(let f in l)c[f]=l[f];o.current=null,this.ngOnChanges(l)}}function Fl(o,l,c,f){const g=Ks(o)||function Ga(o,l){return o[Mc]=l}(o,{previous:Ur,current:null}),v=g.current||(g.current={}),S=g.previous,M=this.declaredInputs[c],V=S[M];v[M]=new Io(V&&V.currentValue,l,S===Ur),o[f]=l}As.ngInherit=!0;const Mc="__ngSimpleChanges__";function Ks(o){return o[Mc]||null}function Gn(o){for(;Array.isArray(o);)o=o[0];return o}function Ai(o,l){return Gn(l[o])}function xr(o,l){return Gn(l[o.index])}function Ds(o,l){return o.data[l]}function Bi(o,l){return o[l]}function Mn(o,l){const c=l[o];return mr(c)?c:c[0]}function xs(o){return 64==(64&o[2])}function vi(o,l){return null==l?null:o[l]}function sa(o){o[18]=0}function cr(o,l){o[5]+=l;let c=o,f=o[3];for(;null!==f&&(1===l&&1===c[5]||-1===l&&0===c[5]);)f[5]+=l,c=f,f=f[3]}const Yt={lFrame:ha(null),bindingsEnabled:!0};function Js(){return Yt.bindingsEnabled}function Ke(){return Yt.lFrame.lView}function dn(){return Yt.lFrame.tView}function Uu(o){return Yt.lFrame.contextLView=o,o[8]}function Po(o){return Yt.lFrame.contextLView=null,o}function ur(){let o=Xs();for(;null!==o&&64===o.type;)o=o.parent;return o}function Xs(){return Yt.lFrame.currentTNode}function Zr(o,l){const c=Yt.lFrame;c.currentTNode=o,c.isParent=l}function za(){return Yt.lFrame.isParent}function eo(){Yt.lFrame.isParent=!1}function dr(){const o=Yt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function ca(){return Yt.lFrame.bindingIndex++}function wi(o){const l=Yt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,c}function Nc(o,l){const c=Yt.lFrame;c.bindingIndex=c.bindingRootIndex=o,no(l)}function no(o){Yt.lFrame.currentDirectiveIndex=o}function ua(){return Yt.lFrame.currentQueryIndex}function jl(o){Yt.lFrame.currentQueryIndex=o}function da(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function Gl(o,l,c){if(c&nt.SkipSelf){let g=l,v=o;for(;!(g=g.parent,null!==g||c&nt.Host||(g=da(v),null===g||(v=v[15],10&g.type))););if(null===g)return!1;l=g,o=v}const f=Yt.lFrame=$u();return f.currentTNode=l,f.lView=o,!0}function ro(o){const l=$u(),c=o[1];Yt.lFrame=l,l.currentTNode=c.firstChild,l.lView=o,l.tView=c,l.contextLView=o,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function $u(){const o=Yt.lFrame,l=null===o?null:o.child;return null===l?ha(o):l}function ha(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function zu(){const o=Yt.lFrame;return Yt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const $l=zu;function ji(){const o=zu();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Xn(){return Yt.lFrame.selectedIndex}function cs(o){Yt.lFrame.selectedIndex=o}function Yn(){const o=Yt.lFrame;return Ds(o.tView,o.selectedIndex)}function qa(o,l){for(let c=l.directiveStart,f=l.directiveEnd;c<f;c++){const v=o.data[c].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:M,ngAfterViewInit:V,ngAfterViewChecked:Y,ngOnDestroy:ce}=v;S&&(o.contentHooks||(o.contentHooks=[])).push(-c,S),M&&((o.contentHooks||(o.contentHooks=[])).push(c,M),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,M)),V&&(o.viewHooks||(o.viewHooks=[])).push(-c,V),Y&&((o.viewHooks||(o.viewHooks=[])).push(c,Y),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,Y)),null!=ce&&(o.destroyHooks||(o.destroyHooks=[])).push(c,ce)}}function Mo(o,l,c){io(o,l,3,c)}function ko(o,l,c,f){(3&o[2])===c&&io(o,l,c,f)}function ks(o,l){let c=o[2];(3&c)===l&&(c&=2047,c+=1,o[2]=c)}function io(o,l,c,f){const v=f??-1,S=l.length-1;let M=0;for(let V=void 0!==f?65535&o[18]:0;V<S;V++)if("number"==typeof l[V+1]){if(M=l[V],null!=f&&M>=f)break}else l[V]<0&&(o[18]+=65536),(M<v||-1==v)&&(Vc(o,c,l,V),o[18]=(4294901760&o[18])+V+2),V++}function Vc(o,l,c,f){const g=c[f]<0,v=c[f+1],M=o[g?-c[f]:c[f]];if(g){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{v.call(M)}finally{}}}else try{v.call(M)}finally{}}class Ci{constructor(l,c,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=f}}function us(o,l,c){let f=0;for(;f<c.length;){const g=c[f];if("number"==typeof g){if(0!==g)break;f++;const v=c[f++],S=c[f++],M=c[f++];o.setAttribute(l,S,M,v)}else{const v=g,S=c[++f];Yl(v)?o.setProperty(l,v,S):o.setAttribute(l,v,S),f++}}return f}function fa(o){return 3===o||4===o||6===o}function Yl(o){return 64===o.charCodeAt(0)}function pa(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let c=-1;for(let f=0;f<l.length;f++){const g=l[f];"number"==typeof g?c=g:0===c||Uc(o,c,g,null,-1===c||2===c?l[++f]:null)}}return o}function Uc(o,l,c,f,g){let v=0,S=o.length;if(-1===l)S=-1;else for(;v<o.length;){const M=o[v++];if("number"==typeof M){if(M===l){S=-1;break}if(M>l){S=v-1;break}}}for(;v<o.length;){const M=o[v];if("number"==typeof M)break;if(M===c){if(null===f)return void(null!==g&&(o[v+1]=g));if(f===o[v+1])return void(o[v+2]=g)}v++,null!==f&&v++,null!==g&&v++}-1!==S&&(o.splice(S,0,l),v=S+1),o.splice(v++,0,c),null!==f&&o.splice(v++,0,f),null!==g&&o.splice(v++,0,g)}function Wu(o){return-1!==o}function yr(o){return 32767&o}function R(o,l){let c=function Ya(o){return o>>16}(o),f=l;for(;c>0;)f=f[15],c--;return f}let B=!0;function re(o){const l=B;return B=o,l}let rr=0;const ir={};function Kr(o,l){const c=Hc(o,l);if(-1!==c)return c;const f=l[1];f.firstCreatePass&&(o.injectorIndex=l.length,ma(f.data,o),ma(l,null),ma(f.blueprint,null));const g=Ql(o,l),v=o.injectorIndex;if(Wu(g)){const S=yr(g),M=R(g,l),V=M[1].data;for(let Y=0;Y<8;Y++)l[v+Y]=M[S+Y]|V[S+Y]}return l[v+8]=g,v}function ma(o,l){o.push(0,0,0,0,0,0,0,0,l)}function Hc(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Ql(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,f=null,g=l;for(;null!==g;){if(f=nl(g),null===f)return-1;if(c++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|c<<16}return-1}function ga(o,l,c){!function Rr(o,l,c){let f;"string"==typeof c?f=c.charCodeAt(0)||0:c.hasOwnProperty(Kn)&&(f=c[Kn]),null==f&&(f=c[Kn]=rr++);const g=255&f;l.data[o+(g>>5)]|=1<<g}(o,l,c)}function Qa(o,l,c){if(c&nt.Optional||void 0!==o)return o;ne()}function ya(o,l,c,f){if(c&nt.Optional&&void 0===f&&(f=null),0==(c&(nt.Self|nt.Host))){const g=o[9],v=$t(void 0);try{return g?g.get(l,f,c&nt.Optional):Ln(l,f,c&nt.Optional)}finally{$t(v)}}return Qa(f,0,c)}function Ja(o,l,c,f=nt.Default,g){if(null!==o){if(1024&l[2]){const S=function Vf(o,l,c,f,g){let v=o,S=l;for(;null!==v&&null!==S&&1024&S[2]&&!(256&S[2]);){const M=eh(v,S,c,f|nt.Self,ir);if(M!==ir)return M;let V=v.parent;if(!V){const Y=S[21];if(Y){const ce=Y.get(c,ir,f);if(ce!==ir)return ce}V=nl(S),S=S[15]}v=V}return g}(o,l,c,f,ir);if(S!==ir)return S}const v=eh(o,l,c,f,ir);if(v!==ir)return v}return ya(l,c,f,g)}function eh(o,l,c,f,g){const v=function Lf(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(Kn)?o[Kn]:void 0;return"number"==typeof l?l>=0?255&l:Zu:l}(c);if("function"==typeof v){if(!Gl(l,o,f))return f&nt.Host?Qa(g,0,f):ya(l,c,f,g);try{const S=v(f);if(null!=S||f&nt.Optional)return S;ne()}finally{$l()}}else if("number"==typeof v){let S=null,M=Hc(o,l),V=-1,Y=f&nt.Host?l[16][6]:null;for((-1===M||f&nt.SkipSelf)&&(V=-1===M?Ql(o,l):l[M+8],-1!==V&&Gc(f,!1)?(S=l[1],M=yr(V),l=R(V,l)):M=-1);-1!==M;){const ce=l[1];if(Xa(v,M,ce.data)){const ge=jc(M,l,c,S,f,Y);if(ge!==ir)return ge}V=l[M+8],-1!==V&&Gc(f,l[1].data[M+8]===Y)&&Xa(v,M,l)?(S=ce,M=yr(V),l=R(V,l)):M=-1}}return g}function jc(o,l,c,f,g,v){const S=l[1],M=S.data[o+8],ce=Xl(M,S,c,null==f?Vi(M)&&B:f!=S&&0!=(3&M.type),g&nt.Host&&v===M);return null!==ce?Os(l,S,ce,M):ir}function Xl(o,l,c,f,g){const v=o.providerIndexes,S=l.data,M=1048575&v,V=o.directiveStart,ce=v>>20,De=g?M+ce:o.directiveEnd;for(let Le=f?M:M+ce;Le<De;Le++){const ze=S[Le];if(Le<V&&c===ze||Le>=V&&ze.type===c)return Le}if(g){const Le=S[V];if(Le&&ai(Le)&&Le.type===c)return V}return null}function Os(o,l,c,f){let g=o[c];const v=l.data;if(function Kl(o){return o instanceof Ci}(g)){const S=g;S.resolving&&function q(o,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new A(-200,`Circular dependency in DI detected for ${o}${c}`)}(function I(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():T(o)}(v[c]));const M=re(S.canSeeViewProviders);S.resolving=!0;const V=S.injectImpl?$t(S.injectImpl):null;Gl(o,f,nt.Default);try{g=o[c]=S.factory(void 0,v,o,f),l.firstCreatePass&&c>=f.directiveStart&&function Zl(o,l,c){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:v}=l.type.prototype;if(f){const S=Ao(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,S),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,S)}g&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,g),v&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v))}(c,v[c],l)}finally{null!==V&&$t(V),re(M),S.resolving=!1,$l()}}return g}function Xa(o,l,c){return!!(c[l+(o>>5)]&1<<o)}function Gc(o,l){return!(o&nt.Self||o&nt.Host&&l)}class el{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,f){return Ja(this._tNode,this._lView,l,f,c)}}function Zu(){return new el(ur(),Ke())}function Oo(o){return an(()=>{const l=o.prototype.constructor,c=l[wr]||tl(l),f=Object.prototype;let g=Object.getPrototypeOf(o.prototype).constructor;for(;g&&g!==f;){const v=g[wr]||tl(g);if(v&&v!==c)return v;g=Object.getPrototypeOf(g)}return v=>new v})}function tl(o){return j(o)?()=>{const l=tl(G(o));return l&&l()}:Or(o)}function nl(o){const l=o[1],c=l.type;return 2===c?l.declTNode:1===c?o[6]:null}function $c(o){return function Jl(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const c=o.attrs;if(c){const f=c.length;let g=0;for(;g<f;){const v=c[g];if(fa(v))break;if(0===v)g+=2;else if("number"==typeof v)for(g++;g<f&&"string"==typeof c[g];)g++;else{if(v===l)return c[g+1];g+=2}}}return null}(ur(),o)}const rl="__parameters__";function sl(o,l,c){return an(()=>{const f=function Ku(o){return function(...c){if(o){const f=o(...c);for(const g in f)this[g]=f[g]}}}(l);function g(...v){if(this instanceof g)return f.apply(this,v),this;const S=new g(...v);return M.annotation=S,M;function M(V,Y,ce){const ge=V.hasOwnProperty(rl)?V[rl]:Object.defineProperty(V,rl,{value:[]})[rl];for(;ge.length<=ce;)ge.push(null);return(ge[ce]=ge[ce]||[]).push(S),V}}return c&&(g.prototype=Object.create(c.prototype)),g.prototype.ngMetadataName=o,g.annotationCls=g,g})}class er{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Ot({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Yr(o,l){void 0===l&&(l=o);for(let c=0;c<o.length;c++){let f=o[c];Array.isArray(f)?(l===o&&(l=o.slice(0,c)),Yr(f,l)):l!==o&&l.push(f)}return l}function Ro(o,l){o.forEach(c=>Array.isArray(c)?Ro(c,l):l(c))}function ec(o,l,c){l>=o.length?o.push(c):o.splice(l,0,c)}function Ns(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function No(o,l){const c=[];for(let f=0;f<o;f++)c.push(l);return c}function zi(o,l,c){let f=Ei(o,l);return f>=0?o[1|f]=c:(f=~f,function gg(o,l,c,f){let g=o.length;if(g==l)o.push(c,f);else if(1===g)o.push(f,o[0]),o[0]=c;else{for(g--,o.push(o[g-1],o[g]);g>l;)o[g]=o[g-2],g--;o[l]=c,o[l+1]=f}}(o,f,l,c)),f}function al(o,l){const c=Ei(o,l);if(c>=0)return o[1|c]}function Ei(o,l){return function ll(o,l,c){let f=0,g=o.length>>c;for(;g!==f;){const v=f+(g-f>>1),S=o[v<<c];if(l===S)return v<<c;S>l?g=v:f=v+1}return~(g<<c)}(o,l,1)}const ul={},Ju="__NG_DI_FLAG__",dl="ngTempTokenPath",Xu=/\n/gm,ed="__source";let rc;function Lo(o){const l=rc;return rc=o,l}function Gf(o,l=nt.Default){if(void 0===rc)throw new A(-203,!1);return null===rc?Ln(o,void 0,l):rc.get(o,l&nt.Optional?null:void 0,l)}function br(o,l=nt.Default){return(function Dn(){return vn}()||Gf)(G(o),l)}function $(o,l=nt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),br(o,l)}function Z(o){const l=[];for(let c=0;c<o.length;c++){const f=G(o[c]);if(Array.isArray(f)){if(0===f.length)throw new A(900,!1);let g,v=nt.Default;for(let S=0;S<f.length;S++){const M=f[S],V=Ee(M);"number"==typeof V?-1===V?g=M.token:v|=V:g=M}l.push(br(g,v))}else l.push(br(f))}return l}function oe(o,l){return o[Ju]=l,o.prototype[Ju]=l,o}function Ee(o){return o[Ju]}const ct=oe(sl("Optional"),8),Qt=oe(sl("SkipSelf"),4);let Zf,nd,id;function pC(o){Zf=o}function rd(o){return function lh(){if(void 0===nd&&(nd=null,Wt.trustedTypes))try{nd=Wt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return nd}()?.createHTML(o)||o}function ch(o){return function Yf(){if(void 0===id&&(id=null,Wt.trustedTypes))try{id=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return id}()?.createHTML(o)||o}class od{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function yl(o){return o instanceof od?o.changingThisBreaksApplicationSecurity:o}function Bo(o,l){const c=function Xf(o){return o instanceof od&&o.getTypeName()||null}(o);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}class ac{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(rd(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class dh{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const f=this.inertDocument.createElement("body");c.appendChild(f)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=rd(l),c;const f=this.inertDocument.createElement("body");return f.innerHTML=rd(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(l){const c=l.attributes;for(let g=c.length-1;0<g;g--){const S=c.item(g).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&l.removeAttribute(S)}let f=l.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const b=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function C(o){return(o=String(o)).match(b)?o:"unsafe:"+o}function k(o){const l={};for(const c of o.split(","))l[c]=!0;return l}function ie(...o){const l={};for(const c of o)for(const f in c)c.hasOwnProperty(f)&&(l[f]=!0);return l}const he=k("area,br,col,hr,img,wbr"),Ne=k("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ze=k("rp,rt"),tr=ie(he,ie(Ne,k("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ie(Ze,k("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ie(Ze,Ne)),Di=k("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tp=ie(Di,k("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),k("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),np=k("script,style,template");class av{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,f=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?f=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,f&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let g=this.checkClobberedElement(c,c.nextSibling);if(g){c=g;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!tr.hasOwnProperty(c))return this.sanitizedSomething=!0,!np.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const f=l.attributes;for(let g=0;g<f.length;g++){const v=f.item(g),S=v.name,M=S.toLowerCase();if(!tp.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let V=v.value;Di[M]&&(V=C(V)),this.buf.push(" ",S,'="',rp(V),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();tr.hasOwnProperty(c)&&!he.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(rp(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const lv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yc=/([^\#-~ |!])/g;function rp(o){return o.replace(/&/g,"&amp;").replace(lv,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Yc,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ad;function lc(o){return"content"in o&&function hh(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var _r=(()=>((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r))();function sp(o){const l=ld();return l?ch(l.sanitize(_r.HTML,o)||""):Bo(o,"HTML")?ch(yl(o)):function ip(o,l){let c=null;try{ad=ad||function Fs(o){const l=new dh(o);return function D(){try{return!!(new window.DOMParser).parseFromString(rd(""),"text/html")}catch{return!1}}()?new ac(l):l}(o);let f=l?String(l):"";c=ad.getInertBodyElement(f);let g=5,v=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=v,v=c.innerHTML,c=ad.getInertBodyElement(f)}while(f!==v);return rd((new av).sanitizeChildren(lc(c)||c))}finally{if(c){const f=lc(c)||c;for(;f.firstChild;)f.removeChild(f.firstChild)}}}(function ah(){return void 0!==Zf?Zf:typeof document<"u"?document:void 0}(),T(o))}function op(o){const l=ld();return l?l.sanitize(_r.URL,o)||"":Bo(o,"URL")?yl(o):C(T(o))}function ld(){const o=Ke();return o&&o[12]}const ap=new er("ENVIRONMENT_INITIALIZER"),lp=new er("INJECTOR",-1),gC=new er("INJECTOR_DEF_TYPES");class yC{get(l,c=ul){if(c===ul){const f=new Error(`NullInjectorError: No provider for ${z(l)}!`);throw f.name="NullInjectorError",f}return c}}function tA(...o){return{\u0275providers:_C(0,o)}}function _C(o,...l){const c=[],f=new Set;let g;return Ro(l,v=>{const S=v;cp(S,c,[],f)&&(g||(g=[]),g.push(S))}),void 0!==g&&vC(g,c),c}function vC(o,l){for(let c=0;c<o.length;c++){const{providers:g}=o[c];Ro(g,v=>{l.push(v)})}}function cp(o,l,c,f){if(!(o=G(o)))return!1;let g=null,v=Nt(o);const S=!v&&le(o);if(v||S){if(S&&!S.standalone)return!1;g=o}else{const V=o.ngModule;if(v=Nt(V),!v)return!1;g=V}const M=f.has(g);if(S){if(M)return!1;if(f.add(g),S.dependencies){const V="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const Y of V)cp(Y,l,c,f)}}else{if(!v)return!1;{if(null!=v.imports&&!M){let Y;f.add(g);try{Ro(v.imports,ce=>{cp(ce,l,c,f)&&(Y||(Y=[]),Y.push(ce))})}finally{}void 0!==Y&&vC(Y,l)}if(!M){const Y=Or(g)||(()=>new g);l.push({provide:g,useFactory:Y,deps:Gt},{provide:gC,useValue:g,multi:!0},{provide:ap,useValue:()=>br(g),multi:!0})}const V=v.providers;null==V||M||Ro(V,ce=>{l.push(ce)})}}return g!==o&&void 0!==o.providers}const wg=L({provide:String,useValue:L});function up(o){return null!==o&&"object"==typeof o&&wg in o}function Qc(o){return"function"==typeof o}const bC=new er("Set Injector scope."),ph={},YR={};let uv;function bg(){return void 0===uv&&(uv=new yC),uv}class Jc{}class Cg extends Jc{constructor(l,c,f,g){super(),this.parent=c,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dv(l,S=>this.processProvider(S)),this.records.set(lp,mh(void 0,this)),g.has("environment")&&this.records.set(Jc,mh(void 0,this));const v=this.records.get(bC);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(gC.multi,Gt,nt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=Lo(this),f=$t(void 0);try{return l()}finally{Lo(c),$t(f)}}get(l,c=ul,f=nt.Default){this.assertNotDestroyed();const g=Lo(this),v=$t(void 0);try{if(!(f&nt.SkipSelf)){let M=this.records.get(l);if(void 0===M){const V=function oA(o){return"function"==typeof o||"object"==typeof o&&o instanceof er}(l)&&Sn(l);M=V&&this.injectableDefInScope(V)?mh(Eg(l),ph):null,this.records.set(l,M)}if(null!=M)return this.hydrate(l,M)}return(f&nt.Self?bg():this.parent).get(l,c=f&nt.Optional&&c===ul?null:c)}catch(S){if("NullInjectorError"===S.name){if((S[dl]=S[dl]||[]).unshift(z(l)),g)throw S;return function Oe(o,l,c,f){const g=o[dl];throw l[ed]&&g.unshift(l[ed]),o.message=function Be(o,l,c,f=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let g=z(l);if(Array.isArray(l))g=l.map(z).join(" -> ");else if("object"==typeof l){let v=[];for(let S in l)if(l.hasOwnProperty(S)){let M=l[S];v.push(S+":"+("string"==typeof M?JSON.stringify(M):z(M)))}g=`{${v.join(", ")}}`}return`${c}${f?"("+f+")":""}[${g}]: ${o.replace(Xu,"\n  ")}`}("\n"+o.message,g,c,f),o.ngTokenPath=g,o[dl]=null,o}(S,l,"R3InjectorError",this.source)}throw S}finally{$t(v),Lo(g)}}resolveInjectorInitializers(){const l=Lo(this),c=$t(void 0);try{const f=this.get(ap.multi,Gt,nt.Self);for(const g of f)g()}finally{Lo(l),$t(c)}}toString(){const l=[],c=this.records;for(const f of c.keys())l.push(z(f));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(l){let c=Qc(l=G(l))?l:G(l&&l.provide);const f=function rA(o){return up(o)?mh(void 0,o.useValue):mh(CC(o),ph)}(l);if(Qc(l)||!0!==l.multi)this.records.get(c);else{let g=this.records.get(c);g||(g=mh(void 0,ph,!0),g.factory=()=>Z(g.multi),this.records.set(c,g)),c=l,g.multi.push(l)}this.records.set(c,f)}hydrate(l,c){return c.value===ph&&(c.value=YR,c.value=c.factory()),"object"==typeof c.value&&c.value&&function sA(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=G(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Eg(o){const l=Sn(o),c=null!==l?l.factory:Or(o);if(null!==c)return c;if(o instanceof er)throw new A(204,!1);if(o instanceof Function)return function QR(o){const l=o.length;if(l>0)throw No(l,"?"),new A(204,!1);const c=function at(o){const l=o&&(o[An]||o[jn]);if(l){const c=function _n(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new A(204,!1)}function CC(o,l,c){let f;if(Qc(o)){const g=G(o);return Or(g)||Eg(g)}if(up(o))f=()=>G(o.useValue);else if(function wC(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...Z(o.deps||[]));else if(function dp(o){return!(!o||!o.useExisting)}(o))f=()=>br(G(o.useExisting));else{const g=G(o&&(o.useClass||o.provide));if(!function iA(o){return!!o.deps}(o))return Or(g)||Eg(g);f=()=>new g(...Z(o.deps))}return f}function mh(o,l,c=!1){return{factory:o,value:l,multi:c?[]:void 0}}function EC(o){return!!o.\u0275providers}function dv(o,l){for(const c of o)Array.isArray(c)?dv(c,l):EC(c)?dv(c.\u0275providers,l):l(c)}class hv{}class cA{resolveComponentFactory(l){throw function lA(o){const l=Error(`No component factory found for ${z(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let hp=(()=>{class o{}return o.NULL=new cA,o})();function uA(){return cd(ur(),Ke())}function cd(o,l){return new fp(xr(o,l))}let fp=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=uA,o})();function Ho(o){return o instanceof fp?o.nativeElement:o}class gh{}let fv=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function dA(){const o=Ke(),c=Mn(ur().index,o);return(mr(c)?c:o)[11]}(),o})(),hA=(()=>{class o{}return o.\u0275prov=Ot({token:o,providedIn:"root",factory:()=>null}),o})();class Tg{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const TC=new Tg("14.2.9"),pv={};function gv(o){return o.ngOriginalError}class gp{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&gv(l);for(;c&&gv(c);)c=gv(c);return c||null}}const _v=new Map;let CA=0;const OC="__ngContext__";function Wi(o,l){mr(l)?(o[OC]=l[20],function SA(o){_v.set(o[20],o)}(l)):o[OC]=l}function Xc(o){return o instanceof Function?o():o}var _l=(()=>((_l=_l||{})[_l.Important=1]="Important",_l[_l.DashCase=2]="DashCase",_l))();function kg(o,l){return undefined(o,l)}function _p(o){const l=o[3];return yi(l)?l[3]:l}function Og(o){return Qn(o[13])}function Cv(o){return Qn(o[4])}function Qn(o){for(;null!==o&&!yi(o);)o=o[4];return o}function yh(o,l,c,f,g){if(null!=f){let v,S=!1;yi(f)?v=f:mr(f)&&(S=!0,f=f[0]);const M=Gn(f);0===o&&null!==c?null==g?HC(l,c,M):eu(l,c,M,g||null,!0):1===o&&null!==c?eu(l,c,M,g||null,!0):2===o?function xv(o,l,c){const f=Fg(o,l);f&&function HA(o,l,c,f){o.removeChild(l,c,f)}(o,f,l,c)}(l,M,S):3===o&&l.destroyNode(M),null!=v&&function $C(o,l,c,f,g){const v=c[7];v!==Gn(c)&&yh(l,o,f,v,g);for(let M=10;M<c.length;M++){const V=c[M];_h(V[1],V,o,l,f,v)}}(l,o,v,c,g)}}function Rg(o,l,c){return o.createElement(l,c)}function VC(o,l){const c=o[9],f=c.indexOf(l),g=l[3];512&l[2]&&(l[2]&=-513,cr(g,-1)),c.splice(f,1)}function Ng(o,l){if(o.length<=10)return;const c=10+l,f=o[c];if(f){const g=f[17];null!==g&&g!==o&&VC(g,f),l>0&&(o[c-1][4]=f[4]);const v=Ns(o,10+l);!function BA(o,l){_h(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(f[1],f);const S=v[19];null!==S&&S.detachView(v[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function Sv(o,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&_h(o,l,c,3,null,null),function Qr(o){let l=o[13];if(!l)return Tv(o[1],o);for(;l;){let c=null;if(mr(l))c=l[13];else{const f=l[10];f&&(c=f)}if(!c){for(;l&&!l[4]&&l!==o;)mr(l)&&Tv(l[1],l),l=l[3];null===l&&(l=o),mr(l)&&Tv(l[1],l),c=l&&l[4]}l=c}}(l)}}function Tv(o,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function dd(o,l){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let f=0;f<c.length;f+=2){const g=l[c[f]];if(!(g instanceof Ci)){const v=c[f+1];if(Array.isArray(v))for(let S=0;S<v.length;S+=2){const M=g[v[S]],V=v[S+1];try{V.call(M)}finally{}}else try{v.call(g)}finally{}}}}(o,l),function BC(o,l){const c=o.cleanup,f=l[7];let g=-1;if(null!==c)for(let v=0;v<c.length-1;v+=2)if("string"==typeof c[v]){const S=c[v+1],M="function"==typeof S?S(l):Gn(l[S]),V=f[g=c[v+2]],Y=c[v+3];"boolean"==typeof Y?M.removeEventListener(c[v],V,Y):Y>=0?f[g=Y]():f[g=-Y].unsubscribe(),v+=2}else{const S=f[g=c[v+1]];c[v].call(S)}if(null!==f){for(let v=g+1;v<f.length;v++)(0,f[v])();l[7]=null}}(o,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&yi(l[3])){c!==l[3]&&VC(c,l);const f=l[19];null!==f&&f.detachView(o)}!function wv(o){_v.delete(o[20])}(l)}}function Ca(o,l,c){return function UC(o,l,c){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return c[0];if(2&f.flags){const g=o.data[f.directiveStart].encapsulation;if(g===rt.None||g===rt.Emulated)return null}return xr(f,c)}(o,l.parent,c)}function eu(o,l,c,f,g){o.insertBefore(l,c,f,g)}function HC(o,l,c){o.appendChild(l,c)}function jC(o,l,c,f,g){null!==f?eu(o,l,c,f,g):HC(o,l,c)}function Fg(o,l){return o.parentNode(l)}function Iv(o,l,c){return cc(o,l,c)}let cc=function xi(o,l,c){return 40&o.type?xr(o,c):null};function bp(o,l,c,f){const g=Ca(o,f,l),v=l[11],M=Iv(f.parent||l[6],f,l);if(null!=g)if(Array.isArray(c))for(let V=0;V<c.length;V++)jC(v,g,c[V],M,!1);else jC(v,g,c,M,!1)}function Cp(o,l){if(null!==l){const c=l.type;if(3&c)return xr(l,o);if(4&c)return Lg(-1,o[l.index]);if(8&c){const f=l.child;if(null!==f)return Cp(o,f);{const g=o[l.index];return yi(g)?Lg(-1,g):Gn(g)}}if(32&c)return kg(l,o)()||Gn(o[l.index]);{const f=Dv(o,l);return null!==f?Array.isArray(f)?f[0]:Cp(_p(o[16]),f):Cp(o,l.next)}}return null}function Dv(o,l){return null!==l?o[16][6].projection[l.projection]:null}function Lg(o,l){const c=10+o+1;if(c<l.length){const f=l[c],g=f[1].firstChild;if(null!==g)return Cp(f,g)}return l[7]}function Vg(o,l,c,f,g,v,S){for(;null!=c;){const M=f[c.index],V=c.type;if(S&&0===l&&(M&&Wi(Gn(M),f),c.flags|=4),64!=(64&c.flags))if(8&V)Vg(o,l,c.child,f,g,v,!1),yh(l,o,g,M,v);else if(32&V){const Y=kg(c,f);let ce;for(;ce=Y();)yh(l,o,g,ce,v);yh(l,o,g,M,v)}else 16&V?Ep(o,l,f,c,g,v):yh(l,o,g,M,v);c=S?c.projectionNext:c.next}}function _h(o,l,c,f,g,v){Vg(c,f,o.firstChild,l,g,v,!1)}function Ep(o,l,c,f,g,v){const S=c[16],V=S[6].projection[f.projection];if(Array.isArray(V))for(let Y=0;Y<V.length;Y++)yh(l,o,g,V[Y],v);else Vg(o,l,V,S[3],g,v,!0)}function Pv(o,l,c){o.setAttribute(l,"style",c)}function Bg(o,l,c){""===c?o.removeAttribute(l,"class"):o.setAttribute(l,"class",c)}function qC(o,l,c){let f=o.length;for(;;){const g=o.indexOf(l,c);if(-1===g)return g;if(0===g||o.charCodeAt(g-1)<=32){const v=l.length;if(g+v===f||o.charCodeAt(g+v)<=32)return g}c=g+1}}const Mv="ng-template";function kv(o,l,c){let f=0;for(;f<o.length;){let g=o[f++];if(c&&"class"===g){if(g=o[f],-1!==qC(g.toLowerCase(),l,0))return!0}else if(1===g){for(;f<o.length&&"string"==typeof(g=o[f++]);)if(g.toLowerCase()===l)return!0;return!1}}return!1}function Ov(o){return 4===o.type&&o.value!==Mv}function Rv(o,l,c){return l===(4!==o.type||c?o.value:Mv)}function WC(o,l,c){let f=4;const g=o.attrs||[],v=function KC(o){for(let l=0;l<o.length;l++)if(fa(o[l]))return l;return o.length}(g);let S=!1;for(let M=0;M<l.length;M++){const V=l[M];if("number"!=typeof V){if(!S)if(4&f){if(f=2|1&f,""!==V&&!Rv(o,V,c)||""===V&&1===l.length){if(jo(f))return!1;S=!0}}else{const Y=8&f?V:l[++M];if(8&f&&null!==o.attrs){if(!kv(o.attrs,Y,c)){if(jo(f))return!1;S=!0}continue}const ge=ZC(8&f?"class":V,g,Ov(o),c);if(-1===ge){if(jo(f))return!1;S=!0;continue}if(""!==Y){let De;De=ge>v?"":g[ge+1].toLowerCase();const Le=8&f?De:null;if(Le&&-1!==qC(Le,Y,0)||2&f&&Y!==De){if(jo(f))return!1;S=!0}}}}else{if(!S&&!jo(f)&&!jo(V))return!1;if(S&&jo(V))continue;S=!1,f=V|1&f}}return jo(f)||S}function jo(o){return 0==(1&o)}function ZC(o,l,c,f){if(null===l)return-1;let g=0;if(f||!c){let v=!1;for(;g<l.length;){const S=l[g];if(S===o)return g;if(3===S||6===S)v=!0;else{if(1===S||2===S){let M=l[++g];for(;"string"==typeof M;)M=l[++g];continue}if(4===S)break;if(0===S){g+=4;continue}}g+=v?1:2}return-1}return function YC(o,l){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const f=o[c];if("number"==typeof f)return-1;if(f===l)return c;c++}return-1}(l,o)}function Ug(o,l,c=!1){for(let f=0;f<l.length;f++)if(WC(o,l[f],c))return!0;return!1}function QC(o,l){e:for(let c=0;c<l.length;c++){const f=l[c];if(o.length===f.length){for(let g=0;g<o.length;g++)if(o[g]!==f[g])continue e;return!0}}return!1}function Zi(o,l){return o?":not("+l.trim()+")":l}function nu(o){let l=o[0],c=1,f=2,g="",v=!1;for(;c<o.length;){let S=o[c];if("string"==typeof S)if(2&f){const M=o[++c];g+="["+S+(M.length>0?'="'+M+'"':"")+"]"}else 8&f?g+="."+S:4&f&&(g+=" "+S);else""!==g&&!jo(S)&&(l+=Zi(v,g),g=""),f=S,v=v||!jo(f);c++}return""!==g&&(l+=Zi(v,g)),l}const hn={};function Sp(o){XC(dn(),Ke(),Xn()+o,!1)}function XC(o,l,c,f){if(!f)if(3==(3&l[2])){const v=o.preOrderCheckHooks;null!==v&&Mo(l,v,c)}else{const v=o.preOrderHooks;null!==v&&ko(l,v,0,c)}cs(c)}function WA(o,l=null,c=null,f){const g=ZA(o,l,c,f);return g.resolveInjectorInitializers(),g}function ZA(o,l=null,c=null,f,g=new Set){const v=[c||Gt,tA(o)];return f=f||("object"==typeof o?void 0:z(o)),new Cg(v,l||bg(),f||null,g)}let vh=(()=>{class o{static create(c,f){if(Array.isArray(c))return WA({name:""},f,c,"");{const g=c.name??"";return WA({name:g},c.parent,c.providers,g)}}}return o.THROW_IF_NOT_FOUND=ul,o.NULL=new yC,o.\u0275prov=Ot({token:o,providedIn:"any",factory:()=>br(lp)}),o.__NG_ELEMENT_ID__=-1,o})();function Ch(o,l=nt.Default){const c=Ke();return null===c?br(o,l):Ja(ur(),c,G(o),l)}function Hv(){throw new Error("invalid")}function Ap(o,l){return o<<17|l<<2}function Ea(o){return o>>17&32767}function Qg(o){return 2|o}function ru(o){return(131068&o)>>2}function Dp(o,l){return-131069&o|l<<2}function Jg(o){return 1|o}function mE(o,l){const c=o.contentQueries;if(null!==c)for(let f=0;f<c.length;f+=2){const g=c[f],v=c[f+1];if(-1!==v){const S=o.data[v];jl(g),S.contentQueries(2,l[v],v)}}}function gd(o,l,c,f,g,v,S,M,V,Y,ce){const ge=l.blueprint.slice();return ge[0]=g,ge[2]=76|f,(null!==ce||o&&1024&o[2])&&(ge[2]|=1024),sa(ge),ge[3]=ge[15]=o,ge[8]=c,ge[10]=S||o&&o[10],ge[11]=M||o&&o[11],ge[12]=V||o&&o[12]||null,ge[9]=Y||o&&o[9]||null,ge[6]=v,ge[20]=function EA(){return CA++}(),ge[21]=ce,ge[16]=2==l.type?o[16]:ge,ge}function yd(o,l,c,f,g){let v=o.data[l];if(null===v)v=function zv(o,l,c,f,g){const v=Xs(),S=za(),V=o.data[l]=function uD(o,l,c,f,g,v){return{type:c,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?v:v&&v.parent,c,l,f,g);return null===o.firstChild&&(o.firstChild=V),null!==v&&(S?null==v.child&&null!==V.parent&&(v.child=V):null===v.next&&(v.next=V)),V}(o,l,c,f,g),function Rc(){return Yt.lFrame.inI18n}()&&(v.flags|=64);else if(64&v.type){v.type=c,v.value=f,v.attrs=g;const S=function $a(){const o=Yt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();v.injectorIndex=null===S?-1:S.injectorIndex}return Zr(v,!0),v}function _d(o,l,c,f){if(0===c)return-1;const g=l.length;for(let v=0;v<c;v++)l.push(f),o.blueprint.push(f),o.data.push(null);return g}function qv(o,l,c){ro(l);try{const f=o.viewQuery;null!==f&&ly(1,f,c);const g=o.template;null!==g&&ny(o,l,g,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&mE(o,l),o.staticViewQueries&&ly(2,o.viewQuery,c);const v=o.components;null!==v&&function cD(o,l){for(let c=0;c<l.length;c++)TE(o,l[c])}(l,v)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{l[2]&=-5,ji()}}function Wv(o,l,c,f){const g=l[2];if(128!=(128&g)){ro(l);try{sa(l),function la(o){return Yt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&ny(o,l,c,2,f);const S=3==(3&g);if(S){const Y=o.preOrderCheckHooks;null!==Y&&Mo(l,Y,null)}else{const Y=o.preOrderHooks;null!==Y&&ko(l,Y,0,null),ks(l,0)}if(function oy(o){for(let l=Og(o);null!==l;l=Cv(l)){if(!l[2])continue;const c=l[9];for(let f=0;f<c.length;f++){const g=c[f],v=g[3];0==(512&g[2])&&cr(v,1),g[2]|=512}}}(l),function yD(o){for(let l=Og(o);null!==l;l=Cv(l))for(let c=10;c<l.length;c++){const f=l[c],g=f[1];xs(f)&&Wv(g,f,g.template,f[8])}}(l),null!==o.contentQueries&&mE(o,l),S){const Y=o.contentCheckHooks;null!==Y&&Mo(l,Y)}else{const Y=o.contentHooks;null!==Y&&ko(l,Y,1),ks(l,1)}!function pE(o,l){const c=o.hostBindingOpCodes;if(null!==c)try{for(let f=0;f<c.length;f++){const g=c[f];if(g<0)cs(~g);else{const v=g,S=c[++f],M=c[++f];Nc(S,v),M(2,l[v])}}}finally{cs(-1)}}(o,l);const M=o.components;null!==M&&function gE(o,l){for(let c=0;c<l.length;c++)Eh(o,l[c])}(l,M);const V=o.viewQuery;if(null!==V&&ly(2,V,f),S){const Y=o.viewCheckHooks;null!==Y&&Mo(l,Y)}else{const Y=o.viewHooks;null!==Y&&ko(l,Y,2),ks(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,cr(l[3],-1))}finally{ji()}}}function ny(o,l,c,f,g){const v=Xn(),S=2&f;try{cs(-1),S&&l.length>22&&XC(o,l,22,!1),c(f,g)}finally{cs(v)}}function Zv(o,l,c){if(Is(l)){const g=l.directiveEnd;for(let v=l.directiveStart;v<g;v++){const S=o.data[v];S.contentQueries&&S.contentQueries(1,c[v],v)}}}function ry(o,l,c){!Js()||(function MN(o,l,c,f){const g=c.directiveStart,v=c.directiveEnd;o.firstCreatePass||Kr(c,l),Wi(f,l);const S=c.initialInputs;for(let M=g;M<v;M++){const V=o.data[M],Y=ai(V);Y&&RN(l,c,V);const ce=Os(l,o,M,c);Wi(ce,l),null!==S&&NN(0,M-g,ce,V,0,S),Y&&(Mn(c.index,l)[8]=ce)}}(o,l,c,xr(c,l)),128==(128&c.flags)&&function kN(o,l,c){const f=c.directiveStart,g=c.directiveEnd,v=c.index,S=function Gu(){return Yt.lFrame.currentDirectiveIndex}();try{cs(v);for(let M=f;M<g;M++){const V=o.data[M],Y=l[M];no(M),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&EE(V,Y)}}finally{cs(-1),no(S)}}(o,l,c))}function iy(o,l,c=xr){const f=l.localNames;if(null!==f){let g=l.index+1;for(let v=0;v<f.length;v+=2){const S=f[v+1],M=-1===S?c(l,o):o[S];o[g++]=M}}}function su(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=Kv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function Kv(o,l,c,f,g,v,S,M,V,Y){const ce=22+f,ge=ce+g,De=function yE(o,l){const c=[];for(let f=0;f<l;f++)c.push(f<o?null:hn);return c}(ce,ge),Le="function"==typeof Y?Y():Y;return De[1]={type:o,blueprint:De,template:c,queries:null,viewQuery:M,declTNode:l,data:De.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:V,consts:Le,incompleteFirstPass:!1}}function vE(o,l,c,f){const g=cy(l);null===c?g.push(f):(g.push(c),o.firstCreatePass&&Sh(o).push(f,g.length-1))}function sy(o,l,c){for(let f in o)if(o.hasOwnProperty(f)){const g=o[f];(c=null===c?{}:c).hasOwnProperty(f)?c[f].push(l,g):c[f]=[l,g]}return c}function Yv(o,l){const f=l.directiveEnd,g=o.data,v=l.attrs,S=[];let M=null,V=null;for(let Y=l.directiveStart;Y<f;Y++){const ce=g[Y],ge=ce.inputs,De=null===v||Ov(l)?null:Mt(ge,v);S.push(De),M=sy(ge,Y,M),V=sy(ce.outputs,Y,V)}null!==M&&(M.hasOwnProperty("class")&&(l.flags|=16),M.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=S,l.inputs=M,l.outputs=V}function Vs(o,l,c,f,g,v,S,M){const V=xr(l,c);let ce,Y=l.inputs;!M&&null!=Y&&(ce=Y[f])?(Jr(o,c,ce,f,g),Vi(l)&&wE(c,l.index)):3&l.type&&(f=function dD(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),g=null!=S?S(g,l.value||"",f):g,v.setProperty(V,f,g))}function wE(o,l){const c=Mn(l,o);16&c[2]||(c[2]|=32)}function Qv(o,l,c,f){let g=!1;if(Js()){const v=function hD(o,l,c){const f=o.directiveRegistry;let g=null;if(f)for(let v=0;v<f.length;v++){const S=f[v];Ug(c,S.selectors,!1)&&(g||(g=[]),ga(Kr(c,l),o,S.type),ai(S)?(fD(o,c),g.unshift(S)):g.push(S))}return g}(o,l,c),S=null===f?null:{"":-1};if(null!==v){g=!0,mD(c,o.data.length,v.length);for(let ce=0;ce<v.length;ce++){const ge=v[ce];ge.providersResolver&&ge.providersResolver(ge)}let M=!1,V=!1,Y=_d(o,l,v.length,null);for(let ce=0;ce<v.length;ce++){const ge=v[ce];c.mergedAttrs=pa(c.mergedAttrs,ge.hostAttrs),gD(o,c,l,Y,ge),ON(Y,ge,S),null!==ge.contentQueries&&(c.flags|=8),(null!==ge.hostBindings||null!==ge.hostAttrs||0!==ge.hostVars)&&(c.flags|=128);const De=ge.type.prototype;!M&&(De.ngOnChanges||De.ngOnInit||De.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),M=!0),!V&&(De.ngOnChanges||De.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),V=!0),Y++}Yv(o,c)}S&&function pD(o,l,c){if(l){const f=o.localNames=[];for(let g=0;g<l.length;g+=2){const v=c[l[g+1]];if(null==v)throw new A(-301,!1);f.push(l[g],v)}}}(c,f,S)}return c.mergedAttrs=pa(c.mergedAttrs,c.attrs),g}function Jv(o,l,c,f,g,v){const S=v.hostBindings;if(S){let M=o.hostBindingOpCodes;null===M&&(M=o.hostBindingOpCodes=[]);const V=~l.index;(function PN(o){let l=o.length;for(;l>0;){const c=o[--l];if("number"==typeof c&&c<0)return c}return 0})(M)!=V&&M.push(V),M.push(f,g,S)}}function EE(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function fD(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function ON(o,l,c){if(c){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)c[l.exportAs[f]]=o;ai(l)&&(c[""]=o)}}function mD(o,l,c){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+c,o.providerIndexes=l}function gD(o,l,c,f,g){o.data[f]=g;const v=g.factory||(g.factory=Or(g.type)),S=new Ci(v,ai(g),Ch);o.blueprint[f]=S,c[f]=S,Jv(o,l,0,f,_d(o,c,g.hostVars,hn),g)}function RN(o,l,c){const f=xr(l,o),g=su(c),v=o[10],S=kp(o,gd(o,g,null,c.onPush?32:16,f,l,v,v.createRenderer(f,c),null,null,null));o[l.index]=S}function dc(o,l,c,f,g,v){const S=xr(o,l);!function SE(o,l,c,f,g,v,S){if(null==v)o.removeAttribute(l,g,c);else{const M=null==S?T(v):S(v,f||"",g);o.setAttribute(l,g,M,c)}}(l[11],S,v,o.value,c,f,g)}function NN(o,l,c,f,g,v){const S=v[l];if(null!==S){const M=f.setInput;for(let V=0;V<S.length;){const Y=S[V++],ce=S[V++],ge=S[V++];null!==M?f.setInput(c,ge,Y,ce):c[ce]=ge}}}function Mt(o,l){let c=null,f=0;for(;f<l.length;){const g=l[f];if(0!==g)if(5!==g){if("number"==typeof g)break;o.hasOwnProperty(g)&&(null===c&&(c=[]),c.push(g,o[g],l[f+1])),f+=2}else f+=2;else f+=4}return c}function Go(o,l,c,f){return new Array(o,!0,!1,l,null,0,f,c,null,null)}function Eh(o,l){const c=Mn(l,o);if(xs(c)){const f=c[1];48&c[2]?Wv(f,c,f.template,c[8]):c[5]>0&&Xv(c)}}function Xv(o){for(let f=Og(o);null!==f;f=Cv(f))for(let g=10;g<f.length;g++){const v=f[g];if(xs(v))if(512&v[2]){const S=v[1];Wv(S,v,S.template,v[8])}else v[5]>0&&Xv(v)}const c=o[1].components;if(null!==c)for(let f=0;f<c.length;f++){const g=Mn(c[f],o);xs(g)&&g[5]>0&&Xv(g)}}function TE(o,l){const c=Mn(l,o),f=c[1];(function _D(o,l){for(let c=l.length;c<o.blueprint.length;c++)l.push(o.blueprint[c])})(f,c),qv(f,c,c[8])}function kp(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function vd(o){for(;o;){o[2]|=32;const l=_p(o);if(na(o)&&!l)return o;o=l}return null}function ay(o,l,c,f=!0){const g=l[10];g.begin&&g.begin();try{Wv(o,l,o.template,c)}catch(S){throw f&&e0(l,S),S}finally{g.end&&g.end()}}function ly(o,l,c){jl(0),l(o,c)}function cy(o){return o[7]||(o[7]=[])}function Sh(o){return o.cleanup||(o.cleanup=[])}function e0(o,l){const c=o[9],f=c?c.get(gp,null):null;f&&f.handleError(l)}function Jr(o,l,c,f,g){for(let v=0;v<c.length;){const S=c[v++],M=c[v++],V=l[S],Y=o.data[S];null!==Y.setInput?Y.setInput(V,g,f,M):V[M]=g}}function Op(o,l,c){let f=c?o.styles:null,g=c?o.classes:null,v=0;if(null!==l)for(let S=0;S<l.length;S++){const M=l[S];"number"==typeof M?v=M:1==v?g=Q(g,M):2==v&&(f=Q(f,M+": "+l[++S]+";"))}c?o.styles=f:o.stylesWithoutHost=f,c?o.classes=g:o.classesWithoutHost=g}function Er(o,l,c,f,g=!1){for(;null!==c;){const v=l[c.index];if(null!==v&&f.push(Gn(v)),yi(v))for(let M=10;M<v.length;M++){const V=v[M],Y=V[1].firstChild;null!==Y&&Er(V[1],V,Y,f)}const S=c.type;if(8&S)Er(o,l,c.child,f);else if(32&S){const M=kg(c,l);let V;for(;V=M();)f.push(V)}else if(16&S){const M=Dv(l,c);if(Array.isArray(M))f.push(...M);else{const V=_p(l[16]);Er(V[1],V,M,f,!0)}}c=g?c.projectionNext:c.next}return f}class hc{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Er(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(yi(l)){const c=l[8],f=c?c.indexOf(this):-1;f>-1&&(Ng(l,f),Ns(c,f))}this._attachedToViewContainer=!1}Sv(this._lView[1],this._lView)}onDestroy(l){vE(this._lView[1],this._lView,null,l)}markForCheck(){vd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ay(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ud(o,l){_h(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=l}}class uy extends hc{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;ay(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class ao extends hp{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=le(l);return new Rp(c,this.ngModule)}}function Ki(o){const l=[];for(let c in o)o.hasOwnProperty(c)&&l.push({propName:o[c],templateName:c});return l}class AE{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,f){const g=this.injector.get(l,pv,f);return g!==pv||c===pv?g:this.parentInjector.get(l,c,f)}}class Rp extends hv{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function JC(o){return o.map(nu).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Ki(this.componentDef.inputs)}get outputs(){return Ki(this.componentDef.outputs)}create(l,c,f,g){let v=(g=g||this.ngModule)instanceof Jc?g:g?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const S=v?new AE(l,v):l,M=S.get(gh,null);if(null===M)throw new A(407,!1);const V=S.get(hA,null),Y=M.createRenderer(null,this.componentDef),ce=this.componentDef.selectors[0][0]||"div",ge=f?function _E(o,l,c){return o.selectRootElement(l,c===rt.ShadowDom)}(Y,f,this.componentDef.encapsulation):Rg(M.createRenderer(null,this.componentDef),ce,function dy(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(ce)),De=this.componentDef.onPush?288:272,Le=Kv(0,null,null,1,0,null,null,null,null,null),ze=gd(null,Le,null,De,null,null,M,Y,V,S,null);let ot,dt;ro(ze);try{const It=function vD(o,l,c,f,g,v){const S=c[1];c[22]=o;const V=yd(S,22,2,"#host",null),Y=V.mergedAttrs=l.hostAttrs;null!==Y&&(Op(V,Y,!0),null!==o&&(us(g,o,Y),null!==V.classes&&Bg(g,o,V.classes),null!==V.styles&&Pv(g,o,V.styles)));const ce=f.createRenderer(o,l),ge=gd(c,su(l),null,l.onPush?32:16,c[22],V,f,ce,v||null,null,null);return S.firstCreatePass&&(ga(Kr(V,c),S,l.type),fD(S,V),mD(V,c.length,1)),kp(c,ge),c[22]=ge}(ge,this.componentDef,ze,M,Y);if(ge)if(f)us(Y,ge,["ng-version",TC.full]);else{const{attrs:xt,classes:Xe}=function dN(o){const l=[],c=[];let f=1,g=2;for(;f<o.length;){let v=o[f];if("string"==typeof v)2===g?""!==v&&l.push(v,o[++f]):8===g&&c.push(v);else{if(!jo(g))break;g=v}f++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);xt&&us(Y,ge,xt),Xe&&Xe.length>0&&Bg(Y,ge,Xe.join(" "))}if(dt=Ds(Le,22),void 0!==c){const xt=dt.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const Xt=c[Xe];xt.push(null!=Xt?Array.from(Xt):null)}}ot=function bd(o,l,c,f){const g=c[1],v=function CE(o,l,c){const f=ur();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),gD(o,f,l,_d(o,l,1,null),c),Yv(o,f));const g=Os(l,o,f.directiveStart,f);Wi(g,l);const v=xr(f,l);return v&&Wi(v,l),g}(g,c,l);if(o[8]=c[8]=v,null!==f)for(const M of f)M(v,l);if(l.contentQueries){const M=ur();l.contentQueries(1,v,M.directiveStart)}const S=ur();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(cs(S.index),Jv(c[1],S,0,S.directiveStart,S.directiveEnd,l),EE(l,v)),v}(It,this.componentDef,ze,[t0]),qv(Le,ze,null)}finally{ji()}return new Yi(this.componentType,ot,cd(dt,ze),ze,dt)}}class Yi extends class aA{}{constructor(l,c,f,g,v){super(),this.location=f,this._rootLView=g,this._tNode=v,this.instance=c,this.hostView=this.changeDetectorRef=new uy(g),this.componentType=l}setInput(l,c){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[l])){const v=this._rootLView;Jr(v[1],v,g,l,c),wE(v,this._tNode.index)}}get injector(){return new el(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function t0(){const o=ur();qa(Ke()[1],o)}function r0(o){let l=function n0(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const f=[o];for(;l;){let g;if(ai(o))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new A(903,!1);g=l.\u0275dir}if(g){if(c){f.push(g);const S=o;S.inputs=Np(o.inputs),S.declaredInputs=Np(o.declaredInputs),S.outputs=Np(o.outputs);const M=g.hostBindings;M&&bD(o,M);const V=g.viewQuery,Y=g.contentQueries;if(V&&Tn(o,V),Y&&Fp(o,Y),H(o.inputs,g.inputs),H(o.declaredInputs,g.declaredInputs),H(o.outputs,g.outputs),ai(g)&&g.data.animation){const ce=o.data;ce.animation=(ce.animation||[]).concat(g.data.animation)}}const v=g.features;if(v)for(let S=0;S<v.length;S++){const M=v[S];M&&M.ngInherit&&M(o),M===r0&&(c=!1)}}l=Object.getPrototypeOf(l)}!function wD(o){let l=0,c=null;for(let f=o.length-1;f>=0;f--){const g=o[f];g.hostVars=l+=g.hostVars,g.hostAttrs=pa(g.hostAttrs,c=pa(c,g.hostAttrs))}}(f)}function Np(o){return o===Ur?{}:o===Gt?[]:o}function Tn(o,l){const c=o.viewQuery;o.viewQuery=c?(f,g)=>{l(f,g),c(f,g)}:l}function Fp(o,l){const c=o.contentQueries;o.contentQueries=c?(f,g,v)=>{l(f,g,v),c(f,g,v)}:l}function bD(o,l){const c=o.hostBindings;o.hostBindings=c?(f,g)=>{l(f,g),c(f,g)}:l}let lo=null;function lu(){if(!lo){const o=Wt.Symbol;if(o&&o.iterator)lo=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const f=l[c];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(lo=f)}}}return lo}function Ah(o){return!!bl(o)&&(Array.isArray(o)||!(o instanceof Map)&&lu()in o)}function bl(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Cl(o,l,c){return o[l]=c}function Mi(o,l,c){return!Object.is(o[l],c)&&(o[l]=c,!0)}function cu(o,l,c,f){const g=Mi(o,l,c);return Mi(o,l+1,f)||g}function o0(o,l,c,f){const g=Ke();return Mi(g,ca(),l)&&(dn(),dc(Yn(),g,o,l,c,f)),o0}function Ed(o,l,c,f){return Mi(o,ca(),c)?l+T(c)+f:hn}function pc(o,l,c,f,g,v){const M=cu(o,function Hi(){return Yt.lFrame.bindingIndex}(),c,g);return wi(2),M?l+T(c)+f+T(g)+v:hn}function c0(o,l,c,f,g,v,S,M){const V=Ke(),Y=dn(),ce=o+22,ge=Y.firstCreatePass?function PE(o,l,c,f,g,v,S,M,V){const Y=l.consts,ce=yd(l,o,4,S||null,vi(Y,M));Qv(l,c,ce,vi(Y,V)),qa(l,ce);const ge=ce.tViews=Kv(2,ce,f,g,v,l.directiveRegistry,l.pipeRegistry,null,l.schemas,Y);return null!==l.queries&&(l.queries.template(l,ce),ge.queries=l.queries.embeddedTView(ce)),ce}(ce,Y,V,l,c,f,g,v,S):Y.data[ce];Zr(ge,!1);const De=V[11].createComment("");bp(Y,V,De,ge),Wi(De,V),kp(V,V[ce]=Go(De,V,De,ge)),Co(ge)&&ry(Y,V,ge),null!=S&&iy(V,ge,M)}function ME(o){return Bi(function to(){return Yt.lFrame.contextLView}(),22+o)}function u0(o,l,c){const f=Ke();return Mi(f,ca(),l)&&Vs(dn(),Yn(),f,o,l,f[11],c,!1),u0}function Mh(o,l,c,f,g){const S=g?"class":"style";Jr(o,c,l.inputs[S],S,f)}function gy(o,l,c,f){const g=Ke(),v=dn(),S=22+o,M=g[11],V=g[S]=Rg(M,l,function Wl(){return Yt.lFrame.currentNamespace}()),Y=v.firstCreatePass?function ID(o,l,c,f,g,v,S){const M=l.consts,Y=yd(l,o,2,g,vi(M,v));return Qv(l,c,Y,vi(M,S)),null!==Y.attrs&&Op(Y,Y.attrs,!1),null!==Y.mergedAttrs&&Op(Y,Y.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,Y),Y}(S,v,g,0,l,c,f):v.data[S];Zr(Y,!0);const ce=Y.mergedAttrs;null!==ce&&us(M,V,ce);const ge=Y.classes;null!==ge&&Bg(M,V,ge);const De=Y.styles;return null!==De&&Pv(M,V,De),64!=(64&Y.flags)&&bp(v,g,V,Y),0===function Ui(){return Yt.lFrame.elementDepthCount}()&&Wi(V,g),function Oc(){Yt.lFrame.elementDepthCount++}(),Co(Y)&&(ry(v,g,Y),Zv(v,Y,g)),null!==f&&iy(g,Y),gy}function yy(){let o=ur();za()?eo():(o=o.parent,Zr(o,!1));const l=o;!function oa(){Yt.lFrame.elementDepthCount--}();const c=dn();return c.firstCreatePass&&(qa(c,o),Is(o)&&c.queries.elementEnd(o)),null!=l.classesWithoutHost&&function Za(o){return 0!=(16&o.flags)}(l)&&Mh(c,l,Ke(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Ka(o){return 0!=(32&o.flags)}(l)&&Mh(c,l,Ke(),l.stylesWithoutHost,!1),yy}function d0(o,l,c,f){return gy(o,l,c,f),yy(),d0}function kh(o,l,c){const f=Ke(),g=dn(),v=o+22,S=g.firstCreatePass?function AD(o,l,c,f,g){const v=l.consts,S=vi(v,f),M=yd(l,o,8,"ng-container",S);return null!==S&&Op(M,S,!0),Qv(l,c,M,vi(v,g)),null!==l.queries&&l.queries.elementStart(l,M),M}(v,g,f,l,c):g.data[v];Zr(S,!0);const M=f[v]=f[11].createComment("");return bp(g,f,M,S),Wi(M,f),Co(S)&&(ry(g,f,S),Zv(g,S,f)),null!=c&&iy(f,S),kh}function Sd(){let o=ur();const l=dn();return za()?eo():(o=o.parent,Zr(o,!1)),l.firstCreatePass&&(qa(l,o),Is(o)&&l.queries.elementEnd(o)),Sd}function h0(o,l,c){return kh(o,l,c),Sd(),h0}function uu(){return Ke()}function Up(o){return!!o&&"function"==typeof o.then}function DD(o){return!!o&&"function"==typeof o.subscribe}const kE=DD;function f0(o,l,c,f){const g=Ke(),v=dn(),S=ur();return function Oh(o,l,c,f,g,v,S,M){const V=Co(f),ce=o.firstCreatePass&&Sh(o),ge=l[8],De=cy(l);let Le=!0;if(3&f.type||M){const dt=xr(f,l),It=M?M(dt):dt,xt=De.length,Xe=M?$n=>M(Gn($n[f.index])):f.index;let Xt=null;if(!M&&V&&(Xt=function Hp(o,l,c,f){const g=o.cleanup;if(null!=g)for(let v=0;v<g.length-1;v+=2){const S=g[v];if(S===c&&g[v+1]===f){const M=l[7],V=g[v+2];return M.length>V?M[V]:null}"string"==typeof S&&(v+=2)}return null}(o,l,g,f.index)),null!==Xt)(Xt.__ngLastListenerFn__||Xt).__ngNextListenerFn__=v,Xt.__ngLastListenerFn__=v,Le=!1;else{v=p0(f,l,ge,v,!1);const $n=c.listen(It,g,v);De.push(v,$n),ce&&ce.push(g,Xe,xt,xt+1)}}else v=p0(f,l,ge,v,!1);const ze=f.outputs;let ot;if(Le&&null!==ze&&(ot=ze[g])){const dt=ot.length;if(dt)for(let It=0;It<dt;It+=2){const sr=l[ot[It]][ot[It+1]].subscribe(v),yu=De.length;De.push(v,sr),ce&&ce.push(g,f.index,yu,-(yu+1))}}}(v,g,g[11],S,o,l,0,f),f0}function Td(o,l,c,f){try{return!1!==c(f)}catch(g){return e0(o,g),!1}}function p0(o,l,c,f,g){return function v(S){if(S===Function)return f;vd(2&o.flags?Mn(o.index,l):l);let V=Td(l,0,f,S),Y=v.__ngNextListenerFn__;for(;Y;)V=Td(l,0,Y,S)&&V,Y=Y.__ngNextListenerFn__;return g&&!1===V&&(S.preventDefault(),S.returnValue=!1),V}}function m0(o=1){return function Ms(o){return(Yt.lFrame.contextLView=function Fc(o,l){for(;o>0;)l=l[15],o--;return l}(o,Yt.lFrame.contextLView))[8]}(o)}function RE(o,l){let c=null;const f=function Hg(o){const l=o.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(o);for(let g=0;g<l.length;g++){const v=l[g];if("*"!==v){if(null===f?Ug(o,v,!0):QC(f,v))return g}else c=g}return c}function Id(o){const l=Ke()[16][6];if(!l.projection){const f=l.projection=No(o?o.length:1,null),g=f.slice();let v=l.child;for(;null!==v;){const S=o?RE(v,o):0;null!==S&&(g[S]?g[S].projectionNext=v:f[S]=v,g[S]=v),v=v.next}}}function NE(o,l=0,c){const f=Ke(),g=dn(),v=yd(g,22+o,16,null,c||null);null===v.projection&&(v.projection=l),eo(),64!=(64&v.flags)&&function GC(o,l,c){Ep(l[11],0,l,c,Ca(o,c,l),Iv(c.parent||l[6],c,l))}(g,f,v)}function g0(o,l,c){return jp(o,"",l,"",c),g0}function jp(o,l,c,f,g){const v=Ke(),S=Ed(v,l,c,f);return S!==hn&&Vs(dn(),Yn(),v,o,S,v[11],g,!1),jp}function y0(o,l,c,f,g,v,S){const M=Ke(),V=pc(M,l,c,f,g,v);return V!==hn&&Vs(dn(),Yn(),M,o,V,M[11],S,!1),y0}function Gp(o,l,c,f,g){const v=o[c+1],S=null===l;let M=f?Ea(v):ru(v),V=!1;for(;0!==M&&(!1===V||S);){const ce=o[M+1];VE(o[M],l)&&(V=!0,o[M+1]=f?Jg(ce):Qg(ce)),M=f?Ea(ce):ru(ce)}V&&(o[c+1]=f?Qg(v):Jg(v))}function VE(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Ei(o,l)>=0}const di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BE(o){return o.substring(di.key,di.keyEnd)}function UE(o,l){const c=di.textEnd;return c===l?-1:(l=di.keyEnd=function kD(o,l,c){for(;l<c&&o.charCodeAt(l)>32;)l++;return l}(o,di.key=l,c),Nh(o,l,c))}function Nh(o,l,c){for(;l<c&&o.charCodeAt(l)<=32;)l++;return l}function Ta(o,l){return function Gr(o,l,c,f){const g=Ke(),v=dn(),S=wi(2);v.firstUpdatePass&&$p(v,o,S,f),l!==hn&&Mi(g,S,l)&&by(v,v.data[Xn()],g,g[11],o,g[S+1]=function KE(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=z(yl(o)))),o}(l,c),f,S)}(o,l,null,!0),Ta}function E0(o){!function qo(o,l,c,f){const g=dn(),v=wi(2);g.firstUpdatePass&&$p(g,null,v,f);const S=Ke();if(c!==hn&&Mi(S,v,c)){const M=g.data[Xn()];if(A0(M,f)&&!zE(g,v)){let V=f?M.classesWithoutHost:M.stylesWithoutHost;null!==V&&(c=Q(V,c||"")),Mh(g,M,S,c,f)}else!function ND(o,l,c,f,g,v,S,M){g===hn&&(g=Gt);let V=0,Y=0,ce=0<g.length?g[0]:null,ge=0<v.length?v[0]:null;for(;null!==ce||null!==ge;){const De=V<g.length?g[V+1]:void 0,Le=Y<v.length?v[Y+1]:void 0;let ot,ze=null;ce===ge?(V+=2,Y+=2,De!==Le&&(ze=ge,ot=Le)):null===ge||null!==ce&&ce<ge?(V+=2,ze=ce):(Y+=2,ze=ge,ot=Le),null!==ze&&by(o,l,c,f,ze,ot,S,M),ce=V<g.length?g[V]:null,ge=Y<v.length?v[Y]:null}}(g,M,S,S[11],S[v+1],S[v+1]=function Wp(o,l,c){if(null==c||""===c)return Gt;const f=[],g=yl(c);if(Array.isArray(g))for(let v=0;v<g.length;v++)o(f,g[v],!0);else if("object"==typeof g)for(const v in g)g.hasOwnProperty(v)&&o(f,v,g[v]);else"string"==typeof g&&l(f,g);return f}(o,l,c),f,v)}}(zi,Sl,o,!0)}function Sl(o,l){for(let c=function PD(o){return function jE(o){di.key=0,di.keyEnd=0,di.value=0,di.valueEnd=0,di.textEnd=o.length}(o),UE(o,Nh(o,0,di.textEnd))}(l);c>=0;c=UE(l,c))zi(o,BE(l),!0)}function zE(o,l){return l>=o.expandoStartIndex}function $p(o,l,c,f){const g=o.data;if(null===g[c+1]){const v=g[Xn()],S=zE(o,c);A0(v,f)&&null===l&&!S&&(l=!1),l=function qE(o,l,c,f){const g=function Hl(o){const l=Yt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}(o);let v=f?l.residualClasses:l.residualStyles;if(null===g)0===(f?l.classBindings:l.styleBindings)&&(c=qp(c=zp(null,o,l,c,f),l.attrs,f),v=null);else{const S=l.directiveStylingLast;if(-1===S||o[S]!==g)if(c=zp(g,o,l,c,f),null===v){let V=function S0(o,l,c){const f=c?l.classBindings:l.styleBindings;if(0!==ru(f))return o[Ea(f)]}(o,l,f);void 0!==V&&Array.isArray(V)&&(V=zp(null,o,l,V[1],f),V=qp(V,l.attrs,f),function WE(o,l,c,f){o[Ea(c?l.classBindings:l.styleBindings)]=f}(o,l,f,V))}else v=function T0(o,l,c){let f;const g=l.directiveEnd;for(let v=1+l.directiveStylingLast;v<g;v++)f=qp(f,o[v].hostAttrs,c);return qp(f,l.attrs,c)}(o,l,f)}return void 0!==v&&(f?l.residualClasses=v:l.residualStyles=v),c}(g,v,l,f),function w0(o,l,c,f,g,v){let S=v?l.classBindings:l.styleBindings,M=Ea(S),V=ru(S);o[f]=c;let ce,Y=!1;if(Array.isArray(c)){const ge=c;ce=ge[1],(null===ce||Ei(ge,ce)>0)&&(Y=!0)}else ce=c;if(g)if(0!==V){const De=Ea(o[M+1]);o[f+1]=Ap(De,M),0!==De&&(o[De+1]=Dp(o[De+1],f)),o[M+1]=function eD(o,l){return 131071&o|l<<17}(o[M+1],f)}else o[f+1]=Ap(M,0),0!==M&&(o[M+1]=Dp(o[M+1],f)),M=f;else o[f+1]=Ap(V,0),0===M?M=f:o[V+1]=Dp(o[V+1],f),V=f;Y&&(o[f+1]=Qg(o[f+1])),Gp(o,ce,f,!0),Gp(o,ce,f,!1),function Ad(o,l,c,f,g){const v=g?o.residualClasses:o.residualStyles;null!=v&&"string"==typeof l&&Ei(v,l)>=0&&(c[f+1]=Jg(c[f+1]))}(l,ce,o,f,v),S=Ap(M,V),v?l.classBindings=S:l.styleBindings=S}(g,v,l,c,S,f)}}function zp(o,l,c,f,g){let v=null;const S=c.directiveEnd;let M=c.directiveStylingLast;for(-1===M?M=c.directiveStart:M++;M<S&&(v=l[M],f=qp(f,v.hostAttrs,g),v!==o);)M++;return null!==o&&(c.directiveStylingLast=M),f}function qp(o,l,c){const f=c?1:2;let g=-1;if(null!==l)for(let v=0;v<l.length;v++){const S=l[v];"number"==typeof S?g=S:g===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),zi(o,S,!!c||l[++v]))}return void 0===o?null:o}function by(o,l,c,f,g,v,S,M){if(!(3&l.type))return;const V=o.data,Y=V[M+1];Zp(function iE(o){return 1==(1&o)}(Y)?I0(V,l,c,g,ru(Y),S):void 0)||(Zp(v)||function XA(o){return 2==(2&o)}(Y)&&(v=I0(V,null,c,g,M,S)),function zC(o,l,c,f,g){if(l)g?o.addClass(c,f):o.removeClass(c,f);else{let v=-1===f.indexOf("-")?void 0:_l.DashCase;null==g?o.removeStyle(c,f,v):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),v|=_l.Important),o.setStyle(c,f,g,v))}}(f,S,Ai(Xn(),c),g,v))}function I0(o,l,c,f,g,v){const S=null===l;let M;for(;g>0;){const V=o[g],Y=Array.isArray(V),ce=Y?V[1]:V,ge=null===ce;let De=c[g+1];De===hn&&(De=ge?Gt:void 0);let Le=ge?al(De,f):ce===f?De:void 0;if(Y&&!Zp(Le)&&(Le=al(V,f)),Zp(Le)&&(M=Le,S))return M;const ze=o[g+1];g=S?Ea(ze):ru(ze)}if(null!==l){let V=v?l.residualClasses:l.residualStyles;null!=V&&(M=al(V,f))}return M}function Zp(o){return void 0!==o}function A0(o,l){return 0!=(o.flags&(l?16:32))}function YE(o,l=""){const c=Ke(),f=dn(),g=o+22,v=f.firstCreatePass?yd(f,g,1,l,null):f.data[g],S=c[g]=function Ev(o,l){return o.createText(l)}(c[11],l);bp(f,c,S,v),Zr(v,!1)}function Dd(o){return xd("",o,""),Dd}function xd(o,l,c){const f=Ke(),g=Ed(f,o,l,c);return g!==hn&&function Sa(o,l,c){const f=Ai(l,o);!function LC(o,l,c){o.setValue(l,c)}(o[11],f,c)}(f,Xn(),g),xd}const mc=void 0;var Bh=["en",[["a","p"],["AM","PM"],mc],[["AM","PM"],mc,mc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mc,"{1} 'at' {0}",mc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sy(o){const c=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===f?1:5}];let Uh={};function M0(o){const l=function ZD(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=uS(l);if(c)return c;const f=l.split("-")[0];if(c=uS(f),c)return c;if("en"===f)return Bh;throw new A(701,!1)}function cS(o){return M0(o)[Jt.PluralCase]}function uS(o){return o in Uh||(Uh[o]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[o]),Uh[o]}var Jt=(()=>((Jt=Jt||{})[Jt.LocaleId=0]="LocaleId",Jt[Jt.DayPeriodsFormat=1]="DayPeriodsFormat",Jt[Jt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jt[Jt.DaysFormat=3]="DaysFormat",Jt[Jt.DaysStandalone=4]="DaysStandalone",Jt[Jt.MonthsFormat=5]="MonthsFormat",Jt[Jt.MonthsStandalone=6]="MonthsStandalone",Jt[Jt.Eras=7]="Eras",Jt[Jt.FirstDayOfWeek=8]="FirstDayOfWeek",Jt[Jt.WeekendRange=9]="WeekendRange",Jt[Jt.DateFormat=10]="DateFormat",Jt[Jt.TimeFormat=11]="TimeFormat",Jt[Jt.DateTimeFormat=12]="DateTimeFormat",Jt[Jt.NumberSymbols=13]="NumberSymbols",Jt[Jt.NumberFormats=14]="NumberFormats",Jt[Jt.CurrencyCode=15]="CurrencyCode",Jt[Jt.CurrencySymbol=16]="CurrencySymbol",Jt[Jt.CurrencyName=17]="CurrencyName",Jt[Jt.Currencies=18]="Currencies",Jt[Jt.Directionality=19]="Directionality",Jt[Jt.PluralCase=20]="PluralCase",Jt[Jt.ExtraData=21]="ExtraData",Jt))();const hu="en-US";let fS=hu;function Oy(o,l,c,f,g){if(o=G(o),Array.isArray(o))for(let v=0;v<o.length;v++)Oy(o[v],l,c,f,g);else{const v=dn(),S=Ke();let M=Qc(o)?o:G(o.provide),V=CC(o);const Y=ur(),ce=1048575&Y.providerIndexes,ge=Y.directiveStart,De=Y.providerIndexes>>20;if(Qc(o)||!o.multi){const Le=new Ci(V,g,Ch),ze=Gh(M,l,g?ce:ce+De,ge);-1===ze?(ga(Kr(Y,S),v,M),q0(v,o,l.length),l.push(M),Y.directiveStart++,Y.directiveEnd++,g&&(Y.providerIndexes+=1048576),c.push(Le),S.push(Le)):(c[ze]=Le,S[ze]=Le)}else{const Le=Gh(M,l,ce+De,ge),ze=Gh(M,l,ce,ce+De),ot=Le>=0&&c[Le],dt=ze>=0&&c[ze];if(g&&!dt||!g&&!ot){ga(Kr(Y,S),v,M);const It=function _x(o,l,c,f,g){const v=new Ci(o,c,Ch);return v.multi=[],v.index=l,v.componentProviders=0,yx(v,g,f&&!c),v}(g?OS:KN,c.length,g,f,V);!g&&dt&&(c[ze].providerFactory=It),q0(v,o,l.length,0),l.push(M),Y.directiveStart++,Y.directiveEnd++,g&&(Y.providerIndexes+=1048576),c.push(It),S.push(It)}else q0(v,o,Le>-1?Le:ze,yx(c[g?ze:Le],V,!g&&f));!g&&f&&dt&&c[ze].componentProviders++}}}function q0(o,l,c,f){const g=Qc(l),v=function nA(o){return!!o.useClass}(l);if(g||v){const V=(v?G(l.useClass):l).prototype.ngOnDestroy;if(V){const Y=o.destroyHooks||(o.destroyHooks=[]);if(!g&&l.multi){const ce=Y.indexOf(c);-1===ce?Y.push(c,[f,V]):Y[ce+1].push(f,V)}else Y.push(c,V)}}}function yx(o,l,c){return c&&o.componentProviders++,o.multi.push(l)-1}function Gh(o,l,c,f){for(let g=c;g<f;g++)if(l[g]===o)return g;return-1}function KN(o,l,c,f){return W0(this.multi,[])}function OS(o,l,c,f){const g=this.multi;let v;if(this.providerFactory){const S=this.providerFactory.componentProviders,M=Os(c,c[1],this.providerFactory.index,f);v=M.slice(0,S),W0(g,v);for(let V=S;V<M.length;V++)v.push(M[V])}else v=[],W0(g,v);return v}function W0(o,l){for(let c=0;c<o.length;c++)l.push((0,o[c])());return l}function Z0(o,l=[]){return c=>{c.providersResolver=(f,g)=>function gx(o,l,c){const f=dn();if(f.firstCreatePass){const g=ai(o);Oy(c,f.data,f.blueprint,g,!0),Oy(l,f.data,f.blueprint,g,!1)}}(f,g?g(o):o,l)}}class $h{}class RS{}function vx(o,l){return new NS(o,l??null)}class NS extends $h{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ao(this);const f=vt(l);this._bootstrapComponents=Xc(f.bootstrap),this._r3Injector=ZA(l,c,[{provide:$h,useValue:this},{provide:hp,useValue:this.componentFactoryResolver}],z(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Ry extends RS{constructor(l){super(),this.moduleType=l}create(l){return new NS(this.moduleType,l)}}class wx extends $h{constructor(l,c,f){super(),this.componentFactoryResolver=new ao(this),this.instance=null;const g=new Cg([...l,{provide:$h,useValue:this},{provide:hp,useValue:this.componentFactoryResolver}],c||bg(),f,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function FS(o,l,c=null){return new wx(o,l,c).injector}let bx=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const f=_C(0,c.type),g=f.length>0?FS([f],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,g)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Ot({token:o,providedIn:"environment",factory:()=>new o(br(Jc))}),o})();function LS(o){o.getStandaloneInjector=l=>l.get(bx).getOrCreateStandaloneInjector(o)}function $S(o,l,c){const f=dr()+o,g=Ke();return g[f]===hn?Cl(g,f,c?l.call(c):l()):function Lp(o,l){return o[l]}(g,f)}function zS(o,l,c,f){return function WS(o,l,c,f,g,v){const S=l+c;return Mi(o,S,g)?Cl(o,S+1,v?f.call(v,g):f(g)):lm(o,S+1)}(Ke(),dr(),o,l,c,f)}function qS(o,l,c,f,g){return ZS(Ke(),dr(),o,l,c,f,g)}function lm(o,l){const c=o[l];return c===hn?void 0:c}function ZS(o,l,c,f,g,v,S){const M=l+c;return cu(o,M,g,v)?Cl(o,M+2,S?f.call(S,g,v):f(g,v)):lm(o,M+2)}function JS(o,l){const c=dn();let f;const g=o+22;c.firstCreatePass?(f=function Ox(o,l){if(l)for(let c=l.length-1;c>=0;c--){const f=l[c];if(o===f.name)return f}}(l,c.pipeRegistry),c.data[g]=f,f.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(g,f.onDestroy)):f=c.data[g];const v=f.factory||(f.factory=Or(f.type)),S=$t(Ch);try{const M=re(!1),V=v();return re(M),function TD(o,l,c,f){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),l[c]=f}(c,Ke(),g,V),V}finally{$t(S)}}function XS(o,l,c,f){const g=o+22,v=Ke(),S=Bi(v,g);return function cm(o,l){return o[1].data[l].pure}(v,g)?ZS(v,dr(),l,S.transform,c,f,S):S.transform(c,f)}function Q0(o){return l=>{setTimeout(o,void 0,l)}}const Tl=class Vx extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,f){let g=l,v=c||(()=>null),S=f;if(l&&"object"==typeof l){const V=l;g=V.next?.bind(V),v=V.error?.bind(V),S=V.complete?.bind(V)}this.__isAsync&&(v=Q0(v),g&&(g=Q0(g)),S&&(S=Q0(S)));const M=super.subscribe({next:g,error:v,complete:S});return l instanceof y.w0&&l.add(M),M}};function Bx(){return this._results[lu()]()}class J0{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=lu(),f=J0.prototype;f[c]||(f[c]=Bx)}get changes(){return this._changes||(this._changes=new Tl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const f=this;f.dirty=!1;const g=Yr(l);(this._changesDetected=!function nh(o,l,c){if(o.length!==l.length)return!1;for(let f=0;f<o.length;f++){let g=o[f],v=l[f];if(c&&(g=c(g),v=c(v)),v!==g)return!1}return!0}(f._results,g,c))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let um=(()=>{class o{}return o.__NG_ELEMENT_ID__=jx,o})();const Ux=um,Hx=class extends Ux{constructor(l,c,f){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=f}createEmbeddedView(l,c){const f=this._declarationTContainer.tViews,g=gd(this._declarationLView,f,l,16,null,f.declTNode,null,null,null,null,c||null);g[17]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[19];return null!==S&&(g[19]=S.createEmbeddedView(f)),qv(f,g,l),new hc(g)}};function jx(){return Fy(ur(),Ke())}function Fy(o,l){return 4&o.type?new Hx(l,o,cd(o,l)):null}let Ly=(()=>{class o{}return o.__NG_ELEMENT_ID__=Gx,o})();function Gx(){return nT(ur(),Ke())}const $x=Ly,eT=class extends $x{constructor(l,c,f){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=f}get element(){return cd(this._hostTNode,this._hostLView)}get injector(){return new el(this._hostTNode,this._hostLView)}get parentInjector(){const l=Ql(this._hostTNode,this._hostLView);if(Wu(l)){const c=R(l,this._hostLView),f=yr(l);return new el(c[1].data[f+8],c)}return new el(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=tT(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,f){let g,v;"number"==typeof f?g=f:null!=f&&(g=f.index,v=f.injector);const S=l.createEmbeddedView(c||{},v);return this.insert(S,g),S}createComponent(l,c,f,g,v){const S=l&&!function qc(o){return"function"==typeof o}(l);let M;if(S)M=c;else{const ge=c||{};M=ge.index,f=ge.injector,g=ge.projectableNodes,v=ge.environmentInjector||ge.ngModuleRef}const V=S?l:new Rp(le(l)),Y=f||this.parentInjector;if(!v&&null==V.ngModule){const De=(S?Y:this.parentInjector).get(Jc,null);De&&(v=De)}const ce=V.create(Y,g,void 0,v);return this.insert(ce.hostView,M),ce}insert(l,c){const f=l._lView,g=f[1];if(function Bl(o){return yi(o[3])}(f)){const ce=this.indexOf(l);if(-1!==ce)this.detach(ce);else{const ge=f[3],De=new eT(ge,ge[6],ge[3]);De.detach(De.indexOf(l))}}const v=this._adjustIndex(c),S=this._lContainer;!function qt(o,l,c,f){const g=10+f,v=c.length;f>0&&(c[g-1][4]=l),f<v-10?(l[4]=c[g],ec(c,10+f,l)):(c.push(l),l[4]=null),l[3]=c;const S=l[17];null!==S&&c!==S&&function UA(o,l){const c=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===c?o[9]=[l]:c.push(l)}(S,l);const M=l[19];null!==M&&M.insertView(o),l[2]|=64}(g,f,S,v);const M=Lg(v,S),V=f[11],Y=Fg(V,S[7]);return null!==Y&&function vp(o,l,c,f,g,v){f[0]=g,f[6]=l,_h(o,f,c,1,g,v)}(g,S[6],V,f,Y,M),l.attachToViewContainerRef(),ec(X0(S),v,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=tT(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),f=Ng(this._lContainer,c);f&&(Ns(X0(this._lContainer),c),Sv(f[1],f))}detach(l){const c=this._adjustIndex(l,-1),f=Ng(this._lContainer,c);return f&&null!=Ns(X0(this._lContainer),c)?new hc(f):null}_adjustIndex(l,c=0){return l??this.length+c}};function tT(o){return o[8]}function X0(o){return o[8]||(o[8]=[])}function nT(o,l){let c;const f=l[o.index];if(yi(f))c=f;else{let g;if(8&o.type)g=Gn(f);else{const v=l[11];g=v.createComment("");const S=xr(o,l);eu(v,Fg(v,S),g,function tu(o,l){return o.nextSibling(l)}(v,S),!1)}l[o.index]=c=Go(f,l,g,o),kp(l,c)}return new eT(c,o,l)}class ew{constructor(l){this.queryList=l,this.matches=null}clone(){return new ew(this.queryList)}setDirty(){this.queryList.setDirty()}}class dm{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const f=null!==l.contentQueries?l.contentQueries[0]:c.length,g=[];for(let v=0;v<f;v++){const S=c.getByIndex(v);g.push(this.queries[S.indexInDeclarationView].clone())}return new dm(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==cT(l,c).matches&&this.queries[c].setDirty()}}class tw{constructor(l,c,f=null){this.predicate=l,this.flags=c,this.read=f}}class nw{constructor(l=[]){this.queries=l}elementStart(l,c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let f=0;f<this.length;f++){const g=null!==c?c.length:0,v=this.getByIndex(f).embeddedTView(l,g);v&&(v.indexInDeclarationView=f,null!==c?c.push(v):c=[v])}return null!==c?new nw(c):null}template(l,c){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class rw{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new rw(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==c;)f=f.parent;return c===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const v=f[g];this.matchTNodeWithReadOption(l,c,Wx(c,v)),this.matchTNodeWithReadOption(l,c,Xl(c,l,v,!1,!1))}else f===um?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Xl(c,l,f,!1,!1))}matchTNodeWithReadOption(l,c,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===fp||g===Ly||g===um&&4&c.type)this.addMatch(c.index,-2);else{const v=Xl(c,l,g,!1,!1);null!==v&&this.addMatch(c.index,v)}else this.addMatch(c.index,f)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function Wx(o,l){const c=o.localNames;if(null!==c)for(let f=0;f<c.length;f+=2)if(c[f]===l)return c[f+1];return null}function Kx(o,l,c,f){return-1===c?function Zx(o,l){return 11&o.type?cd(o,l):4&o.type?Fy(o,l):null}(l,o):-2===c?function Yx(o,l,c){return c===fp?cd(l,o):c===um?Fy(l,o):c===Ly?nT(l,o):void 0}(o,l,f):Os(o,o[1],c,l)}function rT(o,l,c,f){const g=l[19].queries[f];if(null===g.matches){const v=o.data,S=c.matches,M=[];for(let V=0;V<S.length;V+=2){const Y=S[V];M.push(Y<0?null:Kx(l,v[Y],S[V+1],c.metadata.read))}g.matches=M}return g.matches}function iw(o,l,c,f){const g=o.queries.getByIndex(c),v=g.matches;if(null!==v){const S=rT(o,l,g,c);for(let M=0;M<v.length;M+=2){const V=v[M];if(V>0)f.push(S[M/2]);else{const Y=v[M+1],ce=l[-V];for(let ge=10;ge<ce.length;ge++){const De=ce[ge];De[17]===De[3]&&iw(De[1],De,Y,f)}if(null!==ce[9]){const ge=ce[9];for(let De=0;De<ge.length;De++){const Le=ge[De];iw(Le[1],Le,Y,f)}}}}}return f}function iT(o){const l=Ke(),c=dn(),f=ua();jl(f+1);const g=cT(c,f);if(o.dirty&&function Vl(o){return 4==(4&o[2])}(l)===(2==(2&g.metadata.flags))){if(null===g.matches)o.reset([]);else{const v=g.crossesNgTemplate?iw(c,l,f,[]):rT(c,l,g,f);o.reset(v,Ho),o.notifyOnChanges()}return!0}return!1}function sT(o,l,c,f){const g=dn();if(g.firstCreatePass){const v=ur();(function lT(o,l,c){null===o.queries&&(o.queries=new nw),o.queries.track(new rw(l,c))})(g,new tw(l,c,f),v.index),function Xx(o,l){const c=o.contentQueries||(o.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,l)}(g,o),2==(2&c)&&(g.staticContentQueries=!0)}!function aT(o,l,c){const f=new J0(4==(4&c));vE(o,l,f,f.destroy),null===l[19]&&(l[19]=new dm),l[19].queries.push(new ew(f))}(g,Ke(),c)}function oT(){return function Jx(o,l){return o[19].queries[l].queryList}(Ke(),ua())}function cT(o,l){return o.queries.getByIndex(l)}function uT(o,l){return Fy(o,l)}function Wh(...o){}const Hy=new er("Application Initializer");let jy=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Wh,this.reject=Wh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const c=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const v=this.appInits[g]();if(Up(v))c.push(v);else if(kE(v)){const S=new Promise((M,V)=>{v.subscribe({complete:M,error:V})});c.push(S)}}Promise.all(c).then(()=>{f()}).catch(g=>{this.reject(g)}),0===c.length&&f(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(br(Hy,8))},o.\u0275prov=Ot({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const TT=new er("AppId",{providedIn:"root",factory:function Gy(){return`${dw()}${dw()}${dw()}`}});function dw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zh=new er("Platform Initializer"),dP=new er("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Kh=new er("appBootstrapListener"),hP=new er("AnimationModuleType");let $y=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Ot({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const ym=new er("LocaleId",{providedIn:"root",factory:()=>$(ym,nt.Optional|nt.SkipSelf)||function hw(){return typeof $localize<"u"&&$localize.locale||hu}()}),IT=new er("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class pw{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let mw=(()=>{class o{compileModuleSync(c){return new Ry(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const f=this.compileModuleSync(c),v=Xc(vt(c).declarations).reduce((S,M)=>{const V=le(M);return V&&S.push(new Rp(V)),S},[]);return new pw(f,v)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Ot({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const PT=(()=>Promise.resolve(0))();function _w(o){typeof Zone>"u"?PT.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Bs{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tl(!1),this.onMicrotaskEmpty=new Tl(!1),this.onStable=new Tl(!1),this.onError=new Tl(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const v=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new v("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&c,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function vw(){let o=Wt.requestAnimationFrame,l=Wt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function zy(o){const l=()=>{!function Ri(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Wt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,_m(o),o.isCheckStableRunning=!0,Xr(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),_m(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,f,g,v,S,M)=>{try{return MT(o),c.invokeTask(g,v,S,M)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||o.shouldCoalesceRunChangeDetection)&&l(),kT(o)}},onInvoke:(c,f,g,v,S,M,V)=>{try{return MT(o),c.invoke(g,v,S,M,V)}finally{o.shouldCoalesceRunChangeDetection&&l(),kT(o)}},onHasTask:(c,f,g,v)=>{c.hasTask(g,v),f===g&&("microTask"==v.change?(o._hasPendingMicrotasks=v.microTask,_m(o),Xr(o)):"macroTask"==v.change&&(o.hasPendingMacrotasks=v.macroTask))},onHandleError:(c,f,g,v)=>(c.handleError(g,v),o.runOutsideAngular(()=>o.onError.emit(v)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bs.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(Bs.isInAngularZone())throw new A(909,!1)}run(l,c,f){return this._inner.run(l,c,f)}runTask(l,c,f,g){const v=this._inner,S=v.scheduleEventTask("NgZoneEvent: "+g,l,ww,Wh,Wh);try{return v.runTask(S,c,f)}finally{v.cancelTask(S)}}runGuarded(l,c,f){return this._inner.runGuarded(l,c,f)}runOutsideAngular(l){return this._outer.run(l)}}const ww={};function Xr(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function _m(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function MT(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function kT(o){o._nesting--,Xr(o)}class OT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tl,this.onMicrotaskEmpty=new Tl,this.onStable=new Tl,this.onError=new Tl}run(l,c,f){return l.apply(c,f)}runGuarded(l,c,f){return l.apply(c,f)}runOutsideAngular(l){return l()}runTask(l,c,f,g){return l.apply(c,f)}}const RT=new er(""),NT=new er("");let vm,FT=(()=>{class o{constructor(c,f,g){this._ngZone=c,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vm||(function gP(o){vm=o}(g),g.addToWindow(f)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bs.assertNotInAngularZone(),_w(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_w(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,g){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==v),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:v,updateCb:g})}whenStable(c,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,f,g){return[]}}return o.\u0275fac=function(c){return new(c||o)(br(Bs),br(qy),br(NT))},o.\u0275prov=Ot({token:o,factory:o.\u0275fac}),o})(),qy=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){return vm?.findTestabilityInTree(this,c,f)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Ot({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),vc=null;const LT=new er("AllowMultipleToken"),Yh=new er("PlatformDestroyListeners");class wm{constructor(l,c){this.name=l,this.token=c}}function UT(o,l,c=[]){const f=`Platform: ${l}`,g=new er(f);return(v=[])=>{let S=Sw();if(!S||S.injector.get(LT,!1)){const M=[...c,...v,{provide:g,useValue:!0}];o?o(M):function VT(o){if(vc&&!vc.get(LT,!1))throw new A(400,!1);vc=o;const l=o.get(mu);(function Cw(o){const l=o.get(Zh,null);l&&l.forEach(c=>c())})(o)}(function Md(o=[],l){return vh.create({name:l,providers:[{provide:bC,useValue:"platform"},{provide:Yh,useValue:new Set([()=>vc=null])},...o]})}(M,f))}return function vP(o){const l=Sw();if(!l)throw new A(401,!1);return l}()}}function Sw(){return vc?.get(mu)??null}let mu=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const g=function bm(o,l){let c;return c="noop"===o?new OT:("zone.js"===o?void 0:o)||new Bs(l),c}(f?.ngZone,function Tw(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(f)),v=[{provide:Bs,useValue:g}];return g.run(()=>{const S=vh.create({providers:v,parent:this.injector,name:c.moduleType.name}),M=c.create(S),V=M.injector.get(gp,null);if(!V)throw new A(402,!1);return g.runOutsideAngular(()=>{const Y=g.onError.subscribe({next:ce=>{V.handleError(ce)}});M.onDestroy(()=>{Si(this._modules,M),Y.unsubscribe()})}),function Iw(o,l,c){try{const f=c();return Up(f)?f.catch(g=>{throw l.runOutsideAngular(()=>o.handleError(g)),g}):f}catch(f){throw l.runOutsideAngular(()=>o.handleError(f)),f}}(V,g,()=>{const Y=M.injector.get(jy);return Y.runInitializers(),Y.donePromise.then(()=>(function pS(o){Ye(o,"Expected localeId to be defined"),"string"==typeof o&&(fS=o.toLowerCase().replace(/_/g,"-"))}(M.injector.get(ym,hu)||hu),this._moduleDoBootstrap(M),M))})})}bootstrapModule(c,f=[]){const g=Qh({},f);return function bw(o,l,c){const f=new Ry(c);return Promise.resolve(f)}(0,0,c).then(v=>this.bootstrapModuleFactory(v,g))}_moduleDoBootstrap(c){const f=c.injector.get(Cm);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!c.instance.ngDoBootstrap)throw new A(403,!1);c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const c=this._injector.get(Yh,null);c&&(c.forEach(f=>f()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(br(vh))},o.\u0275prov=Ot({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Qh(o,l){return Array.isArray(l)?l.reduce(Qh,o):{...o,...l}}let Cm=(()=>{class o{constructor(c,f,g){this._zone=c,this._injector=f,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new w.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),S=new w.y(M=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{Bs.assertNotInAngularZone(),_w(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{Bs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{V.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,x.T)(v,S.pipe((0,F.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,f){const g=c instanceof hv;if(!this._injector.get(jy).done)throw!g&&Je(c),new A(405,false);let S;S=g?c:this._injector.get(hp).resolveComponentFactory(c),this.componentTypes.push(S.componentType);const M=function _P(o){return o.isBoundToModule}(S)?void 0:this._injector.get($h),Y=S.create(vh.NULL,[],f||S.selector,M),ce=Y.location.nativeElement,ge=Y.injector.get(RT,null);return ge?.registerApplication(ce),Y.onDestroy(()=>{this.detachView(Y.hostView),Si(this.components,Y),ge?.unregisterApplication(ce)}),this._loadComponent(Y),Y}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;Si(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Kh,[]).concat(this._bootstrapListeners).forEach(g=>g(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Si(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new A(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(br(Bs),br(Jc),br(gp))},o.\u0275prov=Ot({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Si(o,l){const c=o.indexOf(l);c>-1&&o.splice(c,1)}let Sm=!0,Dw=!1;function xw(){return Dw=!0,Sm}function HT(){if(Dw)throw new Error("Cannot enable prod mode after platform setup.");Sm=!1}let Pw=(()=>{class o{}return o.__NG_ELEMENT_ID__=Mw,o})();function Mw(o){return function Ky(o,l,c){if(Vi(o)&&!c){const f=Mn(o.index,l);return new hc(f,f)}return 47&o.type?new hc(l[16],l):null}(ur(),Ke(),16==(16&o))}class Al{constructor(){}supports(l){return Ah(l)}create(l){return new Xy(l)}}const Jy=(o,l)=>l;class Xy{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Jy}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,f=this._removalsHead,g=0,v=null;for(;c||f;){const S=!f||c&&c.currentIndex<ef(f,g,v)?c:f,M=ef(S,g,v),V=S.currentIndex;if(S===f)g--,f=f._nextRemoved;else if(c=c._next,null==S.previousIndex)g++;else{v||(v=[]);const Y=M-g,ce=V-g;if(Y!=ce){for(let De=0;De<Y;De++){const Le=De<v.length?v[De]:v[De]=0,ze=Le+De;ce<=ze&&ze<Y&&(v[De]=Le+1)}v[S.previousIndex]=ce-Y}}M!==V&&l(S,M,V)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Ah(l))throw new A(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,v,S,c=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let M=0;M<this.length;M++)v=l[M],S=this._trackByFn(M,v),null!==c&&Object.is(c.trackById,S)?(f&&(c=this._verifyReinsertion(c,v,S,M)),Object.is(c.item,v)||this._addIdentityChange(c,v)):(c=this._mismatch(c,v,S,M),f=!0),c=c._next}else g=0,function Pi(o,l){if(Array.isArray(o))for(let c=0;c<o.length;c++)l(o[c]);else{const c=o[lu()]();let f;for(;!(f=c.next()).done;)l(f.value)}}(l,M=>{S=this._trackByFn(g,M),null!==c&&Object.is(c.trackById,S)?(f&&(c=this._verifyReinsertion(c,M,S,g)),Object.is(c.item,M)||this._addIdentityChange(c,M)):(c=this._mismatch(c,M,S,g),f=!0),c=c._next,g++}),this.length=g;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,f,g){let v;return null===l?v=this._itTail:(v=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,v,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,v,g)):l=this._addAfter(new qT(c,f),v,g),l}_verifyReinsertion(l,c,f,g){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==v?l=this._reinsertAfter(v,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,v=l._nextRemoved;return null===g?this._removalsHead=v:g._nextRemoved=v,null===v?this._removalsTail=g:v._prevRemoved=g,this._insertAfter(l,c,f),this._addToMoves(l,f),l}_moveAfter(l,c,f){return this._unlink(l),this._insertAfter(l,c,f),this._addToMoves(l,f),l}_addAfter(l,c,f){return this._insertAfter(l,c,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,f){const g=null===c?this._itHead:c._next;return l._next=g,l._prev=c,null===g?this._itTail=l:g._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new Am),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,f=l._next;return null===c?this._itHead=f:c._next=f,null===f?this._itTail=c:f._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Am),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class qT{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sr{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===c||c<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const c=l._prevDup,f=l._nextDup;return null===c?this._head=f:c._nextDup=f,null===f?this._tail=c:f._prevDup=c,null===this._head}}class Am{constructor(){this.map=new Map}put(l){const c=l.trackById;let f=this.map.get(c);f||(f=new Sr,this.map.set(c,f)),f.add(l)}get(l,c){const g=this.map.get(l);return g?g.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ef(o,l,c){const f=o.previousIndex;if(null===f)return f;let g=0;return c&&f<c.length&&(g=c[f]),f+l+g}class tf{constructor(){}supports(l){return l instanceof Map||bl(l)}create(){return new SP}}class SP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||bl(l)))throw new A(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,g)=>{if(c&&c.key===g)this._maybeAddToChanges(c,f),this._appendAfter=c,c=c._next;else{const v=this._getOrCreateRecordForKey(g,f);c=this._insertBeforeOrAppend(c,v)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let f=c;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const f=l._prev;return c._next=l,c._prev=f,l._prev=c,f&&(f._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,c);const v=g._prev,S=g._next;return v&&(v._next=S),S&&(S._prev=v),g._next=null,g._prev=null,g}const f=new WT(l);return this._records.set(l,f),f.currentValue=c,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(f=>c(l[f],f))}}class WT{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ZT(){return new Fw([new Al])}let Fw=(()=>{class o{constructor(c){this.factories=c}static create(c,f){if(null!=f){const g=f.factories.slice();c=c.concat(g)}return new o(c)}static extend(c){return{provide:o,useFactory:f=>o.create(c,f||ZT()),deps:[[o,new Qt,new ct]]}}find(c){const f=this.factories.find(g=>g.supports(c));if(null!=f)return f;throw new A(901,!1)}}return o.\u0275prov=Ot({token:o,providedIn:"root",factory:ZT}),o})();function KT(){return new Rd([new tf])}let Rd=(()=>{class o{constructor(c){this.factories=c}static create(c,f){if(f){const g=f.factories.slice();c=c.concat(g)}return new o(c)}static extend(c){return{provide:o,useFactory:f=>o.create(c,f||KT()),deps:[[o,new Qt,new ct]]}}find(c){const f=this.factories.find(g=>g.supports(c));if(f)return f;throw new A(901,!1)}}return o.\u0275prov=Ot({token:o,providedIn:"root",factory:KT}),o})();const nf=UT(null,"core",[]);let AP=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(br(Cm))},o.\u0275mod=bn({type:o}),o.\u0275inj=wt({}),o})();function DP(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(d,h,p)=>{"use strict";p.d(h,{Z:()=>A});var s=p(2090),y=p(4859),w=p(9681),x=p(1877);class F{constructor(T,I){this._delegate=T,this.firebase=I,(0,w._addComponent)(T,new y.wA("app-compat",()=>this,"PUBLIC")),this.container=T.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(T){this._delegate.automaticDataCollectionEnabled=T}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(T=>{this._delegate.checkDestroyed(),T()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,w.deleteApp)(this._delegate)))}_getService(T,I=w._DEFAULT_ENTRY_NAME){var q;this._delegate.checkDestroyed();const J=this._delegate.container.getProvider(T);return!J.isInitialized()&&"EXPLICIT"===(null===(q=J.getComponent())||void 0===q?void 0:q.instantiationMode)&&J.initialize(),J.getImmediate({identifier:I})}_removeServiceInstance(T,I=w._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(T).clearInstance(I)}_addComponent(T){(0,w._addComponent)(this._delegate,T)}_addOrOverwriteComponent(T){(0,w._addOrOverwriteComponent)(this._delegate,T)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const H=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function Q(){const O=function z(O){const T={},I={__esModule:!0,initializeApp:function te(_e,ve={}){const Ie=w.initializeApp(_e,ve);if((0,s.r3)(T,Ie.name))return T[Ie.name];const be=new O(Ie,I);return T[Ie.name]=be,be},app:J,registerVersion:w.registerVersion,setLogLevel:w.setLogLevel,onLog:w.onLog,apps:null,SDK_VERSION:w.SDK_VERSION,INTERNAL:{registerComponent:function me(_e){const ve=_e.name,Ie=ve.replace("-compat","");if(w._registerComponent(_e)&&"PUBLIC"===_e.type){const be=(de=J())=>{if("function"!=typeof de[Ie])throw H.create("invalid-app-argument",{appName:ve});return de[Ie]()};void 0!==_e.serviceProps&&(0,s.ZB)(be,_e.serviceProps),I[Ie]=be,O.prototype[Ie]=function(...de){return this._getService.bind(this,ve).apply(this,_e.multipleInstances?de:[])}}return"PUBLIC"===_e.type?I[Ie]:null},removeApp:function q(_e){delete T[_e]},useAsService:function Pe(_e,ve){return"serverAuth"===ve?null:ve},modularAPIs:w}};function J(_e){if(!(0,s.r3)(T,_e=_e||w._DEFAULT_ENTRY_NAME))throw H.create("no-app",{appName:_e});return T[_e]}return I.default=I,Object.defineProperty(I,"apps",{get:function ne(){return Object.keys(T).map(_e=>T[_e])}}),J.App=O,I}(F);return O.INTERNAL=Object.assign(Object.assign({},O.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function T(I){(0,s.ZB)(O,I)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),O}(),U=new x.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const O=self.firebase.SDK_VERSION;O&&O.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const A=P;!function K(O){(0,w.registerVersion)("@firebase/app-compat","0.1.39",O)}()},9681:(d,h,p)=>{"use strict";p.r(h),p.d(h,{FirebaseError:()=>x.ZR,SDK_VERSION:()=>Nt,_DEFAULT_ENTRY_NAME:()=>Ye,_addComponent:()=>St,_addOrOverwriteComponent:()=>Ot,_apps:()=>ut,_clearComponents:()=>sn,_components:()=>Ut,_getProvider:()=>wt,_registerComponent:()=>Et,_removeServiceInstance:()=>Sn,deleteApp:()=>mn,getApp:()=>cn,getApps:()=>jn,initializeApp:()=>An,onLog:()=>Dn,registerVersion:()=>vn,setLogLevel:()=>$t});var s=p(5861),y=p(4859),w=p(1877),x=p(2090),F=p(8766);class L{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(yt=>{if(function H(mt){return"VERSION"===mt.getComponent()?.type}(yt)){const At=yt.getImmediate();return`${At.library}/${At.version}`}return null}).filter(yt=>yt).join(" ")}}const z="@firebase/app",Q="0.8.4",P=new w.Yd("@firebase/app"),Ye="[DEFAULT]",$e={[z]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ut=new Map,Ut=new Map;function St(mt,qe){try{mt.container.addComponent(qe)}catch(yt){P.debug(`Component ${qe.name} failed to register with FirebaseApp ${mt.name}`,yt)}}function Ot(mt,qe){mt.container.addOrOverwriteComponent(qe)}function Et(mt){const qe=mt.name;if(Ut.has(qe))return P.debug(`There were multiple attempts to register component ${qe}.`),!1;Ut.set(qe,mt);for(const yt of ut.values())St(yt,mt);return!0}function wt(mt,qe){const yt=mt.container.getProvider("heartbeat").getImmediate({optional:!0});return yt&&yt.triggerHeartbeat(),mt.container.getProvider(qe)}function Sn(mt,qe,yt=Ye){wt(mt,qe).clearInstance(yt)}function sn(){Ut.clear()}const at=new x.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _n{constructor(qe,yt,At){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},yt),this._name=yt.name,this._automaticDataCollectionEnabled=yt.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw at.create("app-deleted",{appName:this._name})}}const Nt="9.14.0";function An(mt,qe={}){let yt=mt;"object"!=typeof qe&&(qe={name:qe});const At=Object.assign({name:Ye,automaticDataCollectionEnabled:!1},qe),Ft=At.name;if("string"!=typeof Ft||!Ft)throw at.create("bad-app-name",{appName:String(Ft)});if(yt||(yt=(0,x.aH)()),!yt)throw at.create("no-options");const bn=ut.get(Ft);if(bn){if((0,x.vZ)(yt,bn.options)&&(0,x.vZ)(At,bn.config))return bn;throw at.create("duplicate-app",{appName:Ft})}const Ae=new y.H0(Ft);for(const xe of Ut.values())Ae.addComponent(xe);const Te=new _n(yt,At,Ae);return ut.set(Ft,Te),Te}function cn(mt=Ye){const qe=ut.get(mt);if(!qe&&mt===Ye)return An();if(!qe)throw at.create("no-app",{appName:mt});return qe}function jn(){return Array.from(ut.values())}function mn(mt){return nt.apply(this,arguments)}function nt(){return(nt=(0,s.Z)(function*(mt){const qe=mt.name;ut.has(qe)&&(ut.delete(qe),yield Promise.all(mt.container.getProviders().map(yt=>yt.delete())),mt.isDeleted=!0)})).apply(this,arguments)}function vn(mt,qe,yt){var At;let Ft=null!==(At=$e[mt])&&void 0!==At?At:mt;yt&&(Ft+=`-${yt}`);const bn=Ft.match(/\s|\//),Ae=qe.match(/\s|\//);if(bn||Ae){const Te=[`Unable to register library "${Ft}" with version "${qe}":`];return bn&&Te.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),bn&&Ae&&Te.push("and"),Ae&&Te.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void P.warn(Te.join(" "))}Et(new y.wA(`${Ft}-version`,()=>({library:Ft,version:qe}),"VERSION"))}function Dn(mt,qe){if(null!==mt&&"function"!=typeof mt)throw at.create("invalid-log-argument");(0,w.Am)(mt,qe)}function $t(mt){(0,w.Ub)(mt)}const an="firebase-heartbeat-store";let wn=null;function xn(){return wn||(wn=(0,F.X3)("firebase-heartbeat-database",1,{upgrade:(mt,qe)=>{0===qe&&mt.createObjectStore(an)}}).catch(mt=>{throw at.create("idb-open",{originalErrorMessage:mt.message})})),wn}function rt(){return(rt=(0,s.Z)(function*(mt){var qe;try{return(yield xn()).transaction(an).objectStore(an).get(ar(mt))}catch(yt){if(yt instanceof x.ZR)P.warn(yt.message);else{const At=at.create("idb-get",{originalErrorMessage:null===(qe=yt)||void 0===qe?void 0:qe.message});P.warn(At.message)}}})).apply(this,arguments)}function Wt(mt,qe){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,s.Z)(function*(mt,qe){var yt;try{const Ft=(yield xn()).transaction(an,"readwrite");return yield Ft.objectStore(an).put(qe,ar(mt)),Ft.done}catch(At){if(At instanceof x.ZR)P.warn(At.message);else{const Ft=at.create("idb-set",{originalErrorMessage:null===(yt=At)||void 0===yt?void 0:yt.message});P.warn(Ft.message)}}})).apply(this,arguments)}function ar(mt){return`${mt.name}!${mt.options.appId}`}class lr{constructor(qe){this.container=qe,this._heartbeatsCache=null;const yt=this.container.getProvider("app").getImmediate();this._storage=new gn(yt),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var qe=this;return(0,s.Z)(function*(){const At=qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=tn();if(null===qe._heartbeatsCache&&(qe._heartbeatsCache=yield qe._heartbeatsCachePromise),qe._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!qe._heartbeatsCache.heartbeats.some(bn=>bn.date===Ft))return qe._heartbeatsCache.heartbeats.push({date:Ft,agent:At}),qe._heartbeatsCache.heartbeats=qe._heartbeatsCache.heartbeats.filter(bn=>{const Ae=new Date(bn.date).valueOf();return Date.now()-Ae<=2592e6}),qe._storage.overwrite(qe._heartbeatsCache)})()}getHeartbeatsHeader(){var qe=this;return(0,s.Z)(function*(){if(null===qe._heartbeatsCache&&(yield qe._heartbeatsCachePromise),null===qe._heartbeatsCache||0===qe._heartbeatsCache.heartbeats.length)return"";const yt=tn(),{heartbeatsToSend:At,unsentEntries:Ft}=function ri(mt,qe=1024){const yt=[];let At=mt.slice();for(const Ft of mt){const bn=yt.find(Ae=>Ae.agent===Ft.agent);if(bn){if(bn.dates.push(Ft.date),wr(yt)>qe){bn.dates.pop();break}}else if(yt.push({agent:Ft.agent,dates:[Ft.date]}),wr(yt)>qe){yt.pop();break}At=At.slice(1)}return{heartbeatsToSend:yt,unsentEntries:At}}(qe._heartbeatsCache.heartbeats),bn=(0,x.L)(JSON.stringify({version:2,heartbeats:At}));return qe._heartbeatsCache.lastSentHeartbeatDate=yt,Ft.length>0?(qe._heartbeatsCache.heartbeats=Ft,yield qe._storage.overwrite(qe._heartbeatsCache)):(qe._heartbeatsCache.heartbeats=[],qe._storage.overwrite(qe._heartbeatsCache)),bn})()}}function tn(){return(new Date).toISOString().substring(0,10)}class gn{constructor(qe){this.app=qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,x.hl)()&&(0,x.eu)().then(()=>!0).catch(()=>!1)})()}read(){var qe=this;return(0,s.Z)(function*(){return(yield qe._canUseIndexedDBPromise)&&(yield function Tt(mt){return rt.apply(this,arguments)}(qe.app))||{heartbeats:[]}})()}overwrite(qe){var yt=this;return(0,s.Z)(function*(){var At;if(yield yt._canUseIndexedDBPromise){const bn=yield yt.read();return Wt(yt.app,{lastSentHeartbeatDate:null!==(At=qe.lastSentHeartbeatDate)&&void 0!==At?At:bn.lastSentHeartbeatDate,heartbeats:qe.heartbeats})}})()}add(qe){var yt=this;return(0,s.Z)(function*(){var At;if(yield yt._canUseIndexedDBPromise){const bn=yield yt.read();return Wt(yt.app,{lastSentHeartbeatDate:null!==(At=qe.lastSentHeartbeatDate)&&void 0!==At?At:bn.lastSentHeartbeatDate,heartbeats:[...bn.heartbeats,...qe.heartbeats]})}})()}}function wr(mt){return(0,x.L)(JSON.stringify({version:2,heartbeats:mt})).length}!function Kn(mt){Et(new y.wA("platform-logger",qe=>new L(qe),"PRIVATE")),Et(new y.wA("heartbeat",qe=>new lr(qe),"PRIVATE")),vn(z,Q,mt),vn(z,Q,"esm2017"),vn("fire-js","")}("")},4859:(d,h,p)=>{"use strict";p.d(h,{H0:()=>z,wA:()=>w,zt:()=>F});var s=p(5861),y=p(2090);class w{constructor(P,U,G){this.name=P,this.instanceFactory=U,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const x="[DEFAULT]";class F{constructor(P,U){this.name=P,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const U=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(U)){const G=new y.BH;if(this.instancesDeferred.set(U,G),this.isInitialized(U)||this.shouldAutoInitialize())try{const j=this.getOrInitializeService({instanceIdentifier:U});j&&G.resolve(j)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(P){var U;const G=this.normalizeInstanceIdentifier(P?.identifier),j=null!==(U=P?.optional)&&void 0!==U&&U;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(j)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(K){if(j)return null;throw K}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if(function H(Q){return"EAGER"===Q.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:x})}catch{}for(const[U,G]of this.instancesDeferred.entries()){const j=this.normalizeInstanceIdentifier(U);try{const K=this.getOrInitializeService({instanceIdentifier:j});G.resolve(K)}catch{}}}}clearInstance(P=x){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,s.Z)(function*(){const U=Array.from(P.instances.values());yield Promise.all([...U.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...U.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=x){return this.instances.has(P)}getOptions(P=x){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:U={}}=P,G=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const j=this.getOrInitializeService({instanceIdentifier:G,options:U});for(const[K,A]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(K)&&A.resolve(j);return j}onInit(P,U){var G;const j=this.normalizeInstanceIdentifier(U),K=null!==(G=this.onInitCallbacks.get(j))&&void 0!==G?G:new Set;K.add(P),this.onInitCallbacks.set(j,K);const A=this.instances.get(j);return A&&P(A,j),()=>{K.delete(P)}}invokeOnInitCallbacks(P,U){const G=this.onInitCallbacks.get(U);if(G)for(const j of G)try{j(P,U)}catch{}}getOrInitializeService({instanceIdentifier:P,options:U={}}){let G=this.instances.get(P);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=P,Q===x?void 0:Q),options:U}),this.instances.set(P,G),this.instancesOptions.set(P,U),this.invokeOnInitCallbacks(G,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,G)}catch{}var Q;return G||null}normalizeInstanceIdentifier(P=x){return this.component?this.component.multipleInstances?P:x:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(P){this.name=P,this.providers=new Map}addComponent(P){const U=this.getProvider(P.name);if(U.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);U.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const U=new F(P,this);return this.providers.set(P,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(d,h,p)=>{"use strict";p.d(h,{Am:()=>Q,Ub:()=>z,Yd:()=>H,in:()=>y});const s=[];var y=(()=>{return(P=y||(y={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",y;var P})();const w={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},x=y.INFO,F={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},L=(P,U,...G)=>{if(U<P.logLevel)return;const j=(new Date).toISOString(),K=F[U];if(!K)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[K](`[${j}]  ${P.name}:`,...G)};class H{constructor(U){this.name=U,this._logLevel=x,this._logHandler=L,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in y))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?w[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...U),this._logHandler(this,y.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...U),this._logHandler(this,y.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,y.INFO,...U),this._logHandler(this,y.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,y.WARN,...U),this._logHandler(this,y.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...U),this._logHandler(this,y.ERROR,...U)}}function z(P){s.forEach(U=>{U.setLogLevel(P)})}function Q(P,U){for(const G of s){let j=null;U&&U.level&&(j=w[U.level]),G.userLogHandler=null===P?null:(K,A,...O)=>{const T=O.map(I=>{if(null==I)return null;if("string"==typeof I)return I;if("number"==typeof I||"boolean"==typeof I)return I.toString();if(I instanceof Error)return I.message;try{return JSON.stringify(I)}catch{return null}}).filter(I=>I).join(" ");A>=(j??K.logLevel)&&P({level:y[A].toLowerCase(),message:T,args:O,type:K.name})}}}},8766:(d,h,p)=>{"use strict";p.d(h,{Lj:()=>te,X3:()=>J});var s=p(5861);let w,x;const H=new WeakMap,z=new WeakMap,Q=new WeakMap,P=new WeakMap,U=new WeakMap;let K={get(ve,Ie,be){if(ve instanceof IDBTransaction){if("done"===Ie)return z.get(ve);if("objectStoreNames"===Ie)return ve.objectStoreNames||Q.get(ve);if("store"===Ie)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return I(ve[Ie])},set:(ve,Ie,be)=>(ve[Ie]=be,!0),has:(ve,Ie)=>ve instanceof IDBTransaction&&("done"===Ie||"store"===Ie)||Ie in ve};function T(ve){return"function"==typeof ve?function O(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function L(){return x||(x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...Ie){return ve.apply(q(this),Ie),I(H.get(this))}:function(...Ie){return I(ve.apply(q(this),Ie))}:function(Ie,...be){const de=ve.call(q(this),Ie,...be);return Q.set(de,Ie.sort?Ie.sort():[Ie]),I(de)}}(ve):(ve instanceof IDBTransaction&&function j(ve){if(z.has(ve))return;const Ie=new Promise((be,de)=>{const ae=()=>{ve.removeEventListener("complete",X),ve.removeEventListener("error",ee),ve.removeEventListener("abort",ee)},X=()=>{be(),ae()},ee=()=>{de(ve.error||new DOMException("AbortError","AbortError")),ae()};ve.addEventListener("complete",X),ve.addEventListener("error",ee),ve.addEventListener("abort",ee)});z.set(ve,Ie)}(ve),((ve,Ie)=>Ie.some(be=>ve instanceof be))(ve,function F(){return w||(w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,K):ve)}function I(ve){if(ve instanceof IDBRequest)return function G(ve){const Ie=new Promise((be,de)=>{const ae=()=>{ve.removeEventListener("success",X),ve.removeEventListener("error",ee)},X=()=>{be(I(ve.result)),ae()},ee=()=>{de(ve.error),ae()};ve.addEventListener("success",X),ve.addEventListener("error",ee)});return Ie.then(be=>{be instanceof IDBCursor&&H.set(be,ve)}).catch(()=>{}),U.set(Ie,ve),Ie}(ve);if(P.has(ve))return P.get(ve);const Ie=T(ve);return Ie!==ve&&(P.set(ve,Ie),U.set(Ie,ve)),Ie}const q=ve=>U.get(ve);function J(ve,Ie,{blocked:be,upgrade:de,blocking:ae,terminated:X}={}){const ee=indexedDB.open(ve,Ie),ue=I(ee);return de&&ee.addEventListener("upgradeneeded",Re=>{de(I(ee.result),Re.oldVersion,Re.newVersion,I(ee.transaction))}),be&&ee.addEventListener("blocked",()=>be()),ue.then(Re=>{X&&Re.addEventListener("close",()=>X()),ae&&Re.addEventListener("versionchange",()=>ae())}).catch(()=>{}),ue}function te(ve,{blocked:Ie}={}){const be=indexedDB.deleteDatabase(ve);return Ie&&be.addEventListener("blocked",()=>Ie()),I(be).then(()=>{})}const ne=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],Pe=new Map;function _e(ve,Ie){if(!(ve instanceof IDBDatabase)||Ie in ve||"string"!=typeof Ie)return;if(Pe.get(Ie))return Pe.get(Ie);const be=Ie.replace(/FromIndex$/,""),de=Ie!==be,ae=me.includes(be);if(!(be in(de?IDBIndex:IDBObjectStore).prototype)||!ae&&!ne.includes(be))return;const X=function(){var ee=(0,s.Z)(function*(ue,...Re){const ke=this.transaction(ue,ae?"readwrite":"readonly");let Ye=ke.store;return de&&(Ye=Ye.index(Re.shift())),(yield Promise.all([Ye[be](...Re),ae&&ke.done]))[0]});return function(Re){return ee.apply(this,arguments)}}();return Pe.set(Ie,X),X}!function A(ve){K=ve(K)}(ve=>({...ve,get:(Ie,be,de)=>_e(Ie,be)||ve.get(Ie,be,de),has:(Ie,be)=>!!_e(Ie,be)||ve.has(Ie,be)}))},5861:(d,h,p)=>{"use strict";function s(w,x,F,L,H,z,Q){try{var P=w[z](Q),U=P.value}catch(G){return void F(G)}P.done?x(U):Promise.resolve(U).then(L,H)}function y(w){return function(){var x=this,F=arguments;return new Promise(function(L,H){var z=w.apply(x,F);function Q(U){s(z,L,H,Q,P,"next",U)}function P(U){s(z,L,H,Q,P,"throw",U)}Q(void 0)})}}p.d(h,{Z:()=>y})}},d=>{d(d.s=3272)}]);