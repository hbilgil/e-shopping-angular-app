var S7=Object.defineProperty,T7=(d,h,p)=>h in d?S7(d,h,{enumerable:!0,configurable:!0,writable:!0,value:p}):d[h]=p,wn=(d,h,p)=>(T7(d,"symbol"!=typeof h?h+"":h,p),p);(self.webpackChunke_shopping_angular_app=self.webpackChunke_shopping_angular_app||[]).push([[179],{2011:(d,h,p)=>{"use strict";p.d(h,{Dh:()=>z,GT:()=>U,cc:()=>Y,hO:()=>k,on:()=>x,pX:()=>L,xv:()=>Q});var s=p(4650),_=p(127),w=p(5813);d=p.hmd(d);const P=["ngOnDestroy"],L=(T,W,J,ne={})=>new Proxy(T,{get:(re,me)=>J.runOutsideAngular(()=>{var Pe;if(T[me])return!(null===(Pe=ne?.spy)||void 0===Pe)&&Pe.get&&ne.spy.get(me,T[me]),T[me];if(P.indexOf(me)>-1)return()=>{};const _e=W.toPromise().then(ve=>{const Ie=ve&&ve[me];return"function"==typeof Ie?Ie.bind(ve):Ie&&Ie.then?Ie.then(Ee=>J.run(()=>Ee)):J.run(()=>Ie)});return new Proxy(()=>{},{get:(ve,Ie)=>_e[Ie],apply:(ve,Ie,Ee)=>_e.then(de=>{var se;const ee=de&&de(...Ee);return!(null===(se=ne?.spy)||void 0===se)&&se.apply&&ne.spy.apply(me,Ee,ee),ee})})})}),U=(T,W)=>{W.forEach(J=>{Object.getOwnPropertyNames(J.prototype||J).forEach(ne=>{Object.defineProperty(T.prototype,ne,Object.getOwnPropertyDescriptor(J.prototype||J,ne))})})};class V{constructor(W){return W}}const z=new s.OlP("angularfire2.app.options"),Q=new s.OlP("angularfire2.app.name");function x(T,W,J){const re="object"==typeof J&&J||{};re.name=re.name||"string"==typeof J&&J||"[DEFAULT]";const Pe=_.Z.apps.filter(_e=>_e&&_e.name===re.name)[0]||W.runOutsideAngular(()=>_.Z.initializeApp(T,re));try{JSON.stringify(T)!==JSON.stringify(Pe.options)&&j("error",`${Pe.name} Firebase App already initialized with different options${d.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new V(Pe)}const j=(T,...W)=>{(0,s.X6Q)()&&typeof console<"u"&&console[T](...W)},G={provide:V,useFactory:x,deps:[z,s.R0b,[new s.FiY,Q]]};let k=(()=>{class T{constructor(J){_.Z.registerVersion("angularfire",w.q4.full,"core"),_.Z.registerVersion("angularfire",w.q4.full,"app-compat"),_.Z.registerVersion("angular",s.q4F.full,J.toString())}static initializeApp(J,ne){return{ngModule:T,providers:[{provide:z,useValue:J},{provide:Q,useValue:ne}]}}}return T.\u0275fac=function(J){return new(J||T)(s.LFG(s.Lbi))},T.\u0275mod=s.oAB({type:T}),T.\u0275inj=s.cJS({providers:[G]}),T})();function Y(T,W,J,ne,re){const[,me,Pe]=globalThis.\u0275AngularfireInstanceCache.find(_e=>_e[0]===T)||[];if(me)return function A(T,W){try{return T.toString()===W.toString()}catch{return T===W}}(re,Pe)||(I("error",`${W} was already initialized on the ${J} Firebase App with different settings.${N?" You may need to reload as Firebase is not HMR aware.":""}`),I("warn",{is:re,was:Pe})),me;{const _e=ne();return globalThis.\u0275AngularfireInstanceCache.push([T,_e,re]),_e}}const N=!!d.hot,I=(T,...W)=>{(0,s.X6Q)()&&typeof console<"u"&&console[T](...W)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(d,h,p)=>{"use strict";p.d(h,{q4:()=>zi,iC:()=>qo,fc:()=>Qu,HU:()=>_l,vb:()=>Zc,JM:()=>oc});var s=p(4650),_=p(5867),w=p(5861),P=p(9681),L=p(2090),U=p(4859),V=p(1877),z=p(8766);const Q="@firebase/installations",x="0.5.16",G=`w:${x}`,k="FIS_v2",W=new L.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function J($){return $ instanceof L.ZR&&$.code.includes("request-failed")}function ne({projectId:$}){return`https://firebaseinstallations.googleapis.com/v1/projects/${$}/installations`}function re($){return{token:$.token,requestStatus:2,expiresIn:de($.expiresIn),creationTime:Date.now()}}function me($,Z){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,w.Z)(function*($,Z){const Se=(yield Z.json()).error;return W.create("request-failed",{requestName:$,serverCode:Se.code,serverMessage:Se.message,serverStatus:Se.status})})).apply(this,arguments)}function _e({apiKey:$}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$})}function ve($,{refreshToken:Z}){const ae=_e($);return ae.append("Authorization",function se($){return`${k} ${$}`}(Z)),ae}function Ie($){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,w.Z)(function*($){const Z=yield $();return Z.status>=500&&Z.status<600?$():Z})).apply(this,arguments)}function de($){return Number($.replace("s","000"))}function ee($,Z){return te.apply(this,arguments)}function te(){return(te=(0,w.Z)(function*({appConfig:$,heartbeatServiceProvider:Z},{fid:ae}){const Se=ne($),ke=_e($),Be=Z.getImmediate({optional:!0});if(Be){const Qt=yield Be.getHeartbeatsHeader();Qt&&ke.append("x-firebase-client",Qt)}const lt={method:"POST",headers:ke,body:JSON.stringify({fid:ae,authVersion:k,appId:$.appId,sdkVersion:G})},Ft=yield Ie(()=>fetch(Se,lt));if(Ft.ok){const Qt=yield Ft.json();return{fid:Qt.fid||ae,registrationStatus:2,refreshToken:Qt.refreshToken,authToken:re(Qt.authToken)}}throw yield me("Create Installation",Ft)})).apply(this,arguments)}function ue($){return new Promise(Z=>{setTimeout(Z,$)})}const Oe=/^[cdef][\w-]{21}$/;function $e(){try{const $=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues($),$[0]=112+$[0]%16;const ae=function ot($){return function Re($){return btoa(String.fromCharCode(...$)).replace(/\+/g,"-").replace(/\//g,"_")}($).substr(0,22)}($);return Oe.test(ae)?ae:""}catch{return""}}function Ot($){return`${$.appName}!${$.appId}`}const yt=new Map;function jt($,Z){const ae=Ot($);En(ae,Z),function In($,Z){const ae=function st(){return!Dn&&"BroadcastChannel"in self&&(Dn=new BroadcastChannel("[Firebase] FID Change"),Dn.onmessage=$=>{En($.data.key,$.data.fid)}),Dn}();ae&&ae.postMessage({key:$,fid:Z}),function _n(){0===yt.size&&Dn&&(Dn.close(),Dn=null)}()}(ae,Z)}function En($,Z){const ae=yt.get($);if(ae)for(const Se of ae)Se(Z)}let Dn=null;const Mn="firebase-installations-store";let Sn=null;function Bn(){return Sn||(Sn=(0,z.X3)("firebase-installations-database",1,{upgrade:($,Z)=>{0===Z&&$.createObjectStore(Mn)}})),Sn}function at($,Z){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,w.Z)(function*($,Z){const ae=Ot($),ke=(yield Bn()).transaction(Mn,"readwrite"),Be=ke.objectStore(Mn),Je=yield Be.get(ae);return yield Be.put(Z,ae),yield ke.done,(!Je||Je.fid!==Z.fid)&&jt($,Z.fid),Z})).apply(this,arguments)}function kn($){return vn.apply(this,arguments)}function vn(){return(vn=(0,w.Z)(function*($){const Z=Ot($),Se=(yield Bn()).transaction(Mn,"readwrite");yield Se.objectStore(Mn).delete(Z),yield Se.done})).apply(this,arguments)}function Ln($,Z){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,w.Z)(function*($,Z){const ae=Ot($),ke=(yield Bn()).transaction(Mn,"readwrite"),Be=ke.objectStore(Mn),Je=yield Be.get(ae),lt=Z(Je);return void 0===lt?yield Be.delete(ae):yield Be.put(lt,ae),yield ke.done,lt&&(!Je||Je.fid!==lt.fid)&&jt($,lt.fid),lt})).apply(this,arguments)}function $t($){return ln.apply(this,arguments)}function ln(){return(ln=(0,w.Z)(function*($){let Z;const ae=yield Ln($.appConfig,Se=>{const ke=dn(Se),Be=ct($,ke);return Z=Be.registrationPromise,Be.installationEntry});return""===ae.fid?{installationEntry:yield Z}:{installationEntry:ae,registrationPromise:Z}})).apply(this,arguments)}function dn($){return Ut($||{fid:$e(),registrationStatus:0})}function ct($,Z){if(0===Z.registrationStatus){if(!navigator.onLine)return{installationEntry:Z,registrationPromise:Promise.reject(W.create("app-offline"))};const ae={fid:Z.fid,registrationStatus:1,registrationTime:Date.now()},Se=function mt($,Z){return zt.apply(this,arguments)}($,ae);return{installationEntry:ae,registrationPromise:Se}}return 1===Z.registrationStatus?{installationEntry:Z,registrationPromise:Mr($)}:{installationEntry:Z}}function zt(){return(zt=(0,w.Z)(function*($,Z){try{const ae=yield ee($,Z);return at($.appConfig,ae)}catch(ae){throw J(ae)&&409===ae.customData.serverCode?yield kn($.appConfig):yield at($.appConfig,{fid:Z.fid,registrationStatus:0}),ae}})).apply(this,arguments)}function Mr($){return xn.apply(this,arguments)}function xn(){return(xn=(0,w.Z)(function*($){let Z=yield $r($.appConfig);for(;1===Z.registrationStatus;)yield ue(100),Z=yield $r($.appConfig);if(0===Z.registrationStatus){const{installationEntry:ae,registrationPromise:Se}=yield $t($);return Se||ae}return Z})).apply(this,arguments)}function $r($){return Ln($,Z=>{if(!Z)throw W.create("installation-not-found");return Ut(Z)})}function Ut($){return function Fr($){return 1===$.registrationStatus&&$.registrationTime+1e4<Date.now()}($)?{fid:$.fid,registrationStatus:0}:$}function Kt($,Z){return ai.apply(this,arguments)}function ai(){return(ai=(0,w.Z)(function*({appConfig:$,heartbeatServiceProvider:Z},ae){const Se=pn($,ae),ke=ve($,ae),Be=Z.getImmediate({optional:!0});if(Be){const Qt=yield Be.getHeartbeatsHeader();Qt&&ke.append("x-firebase-client",Qt)}const lt={method:"POST",headers:ke,body:JSON.stringify({installation:{sdkVersion:G,appId:$.appId}})},Ft=yield Ie(()=>fetch(Se,lt));if(Ft.ok)return re(yield Ft.json());throw yield me("Generate Auth Token",Ft)})).apply(this,arguments)}function pn($,{fid:Z}){return`${ne($)}/${Z}/authTokens:generate`}function br($){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,w.Z)(function*($,Z=!1){let ae;const Se=yield Ln($.appConfig,Be=>{if(!bn(Be))throw W.create("not-registered");const Je=Be.authToken;if(!Z&&Ae(Je))return Be;if(1===Je.requestStatus)return ae=ft($,Z),Be;{if(!navigator.onLine)throw W.create("app-offline");const lt=xe(Be);return ae=Rt($,lt),lt}});return ae?yield ae:Se.authToken})).apply(this,arguments)}function ft($,Z){return qe.apply(this,arguments)}function qe(){return(qe=(0,w.Z)(function*($,Z){let ae=yield _t($.appConfig);for(;1===ae.authToken.requestStatus;)yield ue(100),ae=yield _t($.appConfig);const Se=ae.authToken;return 0===Se.requestStatus?br($,Z):Se})).apply(this,arguments)}function _t($){return Ln($,Z=>{if(!bn(Z))throw W.create("not-registered");return function Ce($){return 1===$.requestStatus&&$.requestTime+1e4<Date.now()}(Z.authToken)?Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}}):Z})}function Rt($,Z){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,w.Z)(function*($,Z){try{const ae=yield Kt($,Z),Se=Object.assign(Object.assign({},Z),{authToken:ae});return yield at($.appConfig,Se),ae}catch(ae){if(!J(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const Se=Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}});yield at($.appConfig,Se)}else yield kn($.appConfig);throw ae}})).apply(this,arguments)}function bn($){return void 0!==$&&2===$.registrationStatus}function Ae($){return 2===$.requestStatus&&!function Te($){const Z=Date.now();return Z<$.creationTime||$.creationTime+$.expiresIn<Z+36e5}($)}function xe($){const Z={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},$),{authToken:Z})}function ye(){return(ye=(0,w.Z)(function*($){const Z=$,{installationEntry:ae,registrationPromise:Se}=yield $t(Z);return Se?Se.catch(console.error):br(Z).catch(console.error),ae.fid})).apply(this,arguments)}function Qe(){return(Qe=(0,w.Z)(function*($,Z=!1){const ae=$;return yield wt(ae),(yield br(ae,Z)).token})).apply(this,arguments)}function wt($){return bt.apply(this,arguments)}function bt(){return(bt=(0,w.Z)(function*($){const{registrationPromise:Z}=yield $t($);Z&&(yield Z)})).apply(this,arguments)}function qs($){return W.create("missing-app-config-values",{valueName:$})}const As="installations",Ds=$=>{const Z=$.getProvider("app").getImmediate(),ae=function Kn($){if(!$||!$.options)throw qs("App Configuration");if(!$.name)throw qs("App Name");const Z=["projectId","apiKey","appId"];for(const ae of Z)if(!$.options[ae])throw qs(ae);return{appName:$.name,projectId:$.options.projectId,apiKey:$.options.apiKey,appId:$.options.appId}}(Z);return{app:Z,appConfig:ae,heartbeatServiceProvider:(0,P._getProvider)(Z,"heartbeat"),_delete:()=>Promise.resolve()}},Bi=$=>{const Z=$.getProvider("app").getImmediate(),ae=(0,P._getProvider)(Z,As).getImmediate();return{getId:()=>function le($){return ye.apply(this,arguments)}(ae),getToken:ke=>function Fe($){return Qe.apply(this,arguments)}(ae,ke)}};(function kr(){(0,P._registerComponent)(new U.wA(As,Ds,"PUBLIC")),(0,P._registerComponent)(new U.wA("installations-internal",Bi,"PRIVATE"))})(),(0,P.registerVersion)(Q,x),(0,P.registerVersion)(Q,x,"esm2017");const os="@firebase/remote-config",pr=new L.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class So{constructor(Z,ae,Se,ke){this.client=Z,this.storage=ae,this.storageCache=Se,this.logger=ke}isCachedDataFresh(Z,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Se=Date.now()-ae,ke=Se<=Z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Se}. Cache max age millis (minimumFetchIntervalMillis setting): ${Z}. Is cache hit: ${ke}.`),ke}fetch(Z){var ae=this;return(0,w.Z)(function*(){const[Se,ke]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(ke&&ae.isCachedDataFresh(Z.cacheMaxAgeMillis,Se))return ke;Z.eTag=ke&&ke.eTag;const Be=yield ae.client.fetch(Z),Je=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Be.status&&Je.push(ae.storage.setLastSuccessfulFetchResponse(Be)),yield Promise.all(Je),Be})()}}function Ys($=navigator){return $.languages&&$.languages[0]||$.language}class Qs{constructor(Z,ae,Se,ke,Be,Je){this.firebaseInstallations=Z,this.sdkVersion=ae,this.namespace=Se,this.projectId=ke,this.apiKey=Be,this.appId=Je}fetch(Z){var ae=this;return(0,w.Z)(function*(){var Se,ke,Be;const[Je,lt]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),Qt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,fn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Z.eTag||"*"},Lt={sdk_version:ae.sdkVersion,app_instance_id:Je,app_instance_id_token:lt,app_id:ae.appId,language_code:Ys()},Tr={method:"POST",headers:fn,body:JSON.stringify(Lt)},Wr=fetch(Qt,Tr),lc=new Promise((Da,lo)=>{Z.signal.addEventListener(()=>{const bl=new Error("The operation was aborted.");bl.name="AbortError",lo(bl)})});let vl;try{yield Promise.race([Wr,lc]),vl=yield Wr}catch(Da){let lo="fetch-client-network";throw"AbortError"===(null===(Se=Da)||void 0===Se?void 0:Se.name)&&(lo="fetch-timeout"),pr.create(lo,{originalErrorMessage:null===(ke=Da)||void 0===ke?void 0:ke.message})}let wl=vl.status;const Aa=vl.headers.get("ETag")||void 0;let gs,qi;if(200===vl.status){let Da;try{Da=yield vl.json()}catch(lo){throw pr.create("fetch-client-parse",{originalErrorMessage:null===(Be=lo)||void 0===Be?void 0:Be.message})}gs=Da.entries,qi=Da.state}if("INSTANCE_STATE_UNSPECIFIED"===qi?wl=500:"NO_CHANGE"===qi?wl=304:("NO_TEMPLATE"===qi||"EMPTY_CONFIG"===qi)&&(gs={}),304!==wl&&200!==wl)throw pr.create("fetch-status",{httpStatus:wl});return{status:wl,eTag:Aa,config:gs}})()}}class cs{constructor(Z,ae){this.client=Z,this.storage=ae}fetch(Z){var ae=this;return(0,w.Z)(function*(){const Se=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(Z,Se)})()}attemptFetch(Z,{throttleEndTimeMillis:ae,backoffCount:Se}){var ke=this;return(0,w.Z)(function*(){yield function _i($,Z){return new Promise((ae,Se)=>{const ke=Math.max(Z-Date.now(),0),Be=setTimeout(ae,ke);$.addEventListener(()=>{clearTimeout(Be),Se(pr.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}(Z.signal,ae);try{const Be=yield ke.client.fetch(Z);return yield ke.storage.deleteThrottleMetadata(),Be}catch(Be){if(!function Zd($){if(!($ instanceof L.ZR&&$.customData))return!1;const Z=Number($.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}(Be))throw Be;const Je={throttleEndTimeMillis:Date.now()+(0,L.$s)(Se),backoffCount:Se+1};return yield ke.storage.setThrottleMetadata(Je),ke.attemptFetch(Z,Je)}})()}}class Wa{constructor(Z,ae,Se,ke,Be){this.app=Z,this._client=ae,this._storageCache=Se,this._storage=ke,this._logger=Be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ha($,Z){var ae;const Se=$.target.error||void 0;return pr.create(Z,{originalErrorMessage:Se&&(null===(ae=Se)||void 0===ae?void 0:ae.message)})}const Js="app_namespace_store";class Mc{constructor(Z,ae,Se,ke=function Qd(){return new Promise(($,Z)=>{var ae;try{const Se=indexedDB.open("firebase_remote_config",1);Se.onerror=ke=>{Z(ha(ke,"storage-open"))},Se.onsuccess=ke=>{$(ke.target.result)},Se.onupgradeneeded=ke=>{0===ke.oldVersion&&ke.target.result.createObjectStore(Js,{keyPath:"compositeKey"})}}catch(Se){Z(pr.create("storage-open",{originalErrorMessage:null===(ae=Se)||void 0===ae?void 0:ae.message}))}})}()){this.appId=Z,this.appName=ae,this.namespace=Se,this.openDbPromise=ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Z){return this.set("last_fetch_status",Z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Z){return this.set("last_successful_fetch_timestamp_millis",Z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Z){return this.set("last_successful_fetch_response",Z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Z){return this.set("active_config",Z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Z){return this.set("active_config_etag",Z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Z){return this.set("throttle_metadata",Z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Z){var ae=this;return(0,w.Z)(function*(){const Se=yield ae.openDbPromise;return new Promise((ke,Be)=>{var Je;const Ft=Se.transaction([Js],"readonly").objectStore(Js),Qt=ae.createCompositeKey(Z);try{const fn=Ft.get(Qt);fn.onerror=Lt=>{Be(ha(Lt,"storage-get"))},fn.onsuccess=Lt=>{const Tr=Lt.target.result;ke(Tr?Tr.value:void 0)}}catch(fn){Be(pr.create("storage-get",{originalErrorMessage:null===(Je=fn)||void 0===Je?void 0:Je.message}))}})})()}set(Z,ae){var Se=this;return(0,w.Z)(function*(){const ke=yield Se.openDbPromise;return new Promise((Be,Je)=>{var lt;const Qt=ke.transaction([Js],"readwrite").objectStore(Js),fn=Se.createCompositeKey(Z);try{const Lt=Qt.put({compositeKey:fn,value:ae});Lt.onerror=Tr=>{Je(ha(Tr,"storage-set"))},Lt.onsuccess=()=>{Be()}}catch(Lt){Je(pr.create("storage-set",{originalErrorMessage:null===(lt=Lt)||void 0===lt?void 0:lt.message}))}})})()}delete(Z){var ae=this;return(0,w.Z)(function*(){const Se=yield ae.openDbPromise;return new Promise((ke,Be)=>{var Je;const Ft=Se.transaction([Js],"readwrite").objectStore(Js),Qt=ae.createCompositeKey(Z);try{const fn=Ft.delete(Qt);fn.onerror=Lt=>{Be(ha(Lt,"storage-delete"))},fn.onsuccess=()=>{ke()}}catch(fn){Be(pr.create("storage-delete",{originalErrorMessage:null===(Je=fn)||void 0===Je?void 0:Je.message}))}})})()}createCompositeKey(Z){return[this.appId,this.appName,this.namespace,Z].join()}}class To{constructor(Z){this.storage=Z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Z=this;return(0,w.Z)(function*(){const ae=Z.storage.getLastFetchStatus(),Se=Z.storage.getLastSuccessfulFetchTimestampMillis(),ke=Z.storage.getActiveConfig(),Be=yield ae;Be&&(Z.lastFetchStatus=Be);const Je=yield Se;Je&&(Z.lastSuccessfulFetchTimestampMillis=Je);const lt=yield ke;lt&&(Z.activeConfig=lt)})()}setLastFetchStatus(Z){return this.lastFetchStatus=Z,this.storage.setLastFetchStatus(Z)}setLastSuccessfulFetchTimestampMillis(Z){return this.lastSuccessfulFetchTimestampMillis=Z,this.storage.setLastSuccessfulFetchTimestampMillis(Z)}setActiveConfig(Z){return this.activeConfig=Z,this.storage.setActiveConfig(Z)}}function Za(){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,w.Z)(function*(){if(!(0,L.hl)())return!1;try{return yield(0,L.eu)()}catch{return!1}})).apply(this,arguments)}!function kc(){(0,P._registerComponent)(new U.wA("remote-config",function $(Z,{instanceIdentifier:ae}){const Se=Z.getProvider("app").getImmediate(),ke=Z.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw pr.create("registration-window");if(!(0,L.hl)())throw pr.create("indexed-db-unavailable");const{projectId:Be,apiKey:Je,appId:lt}=Se.options;if(!Be)throw pr.create("registration-project-id");if(!Je)throw pr.create("registration-api-key");if(!lt)throw pr.create("registration-app-id");const Ft=new Mc(lt,Se.name,ae=ae||"firebase"),Qt=new To(Ft),fn=new V.Yd(os);fn.logLevel=V.in.ERROR;const Lt=new Qs(ke,P.SDK_VERSION,ae,Be,Je,lt),Tr=new cs(Lt,Ft),Wr=new So(Tr,Ft,Qt,fn),lc=new Wa(Se,Wr,Qt,Ft,fn);return function jn($){const Z=(0,L.m9)($);Z._initializePromise||(Z._initializePromise=Z._storageCache.loadFromStorage().then(()=>{Z._isInitializationComplete=!0}))}(lc),lc},"PUBLIC").setMultipleInstances(!0)),(0,P.registerVersion)(os,"0.3.15"),(0,P.registerVersion)(os,"0.3.15","esm2017")}();const Lr="/firebase-messaging-sw.js",Xs="/firebase-cloud-messaging-push-scope",xs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ya="google.c.a.c_id",Qa="google.c.a.c_l",Ao="google.c.a.ts",Do="google.c.a.e";var vi=(()=>{return($=vi||(vi={})).PUSH_RECEIVED="push-received",$.NOTIFICATION_CLICKED="notification-clicked",vi;var $})();function Ui($){const Z=new Uint8Array($);return btoa(String.fromCharCode(...Z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Er($){const ae=($+"=".repeat((4-$.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Se=atob(ae),ke=new Uint8Array(Se.length);for(let Be=0;Be<Se.length;++Be)ke[Be]=Se.charCodeAt(Be);return ke}const eo="fcm_token_details_db",xo="fcm_token_object_Store";function Jd($){return zl.apply(this,arguments)}function zl(){return zl=(0,w.Z)(function*($){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Be=>Be.name).includes(eo))return null;let Z=null;return(yield(0,z.X3)(eo,5,{upgrade:(Se=(0,w.Z)(function*(ke,Be,Je,lt){var Ft;if(Be<2||!ke.objectStoreNames.contains(xo))return;const Qt=lt.objectStore(xo),fn=yield Qt.index("fcmSenderId").get($);if(yield Qt.clear(),fn)if(2===Be){const Lt=fn;if(!Lt.auth||!Lt.p256dh||!Lt.endpoint)return;Z={token:Lt.fcmToken,createTime:null!==(Ft=Lt.createTime)&&void 0!==Ft?Ft:Date.now(),subscriptionOptions:{auth:Lt.auth,p256dh:Lt.p256dh,endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:"string"==typeof Lt.vapidKey?Lt.vapidKey:Ui(Lt.vapidKey)}}}else if(3===Be){const Lt=fn;Z={token:Lt.fcmToken,createTime:Lt.createTime,subscriptionOptions:{auth:Ui(Lt.auth),p256dh:Ui(Lt.p256dh),endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:Ui(Lt.vapidKey)}}}else if(4===Be){const Lt=fn;Z={token:Lt.fcmToken,createTime:Lt.createTime,subscriptionOptions:{auth:Ui(Lt.auth),p256dh:Ui(Lt.p256dh),endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:Ui(Lt.vapidKey)}}}}),function(Be,Je,lt,Ft){return Se.apply(this,arguments)})})).close(),yield(0,z.Lj)(eo),yield(0,z.Lj)("fcm_vapid_details_db"),yield(0,z.Lj)("undefined"),ar(Z)?Z:null;var Se}),zl.apply(this,arguments)}function ar($){if(!$||!$.subscriptionOptions)return!1;const{subscriptionOptions:Z}=$;return"number"==typeof $.createTime&&$.createTime>0&&"string"==typeof $.token&&$.token.length>0&&"string"==typeof Z.auth&&Z.auth.length>0&&"string"==typeof Z.p256dh&&Z.p256dh.length>0&&"string"==typeof Z.endpoint&&Z.endpoint.length>0&&"string"==typeof Z.swScope&&Z.swScope.length>0&&"string"==typeof Z.vapidKey&&Z.vapidKey.length>0}const Ii="firebase-messaging-store";let Vr=null;function to(){return Vr||(Vr=(0,z.X3)("firebase-messaging-database",1,{upgrade:($,Z)=>{0===Z&&$.createObjectStore(Ii)}})),Vr}function no($){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,w.Z)(function*($){const Z=Xr($),Se=yield(yield to()).transaction(Ii).objectStore(Ii).get(Z);if(Se)return Se;{const ke=yield Jd($.appConfig.senderId);if(ke)return yield Pn($,ke),ke}})).apply(this,arguments)}function Pn($,Z){return ql.apply(this,arguments)}function ql(){return(ql=(0,w.Z)(function*($,Z){const ae=Xr($),ke=(yield to()).transaction(Ii,"readwrite");return yield ke.objectStore(Ii).put(Z,ae),yield ke.done,Z})).apply(this,arguments)}function ds($){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,w.Z)(function*($){const Z=Xr($),Se=(yield to()).transaction(Ii,"readwrite");yield Se.objectStore(Ii).delete(Z),yield Se.done})).apply(this,arguments)}function Xr({appConfig:$}){return $.appId}const lr=new L.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qt($,Z){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,w.Z)(function*($,Z){var ae;const Se=yield Oo($),ke=Ke(Z),Be={method:"POST",headers:Se,body:JSON.stringify(ke)};let Je;try{Je=yield(yield fetch(Ms($.appConfig),Be)).json()}catch(lt){throw lr.create("token-subscribe-failed",{errorInfo:null===(ae=lt)||void 0===ae?void 0:ae.toString()})}if(Je.error)throw lr.create("token-subscribe-failed",{errorInfo:Je.error.message});if(!Je.token)throw lr.create("token-subscribe-no-token");return Je.token})).apply(this,arguments)}function Xd($,Z){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,w.Z)(function*($,Z){var ae;const Se=yield Oo($),ke=Ke(Z.subscriptionOptions),Be={method:"PATCH",headers:Se,body:JSON.stringify(ke)};let Je;try{Je=yield(yield fetch(`${Ms($.appConfig)}/${Z.token}`,Be)).json()}catch(lt){throw lr.create("token-update-failed",{errorInfo:null===(ae=lt)||void 0===ae?void 0:ae.toString()})}if(Je.error)throw lr.create("token-update-failed",{errorInfo:Je.error.message});if(!Je.token)throw lr.create("token-update-no-token");return Je.token})).apply(this,arguments)}function Zl($,Z){return ko.apply(this,arguments)}function ko(){return(ko=(0,w.Z)(function*($,Z){var ae;const ke={method:"DELETE",headers:yield Oo($)};try{const Je=yield(yield fetch(`${Ms($.appConfig)}/${Z}`,ke)).json();if(Je.error)throw lr.create("token-unsubscribe-failed",{errorInfo:Je.error.message})}catch(Be){throw lr.create("token-unsubscribe-failed",{errorInfo:null===(ae=Be)||void 0===ae?void 0:ae.toString()})}})).apply(this,arguments)}function Ms({projectId:$}){return`https://fcmregistrations.googleapis.com/v1/projects/${$}/registrations`}function Oo($){return ro.apply(this,arguments)}function ro(){return(ro=(0,w.Z)(function*({appConfig:$,installations:Z}){const ae=yield Z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function Ke({p256dh:$,auth:Z,endpoint:ae,vapidKey:Se}){const ke={web:{endpoint:ae,auth:Z,p256dh:$}};return Se!==xs&&(ke.web.applicationPubKey=Se),ke}const hn=6048e5;function Nc($){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,w.Z)(function*($){const Z=yield Lu($.swRegistration,$.vapidKey),ae={vapidKey:$.vapidKey,swScope:$.swRegistration.scope,endpoint:Z.endpoint,auth:Ui(Z.getKey("auth")),p256dh:Ui(Z.getKey("p256dh"))},Se=yield no($.firebaseDependencies);if(Se){if(eh(Se.subscriptionOptions,ae))return Date.now()>=Se.createTime+hn?Ja($,{token:Se.token,createTime:Date.now(),subscriptionOptions:ae}):Se.token;try{yield Zl($.firebaseDependencies,Se.token)}catch(ke){console.warn(ke)}return fa($.firebaseDependencies,ae)}return fa($.firebaseDependencies,ae)})).apply(this,arguments)}function _r($){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,w.Z)(function*($){const Z=yield no($.firebaseDependencies);Z&&(yield Zl($.firebaseDependencies,Z.token),yield ds($.firebaseDependencies));const ae=yield $.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()})).apply(this,arguments)}function Ja($,Z){return zr.apply(this,arguments)}function zr(){return(zr=(0,w.Z)(function*($,Z){try{const ae=yield Xd($.firebaseDependencies,Z),Se=Object.assign(Object.assign({},Z),{token:ae,createTime:Date.now()});return yield Pn($.firebaseDependencies,Se),ae}catch(ae){throw yield _r($),ae}})).apply(this,arguments)}function fa($,Z){return io.apply(this,arguments)}function io(){return(io=(0,w.Z)(function*($,Z){const Se={token:yield qt($,Z),createTime:Date.now(),subscriptionOptions:Z};return yield Pn($,Se),Se.token})).apply(this,arguments)}function Lu($,Z){return pa.apply(this,arguments)}function pa(){return(pa=(0,w.Z)(function*($,Z){return(yield $.pushManager.getSubscription())||$.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Er(Z)})})).apply(this,arguments)}function eh($,Z){return Z.vapidKey===$.vapidKey&&Z.endpoint===$.endpoint&&Z.auth===$.auth&&Z.p256dh===$.p256dh}function so($){const Z={from:$.from,collapseKey:$.collapse_key,messageId:$.fcmMessageId};return function gr($,Z){if(!Z.notification)return;$.notification={};const ae=Z.notification.title;ae&&($.notification.title=ae);const Se=Z.notification.body;Se&&($.notification.body=Se);const ke=Z.notification.image;ke&&($.notification.image=ke);const Be=Z.notification.icon;Be&&($.notification.icon=Be)}(Z,$),function ji($,Z){!Z.data||($.data=Z.data)}(Z,$),function No($,Z){var ae,Se,ke,Be,Je;if(!(Z.fcmOptions||null!==(ae=Z.notification)&&void 0!==ae&&ae.click_action))return;$.fcmOptions={};const lt=null!==(ke=null===(Se=Z.fcmOptions)||void 0===Se?void 0:Se.link)&&void 0!==ke?ke:null===(Be=Z.notification)||void 0===Be?void 0:Be.click_action;lt&&($.fcmOptions.link=lt);const Ft=null===(Je=Z.fcmOptions)||void 0===Je?void 0:Je.analytics_label;Ft&&($.fcmOptions.analyticsLabel=Ft)}(Z,$),Z}function ma($){return"object"==typeof $&&!!$&&Ya in $}function Gi($,Z){const ae=[];for(let Se=0;Se<$.length;Se++)ae.push($.charAt(Se)),Se<Z.length&&ae.push(Z.charAt(Se));return ae.join("")}function Kl($){return lr.create("missing-app-config-values",{valueName:$})}Gi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Gi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fc{constructor(Z,ae,Se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ke=function Xa($){if(!$||!$.options)throw Kl("App Configuration Object");if(!$.name)throw Kl("App Name");const Z=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=$;for(const Se of Z)if(!ae[Se])throw Kl(Se);return{appName:$.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(Z);this.firebaseDependencies={app:Z,appConfig:ke,installations:ae,analyticsProvider:Se}}_delete(){return Promise.resolve()}}function Vu($){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,w.Z)(function*($){var Z;try{$.swRegistration=yield navigator.serviceWorker.register(Lr,{scope:Xs}),$.swRegistration.update().catch(()=>{})}catch(ae){throw lr.create("failed-service-worker-registration",{browserErrorMessage:null===(Z=ae)||void 0===Z?void 0:Z.message})}})).apply(this,arguments)}function Lo($,Z){return ga.apply(this,arguments)}function ga(){return(ga=(0,w.Z)(function*($,Z){if(!Z&&!$.swRegistration&&(yield Vu($)),Z||!$.swRegistration){if(!(Z instanceof ServiceWorkerRegistration))throw lr.create("invalid-sw-registration");$.swRegistration=Z}})).apply(this,arguments)}function Yl($,Z){return ya.apply(this,arguments)}function ya(){return(ya=(0,w.Z)(function*($,Z){Z?$.vapidKey=Z:$.vapidKey||($.vapidKey=xs)})).apply(this,arguments)}function oo(){return(oo=(0,w.Z)(function*($,Z){if(!navigator)throw lr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw lr.create("permission-blocked");return yield Yl($,Z?.vapidKey),yield Lo($,Z?.serviceWorkerRegistration),Nc($)})).apply(this,arguments)}function Bu($,Z,ae){return _a.apply(this,arguments)}function _a(){return(_a=(0,w.Z)(function*($,Z,ae){const Se=Uu(Z);(yield $.firebaseDependencies.analyticsProvider.get()).logEvent(Se,{message_id:ae[Ya],message_name:ae[Qa],message_time:ae[Ao],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Uu($){switch($){case vi.NOTIFICATION_CLICKED:return"notification_open";case vi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function hs(){return(hs=(0,w.Z)(function*($,Z){const ae=Z.data;if(!ae.isFirebaseMessaging)return;$.onMessageHandler&&ae.messageType===vi.PUSH_RECEIVED&&("function"==typeof $.onMessageHandler?$.onMessageHandler(so(ae)):$.onMessageHandler.next(so(ae)));const Se=ae.data;ma(Se)&&"1"===Se[Do]&&(yield Bu($,ae.messageType,Se))})).apply(this,arguments)}const fs="@firebase/messaging",nr=$=>{const Z=new Fc($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),$.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function Vc($,Z){return hs.apply(this,arguments)}(Z,ae)),Z},ps=$=>{const Z=$.getProvider("messaging").getImmediate();return{getToken:Se=>function Lc($,Z){return oo.apply(this,arguments)}(Z,Se)}};function el(){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,w.Z)(function*(){try{yield(0,L.eu)()}catch{return!1}return typeof window<"u"&&(0,L.hl)()&&(0,L.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xn(){(0,P._registerComponent)(new U.wA("messaging",nr,"PUBLIC")),(0,P._registerComponent)(new U.wA("messaging-internal",ps,"PRIVATE")),(0,P.registerVersion)(fs,"0.11.0"),(0,P.registerVersion)(fs,"0.11.0","esm2017")}();const Uo="analytics",Hc="firebase_id",ec="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ks="https://www.googletagmanager.com/gtag/js",cr=new V.Yd("@firebase/analytics");function rl($){return Promise.all($.map(Z=>Z.catch(ae=>ae)))}function va($,Z){const ae=document.createElement("script");ae.src=`${ks}?l=${$}&id=${Z}`,ae.async=!0,document.head.appendChild(ae)}function ju($,Z,ae,Se,ke,Be){return wa.apply(this,arguments)}function wa(){return(wa=(0,w.Z)(function*($,Z,ae,Se,ke,Be){const Je=Se[ke];try{if(Je)yield Z[Je];else{const Ft=(yield rl(ae)).find(Qt=>Qt.measurementId===ke);Ft&&(yield Z[Ft.appId])}}catch(lt){cr.error(lt)}$("config",ke,Be)})).apply(this,arguments)}function $i($,Z,ae,Se,ke){return ba.apply(this,arguments)}function ba(){return(ba=(0,w.Z)(function*($,Z,ae,Se,ke){try{let Be=[];if(ke&&ke.send_to){let Je=ke.send_to;Array.isArray(Je)||(Je=[Je]);const lt=yield rl(ae);for(const Ft of Je){const Qt=lt.find(Lt=>Lt.measurementId===Ft),fn=Qt&&Z[Qt.appId];if(!fn){Be=[];break}Be.push(fn)}}0===Be.length&&(Be=Object.values(Z)),yield Promise.all(Be),$("event",Se,ke||{})}catch(Be){cr.error(Be)}})).apply(this,arguments)}function xi($){const Z=window.document.getElementsByTagName("script");for(const ae of Object.values(Z))if(ae.src&&ae.src.includes(ks)&&ae.src.includes($))return ae;return null}const cn=new L.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ea=new class nc{constructor(Z={},ae=1e3){this.throttleMetadata=Z,this.intervalMillis=ae}getThrottleMetadata(Z){return this.throttleMetadata[Z]}setThrottleMetadata(Z,ae){this.throttleMetadata[Z]=ae}deleteThrottleMetadata(Z){delete this.throttleMetadata[Z]}};function Ho($){return new Headers({Accept:"application/json","x-goog-api-key":$})}function $u($){return hr.apply(this,arguments)}function hr(){return(hr=(0,w.Z)(function*($){var Z;const{appId:ae,apiKey:Se}=$,ke={method:"GET",headers:Ho(Se)},Be=ec.replace("{app-id}",ae),Je=yield fetch(Be,ke);if(200!==Je.status&&304!==Je.status){let lt="";try{const Ft=yield Je.json();null!==(Z=Ft.error)&&void 0!==Z&&Z.message&&(lt=Ft.error.message)}catch{}throw cn.create("config-fetch-failed",{httpStatus:Je.status,responseMessage:lt})}return Je.json()})).apply(this,arguments)}function Sa($){return M.apply(this,arguments)}function M(){return(M=(0,w.Z)(function*($,Z=Ea,ae){const{appId:Se,apiKey:ke,measurementId:Be}=$.options;if(!Se)throw cn.create("no-app-id");if(!ke){if(Be)return{measurementId:Be,appId:Se};throw cn.create("no-api-key")}const Je=Z.getThrottleMetadata(Se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lt=new St;return setTimeout((0,w.Z)(function*(){lt.abort()}),void 0!==ae?ae:6e4),B({appId:Se,apiKey:ke,measurementId:Be},Je,lt,Z)})).apply(this,arguments)}function B($,Z,ae){return X.apply(this,arguments)}function X(){return(X=(0,w.Z)(function*($,{throttleEndTimeMillis:Z,backoffCount:ae},Se,ke=Ea){var Be,Je;const{appId:lt,measurementId:Ft}=$;try{yield be(Se,Z)}catch(Qt){if(Ft)return cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${null===(Be=Qt)||void 0===Be?void 0:Be.message}]`),{appId:lt,measurementId:Ft};throw Qt}try{const Qt=yield $u($);return ke.deleteThrottleMetadata(lt),Qt}catch(Qt){const fn=Qt;if(!je(fn)){if(ke.deleteThrottleMetadata(lt),Ft)return cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${fn?.message}]`),{appId:lt,measurementId:Ft};throw Qt}const Lt=503===Number(null===(Je=fn?.customData)||void 0===Je?void 0:Je.httpStatus)?(0,L.$s)(ae,ke.intervalMillis,30):(0,L.$s)(ae,ke.intervalMillis),Tr={throttleEndTimeMillis:Date.now()+Lt,backoffCount:ae+1};return ke.setThrottleMetadata(lt,Tr),cr.debug(`Calling attemptFetch again in ${Lt} millis`),B($,Tr,Se,ke)}})).apply(this,arguments)}function be($,Z){return new Promise((ae,Se)=>{const ke=Math.max(Z-Date.now(),0),Be=setTimeout(ae,ke);$.addEventListener(()=>{clearTimeout(Be),Se(cn.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}function je($){if(!($ instanceof L.ZR&&$.customData))return!1;const Z=Number($.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}class St{constructor(){this.listeners=[]}addEventListener(Z){this.listeners.push(Z)}abort(){this.listeners.forEach(Z=>Z())}}let rn,Gc;function Yn(){return(Yn=(0,w.Z)(function*($,Z,ae,Se,ke){if(ke&&ke.global)$("event",ae,Se);else{const Be=yield Z;$("event",ae,Object.assign(Object.assign({},Se),{send_to:Be}))}})).apply(this,arguments)}function al($){Gc=$}function zu($){rn=$}function jo(){return ll.apply(this,arguments)}function ll(){return(ll=(0,w.Z)(function*(){var $;if(!(0,L.hl)())return cr.warn(cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,L.eu)()}catch(Z){return cr.warn(cn.create("indexeddb-unavailable",{errorInfo:null===($=Z)||void 0===$?void 0:$.toString()}).message),!1}return!0})).apply(this,arguments)}function cl(){return(cl=(0,w.Z)(function*($,Z,ae,Se,ke,Be,Je){var lt;const Ft=Sa($);Ft.then(Wr=>{ae[Wr.measurementId]=Wr.appId,$.options.measurementId&&Wr.measurementId!==$.options.measurementId&&cr.warn(`The measurement ID in the local Firebase config (${$.options.measurementId}) does not match the measurement ID fetched from the server (${Wr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wr=>cr.error(Wr)),Z.push(Ft);const Qt=jo().then(Wr=>{if(Wr)return Se.getId()}),[fn,Lt]=yield Promise.all([Ft,Qt]);xi(Be)||va(Be,fn.measurementId),Gc&&(ke("consent","default",Gc),al(void 0)),ke("js",new Date);const Tr=null!==(lt=Je?.config)&&void 0!==lt?lt:{};return Tr.origin="firebase",Tr.update=!0,null!=Lt&&(Tr[Hc]=Lt),ke("config",fn.measurementId,Tr),rn&&(ke("set",rn),zu(void 0)),fn.measurementId})).apply(this,arguments)}class $c{constructor(Z){this.app=Z}_delete(){return delete li[this.app.options.appId],Promise.resolve()}}let li={},ul=[];const Ta={};let hl,Fs,dl="dataLayer",nh=!1;function Bf($,Z,ae){!function mg(){const $=[];if((0,L.ru)()&&$.push("This is a browser extension environment."),(0,L.zI)()||$.push("Cookies are not available."),$.length>0){const Z=$.map((Se,ke)=>`(${ke+1}) ${Se}`).join(" "),ae=cn.create("invalid-analytics-context",{errorInfo:Z});cr.warn(ae.message)}}();const Se=$.options.appId;if(!Se)throw cn.create("no-app-id");if(!$.options.apiKey){if(!$.options.measurementId)throw cn.create("no-api-key");cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${$.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=li[Se])throw cn.create("already-exists",{id:Se});if(!nh){!function il($){let Z=[];Array.isArray(window[$])?Z=window[$]:window[$]=Z}(dl);const{wrappedGtag:Be,gtagCore:Je}=function Ca($,Z,ae,Se,ke){let Be=function(...Je){window[Se].push(arguments)};return window[ke]&&"function"==typeof window[ke]&&(Be=window[ke]),window[ke]=function tc($,Z,ae,Se){function Be(){return(Be=(0,w.Z)(function*(Je,lt,Ft){try{"event"===Je?yield $i($,Z,ae,lt,Ft):"config"===Je?yield ju($,Z,ae,Se,lt,Ft):"consent"===Je?$("consent","update",Ft):$("set",lt)}catch(Qt){cr.error(Qt)}})).apply(this,arguments)}return function ke(Je,lt,Ft){return Be.apply(this,arguments)}}(Be,$,Z,ae),{gtagCore:Be,wrappedGtag:window[ke]}}(li,ul,Ta,dl,"gtag");Fs=Be,hl=Je,nh=!0}return li[Se]=function Vf($,Z,ae,Se,ke,Be,Je){return cl.apply(this,arguments)}($,ul,Ta,Z,hl,dl,ae),new $c($)}function X_(){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,w.Z)(function*(){if((0,L.ru)()||!(0,L.zI)()||!(0,L.hl)())return!1;try{return yield(0,L.eu)()}catch{return!1}})).apply(this,arguments)}const ms="@firebase/analytics";!function ei(){(0,P._registerComponent)(new U.wA(Uo,(Z,{options:ae})=>Bf(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,P._registerComponent)(new U.wA("analytics-internal",function $(Z){try{const ae=Z.getProvider(Uo).getImmediate();return{logEvent:(Se,ke,Be)=>function fl($,Z,ae,Se){$=(0,L.m9)($),function rr($,Z,ae,Se,ke){return Yn.apply(this,arguments)}(Fs,li[$.app.options.appId],Z,ae,Se).catch(ke=>cr.error(ke))}(ae,Se,ke,Be)}}catch(ae){throw cn.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,P.registerVersion)(ms,"0.8.4"),(0,P.registerVersion)(ms,"0.8.4","esm2017")}();var Go=p(4408),Ls=p(7565);const Hf=new class $o extends Ls.v{}(class ic extends Go.o{constructor(Z,ae){super(Z,ae),this.scheduler=Z,this.work=ae}schedule(Z,ae=0){return ae>0?super.schedule(Z,ae):(this.delay=ae,this.state=Z,this.scheduler.flush(this),this)}execute(Z,ae){return ae>0||this.closed?super.execute(Z,ae):this._execute(Z,ae)}requestAsyncId(Z,ae,Se=0){return null!=Se&&Se>0||null==Se&&this.delay>0?super.requestAsyncId(Z,ae,Se):(Z.flush(this),0)}});var gg=p(4986),sc=p(8505),ih=p(5363),jf=p(9468);const zi=new s.GfV("7.4.1"),pl="__angularfire_symbol__analyticsIsSupportedValue",Ci="__angularfire_symbol__analyticsIsSupported",Wc="__angularfire_symbol__remoteConfigIsSupportedValue",ml="__angularfire_symbol__remoteConfigIsSupported",sh="__angularfire_symbol__messagingIsSupportedValue",gl="__angularfire_symbol__messagingIsSupported";function oc($,Z,ae){if(Z){if(1===Z.length)return Z[0];const Be=Z.filter(Je=>Je.app===ae);if(1===Be.length)return Be[0]}return ae.container.getProvider($).getImmediate({optional:!0})}globalThis[Ci]||(globalThis[Ci]=X_().then($=>globalThis[pl]=$).catch(()=>globalThis[pl]=!1)),globalThis[gl]||(globalThis[gl]=el().then($=>globalThis[sh]=$).catch(()=>globalThis[sh]=!1)),globalThis[ml]||(globalThis[ml]=Za().then($=>globalThis[Wc]=$).catch(()=>globalThis[Wc]=!1));const Zc=($,Z)=>{const ae=Z?[Z]:(0,_.C6)(),Se=[];return ae.forEach(ke=>{ke.container.getProvider($).instances.forEach(Je=>{Se.includes(Je)||Se.push(Je)})}),Se};function ao(){}class yl{constructor(Z,ae=Hf){this.zone=Z,this.delegate=ae}now(){return this.delegate.now()}schedule(Z,ae,Se){const ke=this.zone;return this.delegate.schedule(function(Je){ke.runGuarded(()=>{Z.apply(this,[Je])})},ae,Se)}}class Ku{constructor(Z){this.zone=Z,this.task=null}call(Z,ae){const Se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ao,{},ao,ao)),ae.pipe((0,sc.b)({next:Se,complete:Se,error:Se})).subscribe(Z).add(Se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _l=(()=>{class ${constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new yl(Zone.current)),this.insideAngular=ae.run(()=>new yl(Zone.current,gg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return $.\u0275fac=function(ae){return new(ae||$)(s.LFG(s.R0b))},$.\u0275prov=s.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();function zo(){const $=globalThis.\u0275AngularFireScheduler;if(!$)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return $}function Qu($){return $.pipe((0,ih.Q)(zo().outsideAngular))}function qo($){return zo(),function Gf($){return function(ae){return(ae=ae.lift(new Ku($.ngZone))).pipe((0,jf.R)($.outsideAngular),(0,ih.Q)($.insideAngular))}}(zo())($)}},8247:(d,h,p)=>{"use strict";p.d(h,{$:()=>Ms,A:()=>j,B:()=>Y,G:()=>Bi,H:()=>Jr,J:()=>cs,L:()=>Ae,M:()=>Ka,N:()=>us,P:()=>gg,Q:()=>Ya,R:()=>ev,T:()=>Qa,U:()=>xs,V:()=>vi,W:()=>Ui,X:()=>Jd,Y:()=>Po,Z:()=>qt,_:()=>Xd,a:()=>Os,a0:()=>Nc,a1:()=>_r,a2:()=>Ja,a3:()=>fa,a4:()=>Lu,a5:()=>eh,a6:()=>gr,a7:()=>ji,a8:()=>ma,a9:()=>Gi,aA:()=>Te,aB:()=>Ft,aC:()=>Qu,aD:()=>Ia,aE:()=>Tt,aI:()=>Ho,aL:()=>Do,aa:()=>Vu,ab:()=>Lo,ac:()=>Yl,af:()=>Bu,ag:()=>Uu,ah:()=>Vc,ak:()=>Ii,al:()=>Jl,an:()=>ks,ao:()=>wa,ap:()=>Ie,aq:()=>et,ar:()=>wt,as:()=>J,at:()=>cc,au:()=>Aa,av:()=>Yt,aw:()=>ne,ax:()=>_e,ay:()=>Wr,az:()=>de,b:()=>cn,c:()=>sh,d:()=>yg,e:()=>Zu,f:()=>Gf,g:()=>Se,h:()=>$,i:()=>ll,j:()=>Je,k:()=>Wo,l:()=>rh,m:()=>Sl,o:()=>z,r:()=>Go,s:()=>qc,u:()=>Hf});var s=p(5861),_=p(2090),w=p(9681),P=p(1877),L=p(655),U=p(4859);const z={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Y=function G(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},A=function k(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},N=new _.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),T=new P.Yd("@firebase/auth");function W(D,...b){T.logLevel<=P.in.ERROR&&T.error(`Auth (${w.SDK_VERSION}): ${D}`,...b)}function J(D,...b){throw Pe(D,...b)}function ne(D,...b){return Pe(D,...b)}function re(D,b,C){const R=Object.assign(Object.assign({},A()),{[b]:C});return new _.LL("auth","Firebase",R).create(b,{appName:D.name})}function me(D,b,C){if(!(b instanceof C))throw C.name!==b.constructor.name&&J(D,"argument-error"),re(D,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(D,...b){if("string"!=typeof D){const C=b[0],R=[...b.slice(1)];return R[0]&&(R[0].appName=D.name),D._errorFactory.create(C,...R)}return N.create(D,...b)}function _e(D,b,...C){if(!D)throw Pe(b,...C)}function ve(D){const b="INTERNAL ASSERTION FAILED: "+D;throw W(b),new Error(b)}function Ie(D,b){D||ve(b)}const Ee=new Map;function de(D){Ie(D instanceof Function,"Expected a class definition");let b=Ee.get(D);return b?(Ie(b instanceof D,"Instance stored in cache mismatched with class"),b):(b=new D,Ee.set(D,b),b)}function te(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function ue(){return"http:"===Re()||"https:"===Re()}function Re(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class $e{constructor(b,C){this.shortDelay=b,this.longDelay=C,Ie(C>b,"Short delay should be less than long delay!"),this.isMobile=(0,_.uI)()||(0,_.b$)()}get(){return function Oe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ue()||(0,_.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ot(D,b){Ie(D.emulator,"Emulator should always be set here");const{url:C}=D.emulator;return b?`${C}${b.startsWith("/")?b.slice(1):b}`:C}class Ot{static initialize(b,C,R){this.fetchImpl=b,C&&(this.headersImpl=C),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},jt=new $e(3e4,6e4);function At(D,b){return D.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:D.tenantId}):b}function Et(D,b,C,R){return En.apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(D,b,C,R,ie={}){return In(D,ie,(0,s.Z)(function*(){let he={},Ne={};R&&("GET"===b?Ne=R:he={body:JSON.stringify(R)});const Ze=(0,_.xO)(Object.assign({key:D.config.apiKey},Ne)).slice(1),Ct=yield D._getAdditionalHeaders();return Ct["Content-Type"]="application/json",D.languageCode&&(Ct["X-Firebase-Locale"]=D.languageCode),Ot.fetch()(or(D,D.config.apiHost,C,Ze),Object.assign({method:b,headers:Ct,referrerPolicy:"no-referrer"},he))}))})).apply(this,arguments)}function In(D,b,C){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,s.Z)(function*(D,b,C){D._canInitEmulator=!1;const R=Object.assign(Object.assign({},yt),b);try{const ie=new zn(D),he=yield Promise.race([C(),ie.promise]);ie.clearNetworkTimeout();const Ne=yield he.json();if("needConfirmation"in Ne)throw Mn(D,"account-exists-with-different-credential",Ne);if(he.ok&&!("errorMessage"in Ne))return Ne;{const Ze=he.ok?Ne.errorMessage:Ne.error.message,[Ct,Bt]=Ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ct)throw Mn(D,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Ct)throw Mn(D,"email-already-in-use",Ne);if("USER_DISABLED"===Ct)throw Mn(D,"user-disabled",Ne);const Wt=R[Ct]||Ct.toLowerCase().replace(/[_\s]+/g,"-");if(Bt)throw re(D,Wt,Bt);J(D,Wt)}}catch(ie){if(ie instanceof _.ZR)throw ie;J(D,"network-request-failed")}})).apply(this,arguments)}function st(D,b,C,R){return _n.apply(this,arguments)}function _n(){return(_n=(0,s.Z)(function*(D,b,C,R,ie={}){const he=yield Et(D,b,C,R,ie);return"mfaPendingCredential"in he&&J(D,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function or(D,b,C,R){const ie=`${b}${C}?${R}`;return D.config.emulator?ot(D.config,ie):`${D.config.apiScheme}://${ie}`}class zn{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((C,R)=>{this.timer=setTimeout(()=>R(ne(this.auth,"network-request-failed")),jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(D,b,C){const R={appName:D.name};C.email&&(R.email=C.email),C.phoneNumber&&(R.phoneNumber=C.phoneNumber);const ie=ne(D,b,R);return ie.customData._tokenResponse=C,ie}function Bn(){return(Bn=(0,s.Z)(function*(D,b){return Et(D,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function at(D,b){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(D,b){return Et(D,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function kn(D,b){return vn.apply(this,arguments)}function vn(){return(vn=(0,s.Z)(function*(D,b){return Et(D,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function Ln(D){if(D)try{const b=new Date(Number(D));if(!isNaN(b.getTime()))return b.toUTCString()}catch{}}function ln(){return(ln=(0,s.Z)(function*(D,b=!1){const C=(0,_.m9)(D),R=yield C.getIdToken(b),ie=ct(R);_e(ie&&ie.exp&&ie.auth_time&&ie.iat,C.auth,"internal-error");const he="object"==typeof ie.firebase?ie.firebase:void 0,Ne=he?.sign_in_provider;return{claims:ie,token:R,authTime:Ln(dn(ie.auth_time)),issuedAtTime:Ln(dn(ie.iat)),expirationTime:Ln(dn(ie.exp)),signInProvider:Ne||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function dn(D){return 1e3*Number(D)}function ct(D){var b;const[C,R,ie]=D.split(".");if(void 0===C||void 0===R||void 0===ie)return W("JWT malformed, contained fewer than 3 sections"),null;try{const he=(0,_.tV)(R);return he?JSON.parse(he):(W("Failed to decode base64 JWT payload"),null)}catch(he){return W("Caught error parsing JWT payload as JSON",null===(b=he)||void 0===b?void 0:b.toString()),null}}function zt(D,b){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,s.Z)(function*(D,b,C=!1){if(C)return b;try{return yield b}catch(R){throw R instanceof _.ZR&&xn(R)&&D.auth.currentUser===D&&(yield D.auth.signOut()),R}})).apply(this,arguments)}function xn({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class $r{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var C;if(b){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const ie=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(b=!1){var C=this;if(!this.isRunning)return;const R=this.getInterval(b);this.timerId=setTimeout((0,s.Z)(function*(){yield C.iteration()}),R)}iteration(){var b=this;return(0,s.Z)(function*(){var C;try{yield b.user.getIdToken(!0)}catch(R){return void("auth/network-request-failed"===(null===(C=R)||void 0===C?void 0:C.code)&&b.schedule(!0))}b.schedule()})()}}class Ut{constructor(b,C){this.createdAt=b,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ln(this.lastLoginAt),this.creationTime=Ln(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fr(D){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,s.Z)(function*(D){var b;const C=D.auth,R=yield D.getIdToken(),ie=yield zt(D,kn(C,{idToken:R}));_e(ie?.users.length,C,"internal-error");const he=ie.users[0];D._notifyReloadListener(he);const Ne=null!==(b=he.providerUserInfo)&&void 0!==b&&b.length?Jn(he.providerUserInfo):[],Ze=br(D.providerData,Ne),Wt=!!D.isAnonymous&&!(D.email&&he.passwordHash||Ze?.length),sr={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:Ze,metadata:new Ut(he.createdAt,he.lastLoginAt),isAnonymous:Wt};Object.assign(D,sr)})).apply(this,arguments)}function pn(){return(pn=(0,s.Z)(function*(D){const b=(0,_.m9)(D);yield Fr(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function br(D,b){return[...D.filter(R=>!b.some(ie=>ie.providerId===R.providerId)),...b]}function Jn(D){return D.map(b=>{var{providerId:C}=b,R=(0,L._T)(b,["providerId"]);return{providerId:C,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function qe(){return(qe=(0,s.Z)(function*(D,b){const C=yield In(D,{},(0,s.Z)(function*(){const R=(0,_.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:ie,apiKey:he}=D.config,Ne=or(D,ie,"/v1/token",`key=${he}`),Ze=yield D._getAdditionalHeaders();return Ze["Content-Type"]="application/x-www-form-urlencoded",Ot.fetch()(Ne,{method:"POST",headers:Ze,body:R})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class _t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){_e(b.idToken,"internal-error"),_e(typeof b.idToken<"u","internal-error"),_e(typeof b.refreshToken<"u","internal-error");const C="expiresIn"in b&&typeof b.expiresIn<"u"?Number(b.expiresIn):function mt(D){const b=ct(D);return _e(b,"internal-error"),_e(typeof b.exp<"u","internal-error"),_e(typeof b.iat<"u","internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,C)}getToken(b,C=!1){var R=this;return(0,s.Z)(function*(){return _e(!R.accessToken||R.refreshToken,b,"user-token-expired"),C||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(b,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,C){var R=this;return(0,s.Z)(function*(){const{accessToken:ie,refreshToken:he,expiresIn:Ne}=yield function ft(D,b){return qe.apply(this,arguments)}(b,C);R.updateTokensAndExpiration(ie,he,Number(Ne))})()}updateTokensAndExpiration(b,C,R){this.refreshToken=C||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(b,C){const{refreshToken:R,accessToken:ie,expirationTime:he}=C,Ne=new _t;return R&&(_e("string"==typeof R,"internal-error",{appName:b}),Ne.refreshToken=R),ie&&(_e("string"==typeof ie,"internal-error",{appName:b}),Ne.accessToken=ie),he&&(_e("number"==typeof he,"internal-error",{appName:b}),Ne.expirationTime=he),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new _t,this.toJSON())}_performRefresh(){return ve("not implemented")}}function Rt(D,b){_e("string"==typeof D||typeof D>"u","internal-error",{appName:b})}class Nt{constructor(b){var{uid:C,auth:R,stsTokenManager:ie}=b,he=(0,L._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=R,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new Ut(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(b){var C=this;return(0,s.Z)(function*(){const R=yield zt(C,C.stsTokenManager.getToken(C.auth,b));return _e(R,C.auth,"internal-error"),C.accessToken!==R&&(C.accessToken=R,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),R})()}getIdTokenResult(b){return function $t(D){return ln.apply(this,arguments)}(this,b)}reload(){return function ai(D){return pn.apply(this,arguments)}(this)}_assign(b){this!==b&&(_e(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(C=>Object.assign({},C)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new Nt(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,C=!1){var R=this;return(0,s.Z)(function*(){let ie=!1;b.idToken&&b.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(b),ie=!0),C&&(yield Fr(R)),yield R.auth._persistUserIfCurrent(R),ie&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var b=this;return(0,s.Z)(function*(){const C=yield b.getIdToken();return yield zt(b,function Sn(D,b){return Bn.apply(this,arguments)}(b.auth,{idToken:C})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,C){var R,ie,he,Ne,Ze,Ct,Bt,Wt;const sr=null!==(R=C.displayName)&&void 0!==R?R:void 0,Pi=null!==(ie=C.email)&&void 0!==ie?ie:void 0,Ko=null!==(he=C.phoneNumber)&&void 0!==he?he:void 0,ep=null!==(Ne=C.photoURL)&&void 0!==Ne?Ne:void 0,tp=null!==(Ze=C.tenantId)&&void 0!==Ze?Ze:void 0,np=null!==(Ct=C._redirectEventId)&&void 0!==Ct?Ct:void 0,av=null!==(Bt=C.createdAt)&&void 0!==Bt?Bt:void 0,lv=null!==(Wt=C.lastLoginAt)&&void 0!==Wt?Wt:void 0,{uid:Yc,emailVerified:rp,isAnonymous:id,providerData:ip,stsTokenManager:hc}=C;_e(Yc&&hc,b,"internal-error");const fh=_t.fromJSON(this.name,hc);_e("string"==typeof Yc,b,"internal-error"),Rt(sr,b.name),Rt(Pi,b.name),_e("boolean"==typeof rp,b,"internal-error"),_e("boolean"==typeof id,b,"internal-error"),Rt(Ko,b.name),Rt(ep,b.name),Rt(tp,b.name),Rt(np,b.name),Rt(av,b.name),Rt(lv,b.name);const vr=new Nt({uid:Yc,auth:b,email:Pi,emailVerified:rp,displayName:sr,isAnonymous:id,photoURL:ep,phoneNumber:Ko,tenantId:tp,stsTokenManager:fh,createdAt:av,lastLoginAt:lv});return ip&&Array.isArray(ip)&&(vr.providerData=ip.map(sp=>Object.assign({},sp))),np&&(vr._redirectEventId=np),vr}static _fromIdTokenResponse(b,C,R=!1){return(0,s.Z)(function*(){const ie=new _t;ie.updateFromServerResponse(C);const he=new Nt({uid:C.localId,auth:b,stsTokenManager:ie,isAnonymous:R});return yield Fr(he),he})()}}const Ae=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(C,R){var ie=this;return(0,s.Z)(function*(){ie.storage[C]=R})()}_get(C){var R=this;return(0,s.Z)(function*(){const ie=R.storage[C];return void 0===ie?null:ie})()}_remove(C){var R=this;return(0,s.Z)(function*(){delete R.storage[C]})()}_addListener(C,R){}_removeListener(C,R){}}return D.type="NONE",D})();function Te(D,b,C){return`firebase:${D}:${b}:${C}`}class xe{constructor(b,C,R){this.persistence=b,this.auth=C,this.userKey=R;const{config:ie,name:he}=this.auth;this.fullUserKey=Te(this.userKey,ie.apiKey,he),this.fullPersistenceKey=Te("persistence",ie.apiKey,he),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,s.Z)(function*(){const C=yield b.persistence._get(b.fullUserKey);return C?Nt._fromJSON(b.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var C=this;return(0,s.Z)(function*(){if(C.persistence===b)return;const R=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=b,R?C.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,C,R="authUser"){return(0,s.Z)(function*(){if(!C.length)return new xe(de(Ae),b,R);const ie=(yield Promise.all(C.map(function(){var Bt=(0,s.Z)(function*(Wt){if(yield Wt._isAvailable())return Wt});return function(Wt){return Bt.apply(this,arguments)}}()))).filter(Bt=>Bt);let he=ie[0]||de(Ae);const Ne=Te(R,b.config.apiKey,b.name);let Ze=null;for(const Bt of C)try{const Wt=yield Bt._get(Ne);if(Wt){const sr=Nt._fromJSON(b,Wt);Bt!==he&&(Ze=sr),he=Bt;break}}catch{}const Ct=ie.filter(Bt=>Bt._shouldAllowMigration);return he._shouldAllowMigration&&Ct.length?(he=Ct[0],Ze&&(yield he._set(Ne,Ze.toJSON())),yield Promise.all(C.map(function(){var Bt=(0,s.Z)(function*(Wt){if(Wt!==he)try{yield Wt._remove(Ne)}catch{}});return function(Wt){return Bt.apply(this,arguments)}}())),new xe(he,b,R)):new xe(he,b,R)})()}}function Ce(D){const b=D.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(Qe(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(le(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(bt(b))return"Blackberry";if(We(b))return"Webos";if(ye(b))return"Safari";if((b.includes("chrome/")||Fe(b))&&!b.includes("edge/"))return"Chrome";if(wt(b))return"Android";{const R=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function le(D=(0,_.z$)()){return/firefox\//i.test(D)}function ye(D=(0,_.z$)()){const b=D.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function Fe(D=(0,_.z$)()){return/crios\//i.test(D)}function Qe(D=(0,_.z$)()){return/iemobile/i.test(D)}function wt(D=(0,_.z$)()){return/android/i.test(D)}function bt(D=(0,_.z$)()){return/blackberry/i.test(D)}function We(D=(0,_.z$)()){return/webos/i.test(D)}function et(D=(0,_.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function Yt(D=(0,_.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Hn(D=(0,_.z$)()){return et(D)||wt(D)||We(D)||bt(D)||/windows phone/i.test(D)||Qe(D)}function Kn(D,b=[]){let C;switch(D){case"Browser":C=Ce((0,_.z$)());break;case"Worker":C=`${Ce((0,_.z$)())}-${D}`;break;default:C=D}const R=b.length?b.join(","):"FirebaseCore-web";return`${C}/JsCore/${w.SDK_VERSION}/${R}`}class qs{constructor(b){this.auth=b,this.queue=[]}pushCallback(b,C){const R=he=>new Promise((Ne,Ze)=>{try{Ne(b(he))}catch(Ct){Ze(Ct)}});R.onAbort=C,this.queue.push(R);const ie=this.queue.length-1;return()=>{this.queue[ie]=()=>Promise.resolve()}}runMiddleware(b){var C=this;return(0,s.Z)(function*(){var R;if(C.auth.currentUser===b)return;const ie=[];try{for(const he of C.queue)yield he(b),he.onAbort&&ie.push(he.onAbort)}catch(he){ie.reverse();for(const Ne of ie)try{Ne()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:null===(R=he)||void 0===R?void 0:R.message})}})()}}class As{constructor(b,C,R){this.app=b,this.heartbeatServiceProvider=C,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ds(this),this.idTokenSubscription=new Ds(this),this.beforeStateQueue=new qs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(b,C){var R=this;return C&&(this._popupRedirectResolver=de(C)),this._initializationPromise=this.queue((0,s.Z)(function*(){var ie,he;if(!R._deleted&&(R.persistenceManager=yield xe.create(R,b),!R._deleted)){if(null!==(ie=R._popupRedirectResolver)&&void 0!==ie&&ie._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(C),R.lastNotifiedUid=(null===(he=R.currentUser)||void 0===he?void 0:he.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,s.Z)(function*(){if(b._deleted)return;const C=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||C){if(b.currentUser&&C&&b.currentUser.uid===C.uid)return b._currentUser._assign(C),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(C,!0)}})()}initializeCurrentUser(b){var C=this;return(0,s.Z)(function*(){var R;const ie=yield C.assertedPersistence.getCurrentUser();let he=ie,Ne=!1;if(b&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const Ze=null===(R=C.redirectUser)||void 0===R?void 0:R._redirectEventId,Ct=he?._redirectEventId,Bt=yield C.tryRedirectSignIn(b);(!Ze||Ze===Ct)&&Bt?.user&&(he=Bt.user,Ne=!0)}if(!he)return C.directlySetCurrentUser(null);if(!he._redirectEventId){if(Ne)try{yield C.beforeStateQueue.runMiddleware(he)}catch(Ze){he=ie,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(Ze))}return he?C.reloadAndSetCurrentUserOrClear(he):C.directlySetCurrentUser(null)}return _e(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===he._redirectEventId?C.directlySetCurrentUser(he):C.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(b){var C=this;return(0,s.Z)(function*(){let R=null;try{R=yield C._popupRedirectResolver._completeRedirectFn(C,b,!0)}catch{yield C._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(b){var C=this;return(0,s.Z)(function*(){var R;try{yield Fr(b)}catch(ie){if("auth/network-request-failed"!==(null===(R=ie)||void 0===R?void 0:R.code))return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function Ye(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var b=this;return(0,s.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var C=this;return(0,s.Z)(function*(){const R=b?(0,_.m9)(b):null;return R&&_e(R.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(R&&R._clone(C))})()}_updateCurrentUser(b,C=!1){var R=this;return(0,s.Z)(function*(){if(!R._deleted)return b&&_e(R.tenantId===b.tenantId,R,"tenant-id-mismatch"),C||(yield R.beforeStateQueue.runMiddleware(b)),R.queue((0,s.Z)(function*(){yield R.directlySetCurrentUser(b),R.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,s.Z)(function*(){return yield b.beforeStateQueue.runMiddleware(null),(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null,!0)})()}setPersistence(b){var C=this;return this.queue((0,s.Z)(function*(){yield C.assertedPersistence.setPersistence(de(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new _.LL("auth","Firebase",b())}onAuthStateChanged(b,C,R){return this.registerStateListener(this.authStateSubscription,b,C,R)}beforeAuthStateChanged(b,C){return this.beforeStateQueue.pushCallback(b,C)}onIdTokenChanged(b,C,R){return this.registerStateListener(this.idTokenSubscription,b,C,R)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,C){var R=this;return(0,s.Z)(function*(){const ie=yield R.getOrInitRedirectPersistenceManager(C);return null===b?ie.removeCurrentUser():ie.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var C=this;return(0,s.Z)(function*(){if(!C.redirectPersistenceManager){const R=b&&de(b)||C._popupRedirectResolver;_e(R,C,"argument-error"),C.redirectPersistenceManager=yield xe.create(C,[de(R._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(b){var C=this;return(0,s.Z)(function*(){var R,ie;return C._isInitialized&&(yield C.queue((0,s.Z)(function*(){}))),(null===(R=C._currentUser)||void 0===R?void 0:R._redirectEventId)===b?C._currentUser:(null===(ie=C.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===b?C.redirectUser:null})()}_persistUserIfCurrent(b){var C=this;return(0,s.Z)(function*(){if(b===C.currentUser)return C.queue((0,s.Z)(function*(){return C.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(C=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,C,R,ie){if(this._deleted)return()=>{};const he="function"==typeof C?C:C.next.bind(C),Ne=this._isInitialized?Promise.resolve():this._initializationPromise;return _e(Ne,this,"internal-error"),Ne.then(()=>he(this.currentUser)),"function"==typeof C?b.addObserver(C,R,ie):b.addObserver(C)}directlySetCurrentUser(b){var C=this;return(0,s.Z)(function*(){C.currentUser&&C.currentUser!==b&&C._currentUser._stopProactiveRefresh(),b&&C.isProactiveRefreshEnabled&&b._startProactiveRefresh(),C.currentUser=b,b?yield C.assertedPersistence.setCurrentUser(b):yield C.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=Kn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var b=this;return(0,s.Z)(function*(){var C;const R={"X-Client-Version":b.clientVersion};b.app.options.appId&&(R["X-Firebase-gmpid"]=b.app.options.appId);const ie=yield null===(C=b.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return ie&&(R["X-Firebase-Client"]=ie),R})()}}function Tt(D){return(0,_.m9)(D)}class Ds{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,_.ne)(C=>this.observer=C)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bi(D,b,C){const R=Tt(D);_e(R._canInitEmulator,R,"emulator-config-failed"),_e(/^https?:\/\//.test(b),R,"invalid-emulator-scheme");const ie=!!C?.disableWarnings,he=kr(b),{host:Ne,port:Ze}=function os(D){const b=kr(D),C=/(\/\/)?([^?#/]+)/.exec(D.substr(b.length));if(!C)return{host:"",port:null};const R=C[2].split("@").pop()||"",ie=/^(\[[^\]]+\])(:|$)/.exec(R);if(ie){const he=ie[1];return{host:he,port:fr(R.substr(he.length+1))}}{const[he,Ne]=R.split(":");return{host:he,port:fr(Ne)}}}(b);R.config.emulator={url:`${he}//${Ne}${null===Ze?"":`:${Ze}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Ne,port:Ze,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:ie})}),ie||function Ws(){function D(){const b=document.createElement("p"),C=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function kr(D){const b=D.indexOf(":");return b<0?"":D.substr(0,b+1)}function fr(D){if(!D)return null;const b=Number(D);return isNaN(b)?null:b}class Jr{constructor(b,C){this.providerId=b,this.signInMethod=C}toJSON(){return ve("not implemented")}_getIdTokenResponse(b){return ve("not implemented")}_linkToIdToken(b,C){return ve("not implemented")}_getReauthenticationResolver(b){return ve("not implemented")}}function mi(D,b){return pr.apply(this,arguments)}function pr(){return(pr=(0,s.Z)(function*(D,b){return Et(D,"POST","/v1/accounts:resetPassword",At(D,b))})).apply(this,arguments)}function jl(D,b){return On.apply(this,arguments)}function On(){return(On=(0,s.Z)(function*(D,b){return Et(D,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Ru(D,b){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,s.Z)(function*(D,b){return Et(D,"POST","/v1/accounts:update",At(D,b))})).apply(this,arguments)}function Zs(){return(Zs=(0,s.Z)(function*(D,b){return st(D,"POST","/v1/accounts:signInWithPassword",At(D,b))})).apply(this,arguments)}function gi(D,b){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,s.Z)(function*(D,b){return Et(D,"POST","/v1/accounts:sendOobCode",At(D,b))})).apply(this,arguments)}function as(D,b){return jn.apply(this,arguments)}function jn(){return(jn=(0,s.Z)(function*(D,b){return gi(D,b)})).apply(this,arguments)}function Nu(D,b){return mr.apply(this,arguments)}function mr(){return(mr=(0,s.Z)(function*(D,b){return gi(D,b)})).apply(this,arguments)}function yi(D,b){return ls.apply(this,arguments)}function ls(){return(ls=(0,s.Z)(function*(D,b){return gi(D,b)})).apply(this,arguments)}function ua(D,b){return da.apply(this,arguments)}function da(){return(da=(0,s.Z)(function*(D,b){return gi(D,b)})).apply(this,arguments)}function qa(){return(qa=(0,s.Z)(function*(D,b){return st(D,"POST","/v1/accounts:signInWithEmailLink",At(D,b))})).apply(this,arguments)}function So(){return(So=(0,s.Z)(function*(D,b){return st(D,"POST","/v1/accounts:signInWithEmailLink",At(D,b))})).apply(this,arguments)}class Ys extends Jr{constructor(b,C,R,ie=null){super("password",R),this._email=b,this._password=C,this._tenantId=ie}static _fromEmailAndPassword(b,C){return new Ys(b,C,"password")}static _fromEmailAndCode(b,C,R=null){return new Ys(b,C,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const C="string"==typeof b?JSON.parse(b):b;if(C?.email&&C?.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(b){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return function ca(D,b){return Zs.apply(this,arguments)}(b,{returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Cr(D,b){return qa.apply(this,arguments)}(b,{email:C._email,oobCode:C._password});default:J(b,"internal-error")}})()}_linkToIdToken(b,C){var R=this;return(0,s.Z)(function*(){switch(R.signInMethod){case"password":return jl(b,{idToken:C,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function Wd(D,b){return So.apply(this,arguments)}(b,{idToken:C,email:R._email,oobCode:R._password});default:J(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function Qs(D,b){return _i.apply(this,arguments)}function _i(){return(_i=(0,s.Z)(function*(D,b){return st(D,"POST","/v1/accounts:signInWithIdp",At(D,b))})).apply(this,arguments)}class cs extends Jr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const C=new cs(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(C.idToken=b.idToken),b.accessToken&&(C.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(C.nonce=b.nonce),b.pendingToken&&(C.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(C.accessToken=b.oauthToken,C.secret=b.oauthTokenSecret):J("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const C="string"==typeof b?JSON.parse(b):b,{providerId:R,signInMethod:ie}=C,he=(0,L._T)(C,["providerId","signInMethod"]);if(!R||!ie)return null;const Ne=new cs(R,ie);return Ne.idToken=he.idToken||void 0,Ne.accessToken=he.accessToken||void 0,Ne.secret=he.secret,Ne.nonce=he.nonce,Ne.pendingToken=he.pendingToken||null,Ne}_getIdTokenResponse(b){return Qs(b,this.buildRequest())}_linkToIdToken(b,C){const R=this.buildRequest();return R.idToken=C,Qs(b,R)}_getReauthenticationResolver(b){const C=this.buildRequest();return C.autoCreate=!1,Qs(b,C)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),b.postBody=(0,_.xO)(C)}return b}}function Kd(D,b){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,s.Z)(function*(D,b){return Et(D,"POST","/v1/accounts:sendVerificationCode",At(D,b))})).apply(this,arguments)}function ha(){return(ha=(0,s.Z)(function*(D,b){return st(D,"POST","/v1/accounts:signInWithPhoneNumber",At(D,b))})).apply(this,arguments)}function Gl(){return(Gl=(0,s.Z)(function*(D,b){const C=yield st(D,"POST","/v1/accounts:signInWithPhoneNumber",At(D,b));if(C.temporaryProof)throw Mn(D,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const Yd={USER_NOT_FOUND:"user-not-found"};function Mc(){return(Mc=(0,s.Z)(function*(D,b){return st(D,"POST","/v1/accounts:signInWithPhoneNumber",At(D,Object.assign(Object.assign({},b),{operation:"REAUTH"})),Yd)})).apply(this,arguments)}class To extends Jr{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,C){return new To({verificationId:b,verificationCode:C})}static _fromTokenResponse(b,C){return new To({phoneNumber:b,temporaryProof:C})}_getIdTokenResponse(b){return function Wa(D,b){return ha.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,C){return function Js(D,b){return Gl.apply(this,arguments)}(b,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function Qd(D,b){return Mc.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:C,verificationId:R,verificationCode:ie}=this.params;return b&&C?{temporaryProof:b,phoneNumber:C}:{sessionInfo:R,code:ie}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:C,verificationCode:R,phoneNumber:ie,temporaryProof:he}=b;return R||C||ie||he?new To({verificationId:C,verificationCode:R,phoneNumber:ie,temporaryProof:he}):null}}class Io{constructor(b){var C,R,ie,he,Ne,Ze;const Ct=(0,_.zd)((0,_.pd)(b)),Bt=null!==(C=Ct.apiKey)&&void 0!==C?C:null,Wt=null!==(R=Ct.oobCode)&&void 0!==R?R:null,sr=function kc(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ie=Ct.mode)&&void 0!==ie?ie:null);_e(Bt&&Wt&&sr,"argument-error"),this.apiKey=Bt,this.operation=sr,this.code=Wt,this.continueUrl=null!==(he=Ct.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(Ne=Ct.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(Ze=Ct.tenantId)&&void 0!==Ze?Ze:null}static parseLink(b){const C=function Oc(D){const b=(0,_.zd)((0,_.pd)(D)).link,C=b?(0,_.zd)((0,_.pd)(b)).deep_link_id:null,R=(0,_.zd)((0,_.pd)(D)).deep_link_id;return(R?(0,_.zd)((0,_.pd)(R)).link:null)||R||C||b||D}(b);try{return new Io(C)}catch{return null}}}let Ka=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(C,R){return Ys._fromEmailAndPassword(C,R)}static credentialWithLink(C,R){const ie=Io.parseLink(R);return _e(ie,"argument-error"),Ys._fromEmailAndCode(C,ie.code,ie.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Lr{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class Xs extends Lr{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class xs extends Xs{static credentialFromJSON(b){const C="string"==typeof b?JSON.parse(b):b;return _e("providerId"in C&&"signInMethod"in C,"argument-error"),cs._fromParams(C)}credential(b){return this._credential(Object.assign(Object.assign({},b),{nonce:b.rawNonce}))}_credential(b){return _e(b.idToken||b.accessToken,"argument-error"),cs._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return xs.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return xs.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:C,oauthAccessToken:R,oauthTokenSecret:ie,pendingToken:he,nonce:Ne,providerId:Ze}=b;if(!R&&!ie&&!C&&!he||!Ze)return null;try{return new xs(Ze)._credential({idToken:C,accessToken:R,nonce:Ne,pendingToken:he})}catch{return null}}}let us=(()=>{class D extends Xs{constructor(){super("facebook.com")}static credential(C){return cs._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return D.credentialFromTaggedObject(C)}static credentialFromError(C){return D.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return D.credential(C.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Ya=(()=>{class D extends Xs{constructor(){super("google.com"),this.addScope("profile")}static credential(C,R){return cs._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:R})}static credentialFromResult(C){return D.credentialFromTaggedObject(C)}static credentialFromError(C){return D.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:R,oauthAccessToken:ie}=C;if(!R&&!ie)return null;try{return D.credential(R,ie)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Qa=(()=>{class D extends Xs{constructor(){super("github.com")}static credential(C){return cs._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return D.credentialFromTaggedObject(C)}static credentialFromError(C){return D.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return D.credential(C.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Do extends Jr{constructor(b,C){super(b,b),this.pendingToken=C}_getIdTokenResponse(b){return Qs(b,this.buildRequest())}_linkToIdToken(b,C){const R=this.buildRequest();return R.idToken=C,Qs(b,R)}_getReauthenticationResolver(b){const C=this.buildRequest();return C.autoCreate=!1,Qs(b,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const C="string"==typeof b?JSON.parse(b):b,{providerId:R,signInMethod:ie,pendingToken:he}=C;return R&&ie&&he&&R===ie?new Do(R,he):null}static _create(b,C){return new Do(b,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vi extends Lr{constructor(b){_e(b.startsWith("saml."),"argument-error"),super(b)}static credentialFromResult(b){return vi.samlCredentialFromTaggedObject(b)}static credentialFromError(b){return vi.samlCredentialFromTaggedObject(b.customData||{})}static credentialFromJSON(b){const C=Do.fromJSON(b);return _e(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{pendingToken:C,providerId:R}=b;if(!C||!R)return null;try{return Do._create(R,C)}catch{return null}}}let Ui=(()=>{class D extends Xs{constructor(){super("twitter.com")}static credential(C,R){return cs._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:R})}static credentialFromResult(C){return D.credentialFromTaggedObject(C)}static credentialFromError(C){return D.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:R,oauthTokenSecret:ie}=C;if(!R||!ie)return null;try{return D.credential(R,ie)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Er(D,b){return eo.apply(this,arguments)}function eo(){return(eo=(0,s.Z)(function*(D,b){return st(D,"POST","/v1/accounts:signUp",At(D,b))})).apply(this,arguments)}class Ti{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,C,R,ie=!1){return(0,s.Z)(function*(){const he=yield Nt._fromIdTokenResponse(b,R,ie),Ne=xo(R);return new Ti({user:he,providerId:Ne,_tokenResponse:R,operationType:C})})()}static _forOperation(b,C,R){return(0,s.Z)(function*(){yield b._updateTokensIfNecessary(R,!0);const ie=xo(R);return new Ti({user:b,providerId:ie,_tokenResponse:R,operationType:C})})()}}function xo(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Jd(D){return zl.apply(this,arguments)}function zl(){return(zl=(0,s.Z)(function*(D){var b;const C=Tt(D);if(yield C._initializationPromise,null!==(b=C.currentUser)&&void 0!==b&&b.isAnonymous)return new Ti({user:C.currentUser,providerId:null,operationType:"signIn"});const R=yield Er(C,{returnSecureToken:!0}),ie=yield Ti._fromIdTokenResponse(C,"signIn",R,!0);return yield C._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class ar extends _.ZR{constructor(b,C,R,ie){var he;super(C.code,C.message),this.operationType=R,this.user=ie,Object.setPrototypeOf(this,ar.prototype),this.customData={appName:b.name,tenantId:null!==(he=b.tenantId)&&void 0!==he?he:void 0,_serverResponse:C.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(b,C,R,ie){return new ar(b,C,R,ie)}}function Rc(D,b,C,R){return("reauthenticate"===b?C._getReauthenticationResolver(D):C._getIdTokenResponse(D)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?ar._fromErrorAndOperation(D,he,b,R):he})}function Fu(D){return new Set(D.map(({providerId:b})=>b).filter(b=>!!b))}function Ii(D,b){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,s.Z)(function*(D,b){const C=(0,_.m9)(D);yield Hi(!0,C,b);const{providerUserInfo:R}=yield at(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[b]}),ie=Fu(R||[]);return C.providerData=C.providerData.filter(he=>ie.has(he.providerId)),ie.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C})).apply(this,arguments)}function to(D,b){return no.apply(this,arguments)}function no(){return(no=(0,s.Z)(function*(D,b,C=!1){const R=yield zt(D,b._linkToIdToken(D.auth,yield D.getIdToken()),C);return Ti._forOperation(D,"link",R)})).apply(this,arguments)}function Hi(D,b,C){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,s.Z)(function*(D,b,C){yield Fr(b);const ie=!1===D?"provider-already-linked":"no-such-provider";_e(Fu(b.providerData).has(C)===D,b.auth,ie)})).apply(this,arguments)}function ql(D,b){return ds.apply(this,arguments)}function ds(){return(ds=(0,s.Z)(function*(D,b,C=!1){var R;const{auth:ie}=D,he="reauthenticate";try{const Ne=yield zt(D,Rc(ie,he,b,D),C);_e(Ne.idToken,ie,"internal-error");const Ze=ct(Ne.idToken);_e(Ze,ie,"internal-error");const{sub:Ct}=Ze;return _e(D.uid===Ct,ie,"user-mismatch"),Ti._forOperation(D,he,Ne)}catch(Ne){throw"auth/user-not-found"===(null===(R=Ne)||void 0===R?void 0:R.code)&&J(ie,"user-mismatch"),Ne}})).apply(this,arguments)}function Wl(D,b){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,s.Z)(function*(D,b,C=!1){const R="signIn",ie=yield Rc(D,R,b),he=yield Ti._fromIdTokenResponse(D,R,ie);return C||(yield D._updateCurrentUser(he.user)),he})).apply(this,arguments)}function Po(D,b){return lr.apply(this,arguments)}function lr(){return(lr=(0,s.Z)(function*(D,b){return Wl(Tt(D),b)})).apply(this,arguments)}function qt(D,b){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,s.Z)(function*(D,b){const C=(0,_.m9)(D);return yield Hi(!1,C,b.providerId),to(C,b)})).apply(this,arguments)}function Xd(D,b){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,s.Z)(function*(D,b){return ql((0,_.m9)(D),b)})).apply(this,arguments)}function Zl(D,b){return ko.apply(this,arguments)}function ko(){return(ko=(0,s.Z)(function*(D,b){return st(D,"POST","/v1/accounts:signInWithCustomToken",At(D,b))})).apply(this,arguments)}function Ms(D,b){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,s.Z)(function*(D,b){const C=Tt(D),R=yield Zl(C,{token:b,returnSecureToken:!0}),ie=yield Ti._fromIdTokenResponse(C,"signIn",R);return yield C._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class ro{constructor(b,C){this.factorId=b,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(b,C){return"phoneInfo"in C?Ke._fromServerResponse(b,C):J(b,"internal-error")}}class Ke extends ro{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,C){return new Ke(C)}}function hn(D,b,C){var R;_e((null===(R=C.url)||void 0===R?void 0:R.length)>0,D,"invalid-continue-uri"),_e(typeof C.dynamicLinkDomain>"u"||C.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),b.continueUrl=C.url,b.dynamicLinkDomain=C.dynamicLinkDomain,b.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(_e(C.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),b.iOSBundleId=C.iOS.bundleId),C.android&&(_e(C.android.packageName.length>0,D,"missing-android-pkg-name"),b.androidInstallApp=C.android.installApp,b.androidMinimumVersionCode=C.android.minimumVersion,b.androidPackageName=C.android.packageName)}function Nc(D,b,C){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,s.Z)(function*(D,b,C){const R=(0,_.m9)(D),ie={requestType:"PASSWORD_RESET",email:b};C&&hn(R,ie,C),yield Nu(R,ie)})).apply(this,arguments)}function _r(D,b,C){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,s.Z)(function*(D,b,C){yield mi((0,_.m9)(D),{oobCode:b,newPassword:C})})).apply(this,arguments)}function Ja(D,b){return zr.apply(this,arguments)}function zr(){return(zr=(0,s.Z)(function*(D,b){yield Ru((0,_.m9)(D),{oobCode:b})})).apply(this,arguments)}function fa(D,b){return io.apply(this,arguments)}function io(){return(io=(0,s.Z)(function*(D,b){const C=(0,_.m9)(D),R=yield mi(C,{oobCode:b}),ie=R.requestType;switch(_e(ie,C,"internal-error"),ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_e(R.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_e(R.mfaInfo,C,"internal-error");default:_e(R.email,C,"internal-error")}let he=null;return R.mfaInfo&&(he=ro._fromServerResponse(Tt(C),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:he},operation:ie}})).apply(this,arguments)}function Lu(D,b){return pa.apply(this,arguments)}function pa(){return(pa=(0,s.Z)(function*(D,b){const{data:C}=yield fa((0,_.m9)(D),b);return C.email})).apply(this,arguments)}function eh(D,b,C){return so.apply(this,arguments)}function so(){return(so=(0,s.Z)(function*(D,b,C){const R=Tt(D),ie=yield Er(R,{returnSecureToken:!0,email:b,password:C}),he=yield Ti._fromIdTokenResponse(R,"signIn",ie);return yield R._updateCurrentUser(he.user),he})).apply(this,arguments)}function gr(D,b,C){return Po((0,_.m9)(D),Ka.credential(b,C))}function ji(D,b,C){return No.apply(this,arguments)}function No(){return(No=(0,s.Z)(function*(D,b,C){const R=(0,_.m9)(D),ie={requestType:"EMAIL_SIGNIN",email:b};_e(C.handleCodeInApp,R,"argument-error"),C&&hn(R,ie,C),yield yi(R,ie)})).apply(this,arguments)}function ma(D,b){return"EMAIL_SIGNIN"===Io.parseLink(b)?.operation}function Gi(D,b,C){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(function*(D,b,C){const R=(0,_.m9)(D),ie=Ka.credentialWithLink(b,C||te());return _e(ie._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),Po(R,ie)})).apply(this,arguments)}function Kl(D,b){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,s.Z)(function*(D,b){return Et(D,"POST","/v1/accounts:createAuthUri",At(D,b))})).apply(this,arguments)}function Vu(D,b){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,s.Z)(function*(D,b){const R={identifier:b,continueUri:ue()?te():"http://localhost"},{signinMethods:ie}=yield Kl((0,_.m9)(D),R);return ie||[]})).apply(this,arguments)}function Lo(D,b){return ga.apply(this,arguments)}function ga(){return(ga=(0,s.Z)(function*(D,b){const C=(0,_.m9)(D),ie={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};b&&hn(C.auth,ie,b);const{email:he}=yield as(C.auth,ie);he!==D.email&&(yield D.reload())})).apply(this,arguments)}function Yl(D,b,C){return ya.apply(this,arguments)}function ya(){return(ya=(0,s.Z)(function*(D,b,C){const R=(0,_.m9)(D),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:b};C&&hn(R.auth,he,C);const{email:Ne}=yield ua(R.auth,he);Ne!==D.email&&(yield D.reload())})).apply(this,arguments)}function Lc(D,b){return oo.apply(this,arguments)}function oo(){return(oo=(0,s.Z)(function*(D,b){return Et(D,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Bu(D,b){return _a.apply(this,arguments)}function _a(){return(_a=(0,s.Z)(function*(D,{displayName:b,photoURL:C}){if(void 0===b&&void 0===C)return;const R=(0,_.m9)(D),he={idToken:yield R.getIdToken(),displayName:b,photoUrl:C,returnSecureToken:!0},Ne=yield zt(R,Lc(R.auth,he));R.displayName=Ne.displayName||null,R.photoURL=Ne.photoUrl||null;const Ze=R.providerData.find(({providerId:Ct})=>"password"===Ct);Ze&&(Ze.displayName=R.displayName,Ze.photoURL=R.photoURL),yield R._updateTokensIfNecessary(Ne)})).apply(this,arguments)}function Uu(D,b){return hs((0,_.m9)(D),b,null)}function Vc(D,b){return hs((0,_.m9)(D),null,b)}function hs(D,b,C){return fs.apply(this,arguments)}function fs(){return(fs=(0,s.Z)(function*(D,b,C){const{auth:R}=D,he={idToken:yield D.getIdToken(),returnSecureToken:!0};b&&(he.email=b),C&&(he.password=C);const Ne=yield zt(D,jl(R,he));yield D._updateTokensIfNecessary(Ne,!0)})).apply(this,arguments)}class nr{constructor(b,C,R={}){this.isNewUser=b,this.providerId=C,this.profile=R}}class ps extends nr{constructor(b,C,R,ie){super(b,C,R),this.username=ie}}class Xn extends nr{constructor(b,C){super(b,"facebook.com",C)}}class el extends ps{constructor(b,C){super(b,"github.com",C,"string"==typeof C?.login?C?.login:null)}}class Ql extends nr{constructor(b,C){super(b,"google.com",C)}}class Hu extends ps{constructor(b,C,R){super(b,"twitter.com",C,R)}}function Jl(D){const{user:b,_tokenResponse:C}=D;return b.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function Bc(D){var b,C;if(!D)return null;const{providerId:R}=D,ie=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},he=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!R&&D?.idToken){const Ne=null===(C=null===(b=ct(D.idToken))||void 0===b?void 0:b.firebase)||void 0===C?void 0:C.sign_in_provider;if(Ne)return new nr(he,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!R)return null;switch(R){case"facebook.com":return new Xn(he,ie);case"github.com":return new el(he,ie);case"google.com":return new Ql(he,ie);case"twitter.com":return new Hu(he,ie,D.screenName||null);case"custom":case"anonymous":return new nr(he,null);default:return new nr(he,R,ie)}}(C)}class wi{constructor(b,C,R){this.type=b,this.credential=C,this.auth=R}static _fromIdtoken(b,C){return new wi("enroll",b,C)}static _fromMfaPendingCredential(b){return new wi("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var C,R;if(b?.multiFactorSession){if(null!==(C=b.multiFactorSession)&&void 0!==C&&C.pendingCredential)return wi._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null!==(R=b.multiFactorSession)&&void 0!==R&&R.idToken)return wi._fromIdtoken(b.multiFactorSession.idToken)}return null}}class ec{constructor(b,C,R){this.session=b,this.hints=C,this.signInResolver=R}static _fromError(b,C){const R=Tt(b),ie=C.customData._serverResponse,he=(ie.mfaInfo||[]).map(Ze=>ro._fromServerResponse(R,Ze));_e(ie.mfaPendingCredential,R,"internal-error");const Ne=wi._fromMfaPendingCredential(ie.mfaPendingCredential);return new ec(Ne,he,function(){var Ze=(0,s.Z)(function*(Ct){const Bt=yield Ct._process(R,Ne);delete ie.mfaInfo,delete ie.mfaPendingCredential;const Wt=Object.assign(Object.assign({},ie),{idToken:Bt.idToken,refreshToken:Bt.refreshToken});switch(C.operationType){case"signIn":const sr=yield Ti._fromIdTokenResponse(R,C.operationType,Wt);return yield R._updateCurrentUser(sr.user),sr;case"reauthenticate":return _e(C.user,R,"internal-error"),Ti._forOperation(C.user,C.operationType,Wt);default:J(R,"internal-error")}});return function(Ct){return Ze.apply(this,arguments)}}())}resolveSignIn(b){var C=this;return(0,s.Z)(function*(){return C.signInResolver(b)})()}}function ks(D,b){var C;const R=(0,_.m9)(D),ie=b;return _e(b.customData.operationType,R,"argument-error"),_e(null===(C=ie.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,R,"argument-error"),ec._fromError(R,ie)}function cr(D,b){return Et(D,"POST","/v2/accounts/mfaEnrollment:start",At(D,b))}class il{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(R=>ro._fromServerResponse(b.auth,R)))})}static _fromUser(b){return new il(b)}getSession(){var b=this;return(0,s.Z)(function*(){return wi._fromIdtoken(yield b.user.getIdToken(),b.user.auth)})()}enroll(b,C){var R=this;return(0,s.Z)(function*(){const ie=b,he=yield R.getSession(),Ne=yield zt(R.user,ie._process(R.user.auth,he,C));return yield R.user._updateTokensIfNecessary(Ne),R.user.reload()})()}unenroll(b){var C=this;return(0,s.Z)(function*(){var R;const ie="string"==typeof b?b:b.uid,he=yield C.user.getIdToken(),Ne=yield zt(C.user,function va(D,b){return Et(D,"POST","/v2/accounts/mfaEnrollment:withdraw",At(D,b))}(C.user.auth,{idToken:he,mfaEnrollmentId:ie}));C.enrolledFactors=C.enrolledFactors.filter(({uid:Ze})=>Ze!==ie),yield C.user._updateTokensIfNecessary(Ne);try{yield C.user.reload()}catch(Ze){if("auth/user-token-expired"!==(null===(R=Ze)||void 0===R?void 0:R.code))throw Ze}})()}}const ju=new WeakMap;function wa(D){const b=(0,_.m9)(D);return ju.has(b)||ju.set(b,il._fromUser(b)),ju.get(b)}const $i="__sak";class ba{constructor(b,C){this.storageRetriever=b,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem($i,"1"),this.storage.removeItem($i),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(b,C){return this.storage.setItem(b,JSON.stringify(C)),Promise.resolve()}_get(b){const C=this.storage.getItem(b);return Promise.resolve(C?JSON.parse(C):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}get storage(){return this.storageRetriever()}}const cn=(()=>{class D extends ba{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,R)=>this.onStorageEvent(C,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function tc(){const D=(0,_.z$)();return ye(D)||et(D)}()&&function ss(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Hn(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const R of Object.keys(this.listeners)){const ie=this.storage.getItem(R),he=this.localCache[R];ie!==he&&C(R,he,ie)}}onStorageEvent(C,R=!1){if(!C.key)return void this.forAllChangedKeys((Ze,Ct,Bt)=>{this.notifyListeners(Ze,Bt)});const ie=C.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ze=this.storage.getItem(ie);if(C.newValue!==Ze)null!==C.newValue?this.storage.setItem(ie,C.newValue):this.storage.removeItem(ie);else if(this.localCache[ie]===C.newValue&&!R)return}const he=()=>{const Ze=this.storage.getItem(ie);!R&&this.localCache[ie]===Ze||this.notifyListeners(ie,Ze)},Ne=this.storage.getItem(ie);!function nn(){return(0,_.w1)()&&10===document.documentMode}()||Ne===C.newValue||C.newValue===C.oldValue?he():setTimeout(he,10)}notifyListeners(C,R){this.localCache[C]=R;const ie=this.listeners[C];if(ie)for(const he of Array.from(ie))he(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,R,ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:R,newValue:ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(R)}_removeListener(C,R){this.listeners[C]&&(this.listeners[C].delete(R),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,R){var ie=()=>super._set,he=this;return(0,s.Z)(function*(){yield ie().call(he,C,R),he.localCache[C]=JSON.stringify(R)})()}_get(C){var R=()=>super._get,ie=this;return(0,s.Z)(function*(){const he=yield R().call(ie,C);return ie.localCache[C]=JSON.stringify(he),he})()}_remove(C){var R=()=>super._remove,ie=this;return(0,s.Z)(function*(){yield R().call(ie,C),delete ie.localCache[C]})()}}return D.type="LOCAL",D})(),Os=(()=>{class D extends ba{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,R){}_removeListener(C,R){}}return D.type="SESSION",D})();let Ea=(()=>{class D{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const R=this.receivers.find(he=>he.isListeningto(C));if(R)return R;const ie=new D(C);return this.receivers.push(ie),ie}isListeningto(C){return this.eventTarget===C}handleEvent(C){var R=this;return(0,s.Z)(function*(){const ie=C,{eventId:he,eventType:Ne,data:Ze}=ie.data,Ct=R.handlersMap[Ne];if(!Ct?.size)return;ie.ports[0].postMessage({status:"ack",eventId:he,eventType:Ne});const Bt=Array.from(Ct).map(function(){var sr=(0,s.Z)(function*(Pi){return Pi(ie.origin,Ze)});return function(Pi){return sr.apply(this,arguments)}}()),Wt=yield function nc(D){return Promise.all(D.map(function(){var b=(0,s.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(R){return{fulfilled:!1,reason:R}}});return function(C){return b.apply(this,arguments)}}()))}(Bt);ie.ports[0].postMessage({status:"done",eventId:he,eventType:Ne,response:Wt})})()}_subscribe(C,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(R)}_unsubscribe(C,R){this.handlersMap[C]&&R&&this.handlersMap[C].delete(R),(!R||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Ho(D="",b=10){let C="";for(let R=0;R<b;R++)C+=Math.floor(10*Math.random());return D+C}class $u{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,C,R=50){var ie=this;return(0,s.Z)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let Ne,Ze;return new Promise((Ct,Bt)=>{const Wt=Ho("",20);he.port1.start();const sr=setTimeout(()=>{Bt(new Error("unsupported_event"))},R);Ze={messageChannel:he,onMessage(Pi){const Ko=Pi;if(Ko.data.eventId===Wt)switch(Ko.data.status){case"ack":clearTimeout(sr),Ne=setTimeout(()=>{Bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Ct(Ko.data.response);break;default:clearTimeout(sr),clearTimeout(Ne),Bt(new Error("invalid_response"))}}},ie.handlers.add(Ze),he.port1.addEventListener("message",Ze.onMessage),ie.target.postMessage({eventType:b,eventId:Wt,data:C},[he.port2])}).finally(()=>{Ze&&ie.removeMessageHandler(Ze)})})()}}function hr(){return window}function M(){return typeof hr().WorkerGlobalScope<"u"&&"function"==typeof hr().importScripts}function X(){return(X=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const St="firebaseLocalStorageDb",rr="firebaseLocalStorage",Yn="fbase_key";class bi{constructor(b){this.request=b}toPromise(){return new Promise((b,C)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function Rs(D,b){return D.transaction([rr],b?"readwrite":"readonly").objectStore(rr)}function jc(){const D=indexedDB.open(St,1);return new Promise((b,C)=>{D.addEventListener("error",()=>{C(D.error)}),D.addEventListener("upgradeneeded",()=>{const R=D.result;try{R.createObjectStore(rr,{keyPath:Yn})}catch(ie){C(ie)}}),D.addEventListener("success",(0,s.Z)(function*(){const R=D.result;R.objectStoreNames.contains(rr)?b(R):(R.close(),yield function th(){const D=indexedDB.deleteDatabase(St);return new bi(D).toPromise()}(),b(yield jc()))}))})}function rc(D,b,C){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,s.Z)(function*(D,b,C){const R=Rs(D,!0).put({[Yn]:b,value:C});return new bi(R).toPromise()})).apply(this,arguments)}function ol(){return(ol=(0,s.Z)(function*(D,b){const C=Rs(D,!1).get(b),R=yield new bi(C).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function Gc(D,b){const C=Rs(D,!0).delete(b);return new bi(C).toPromise()}const ll=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,s.Z)(function*(){return C.db||(C.db=yield jc()),C.db})()}_withRetries(C){var R=this;return(0,s.Z)(function*(){let ie=0;for(;;)try{const he=yield R._openDb();return yield C(he)}catch(he){if(ie++>3)throw he;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,s.Z)(function*(){return M()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,s.Z)(function*(){C.receiver=Ea._getInstance(function je(){return M()?self:null}()),C.receiver._subscribe("keyChanged",function(){var R=(0,s.Z)(function*(ie,he){return{keyProcessed:(yield C._poll()).includes(he.key)}});return function(ie,he){return R.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var R=(0,s.Z)(function*(ie,he){return["keyChanged"]});return function(ie,he){return R.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,s.Z)(function*(){var R,ie;if(C.activeServiceWorker=yield function B(){return X.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new $u(C.activeServiceWorker);const he=yield C.sender._send("ping",{},800);!he||(null===(R=he[0])||void 0===R?void 0:R.fulfilled)&&(null===(ie=he[0])||void 0===ie?void 0:ie.value.includes("keyChanged"))&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var R=this;return(0,s.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function be(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:C},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const C=yield jc();return yield rc(C,$i,"1"),yield Gc(C,$i),!0}catch{}return!1})()}_withPendingWrite(C){var R=this;return(0,s.Z)(function*(){R.pendingWrites++;try{yield C()}finally{R.pendingWrites--}})()}_set(C,R){var ie=this;return(0,s.Z)(function*(){return ie._withPendingWrite((0,s.Z)(function*(){return yield ie._withRetries(he=>rc(he,C,R)),ie.localCache[C]=R,ie.notifyServiceWorker(C)}))})()}_get(C){var R=this;return(0,s.Z)(function*(){const ie=yield R._withRetries(he=>function Lf(D,b){return ol.apply(this,arguments)}(he,C));return R.localCache[C]=ie,ie})()}_remove(C){var R=this;return(0,s.Z)(function*(){return R._withPendingWrite((0,s.Z)(function*(){return yield R._withRetries(ie=>Gc(ie,C)),delete R.localCache[C],R.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,s.Z)(function*(){const R=yield C._withRetries(Ne=>{const Ze=Rs(Ne,!1).getAll();return new bi(Ze).toPromise()});if(!R)return[];if(0!==C.pendingWrites)return[];const ie=[],he=new Set;for(const{fbase_key:Ne,value:Ze}of R)he.add(Ne),JSON.stringify(C.localCache[Ne])!==JSON.stringify(Ze)&&(C.notifyListeners(Ne,Ze),ie.push(Ne));for(const Ne of Object.keys(C.localCache))C.localCache[Ne]&&!he.has(Ne)&&(C.notifyListeners(Ne,null),ie.push(Ne));return ie})()}notifyListeners(C,R){this.localCache[C]=R;const ie=this.listeners[C];if(ie)for(const he of Array.from(ie))he(R)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(R)}_removeListener(C,R){this.listeners[C]&&(this.listeners[C].delete(R),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Vf(D,b){return Et(D,"POST","/v2/accounts/mfaSignIn:start",At(D,b))}function li(){return(li=(0,s.Z)(function*(D){return(yield Et(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ta(D){return new Promise((b,C)=>{const R=document.createElement("script");R.setAttribute("src",D),R.onload=b,R.onerror=ie=>{const he=ne("internal-error");he.customData=ie,C(he)},R.type="text/javascript",R.charset="UTF-8",function ul(){var D,b;return null!==(b=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==b?b:document}().appendChild(R)})}function dl(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Fs=1e12;class nh{constructor(b){this.auth=b,this.counter=Fs,this._widgets=new Map}render(b,C){const R=this.counter;return this._widgets.set(R,new ir(b,this.auth.name,C||{})),this.counter++,R}reset(b){var C;const R=b||Fs;null===(C=this._widgets.get(R))||void 0===C||C.delete(),this._widgets.delete(R)}getResponse(b){var C;return(null===(C=this._widgets.get(b||Fs))||void 0===C?void 0:C.getResponse())||""}execute(b){var C=this;return(0,s.Z)(function*(){var R;return null===(R=C._widgets.get(b||Fs))||void 0===R||R.execute(),""})()}}class ir{constructor(b,C,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ie="string"==typeof b?document.getElementById(b):b;_e(ie,"argument-error",{appName:C}),this.container=ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function mg(D){const b=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<D;R++)b.push(C.charAt(Math.floor(Math.random()*C.length)));return b.join("")}(50);const{callback:b,"expired-callback":C}=this.params;if(b)try{b(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bf=dl("rcb"),uC=new $e(3e4,6e4);class X_{constructor(){var b;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(b=hr().grecaptcha)||void 0===b||!b.render)}load(b,C=""){return _e(function Uf(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(C),b,"argument-error"),this.shouldResolveImmediately(C)?Promise.resolve(hr().grecaptcha):new Promise((R,ie)=>{const he=hr().setTimeout(()=>{ie(ne(b,"network-request-failed"))},uC.get());hr()[Bf]=()=>{hr().clearTimeout(he),delete hr()[Bf];const Ze=hr().grecaptcha;if(!Ze)return void ie(ne(b,"internal-error"));const Ct=Ze.render;Ze.render=(Bt,Wt)=>{const sr=Ct(Bt,Wt);return this.counter++,sr},this.hostLanguage=C,R(Ze)},Ta(`https://www.google.com/recaptcha/api.js??${(0,_.xO)({onload:Bf,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(he),ie(ne(b,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){var C;return!(null===(C=hr().grecaptcha)||void 0===C||!C.render)&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dC{load(b){return(0,s.Z)(function*(){return new nh(b)})()}clearedOneInstance(){}}const zc="recaptcha",hC={theme:"light",type:"image"};class ev{constructor(b,C=Object.assign({},hC),R){this.parameters=C,this.type=zc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tt(R),this.isInvisible="invisible"===this.parameters.size,_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ie="string"==typeof b?document.getElementById(b):b;_e(ie,this.auth,"argument-error"),this.container=ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dC:new X_,this.validateStartingState()}verify(){var b=this;return(0,s.Z)(function*(){b.assertNotDestroyed();const C=yield b.render(),R=b.getAssertedRecaptcha();return R.getResponse(C)||new Promise(he=>{const Ne=Ze=>{!Ze||(b.tokenChangeListeners.delete(Ne),he(Ze))};b.tokenChangeListeners.add(Ne),b.isInvisible&&R.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){_e(!this.parameters.sitekey,this.auth,"argument-error"),_e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return C=>{if(this.tokenChangeListeners.forEach(R=>R(C)),"function"==typeof b)b(C);else if("string"==typeof b){const R=hr()[b];"function"==typeof R&&R(C)}}}assertNotDestroyed(){_e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,s.Z)(function*(){if(yield b.init(),!b.widgetId){let C=b.container;if(!b.isInvisible){const R=document.createElement("div");C.appendChild(R),C=R}b.widgetId=b.getAssertedRecaptcha().render(C,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,s.Z)(function*(){_e(ue()&&!M(),b.auth,"internal-error"),yield function qr(){let D=null;return new Promise(b=>{"complete"!==document.readyState?(D=()=>b(),window.addEventListener("load",D)):b()}).catch(b=>{throw D&&window.removeEventListener("load",D),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const C=yield function $c(D){return li.apply(this,arguments)}(b.auth);_e(C,b.auth,"internal-error"),b.parameters.sitekey=C})()}getAssertedRecaptcha(){return _e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fl{constructor(b,C){this.verificationId=b,this.onConfirmation=C}confirm(b){const C=To._fromVerification(this.verificationId,b);return this.onConfirmation(C)}}function qc(D,b,C){return ms.apply(this,arguments)}function ms(){return(ms=(0,s.Z)(function*(D,b,C){const R=Tt(D),ie=yield Ls(R,b,(0,_.m9)(C));return new fl(ie,he=>Po(R,he))})).apply(this,arguments)}function rh(D,b,C){return ei.apply(this,arguments)}function ei(){return(ei=(0,s.Z)(function*(D,b,C){const R=(0,_.m9)(D);yield Hi(!1,R,"phone");const ie=yield Ls(R.auth,b,(0,_.m9)(C));return new fl(ie,he=>qt(R,he))})).apply(this,arguments)}function Go(D,b,C){return ic.apply(this,arguments)}function ic(){return(ic=(0,s.Z)(function*(D,b,C){const R=(0,_.m9)(D),ie=yield Ls(R.auth,b,(0,_.m9)(C));return new fl(ie,he=>Xd(R,he))})).apply(this,arguments)}function Ls(D,b,C){return $o.apply(this,arguments)}function $o(){return($o=(0,s.Z)(function*(D,b,C){var R;const ie=yield C.verify();try{let he;if(_e("string"==typeof ie,D,"argument-error"),_e(C.type===zc,D,"argument-error"),he="string"==typeof b?{phoneNumber:b}:b,"session"in he){const Ne=he.session;if("phoneNumber"in he)return _e("enroll"===Ne.type,D,"internal-error"),(yield cr(D,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:ie}})).phoneSessionInfo.sessionInfo;{_e("signin"===Ne.type,D,"internal-error");const Ze=(null===(R=he.multiFactorHint)||void 0===R?void 0:R.uid)||he.multiFactorUid;return _e(Ze,D,"missing-multi-factor-info"),(yield Vf(D,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:Ze,phoneSignInInfo:{recaptchaToken:ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield Kd(D,{phoneNumber:he.phoneNumber,recaptchaToken:ie});return Ne}}finally{C._reset()}})).apply(this,arguments)}function Hf(D,b){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,s.Z)(function*(D,b){yield to((0,_.m9)(D),b)})).apply(this,arguments)}let gg=(()=>{class D{constructor(C){this.providerId=D.PROVIDER_ID,this.auth=Tt(C)}verifyPhoneNumber(C,R){return Ls(this.auth,C,(0,_.m9)(R))}static credential(C,R){return To._fromVerification(C,R)}static credentialFromResult(C){return D.credentialFromTaggedObject(C)}static credentialFromError(C){return D.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:R,temporaryProof:ie}=C;return R&&ie?To._fromTokenResponse(R,ie):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function sc(D,b){return b?de(b):(_e(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class ih extends Jr{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return Qs(b,this._buildIdpRequest())}_linkToIdToken(b,C){return Qs(b,this._buildIdpRequest(C))}_getReauthenticationResolver(b){return Qs(b,this._buildIdpRequest())}_buildIdpRequest(b){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(C.idToken=b),C}}function jf(D){return Wl(D.auth,new ih(D),D.bypassAuthState)}function zi(D){const{auth:b,user:C}=D;return _e(C,b,"internal-error"),ql(C,new ih(D),D.bypassAuthState)}function pl(D){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,s.Z)(function*(D){const{auth:b,user:C}=D;return _e(C,b,"internal-error"),to(C,new ih(D),D.bypassAuthState)})).apply(this,arguments)}class Wc{constructor(b,C,R,ie,he=!1){this.auth=b,this.resolver=R,this.user=ie,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var b=this;return new Promise(function(){var C=(0,s.Z)(function*(R,ie){b.pendingPromise={resolve:R,reject:ie};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(he){b.reject(he)}});return function(R,ie){return C.apply(this,arguments)}}())}onAuthEvent(b){var C=this;return(0,s.Z)(function*(){const{urlResponse:R,sessionId:ie,postBody:he,tenantId:Ne,error:Ze,type:Ct}=b;if(Ze)return void C.reject(Ze);const Bt={auth:C.auth,requestUri:R,sessionId:ie,tenantId:Ne||void 0,postBody:he||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(Ct)(Bt))}catch(Wt){C.reject(Wt)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return jf;case"linkViaPopup":case"linkViaRedirect":return pl;case"reauthViaPopup":case"reauthViaRedirect":return zi;default:J(this.auth,"internal-error")}}resolve(b){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ml=new $e(2e3,1e4);function sh(D,b,C){return gl.apply(this,arguments)}function gl(){return(gl=(0,s.Z)(function*(D,b,C){const R=Tt(D);me(D,b,Lr);const ie=sc(R,C);return new oc(R,"signInViaPopup",b,ie).executeNotNull()})).apply(this,arguments)}function Zu(D,b,C){return oh.apply(this,arguments)}function oh(){return(oh=(0,s.Z)(function*(D,b,C){const R=(0,_.m9)(D);me(R.auth,b,Lr);const ie=sc(R.auth,C);return new oc(R.auth,"reauthViaPopup",b,ie,R).executeNotNull()})).apply(this,arguments)}function yg(D,b,C){return ah.apply(this,arguments)}function ah(){return(ah=(0,s.Z)(function*(D,b,C){const R=(0,_.m9)(D);me(R.auth,b,Lr);const ie=sc(R.auth,C);return new oc(R.auth,"linkViaPopup",b,ie,R).executeNotNull()})).apply(this,arguments)}let oc=(()=>{class D extends Wc{constructor(C,R,ie,he,Ne){super(C,R,he,Ne),this.provider=ie,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var C=this;return(0,s.Z)(function*(){const R=yield C.execute();return _e(R,C.auth,"internal-error"),R})()}onExecution(){var C=this;return(0,s.Z)(function*(){Ie(1===C.filter.length,"Popup operations only handle one event");const R=Ho();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],R),C.authWindow.associatedEvent=R,C.resolver._originValidation(C.auth).catch(ie=>{C.reject(ie)}),C.resolver._isIframeWebStorageSupported(C.auth,ie=>{ie||C.reject(ne(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const C=()=>{var R,ie;this.pollId=null!==(ie=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==ie&&ie.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(C,ml.get())};C()}}return D.currentPopupAction=null,D})();const ao=new Map;class yl extends Wc{constructor(b,C,R=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,R),this.eventId=null}execute(){var b=()=>super.execute,C=this;return(0,s.Z)(function*(){let R=ao.get(C.auth._key());if(!R){try{const he=(yield function Ku(D,b){return _l.apply(this,arguments)}(C.resolver,C.auth))?yield b().call(C):null;R=()=>Promise.resolve(he)}catch(ie){R=()=>Promise.reject(ie)}ao.set(C.auth._key(),R)}return C.bypassAuthState||ao.set(C.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(b){var C=()=>super.onAuthEvent,R=this;return(0,s.Z)(function*(){if("signInViaRedirect"===b.type)return C().call(R,b);if("unknown"!==b.type){if(b.eventId){const ie=yield R.auth._redirectUserForId(b.eventId);if(ie)return R.user=ie,C().call(R,b);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function _l(){return(_l=(0,s.Z)(function*(D,b){const C=qo(b),R=ac(D);if(!(yield R._isAvailable()))return!1;const ie="true"===(yield R._get(C));return yield R._remove(C),ie})).apply(this,arguments)}function zo(D,b){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,s.Z)(function*(D,b){return ac(D)._set(qo(b),"true")})).apply(this,arguments)}function Ia(){ao.clear()}function Qu(D,b){ao.set(D._key(),b)}function ac(D){return de(D._redirectPersistence)}function qo(D){return Te("pendingRedirect",D.config.apiKey,D.name)}function Gf(D,b,C){return function Sr(D,b,C){return Ju.apply(this,arguments)}(D,b,C)}function Ju(){return(Ju=(0,s.Z)(function*(D,b,C){const R=Tt(D);me(D,b,Lr);const ie=sc(R,C);return yield zo(ie,R),ie._openRedirect(R,b,"signInViaRedirect")})).apply(this,arguments)}function $(D,b,C){return function Z(D,b,C){return ae.apply(this,arguments)}(D,b,C)}function ae(){return(ae=(0,s.Z)(function*(D,b,C){const R=(0,_.m9)(D);me(R.auth,b,Lr);const ie=sc(R.auth,C);yield zo(ie,R.auth);const he=yield fn(R);return ie._openRedirect(R.auth,b,"reauthViaRedirect",he)})).apply(this,arguments)}function Se(D,b,C){return function ke(D,b,C){return Be.apply(this,arguments)}(D,b,C)}function Be(){return(Be=(0,s.Z)(function*(D,b,C){const R=(0,_.m9)(D);me(R.auth,b,Lr);const ie=sc(R.auth,C);yield Hi(!1,R,b.providerId),yield zo(ie,R.auth);const he=yield fn(R);return ie._openRedirect(R.auth,b,"linkViaRedirect",he)})).apply(this,arguments)}function Je(D,b){return lt.apply(this,arguments)}function lt(){return(lt=(0,s.Z)(function*(D,b){return yield Tt(D)._initializationPromise,Ft(D,b,!1)})).apply(this,arguments)}function Ft(D,b){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(D,b,C=!1){const R=Tt(D),ie=sc(R,b),Ne=yield new yl(R,ie,C).execute();return Ne&&!C&&(delete Ne.user._redirectEventId,yield R._persistUserIfCurrent(Ne.user),yield R._setRedirectUser(null,b)),Ne})).apply(this,arguments)}function fn(D){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,s.Z)(function*(D){const b=Ho(`${D.uid}:::`);return D._redirectEventId=b,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),b})).apply(this,arguments)}class Wr{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let C=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(b,R)&&(C=!0,this.sendToConsumer(b,R),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function wl(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vl(D);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=b,C=!0)),C}sendToConsumer(b,C){var R;if(b.error&&!vl(b)){const ie=(null===(R=b.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";C.onError(ne(this.auth,ie))}else C.onAuthEvent(b)}isEventForConsumer(b,C){const R=null===C.eventId||!!b.eventId&&b.eventId===C.eventId;return C.filter.includes(b.type)&&R}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lc(b))}saveEventToCache(b){this.cachedEventUids.add(lc(b)),this.lastProcessedEventTime=Date.now()}}function lc(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(b=>b).join("-")}function vl({type:D,error:b}){return"unknown"===D&&"auth/no-auth-event"===b?.code}function Aa(D){return gs.apply(this,arguments)}function gs(){return(gs=(0,s.Z)(function*(D,b={}){return Et(D,"GET","/v1/projects",b)})).apply(this,arguments)}const qi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Da=/^https?/;function bl(){return(bl=(0,s.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:b}=yield Aa(D);for(const C of b)try{if(_g(C))return}catch{}J(D,"unauthorized-domain")})).apply(this,arguments)}function _g(D){const b=te(),{protocol:C,hostname:R}=new URL(b);if(D.startsWith("chrome-extension://")){const Ne=new URL(D);return""===Ne.hostname&&""===R?"chrome-extension:"===C&&D.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===C&&Ne.hostname===R}if(!Da.test(C))return!1;if(qi.test(D))return R===D;const ie=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ie+"|"+ie+")$","i").test(R)}const ys=new $e(3e4,6e4);function $f(){const D=hr().___jsl;if(D?.H)for(const b of Object.keys(D.H))if(D.H[b].r=D.H[b].r||[],D.H[b].L=D.H[b].L||[],D.H[b].r=[...D.H[b].L],D.CP)for(let C=0;C<D.CP.length;C++)D.CP[C]=null}let Cl=null;function qf(D){return Cl=Cl||function zf(D){return new Promise((b,C)=>{var R,ie,he;function Ne(){$f(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{$f(),C(ne(D,"network-request-failed"))},timeout:ys.get()})}if(null!==(ie=null===(R=hr().gapi)||void 0===R?void 0:R.iframes)&&void 0!==ie&&ie.Iframe)b(gapi.iframes.getContext());else{if(null===(he=hr().gapi)||void 0===he||!he.load){const Ze=dl("iframefcb");return hr()[Ze]=()=>{gapi.load?Ne():C(ne(D,"network-request-failed"))},Ta(`https://apis.google.com/js/api.js?onload=${Ze}`).catch(Ct=>C(Ct))}Ne()}}).catch(b=>{throw Cl=null,b})}(D),Cl}const Wf=new $e(5e3,15e3),El={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zf(D){const b=D.config;_e(b.authDomain,D,"auth-domain-config-required");const C=b.emulator?ot(b,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,R={apiKey:b.apiKey,appName:D.name,v:w.SDK_VERSION},ie=nv.get(D.config.apiHost);ie&&(R.eid=ie);const he=D._getFrameworks();return he.length&&(R.fw=he.join(",")),`${C}?${(0,_.xO)(R).slice(1)}`}function lh(){return lh=(0,s.Z)(function*(D){const b=yield qf(D),C=hr().gapi;return _e(C,D,"internal-error"),b.open({where:document.body,url:Zf(D),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:El,dontclear:!0},R=>new Promise(function(){var ie=(0,s.Z)(function*(he,Ne){yield R.restyle({setHideOnLeave:!1});const Ze=ne(D,"network-request-failed"),Ct=hr().setTimeout(()=>{Ne(Ze)},Wf.get());function Bt(){hr().clearTimeout(Ct),he(R)}R.ping(Bt).then(Bt,()=>{Ne(Ze)})});return function(he,Ne){return ie.apply(this,arguments)}}()))}),lh.apply(this,arguments)}const Xu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rv{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cc(D,b,C,R,ie,he){_e(D.config.authDomain,D,"auth-domain-config-required"),_e(D.config.apiKey,D,"invalid-api-key");const Ne={apiKey:D.config.apiKey,appName:D.name,authType:C,redirectUrl:R,v:w.SDK_VERSION,eventId:ie};if(b instanceof Lr){b.setDefaultLanguage(D.languageCode),Ne.providerId=b.providerId||"",(0,_.xb)(b.getCustomParameters())||(Ne.customParameters=JSON.stringify(b.getCustomParameters()));for(const[Ct,Bt]of Object.entries(he||{}))Ne[Ct]=Bt}if(b instanceof Xs){const Ct=b.getScopes().filter(Bt=>""!==Bt);Ct.length>0&&(Ne.scopes=Ct.join(","))}D.tenantId&&(Ne.tid=D.tenantId);const Ze=Ne;for(const Ct of Object.keys(Ze))void 0===Ze[Ct]&&delete Ze[Ct];return`${function rd({config:D}){return D.emulator?ot(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,_.xO)(Ze).slice(1)}`}const dh="webStorageSupport",Wo=class Qf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Os,this._completeRedirectFn=Ft,this._overrideRedirectResult=Qu}_openPopup(b,C,R,ie){var he=this;return(0,s.Z)(function*(){var Ne;Ie(null===(Ne=he.eventManagers[b._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const Ze=cc(b,C,R,te(),ie);return function td(D,b,C,R=500,ie=600){const he=Math.max((window.screen.availHeight-ie)/2,0).toString(),Ne=Math.max((window.screen.availWidth-R)/2,0).toString();let Ze="";const Ct=Object.assign(Object.assign({},Xu),{width:R.toString(),height:ie.toString(),top:he,left:Ne}),Bt=(0,_.z$)().toLowerCase();C&&(Ze=Fe(Bt)?"_blank":C),le(Bt)&&(b=b||"http://localhost",Ct.scrollbars="yes");const Wt=Object.entries(Ct).reduce((Pi,[Ko,ep])=>`${Pi}${Ko}=${ep},`,"");if(function Un(D=(0,_.z$)()){var b;return et(D)&&!(null===(b=window.navigator)||void 0===b||!b.standalone)}(Bt)&&"_self"!==Ze)return function Yf(D,b){const C=document.createElement("a");C.href=D,C.target=b;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(R)}(b||"",Ze),new rv(null);const sr=window.open(b||"",Ze,Wt);_e(sr,D,"popup-blocked");try{sr.focus()}catch{}return new rv(sr)}(b,Ze,Ho())})()}_openRedirect(b,C,R,ie){var he=this;return(0,s.Z)(function*(){return yield he._originValidation(b),function Sa(D){hr().location.href=D}(cc(b,C,R,te(),ie)),new Promise(()=>{})})()}_initialize(b){const C=b._key();if(this.eventManagers[C]){const{manager:ie,promise:he}=this.eventManagers[C];return ie?Promise.resolve(ie):(Ie(he,"If manager is not set, promise should be"),he)}const R=this.initAndGetManager(b);return this.eventManagers[C]={promise:R},R.catch(()=>{delete this.eventManagers[C]}),R}initAndGetManager(b){var C=this;return(0,s.Z)(function*(){const R=yield function pC(D){return lh.apply(this,arguments)}(b),ie=new Wr(b);return R.register("authEvent",he=>(_e(he?.authEvent,b,"invalid-auth-event"),{status:ie.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[b._key()]={manager:ie},C.iframes[b._key()]=R,ie})()}_isIframeWebStorageSupported(b,C){this.iframes[b._key()].send(dh,{type:dh},ie=>{var he;const Ne=null===(he=ie?.[0])||void 0===he?void 0:he[dh];void 0!==Ne&&C(!!Ne),J(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const C=b._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function lo(D){return bl.apply(this,arguments)}(b)),this.originValidationPromises[C]}get _shouldInitProactively(){return Hn()||ye()||et()}};class Kc extends class Jf{constructor(b){this.factorId=b}_process(b,C,R){switch(C.type){case"enroll":return this._finalizeEnroll(b,C.credential,R);case"signin":return this._finalizeSignIn(b,C.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new Kc(b)}_finalizeEnroll(b,C,R){return function rl(D,b){return Et(D,"POST","/v2/accounts/mfaEnrollment:finalize",At(D,b))}(b,{idToken:C,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,C){return function cl(D,b){return Et(D,"POST","/v2/accounts/mfaSignIn:finalize",At(D,b))}(b,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sl=(()=>{class D{constructor(){}static assertion(C){return Kc._fromCredential(C)}}return D.FACTOR_ID="phone",D})();var Zo="@firebase/auth",Xf="0.20.11";class mC{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var C=this;return(0,s.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const C=this.auth.onIdTokenChanged(R=>{var ie;b((null===(ie=R)||void 0===ie?void 0:ie.stsTokenManager.accessToken)||null)});this.internalListeners.set(b,C),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const C=this.internalListeners.get(b);!C||(this.internalListeners.delete(b),C(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,_.Pz)("authIdTokenMaxAge"),function uc(D){(0,w._registerComponent)(new U.wA("auth",(b,{options:C})=>{const R=b.getProvider("app").getImmediate(),ie=b.getProvider("heartbeat"),{apiKey:he,authDomain:Ne}=R.options;return((Ze,Ct)=>{_e(he&&!he.includes(":"),"invalid-api-key",{appName:Ze.name}),_e(!Ne?.includes(":"),"argument-error",{appName:Ze.name});const Bt={apiKey:he,authDomain:Ne,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kn(D)},Wt=new As(Ze,Ct,Bt);return function ee(D,b){const C=b?.persistence||[],R=(Array.isArray(C)?C:[C]).map(de);b?.errorMap&&D._updateErrorMap(b.errorMap),D._initializeWithPersistence(R,b?.popupRedirectResolver)}(Wt,C),Wt})(R,ie)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,C,R)=>{b.getProvider("auth-internal").initialize()})),(0,w._registerComponent)(new U.wA("auth-internal",b=>{const C=Tt(b.getProvider("auth").getImmediate());return new mC(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,w.registerVersion)(Zo,Xf,function iv(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,w.registerVersion)(Zo,Xf,"esm2017")}("Browser")},2090:(d,h,p)=>{"use strict";p.d(h,{$s:()=>_t,BH:()=>Ye,DV:()=>Mn,Dv:()=>Mr,G6:()=>me,GJ:()=>or,L:()=>z,LL:()=>yt,Pz:()=>Oe,Sg:()=>$e,UG:()=>A,UI:()=>Bn,US:()=>U,Wj:()=>Ut,Wl:()=>En,Yr:()=>re,ZB:()=>j,ZR:()=>Ot,aH:()=>Re,b$:()=>T,cI:()=>Et,dS:()=>Kt,eu:()=>_e,g5:()=>w,gK:()=>xn,gQ:()=>$t,h$:()=>V,hl:()=>Pe,hu:()=>_,jU:()=>N,lb:()=>Fr,m9:()=>bn,ne:()=>ln,p$:()=>x,pd:()=>Gt,r3:()=>zn,ru:()=>I,tV:()=>Q,uI:()=>Y,ug:()=>ai,vZ:()=>at,w1:()=>J,w9:()=>_n,xO:()=>vn,xb:()=>Sn,z$:()=>k,zI:()=>ve,zd:()=>Ln});const _=function(Ae,Te){if(!Ae)throw w(Te)},w=function(Ae){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ae)},P=function(Ae){const Te=[];let xe=0;for(let Ce=0;Ce<Ae.length;Ce++){let le=Ae.charCodeAt(Ce);le<128?Te[xe++]=le:le<2048?(Te[xe++]=le>>6|192,Te[xe++]=63&le|128):55296==(64512&le)&&Ce+1<Ae.length&&56320==(64512&Ae.charCodeAt(Ce+1))?(le=65536+((1023&le)<<10)+(1023&Ae.charCodeAt(++Ce)),Te[xe++]=le>>18|240,Te[xe++]=le>>12&63|128,Te[xe++]=le>>6&63|128,Te[xe++]=63&le|128):(Te[xe++]=le>>12|224,Te[xe++]=le>>6&63|128,Te[xe++]=63&le|128)}return Te},U={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,Te){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const xe=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let le=0;le<Ae.length;le+=3){const ye=Ae[le],Fe=le+1<Ae.length,Qe=Fe?Ae[le+1]:0,wt=le+2<Ae.length,bt=wt?Ae[le+2]:0;let Yt=(15&Qe)<<2|bt>>6,Un=63&bt;wt||(Un=64,Fe||(Yt=64)),Ce.push(xe[ye>>2],xe[(3&ye)<<4|Qe>>4],xe[Yt],xe[Un])}return Ce.join("")},encodeString(Ae,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(Ae):this.encodeByteArray(P(Ae),Te)},decodeString(Ae,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(Ae):function(Ae){const Te=[];let xe=0,Ce=0;for(;xe<Ae.length;){const le=Ae[xe++];if(le<128)Te[Ce++]=String.fromCharCode(le);else if(le>191&&le<224){const ye=Ae[xe++];Te[Ce++]=String.fromCharCode((31&le)<<6|63&ye)}else if(le>239&&le<365){const wt=((7&le)<<18|(63&Ae[xe++])<<12|(63&Ae[xe++])<<6|63&Ae[xe++])-65536;Te[Ce++]=String.fromCharCode(55296+(wt>>10)),Te[Ce++]=String.fromCharCode(56320+(1023&wt))}else{const ye=Ae[xe++],Fe=Ae[xe++];Te[Ce++]=String.fromCharCode((15&le)<<12|(63&ye)<<6|63&Fe)}}return Te.join("")}(this.decodeStringToByteArray(Ae,Te))},decodeStringToByteArray(Ae,Te){this.init_();const xe=Te?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let le=0;le<Ae.length;){const ye=xe[Ae.charAt(le++)],Qe=le<Ae.length?xe[Ae.charAt(le)]:0;++le;const bt=le<Ae.length?xe[Ae.charAt(le)]:64;++le;const et=le<Ae.length?xe[Ae.charAt(le)]:64;if(++le,null==ye||null==Qe||null==bt||null==et)throw Error();Ce.push(ye<<2|Qe>>4),64!==bt&&(Ce.push(Qe<<4&240|bt>>2),64!==et&&Ce.push(bt<<6&192|et))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}},V=function(Ae){const Te=P(Ae);return U.encodeByteArray(Te,!0)},z=function(Ae){return V(Ae).replace(/\./g,"")},Q=function(Ae){try{return U.decodeString(Ae,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function x(Ae){return j(void 0,Ae)}function j(Ae,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return Te}for(const xe in Te)!Te.hasOwnProperty(xe)||!G(xe)||(Ae[xe]=j(Ae[xe],Te[xe]));return Ae}function G(Ae){return"__proto__"!==Ae}function k(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Y(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())}function A(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function N(){return"object"==typeof self&&self.self===self}function I(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function T(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function J(){const Ae=k();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function re(){return!1}function me(){return!A()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pe(){return"object"==typeof indexedDB}function _e(){return new Promise((Ae,Te)=>{try{let xe=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(Ce);le.onsuccess=()=>{le.result.close(),xe||self.indexedDB.deleteDatabase(Ce),Ae(!0)},le.onupgradeneeded=()=>{xe=!1},le.onerror=()=>{var ye;Te((null===(ye=le.error)||void 0===ye?void 0:ye.message)||"")}}catch(xe){Te(xe)}})}function ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ee=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ae=process.env.__FIREBASE_DEFAULTS__;return Ae?JSON.parse(Ae):void 0})()||(()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Te=Ae&&Q(Ae[1]);return Te&&JSON.parse(Te)})()}catch(Ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`)}},Re=()=>{var Ae;return null===(Ae=ee())||void 0===Ae?void 0:Ae.config},Oe=Ae=>{var Te;return null===(Te=ee())||void 0===Te?void 0:Te[`_${Ae}`]};class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,xe)=>{this.resolve=Te,this.reject=xe})}wrapCallback(Te){return(xe,Ce)=>{xe?this.reject(xe):this.resolve(Ce),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(xe):Te(xe,Ce))}}}function $e(Ae,Te){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=Te||"demo-project",le=Ae.iat||0,ye=Ae.sub||Ae.user_id;if(!ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:le,exp:le+3600,auth_time:le,sub:ye,user_id:ye,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(Fe)),""].join(".")}class Ot extends Error{constructor(Te,xe,Ce){super(xe),this.code=Te,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yt.prototype.create)}}class yt{constructor(Te,xe,Ce){this.service=Te,this.serviceName=xe,this.errors=Ce}create(Te,...xe){const Ce=xe[0]||{},le=`${this.service}/${Te}`,ye=this.errors[Te],Fe=ye?function jt(Ae,Te){return Ae.replace(At,(xe,Ce)=>{const le=Te[Ce];return null!=le?String(le):`<${Ce}?>`})}(ye,Ce):"Error";return new Ot(le,`${this.serviceName}: ${Fe} (${le}).`,Ce)}}const At=/\{\$([^}]+)}/g;function Et(Ae){return JSON.parse(Ae)}function En(Ae){return JSON.stringify(Ae)}const In=function(Ae){let Te={},xe={},Ce={},le="";try{const ye=Ae.split(".");Te=Et(Q(ye[0])||""),xe=Et(Q(ye[1])||""),le=ye[2],Ce=xe.d||{},delete xe.d}catch{}return{header:Te,claims:xe,data:Ce,signature:le}},_n=function(Ae){const xe=In(Ae).claims;return!!xe&&"object"==typeof xe&&xe.hasOwnProperty("iat")},or=function(Ae){const Te=In(Ae).claims;return"object"==typeof Te&&!0===Te.admin};function zn(Ae,Te){return Object.prototype.hasOwnProperty.call(Ae,Te)}function Mn(Ae,Te){if(Object.prototype.hasOwnProperty.call(Ae,Te))return Ae[Te]}function Sn(Ae){for(const Te in Ae)if(Object.prototype.hasOwnProperty.call(Ae,Te))return!1;return!0}function Bn(Ae,Te,xe){const Ce={};for(const le in Ae)Object.prototype.hasOwnProperty.call(Ae,le)&&(Ce[le]=Te.call(xe,Ae[le],le,Ae));return Ce}function at(Ae,Te){if(Ae===Te)return!0;const xe=Object.keys(Ae),Ce=Object.keys(Te);for(const le of xe){if(!Ce.includes(le))return!1;const ye=Ae[le],Fe=Te[le];if(Xt(ye)&&Xt(Fe)){if(!at(ye,Fe))return!1}else if(ye!==Fe)return!1}for(const le of Ce)if(!xe.includes(le))return!1;return!0}function Xt(Ae){return null!==Ae&&"object"==typeof Ae}function vn(Ae){const Te=[];for(const[xe,Ce]of Object.entries(Ae))Array.isArray(Ce)?Ce.forEach(le=>{Te.push(encodeURIComponent(xe)+"="+encodeURIComponent(le))}):Te.push(encodeURIComponent(xe)+"="+encodeURIComponent(Ce));return Te.length?"&"+Te.join("&"):""}function Ln(Ae){const Te={};return Ae.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[le,ye]=Ce.split("=");Te[decodeURIComponent(le)]=decodeURIComponent(ye)}}),Te}function Gt(Ae){const Te=Ae.indexOf("?");if(!Te)return"";const xe=Ae.indexOf("#",Te);return Ae.substring(Te,xe>0?xe:void 0)}class $t{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Te=1;Te<this.blockSize;++Te)this.pad_[Te]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Te,xe){xe||(xe=0);const Ce=this.W_;if("string"==typeof Te)for(let et=0;et<16;et++)Ce[et]=Te.charCodeAt(xe)<<24|Te.charCodeAt(xe+1)<<16|Te.charCodeAt(xe+2)<<8|Te.charCodeAt(xe+3),xe+=4;else for(let et=0;et<16;et++)Ce[et]=Te[xe]<<24|Te[xe+1]<<16|Te[xe+2]<<8|Te[xe+3],xe+=4;for(let et=16;et<80;et++){const Yt=Ce[et-3]^Ce[et-8]^Ce[et-14]^Ce[et-16];Ce[et]=4294967295&(Yt<<1|Yt>>>31)}let bt,We,le=this.chain_[0],ye=this.chain_[1],Fe=this.chain_[2],Qe=this.chain_[3],wt=this.chain_[4];for(let et=0;et<80;et++){et<40?et<20?(bt=Qe^ye&(Fe^Qe),We=1518500249):(bt=ye^Fe^Qe,We=1859775393):et<60?(bt=ye&Fe|Qe&(ye|Fe),We=2400959708):(bt=ye^Fe^Qe,We=3395469782);const Yt=(le<<5|le>>>27)+bt+wt+We+Ce[et]&4294967295;wt=Qe,Qe=Fe,Fe=4294967295&(ye<<30|ye>>>2),ye=le,le=Yt}this.chain_[0]=this.chain_[0]+le&4294967295,this.chain_[1]=this.chain_[1]+ye&4294967295,this.chain_[2]=this.chain_[2]+Fe&4294967295,this.chain_[3]=this.chain_[3]+Qe&4294967295,this.chain_[4]=this.chain_[4]+wt&4294967295}update(Te,xe){if(null==Te)return;void 0===xe&&(xe=Te.length);const Ce=xe-this.blockSize;let le=0;const ye=this.buf_;let Fe=this.inbuf_;for(;le<xe;){if(0===Fe)for(;le<=Ce;)this.compress_(Te,le),le+=this.blockSize;if("string"==typeof Te){for(;le<xe;)if(ye[Fe]=Te.charCodeAt(le),++Fe,++le,Fe===this.blockSize){this.compress_(ye),Fe=0;break}}else for(;le<xe;)if(ye[Fe]=Te[le],++Fe,++le,Fe===this.blockSize){this.compress_(ye),Fe=0;break}}this.inbuf_=Fe,this.total_+=xe}digest(){const Te=[];let xe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let le=this.blockSize-1;le>=56;le--)this.buf_[le]=255&xe,xe/=256;this.compress_(this.buf_);let Ce=0;for(let le=0;le<5;le++)for(let ye=24;ye>=0;ye-=8)Te[Ce]=this.chain_[le]>>ye&255,++Ce;return Te}}function ln(Ae,Te){const xe=new dn(Ae,Te);return xe.subscribe.bind(xe)}class dn{constructor(Te,xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xe,this.task.then(()=>{Te(this)}).catch(Ce=>{this.error(Ce)})}next(Te){this.forEachObserver(xe=>{xe.next(Te)})}error(Te){this.forEachObserver(xe=>{xe.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,xe,Ce){let le;if(void 0===Te&&void 0===xe&&void 0===Ce)throw new Error("Missing Observer.");le=function mt(Ae,Te){if("object"!=typeof Ae||null===Ae)return!1;for(const xe of Te)if(xe in Ae&&"function"==typeof Ae[xe])return!0;return!1}(Te,["next","error","complete"])?Te:{next:Te,error:xe,complete:Ce},void 0===le.next&&(le.next=zt),void 0===le.error&&(le.error=zt),void 0===le.complete&&(le.complete=zt);const ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch{}}),this.observers.push(le),ye}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let xe=0;xe<this.observers.length;xe++)this.sendOne(xe,Te)}sendOne(Te,xe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{xe(this.observers[Te])}catch(Ce){typeof console<"u"&&console.error&&console.error(Ce)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zt(){}const Mr=function(Ae,Te,xe,Ce){let le;if(Ce<Te?le="at least "+Te:Ce>xe&&(le=0===xe?"none":"no more than "+xe),le)throw new Error(Ae+" failed: Was called with "+Ce+(1===Ce?" argument.":" arguments.")+" Expects "+le+".")};function xn(Ae,Te){return`${Ae} failed: ${Te} argument `}function Ut(Ae,Te,xe,Ce){if((!Ce||xe)&&"function"!=typeof xe)throw new Error(xn(Ae,Te)+"must be a valid function.")}function Fr(Ae,Te,xe,Ce){if((!Ce||xe)&&("object"!=typeof xe||null===xe))throw new Error(xn(Ae,Te)+"must be a valid context object.")}const Kt=function(Ae){const Te=[];let xe=0;for(let Ce=0;Ce<Ae.length;Ce++){let le=Ae.charCodeAt(Ce);if(le>=55296&&le<=56319){const ye=le-55296;Ce++,_(Ce<Ae.length,"Surrogate pair missing trail surrogate."),le=65536+(ye<<10)+(Ae.charCodeAt(Ce)-56320)}le<128?Te[xe++]=le:le<2048?(Te[xe++]=le>>6|192,Te[xe++]=63&le|128):le<65536?(Te[xe++]=le>>12|224,Te[xe++]=le>>6&63|128,Te[xe++]=63&le|128):(Te[xe++]=le>>18|240,Te[xe++]=le>>12&63|128,Te[xe++]=le>>6&63|128,Te[xe++]=63&le|128)}return Te},ai=function(Ae){let Te=0;for(let xe=0;xe<Ae.length;xe++){const Ce=Ae.charCodeAt(xe);Ce<128?Te++:Ce<2048?Te+=2:Ce>=55296&&Ce<=56319?(Te+=4,xe++):Te+=3}return Te};function _t(Ae,Te=1e3,xe=2){const Ce=Te*Math.pow(xe,Ae),le=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+le)}function bn(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},3272:(d,h,p)=>{"use strict";var s=p(4650);let _=null;function w(){return _}const V=new s.OlP("DocumentToken");let z=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Q(){return(0,s.LFG)(j)}()},providedIn:"platform"}),n})();const x=new s.OlP("Location Initialized");let j=(()=>{class n extends z{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return w().getBaseHref(this._doc)}onPopState(t){const r=w().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=w().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){G()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){G()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(V))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function k(){return new j((0,s.LFG)(V))}()},providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function Y(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function A(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function N(n){return n&&"?"!==n[0]?"?"+n:n}let I=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(W)},providedIn:"root"}),n})();const T=new s.OlP("appBaseHref");let W=(()=>{class n extends I{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(V).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Y(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+N(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+N(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+N(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(z),s.LFG(T,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J=(()=>{class n extends I{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Y(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+N(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+N(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(z),s.LFG(T,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ne=(()=>{class n{constructor(t){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=A(Pe(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+N(r))}normalize(t){return n.stripTrailingSlash(function me(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Pe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+N(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+N(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=N,n.joinWithSlash=Y,n.stripTrailingSlash=A,n.\u0275fac=function(t){return new(t||n)(s.LFG(I))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function re(){return new ne((0,s.LFG)(I))}()},providedIn:"root"}),n})();function Pe(n){return n.replace(/\/index.html$/,"")}let On=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Zs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gi=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Zs(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const m=r.get(a);r.move(m,u),Ks(m,i)}});for(let i=0,a=r.length;i<a;i++){const m=r.get(i).context;m.index=i,m.count=a,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ks(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ks(n,e){n.context.$implicit=e.item}let jn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Nu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Nu{constructor(){this.$implicit=null,this.ngIf=null}}function mr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}class yi{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ls=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ua=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new yi(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ls,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),So=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split("."),u=-1===i.indexOf("-")?void 0:s.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,a?`${r}${a}`:r,u):this._renderer.removeStyle(this._ngEl.nativeElement,i,u)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Ys=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,a,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})(),$l=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function xo(n){return"server"===n}let Rc=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Fu((0,s.LFG)(V),window)}),n})();class Fu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Vr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ii(this.window.history)||Ii(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ii(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class hs extends class Vc extends class U{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function L(n){_||(_=n)}(new hs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Bc(){return fs=fs||document.querySelector("base"),fs?fs.getAttribute("href"):null}();return null==t?null:function ps(n){nr=nr||document.createElement("a"),nr.setAttribute("href",n);const e=nr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function jl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let nr,fs=null;const Xn=new s.OlP("TRANSITION_ID"),Ql=[{provide:s.ip1,useFactory:function el(n,e,t){return()=>{t.get(s.CZH).donePromise.then(()=>{const r=w(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Xn,V,s.zs3],multi:!0}];let Jl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Xl=new s.OlP("EventManagerPlugins");let tl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Xl),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class nl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=w().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Vo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Bo=(()=>{class n extends Vo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Uc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Uc))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(V))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Uc(n){w().remove(n)}const Uo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hc=/%COMP%/g;function va(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?va(n,i,t):(i=i.replace(Hc,n),t.push(i))}return t}function il(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wa=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new $i(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case s.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new xi(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case s.ifc.ShadowDom:return new sl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=va(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(tl),s.LFG(Bo),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class $i{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Uo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ca(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ca(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Uo[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Uo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,r,i&s.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,il(r)):this.eventManager.addEventListener(e,t,il(r))}}function Ca(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class xi extends $i{constructor(e,t,r,i){super(e),this.component=r;const a=va(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function cr(n){return"_ngcontent-%COMP%".replace(Hc,n)}(i+"-"+r.id),this.hostAttr=function rl(n){return"_nghost-%COMP%".replace(Hc,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class sl extends $i{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=va(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const m=document.createElement("style");m.textContent=a[u],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let cn=(()=>{class n extends nl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(V))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Gu=["alt","control","meta","shift"],Os={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ea=(()=>{class n extends nl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>w().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),u="code."),Gu.forEach(E=>{const F=r.indexOf(E);F>-1&&(r.splice(F,1),u+=E+".")}),u+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=u,y}static matchEventFullKeyCode(t,r){let i=Os[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Gu.forEach(u=>{u!==i&&(0,nc[u])(t)&&(a+=u+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(V))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const St=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function B(){hs.makeCurrent()},multi:!0},{provide:V,useFactory:function be(){return(0,s.RDi)(document),document},deps:[]}]),rn=new s.OlP(""),rr=[{provide:s.rWj,useClass:class Hu{addToWindow(e){s.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const m=function(y){u=u||y,a--,0==a&&r(u)};i.forEach(function(y){y.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?w().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Yn=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function X(){return new s.qLn},deps:[]},{provide:Xl,useClass:cn,multi:!0,deps:[V,s.R0b,s.Lbi]},{provide:Xl,useClass:Ea,multi:!0,deps:[V]},{provide:wa,useClass:wa,deps:[tl,Bo,s.AFp]},{provide:s.FYo,useExisting:wa},{provide:Vo,useExisting:Bo},{provide:Bo,useClass:Bo,deps:[V]},{provide:tl,useClass:tl,deps:[Xl,s.R0b]},{provide:class no{},useClass:Jl,deps:[]},[]];let bi=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId},{provide:Xn,useExisting:s.AFp},Ql]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(rn,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Yn,...rr],imports:[$l,s.hGG]}),n})(),Ns=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(V))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function rc(){return new Ns((0,s.LFG)(V))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;class fl{}const ms="*";function rh(n,e){return{type:7,name:n,definitions:e,options:{}}}function ei(n,e=null){return{type:4,styles:e,timings:n}}function ic(n,e=null){return{type:2,steps:n,options:e}}function Ls(n){return{type:6,styles:n,offset:null}}function $o(n,e,t){return{type:0,name:n,styles:e,options:t}}function Wu(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function pl(n){Promise.resolve().then(n)}class Ci{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pl(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Wc{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?pl(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++r==a&&this._onDestroy()}),u.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,m)=>Math.max(u,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function gl(n){return new s.vHH(3e3,!1)}function Aa(){return typeof window<"u"&&typeof window.document<"u"}function gs(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function qi(n){switch(n.length){case 0:return new Ci;case 1:return n[0];default:return new Wc(n)}}function Da(n,e,t,r,i=new Map,a=new Map){const u=[],m=[];let y=-1,E=null;if(r.forEach(F=>{const q=F.get("offset"),oe=q==y,pe=oe&&E||new Map;F.forEach((we,Me)=>{let Ve=Me,rt=we;if("offset"!==Me)switch(Ve=e.normalizePropertyName(Ve,u),rt){case"!":rt=i.get(Me);break;case ms:rt=a.get(Me);break;default:rt=e.normalizeStyleValue(Me,Ve,rt,u)}pe.set(Ve,rt)}),oe||m.push(pe),E=pe,y=q}),u.length)throw function ke(n){return new s.vHH(3502,!1)}();return m}function lo(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&bl(t,"start",n)));break;case"done":n.onDone(()=>r(t&&bl(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&bl(t,"destroy",n)))}}function bl(n,e,t){const a=_g(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function _g(n,e,t,r,i="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!u}}function ys(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function $f(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let zf=(n,e)=>!1,Cl=(n,e,t)=>[],qf=null;function Wf(n){const e=n.parentNode||n.host;return e===qf?null:e}(gs()||typeof Element<"u")&&(Aa()?(qf=(()=>document.documentElement)(),zf=(n,e)=>{for(;e;){if(e===n)return!0;e=Wf(e)}return!1}):zf=(n,e)=>n.contains(e),Cl=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let El=null,nv=!1;const Xu=zf,ch=Cl;let vg=(()=>{class n{validateStyleProperty(t){return function Zf(n){El||(El=function lh(){return typeof document<"u"?document.body:null}()||{},nv=!!El.style&&"WebkitAppearance"in El.style);let e=!0;return El.style&&!function fC(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in El.style,!e&&nv&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in El.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Xu(t,r)}getParentElement(t){return Wf(t)}query(t,r,i){return ch(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,u,m=[],y){return new Ci(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Kf=(()=>{class n{}return n.NOOP=new vg,n})();const uh="ng-enter",nd="ng-leave",cc="ng-trigger",rd=".ng-trigger",dh="ng-animating",Qf=".ng-animating";function Wo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Jf(parseFloat(e[1]),e[2])}function Jf(n,e){return"s"===e?1e3*n:n}function Kc(n,e,t){return n.hasOwnProperty("duration")?n:function Sl(n,e,t){let i,a=0,u="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(gl()),{duration:0,delay:0,easing:""};i=Jf(parseFloat(m[1]),m[2]);const y=m[3];null!=y&&(a=Jf(parseFloat(y),m[4]));const E=m[5];E&&(u=E)}else i=n;if(!t){let m=!1,y=e.length;i<0&&(e.push(function Zu(){return new s.vHH(3100,!1)}()),m=!0),a<0&&(e.push(function oh(){return new s.vHH(3101,!1)}()),m=!0),m&&e.splice(y,0,gl())}return{duration:i,delay:a,easing:u}}(n,e,t)}function Zo(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Xf(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function uc(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function sv(n,e,t){return t?e+":"+t+";":""}function ov(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=sv(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=sv(0,Ze(t),n.style[t]));n.setAttribute("style",e)}function Vs(n,e,t){n.style&&(e.forEach((r,i)=>{const a=Ne(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),gs()&&ov(n))}function dc(n,e){n.style&&(e.forEach((t,r)=>{const i=Ne(r);n.style[i]=""}),gs()&&ov(n))}function hh(n){return Array.isArray(n)?1==n.length?n[0]:ic(n):n}const b=new RegExp("{{\\s*(.+?)\\s*}}","g");function C(n){let e=[];if("string"==typeof n){let t;for(;t=b.exec(n);)e.push(t[1]);b.lastIndex=0}return e}function R(n,e,t){const r=n.toString(),i=r.replace(b,(a,u)=>{let m=e[u];return null==m&&(t.push(function ah(n){return new s.vHH(3003,!1)}()),m=""),m.toString()});return i==r?n:i}function ie(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const he=/-+([a-z0-9])/g;function Ne(n){return n.replace(he,(...e)=>e[1].toUpperCase())}function Ze(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wt(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function oc(n){return new s.vHH(3004,!1)}()}}function sr(n,e){return window.getComputedStyle(n)[e]}function rp(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function id(n,e,t){if(":"==n[0]){const y=function ip(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function $(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Ju(n){return new s.vHH(3015,!1)}()),e;const i=r[1],a=r[2],u=r[3];e.push(vr(i,u));"<"==a[0]&&!("*"==i&&"*"==u)&&e.push(vr(u,i))}(r,t,e)):t.push(n),t}const hc=new Set(["true","1"]),fh=new Set(["false","0"]);function vr(n,e){const t=hc.has(n)||fh.has(n),r=hc.has(e)||fh.has(e);return(i,a)=>{let u="*"==n||n==i,m="*"==e||e==a;return!u&&t&&"boolean"==typeof i&&(u=i?hc.has(n):fh.has(n)),!m&&r&&"boolean"==typeof a&&(m=a?hc.has(e):fh.has(e)),u&&m}}const K1=new RegExp("s*:selfs*,?","g");function op(n,e,t,r){return new Y1(n).build(e,t,r)}class Y1{constructor(e){this._driver=e}build(e,t,r){const i=new X1(t);return this._resetContextStyleTimingState(i),Wt(this,hh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function ao(){return new s.vHH(3006,!1)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const y=m,E=y.name;E.toString().split(/\s*,\s*/).forEach(F=>{y.name=F,a.push(this.visitState(y,t))}),y.name=E}else if(1==m.type){const y=this.visitTransition(m,t);r+=y.queryCount,i+=y.depCount,u.push(y)}else t.errors.push(function yl(){return new s.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,u=i||{};r.styles.forEach(m=>{m instanceof Map&&m.forEach(y=>{C(y).forEach(E=>{u.hasOwnProperty(E)||a.add(E)})})}),a.size&&(ie(a.values()),t.errors.push(function Ku(n,e){return new s.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Wt(this,hh(e.animation),t);return{type:1,matchers:rp(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ph(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Wt(this,r,t)),options:ph(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(u=>{t.currentTime=r;const m=Wt(this,u,t);return i=Math.max(i,t.currentTime),m});return t.currentTime=i,{type:3,steps:a,options:ph(e.options)}}visitAnimate(e,t){const r=function ZR(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return sd(Kc(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=sd(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=Kc(t,e);return sd(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Ls({});if(5==a.type)i=this.visitKeyframes(a,t);else{let u=e.styles,m=!1;if(!u){m=!0;const E={};r.easing&&(E.easing=r.easing),u=Ls(E)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(u,t);y.isEmptyStep=m,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let m of i)"string"==typeof m?m===ms?r.push(m):t.errors.push(new s.vHH(3002,!1)):r.push(Xf(m));let a=!1,u=null;return r.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(u=m.get("easing"),m.delete("easing")),!a))for(let y of m.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((m,y)=>{const E=t.collectedStyles.get(t.currentQuerySelector),F=E.get(y);let q=!0;F&&(a!=i&&a>=F.startTime&&i<=F.endTime&&(t.errors.push(function Yu(n,e,t,r,i){return new s.vHH(3010,!1)}()),q=!1),a=F.startTime),q&&E.set(y,{startTime:a,endTime:i}),t.options&&function D(n,e,t){const r=e.params||{},i=C(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function yg(n){return new s.vHH(3001,!1)}())})}(m,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Ia(){return new s.vHH(3011,!1)}()),r;let a=0;const u=[];let m=!1,y=!1,E=0;const F=e.steps.map(rt=>{const dt=this._makeStyleAst(rt,t);let ht=null!=dt.offset?dt.offset:function eA(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(dt.styles),pt=0;return null!=ht&&(a++,pt=dt.offset=ht),y=y||pt<0||pt>1,m=m||pt<E,E=pt,u.push(pt),dt});y&&t.errors.push(function Qu(){return new s.vHH(3012,!1)}()),m&&t.errors.push(function ac(){return new s.vHH(3200,!1)}());const q=e.steps.length;let oe=0;a>0&&a<q?t.errors.push(function qo(){return new s.vHH(3202,!1)}()):0==a&&(oe=1/(q-1));const pe=q-1,we=t.currentTime,Me=t.currentAnimateTimings,Ve=Me.duration;return F.forEach((rt,dt)=>{const ht=oe>0?dt==pe?1:oe*dt:u[dt],pt=ht*Ve;t.currentTime=we+Me.delay+pt,Me.duration=pt,this._validateStyleAst(rt,t),rt.offset=ht,r.styles.push(rt)}),r}visitReference(e,t){return{type:8,animation:Wt(this,hh(e.animation),t),options:ph(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ph(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ph(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function Q1(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(K1,"")),n=n.replace(/@\*/g,rd).replace(/@\w+/g,t=>rd+"-"+t.slice(1)).replace(/:animating/g,Qf),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,ys(t.collectedStyles,t.currentQuerySelector,new Map);const m=Wt(this,hh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:m,originalSelector:e.selector,options:ph(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Gf(){return new s.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Kc(e.timings,t.errors,!0);return{type:12,animation:Wt(this,hh(e.animation),t),timings:r,options:null}}}class X1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ph(n){return n?(n=Zo(n)).params&&(n.params=function J1(n){return n?Zo(n):null}(n.params)):n={},n}function sd(n,e,t){return{duration:n,delay:e,easing:t}}function ap(n,e,t,r,i,a,u=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:u,subTimeline:m}}class lp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const tA=new RegExp(":enter","g"),vC=new RegExp(":leave","g");function cp(n,e,t,r,i,a=new Map,u=new Map,m,y,E=[]){return(new KR).buildKeyframes(n,e,t,r,i,a,u,m,y,E)}class KR{buildKeyframes(e,t,r,i,a,u,m,y,E,F=[]){E=E||new lp;const q=new up(e,t,E,i,a,F,[]);q.options=y;const oe=y.delay?Wo(y.delay):0;q.currentTimeline.delayNextStep(oe),q.currentTimeline.setStyles([u],null,q.errors,y),Wt(this,r,q);const pe=q.timelines.filter(we=>we.containsAnimation());if(pe.length&&m.size){let we;for(let Me=pe.length-1;Me>=0;Me--){const Ve=pe[Me];if(Ve.element===t){we=Ve;break}}we&&!we.allowOnlyTimelineStyles()&&we.setStyles([m],null,q.errors,y)}return pe.length?pe.map(we=>we.buildKeyframes()):[ap(t,[],[],[],0,oe,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const u="number"==typeof a?a:Wo(R(a,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const u=null!=r.duration?Wo(r.duration):null,m=null!=r.delay?Wo(r.delay):null;return 0!==u&&e.forEach(y=>{const E=t.appendInstructionToTimeline(y,u,m);a=Math.max(a,E.duration+E.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Wt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=wg);const u=Wo(a.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Wt(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Wo(e.options.delay):0;e.steps.forEach(u=>{const m=t.createSubContext(e.options);a&&m.delayNextStep(a),Wt(this,u,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Kc(t.params?R(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(y=>{m.forwardTime((y.offset||0)*a),m.setStyles(y.styles,y.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Wo(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=wg);let u=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=m.length;let y=null;m.forEach((E,F)=>{t.currentQueryIndex=F;const q=t.createSubContext(e.options,E);a&&q.delayNextStep(a),E===t.element&&(y=q.currentTimeline),Wt(this,e.animation,q),q.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,q.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),m=u*(t.currentQueryTotal-1);let y=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=m-y;break;case"full":y=r.currentStaggerTime}const F=t.currentTimeline;y&&F.delayNextStep(y);const q=F.currentTime;Wt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-q+(i.startTime-r.currentTimeline.startTime)}}const wg={};class up{constructor(e,t,r,i,a,u,m,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=u,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new dp(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Wo(r.duration)),null!=r.delay&&(i.delay=Wo(r.delay));const a=r.params;if(a){let u=i.params;u||(u=this.options.params={}),Object.keys(a).forEach(m=>{(!t||!u.hasOwnProperty(m))&&(u[m]=R(a[m],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new up(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=wg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new wC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,u){let m=[];if(i&&m.push(this.element),e.length>0){e=(e=e.replace(tA,"."+this._enterClassName)).replace(vC,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),m.push(...E)}return!a&&0==m.length&&u.push(function Sr(n){return new s.vHH(3014,!1)}()),m}}class dp{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new dp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ms),this._currentKeyframe.set(t,ms);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},u=function nA(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,ms)}else uc(i,t)}),t}(e,this._globalTimelineStyles);for(let[m,y]of u){const E=R(y,a,r);this._pendingStyles.set(m,E),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??ms),this._updateStyle(m,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,y)=>{const E=uc(m,new Map,this._backFill);E.forEach((F,q)=>{"!"===F?e.add(q):F===ms&&t.add(q)}),r||E.set("offset",y/this.duration),i.push(E)});const a=e.size?ie(e.values()):[],u=t.size?ie(t.values()):[];if(r){const m=i[0],y=new Map(m);m.set("offset",0),y.set("offset",1),i=[m,y]}return ap(this.element,i,a,u,this.duration,this.startTime,this.easing,!1)}}class wC extends dp{constructor(e,t,r,i,a,u,m=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=m,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=r+t,m=t/u,y=uc(e[0]);y.set("offset",0),a.push(y);const E=uc(e[0]);E.set("offset",Qc(m)),a.push(E);const F=e.length-1;for(let q=1;q<=F;q++){let oe=uc(e[q]);const pe=oe.get("offset");oe.set("offset",Qc((t+pe*r)/u)),a.push(oe)}r=u,t=0,i="",e=a}return ap(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Qc(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class mh{}const uv=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bg extends mh{normalizePropertyName(e,t){return Ne(e)}normalizeStyleValue(e,t,r,i){let a="";const u=r.toString().trim();if(uv.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function Zc(n,e){return new s.vHH(3005,!1)}())}return u+a}}function Jc(n,e,t,r,i,a,u,m,y,E,F,q,oe){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:u,timelines:m,queriedElements:y,preStyleProps:E,postStyleProps:F,totalTime:q,errors:oe}}const Cg={};class Eg{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function rA(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,u,m,y,E,F){const q=[],oe=this.ast.options&&this.ast.options.params||Cg,we=this.buildStyles(r,m&&m.params||Cg,q),Me=y&&y.params||Cg,Ve=this.buildStyles(i,Me,q),rt=new Set,dt=new Map,ht=new Map,pt="void"===i,Vt={params:CC(Me,oe),delay:this.ast.options?.delay},Ht=F?[]:cp(e,t,this.ast.animation,a,u,we,Ve,Vt,E,q);let Fn=0;if(Ht.forEach($a=>{Fn=Math.max($a.duration+$a.delay,Fn)}),q.length)return Jc(t,this._triggerName,r,i,pt,we,Ve,[],[],dt,ht,Fn,q);Ht.forEach($a=>{const qd=$a.element,NH=ys(dt,qd,new Set);$a.preStyleProps.forEach(fg=>NH.add(fg));const cC=ys(ht,qd,new Set);$a.postStyleProps.forEach(fg=>cC.add(fg)),qd!==t&&rt.add(qd)});const pi=ie(rt.values());return Jc(t,this._triggerName,r,i,pt,we,Ve,Ht,pi,dt,ht,Fn)}}function CC(n,e){const t=Zo(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class gh{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Zo(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(i[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,m)=>{u&&(u=R(u,i,t));const y=this.normalizer.normalizePropertyName(m,t);u=this.normalizer.normalizeStyleValue(m,y,u,t),r.set(y,u)})}),r}}class sA{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new gh(i.style,i.options&&i.options.params||{},r))}),EC(this.states,"true","1"),EC(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Eg(e,i,this.states))}),this.fallbackTransition=function oA(n,e,t){return new Eg(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function EC(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const dv=new lp;class aA{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=op(this._driver,t,r,[]);if(r.length)throw function Be(n){return new s.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=Da(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let u;const m=new Map;if(a?(u=cp(this._driver,t,a,uh,nd,new Map,new Map,r,dv,i),u.forEach(F=>{const q=ys(m,F.element,new Map);F.postStyleProps.forEach(oe=>q.set(oe,null))})):(i.push(function Je(){return new s.vHH(3300,!1)}()),u=[]),i.length)throw function lt(n){return new s.vHH(3504,!1)}();m.forEach((F,q)=>{F.forEach((oe,pe)=>{F.set(pe,this._driver.computeStyle(q,pe,ms))})});const E=qi(u.map(F=>{const q=m.get(F.element);return this._buildPlayer(F,new Map,q)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Ft(n){return new s.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=_g(t,"","","");return lo(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const hv="ng-animate-queued",Sg="ng-animate-disabled",uA=[],od={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yo="__ng_removed";class SC{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function pv(n){return n??null}(r?e.value:e),r){const a=Zo(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const yh="void",fv=new SC(yh);class dA{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Bs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Qt(n,e){return new s.vHH(3302,!1)}();if(null==r||0==r.length)throw function fn(n){return new s.vHH(3303,!1)}();if(!function fA(n){return"start"==n||"done"==n}(r))throw function Lt(n,e){return new s.vHH(3400,!1)}();const a=ys(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};a.push(u);const m=ys(this._engine.statesByElement,e,new Map);return m.has(t)||(Bs(e,cc),Bs(e,cc+"-"+t),m.set(t,fv)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(u);y>=0&&a.splice(y,1),this._triggers.has(t)||m.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Tr(n){return new s.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),u=new Tg(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(Bs(e,cc),Bs(e,cc+"-"+t),this._engine.statesByElement.set(e,m=new Map));let y=m.get(t);const E=new SC(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&E.absorbOptions(y.options),m.set(t,E),y||(y=fv),E.value!==yh&&y.value===E.value){if(!function tN(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,E.params)){const Me=[],Ve=a.matchStyles(y.value,y.params,Me),rt=a.matchStyles(E.value,E.params,Me);Me.length?this._engine.reportError(Me):this._engine.afterFlush(()=>{dc(e,Ve),Vs(e,rt)})}return}const oe=ys(this._engine.playersByElement,e,[]);oe.forEach(Me=>{Me.namespaceId==this.id&&Me.triggerName==t&&Me.queued&&Me.destroy()});let pe=a.matchTransition(y.value,E.value,e,E.params),we=!1;if(!pe){if(!i)return;pe=a.fallbackTransition,we=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:pe,fromState:y,toState:E,player:u,isFallbackTransition:we}),we||(Bs(e,hv),u.onStart(()=>{pp(e,hv)})),u.onDone(()=>{let Me=this.players.indexOf(u);Me>=0&&this.players.splice(Me,1);const Ve=this._engine.playersByElement.get(e);if(Ve){let rt=Ve.indexOf(u);rt>=0&&Ve.splice(rt,1)}}),this.players.push(u),oe.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,rd,!0);r.forEach(i=>{if(i[Yo])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const m=[];if(a.forEach((y,E)=>{if(u.set(E,y.value),this._triggers.has(E)){const F=this.trigger(e,E,yh,i);F&&m.push(F)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&qi(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const u=a.name;if(i.has(u))return;i.add(u);const y=this._triggers.get(u).fallbackTransition,E=r.get(u)||fv,F=new SC(yh),q=new Tg(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:y,fromState:E,toState:F,player:q,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Yo];(!a||a===od)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Bs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,u=this._elementListeners.get(a);u&&u.forEach(m=>{if(m.name==r.triggerName){const y=_g(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,lo(r.player,m.phase,y,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class hA{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new dA(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,m=this.driver.getParentElement(t);for(;m;){const y=i.get(m);if(y){const E=r.indexOf(y);r.splice(E+1,0,e),u=!0;break}m=this.driver.getParentElement(m)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(Ig(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ig(t))return;const a=t[Yo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Bs(e,Sg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),pp(e,Sg))}removeNode(e,t,r,i){if(Ig(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Yo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Ig(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,rd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Qf,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return qi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Yo];if(t&&t.setForRemoval){if(e[Yo]=od,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Sg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Bs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?qi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Wr(n){return new s.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new lp,i=[],a=new Map,u=[],m=new Map,y=new Map,E=new Map,F=new Set;this.disabledNodes.forEach(kt=>{F.add(kt);const tn=this.driver.query(kt,".ng-animate-queued",!0);for(let an=0;an<tn.length;an++)F.add(tn[an])});const q=this.bodyNode,oe=Array.from(this.statesByElement.keys()),pe=mA(oe,this.collectedEnterElements),we=new Map;let Me=0;pe.forEach((kt,tn)=>{const an=uh+Me++;we.set(tn,an),kt.forEach(Qn=>Bs(Qn,an))});const Ve=[],rt=new Set,dt=new Set;for(let kt=0;kt<this.collectedLeaveElements.length;kt++){const tn=this.collectedLeaveElements[kt],an=tn[Yo];an&&an.setForRemoval&&(Ve.push(tn),rt.add(tn),an.hasAnimation?this.driver.query(tn,".ng-star-inserted",!0).forEach(Qn=>rt.add(Qn)):dt.add(tn))}const ht=new Map,pt=mA(oe,Array.from(rt));pt.forEach((kt,tn)=>{const an=nd+Me++;ht.set(tn,an),kt.forEach(Qn=>Bs(Qn,an))}),e.push(()=>{pe.forEach((kt,tn)=>{const an=we.get(tn);kt.forEach(Qn=>pp(Qn,an))}),pt.forEach((kt,tn)=>{const an=ht.get(tn);kt.forEach(Qn=>pp(Qn,an))}),Ve.forEach(kt=>{this.processLeaveNode(kt)})});const Vt=[],Ht=[];for(let kt=this._namespaceList.length-1;kt>=0;kt--)this._namespaceList[kt].drainQueuedTransitions(t).forEach(an=>{const Qn=an.player,is=an.element;if(Vt.push(Qn),this.collectedEnterElements.length){const zs=is[Yo];if(zs&&zs.setForMove){if(zs.previousTriggersValues&&zs.previousTriggersValues.has(an.triggerName)){const pg=zs.previousTriggersValues.get(an.triggerName),Hl=this.statesByElement.get(an.element);if(Hl&&Hl.has(an.triggerName)){const Z1=Hl.get(an.triggerName);Z1.value=pg,Hl.set(an.triggerName,Z1)}}return void Qn.destroy()}}const Ou=!q||!this.driver.containsElement(q,is),za=ht.get(is),Ff=we.get(is),Qr=this._buildInstruction(an,r,Ff,za,Ou);if(Qr.errors&&Qr.errors.length)return void Ht.push(Qr);if(Ou)return Qn.onStart(()=>dc(is,Qr.fromStyles)),Qn.onDestroy(()=>Vs(is,Qr.toStyles)),void i.push(Qn);if(an.isFallbackTransition)return Qn.onStart(()=>dc(is,Qr.fromStyles)),Qn.onDestroy(()=>Vs(is,Qr.toStyles)),void i.push(Qn);const VH=[];Qr.timelines.forEach(zs=>{zs.stretchStartingKeyframe=!0,this.disabledNodes.has(zs.element)||VH.push(zs)}),Qr.timelines=VH,r.append(is,Qr.timelines),u.push({instruction:Qr,player:Qn,element:is}),Qr.queriedElements.forEach(zs=>ys(m,zs,[]).push(Qn)),Qr.preStyleProps.forEach((zs,pg)=>{if(zs.size){let Hl=y.get(pg);Hl||y.set(pg,Hl=new Set),zs.forEach((Z1,WR)=>Hl.add(WR))}}),Qr.postStyleProps.forEach((zs,pg)=>{let Hl=E.get(pg);Hl||E.set(pg,Hl=new Set),zs.forEach((Z1,WR)=>Hl.add(WR))})});if(Ht.length){const kt=[];Ht.forEach(tn=>{kt.push(function vl(n,e){return new s.vHH(3505,!1)}())}),Vt.forEach(tn=>tn.destroy()),this.reportError(kt)}const Fn=new Map,pi=new Map;u.forEach(kt=>{const tn=kt.element;r.has(tn)&&(pi.set(tn,tn),this._beforeAnimationBuild(kt.player.namespaceId,kt.instruction,Fn))}),i.forEach(kt=>{const tn=kt.element;this._getPreviousPlayers(tn,!1,kt.namespaceId,kt.triggerName,null).forEach(Qn=>{ys(Fn,tn,[]).push(Qn),Qn.destroy()})});const $a=Ve.filter(kt=>IC(kt,y,E)),qd=new Map;pA(qd,this.driver,dt,E,ms).forEach(kt=>{IC(kt,y,E)&&$a.push(kt)});const cC=new Map;pe.forEach((kt,tn)=>{pA(cC,this.driver,new Set(kt),y,"!")}),$a.forEach(kt=>{const tn=qd.get(kt),an=cC.get(kt);qd.set(kt,new Map([...Array.from(tn?.entries()??[]),...Array.from(an?.entries()??[])]))});const fg=[],FH=[],LH={};u.forEach(kt=>{const{element:tn,player:an,instruction:Qn}=kt;if(r.has(tn)){if(F.has(tn))return an.onDestroy(()=>Vs(tn,Qn.toStyles)),an.disabled=!0,an.overrideTotalTime(Qn.totalTime),void i.push(an);let is=LH;if(pi.size>1){let za=tn;const Ff=[];for(;za=za.parentNode;){const Qr=pi.get(za);if(Qr){is=Qr;break}Ff.push(za)}Ff.forEach(Qr=>pi.set(Qr,is))}const Ou=this._buildAnimation(an.namespaceId,Qn,Fn,a,cC,qd);if(an.setRealPlayer(Ou),is===LH)fg.push(an);else{const za=this.playersByElement.get(is);za&&za.length&&(an.parentPlayer=qi(za)),i.push(an)}}else dc(tn,Qn.fromStyles),an.onDestroy(()=>Vs(tn,Qn.toStyles)),FH.push(an),F.has(tn)&&i.push(an)}),FH.forEach(kt=>{const tn=a.get(kt.element);if(tn&&tn.length){const an=qi(tn);kt.setRealPlayer(an)}}),i.forEach(kt=>{kt.parentPlayer?kt.syncPlayerEvents(kt.parentPlayer):kt.destroy()});for(let kt=0;kt<Ve.length;kt++){const tn=Ve[kt],an=tn[Yo];if(pp(tn,nd),an&&an.hasAnimation)continue;let Qn=[];if(m.size){let Ou=m.get(tn);Ou&&Ou.length&&Qn.push(...Ou);let za=this.driver.query(tn,Qf,!0);for(let Ff=0;Ff<za.length;Ff++){let Qr=m.get(za[Ff]);Qr&&Qr.length&&Qn.push(...Qr)}}const is=Qn.filter(Ou=>!Ou.destroyed);is.length?XR(this,tn,is):this.processLeaveNode(tn)}return Ve.length=0,fg.forEach(kt=>{this.players.push(kt),kt.onDone(()=>{kt.destroy();const tn=this.players.indexOf(kt);this.players.splice(tn,1)}),kt.play()}),fg}elementContainsData(e,t){let r=!1;const i=t[Yo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let u=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(u=m)}else{const m=this.playersByElement.get(e);if(m){const y=!a||a==yh;m.forEach(E=>{E.queued||!y&&E.triggerName!=i||u.push(E)})}}return(r||i)&&(u=u.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),u}_beforeAnimationBuild(e,t,r){const a=t.element,u=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const E=y.element,F=E!==a,q=ys(r,E,[]);this._getPreviousPlayers(E,F,u,m,t.toState).forEach(pe=>{const we=pe.getRealPlayer();we.beforeDestroy&&we.beforeDestroy(),pe.destroy(),q.push(pe)})}dc(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,u){const m=t.triggerName,y=t.element,E=[],F=new Set,q=new Set,oe=t.timelines.map(we=>{const Me=we.element;F.add(Me);const Ve=Me[Yo];if(Ve&&Ve.removedBeforeQueried)return new Ci(we.duration,we.delay);const rt=Me!==y,dt=function eN(n){const e=[];return gA(n,e),e}((r.get(Me)||uA).map(Fn=>Fn.getRealPlayer())).filter(Fn=>!!Fn.element&&Fn.element===Me),ht=a.get(Me),pt=u.get(Me),Vt=Da(0,this._normalizer,0,we.keyframes,ht,pt),Ht=this._buildPlayer(we,Vt,dt);if(we.subTimeline&&i&&q.add(Me),rt){const Fn=new Tg(e,m,Me);Fn.setRealPlayer(Ht),E.push(Fn)}return Ht});E.forEach(we=>{ys(this.playersByQueriedElement,we.element,[]).push(we),we.onDone(()=>function TC(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,we.element,we))}),F.forEach(we=>Bs(we,dh));const pe=qi(oe);return pe.onDestroy(()=>{F.forEach(we=>pp(we,dh)),Vs(y,t.toStyles)}),q.forEach(we=>{ys(i,we,[]).push(pe)}),pe}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ci(e.duration,e.delay)}}class Tg{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ci,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>lo(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ys(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ig(n){return n&&1===n.nodeType}function Ag(n,e){const t=n.style.display;return n.style.display=e??"none",t}function pA(n,e,t,r,i){const a=[];t.forEach(y=>a.push(Ag(y)));const u=[];r.forEach((y,E)=>{const F=new Map;y.forEach(q=>{const oe=e.computeStyle(E,q,i);F.set(q,oe),(!oe||0==oe.length)&&(E[Yo]=fp,u.push(E))}),n.set(E,F)});let m=0;return t.forEach(y=>Ag(y,a[m++])),u}function mA(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const i=new Set(e),a=new Map;function u(m){if(!m)return 1;let y=a.get(m);if(y)return y;const E=m.parentNode;return y=t.has(E)?E:i.has(E)?1:u(E),a.set(m,y),y}return e.forEach(m=>{const y=u(m);1!==y&&t.get(y).push(m)}),t}function Bs(n,e){n.classList?.add(e)}function pp(n,e){n.classList?.remove(e)}function XR(n,e,t){qi(t).onDone(()=>n.processLeaveNode(e))}function gA(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Wc?gA(r.players,e):e.push(r)}}function IC(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class mp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new hA(e,t,r),this._timelineEngine=new aA(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const u=e+"-"+i;let m=this._triggerCache[u];if(!m){const y=[],F=op(this._driver,a,y,[]);if(y.length)throw function Se(n,e){return new s.vHH(3404,!1)}();m=function iA(n,e,t){return new sA(n,e,t)}(i,F,this._normalizer),this._triggerCache[u]=m}this._transitionEngine.registerTrigger(t,i,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,u]=$f(r);this._timelineEngine.command(a,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[u,m]=$f(r);return this._timelineEngine.listen(u,t,m,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let AC=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Vs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vs(this._element,this._initialStyles),this._endStyles&&(Vs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(dc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dc(this._element,this._endStyles),this._endStyles=null),Vs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Dg(n){let e=null;return n.forEach((t,r)=>{(function DC(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class xg{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:sr(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class yA{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Xu(e,t)}getParentElement(e){return Wf(e)}query(e,t,r){return ch(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,u=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const E=new Map,F=u.filter(pe=>pe instanceof xg);(function Ct(n,e){return 0===n||0===e})(r,i)&&F.forEach(pe=>{pe.currentSnapshot.forEach((we,Me)=>E.set(Me,we))});let q=function mC(n){return n.length?n[0]instanceof Map?n:n.map(e=>Xf(e)):[]}(t).map(pe=>uc(pe));q=function Bt(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,u)=>{r.has(u)||i.push(u),r.set(u,a)}),i.length)for(let a=1;a<e.length;a++){let u=e[a];i.forEach(m=>u.set(m,sr(n,m)))}}return e}(e,q,E);const oe=function mv(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Dg(e[0]),e.length>1&&(r=Dg(e[e.length-1]))):e instanceof Map&&(t=Dg(e)),t||r?new AC(n,t,r):null}(e,q);return new xg(e,q,y,oe)}}let gv=(()=>{class n extends fl{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?ic(t):t;return xC(this._renderer,null,r,"register",[i]),new gp(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(V))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class gp extends class qc{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new _A(this._id,e,t||{},this._renderer)}}class _A{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return xC(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xC(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const yv="@.disabled";let vA=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,u)=>{const m=u?.parentNode(a);m&&u.removeChild(m,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let F=this._rendererCache.get(a);return F||(F=new PC("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,F)),F}const u=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const y=F=>{Array.isArray(F)?F.forEach(y):this.engine.registerTrigger(u,m,t,F.name,F)};return r.data.animation.forEach(y),new wA(this,m,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,m]=a;u(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(mp),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class PC{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==yv?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class wA extends PC{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==yv?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function bA(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function _v(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,u,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let CA=(()=>{class n extends mp{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(V),s.LFG(Kf),s.LFG(mh),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const vv=[{provide:fl,useClass:gv},{provide:mh,useFactory:function EA(){return new bg}},{provide:mp,useClass:CA},{provide:s.FYo,useFactory:function SA(n,e,t){return new vA(n,e,t)},deps:[wa,mp,s.R0b]}],wv=[{provide:Kf,useFactory:()=>new yA},{provide:s.QbO,useValue:"BrowserAnimations"},...vv],MC=[{provide:Kf,useClass:vg},{provide:s.QbO,useValue:"NoopAnimations"},...vv];let _s=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?MC:wv}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:wv,imports:[bi]}),n})();const Wi=["*"];let PA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:Wi,decls:1,vars:0,template:function(t,r){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),MA=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),kA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$l]}),n})();function OA(n,e){if(1&n&&(s.TgZ(0,"span",9),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.hij(" ",t.header," ")}}function RA(n,e){1&n&&s.GkF(0)}function lN(n,e){1&n&&s.Hsn(0,1,["*ngIf","hasHeaderFacet"])}function cN(n,e){1&n&&s.GkF(0)}function RC(n,e){if(1&n&&(s.ynx(0),s.YNc(1,cN,1,0,"ng-container",5),s.BQk()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",t.contentTemplate)}}const uN=["*",[["p-header"]]],Tl=function(n){return{"p-accordion-tab-active":n}},bv=function(n,e){return{"p-highlight":n,"p-disabled":e}},kg=function(n){return{transitionParams:n}},NA=function(n){return{value:"visible",params:n}},NC=function(n){return{value:"hidden",params:n}},FA=["*","p-header"],_p=["*"];let LA=0,FC=(()=>{class n{constructor(t,r){this.changeDetector=r,this.cache=!0,this.selectedChange=new s.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+LA++,this.accordion=t}get selected(){return this._selected}set selected(t){this._selected=t,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template}})}toggle(t){if(this.disabled)return!1;let r=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:t,index:r});else{if(!this.accordion.multiple)for(var i=0;i<this.accordion.tabs.length;i++)this.accordion.tabs[i].selected&&(this.accordion.tabs[i].selected=!1,this.accordion.tabs[i].selectedChange.emit(!1),this.accordion.tabs[i].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:t,index:r})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),t.preventDefault()}findTabIndex(){let t=-1;for(var r=0;r<this.accordion.tabs.length;r++)if(this.accordion.tabs[r]==this){t=r;break}return t}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(t){(32===t.which||13===t.which)&&(this.toggle(t),t.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36((0,s.Gpc)(()=>Og)),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-accordionTab"]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,PA,4),s.Suo(i,MA,4)),2&t){let a;s.iGM(a=s.CRH())&&(r.headerFacet=a),s.iGM(a=s.CRH())&&(r.templates=a)}},hostAttrs:[1,"p-element"],inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:FA,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(t,r){1&t&&(s.F$t(uN),s.TgZ(0,"div",0)(1,"div",1)(2,"a",2),s.NdJ("click",function(a){return r.toggle(a)})("keydown",function(a){return r.onKeydown(a)}),s._UZ(3,"span",3),s.YNc(4,OA,2,1,"span",4),s.YNc(5,RA,1,0,"ng-container",5),s.YNc(6,lN,1,0,"ng-content",6),s.qZA()(),s.TgZ(7,"div",7)(8,"div",8),s.Hsn(9),s.YNc(10,RC,2,1,"ng-container",6),s.qZA()()()),2&t&&(s.Q6J("ngClass",s.VKq(15,Tl,r.selected)),s.xp6(1),s.Q6J("ngClass",s.WLB(17,bv,r.selected,r.disabled)),s.xp6(1),s.uIk("tabindex",r.disabled?null:0)("id",r.id)("aria-controls",r.id+"-content")("aria-expanded",r.selected),s.xp6(1),s.Q6J("ngClass",r.selected?r.accordion.collapseIcon:r.accordion.expandIcon),s.xp6(1),s.Q6J("ngIf",!r.hasHeaderFacet),s.xp6(1),s.Q6J("ngTemplateOutlet",r.headerTemplate),s.xp6(1),s.Q6J("ngIf",r.hasHeaderFacet),s.xp6(1),s.Q6J("@tabContent",r.selected?s.VKq(22,NA,s.VKq(20,kg,r.transitionOptions)):s.VKq(26,NC,s.VKq(24,kg,r.transitionOptions))),s.uIk("id",r.id+"-content")("aria-hidden",!r.selected)("aria-labelledby",r.id),s.xp6(3),s.Q6J("ngIf",r.contentTemplate&&(r.cache?r.loaded:r.selected)))},dependencies:[On,jn,Ys],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active>.p-toggleable-content:not(.ng-animating){overflow:inherit}\n"],encapsulation:2,data:{animation:[rh("tabContent",[$o("hidden",Ls({height:"0"})),$o("visible",Ls({height:"*"})),Wu("visible <=> hidden",[ei("{{transitionParams}}")]),Wu("void => *",ei(0))])]},changeDetection:0}),n})(),Og=(()=>{class n{constructor(t,r){this.el=t,this.changeDetector=r,this.onClose=new s.vpe,this.onOpen=new s.vpe,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new s.vpe,this.tabs=[]}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(t=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let t=0;t<this.tabs.length;t++){let r=this.multiple?this._activeIndex.includes(t):t===this._activeIndex;r!==this.tabs[t].selected&&(this.tabs[t].selected=r,this.tabs[t].selectedChange.emit(r),this.tabs[t].changeDetector.markForCheck())}}updateActiveIndex(){let t=this.multiple?[]:null;this.tabs.forEach((r,i)=>{if(r.selected){if(!this.multiple)return void(t=i);t.push(i)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(t)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-accordion"]],contentQueries:function(t,r,i){if(1&t&&s.Suo(i,FC,4),2&t){let a;s.iGM(a=s.CRH())&&(r.tabList=a)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:_p,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngClass","p-accordion p-component")("ngStyle",r.style))},dependencies:[On,So],encapsulation:2,changeDetection:0}),n})(),Cv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$l,kA]}),n})();var er=p(8996),Il=p(9751);const{isArray:_h}=Array,{getPrototypeOf:Ev,prototype:LC,keys:VA}=Object;function Rg(n){if(1===n.length){const e=n[0];if(_h(e))return{args:e,keys:null};if(function BA(n){return n&&"object"==typeof n&&Ev(n)===LC}(e)){const t=VA(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var vp=p(8421),ad=p(7669),ti=p(5403),Zt=p(4004);const{isArray:UA}=Array;function Ng(n){return(0,Zt.U)(e=>function VC(n,e){return UA(e)?n(...e):n(e)}(n,e))}function Sv(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let BC=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),ld=(()=>{class n extends BC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const xa=new s.OlP("NgValueAccessor"),HC={provide:xa,useExisting:(0,s.Gpc)(()=>wp),multi:!0},HA=new s.OlP("CompositionEventMode");let wp=(()=>{class n extends BC{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jC(){const n=w()?w().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(HA,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&s.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[s._Bn([HC]),s.qOj]}),n})();const Mi=new s.OlP("NgValidators"),fc=new s.OlP("NgAsyncValidators");function $C(n){return null!=n}function zC(n){return(0,s.QGY)(n)?(0,er.D)(n):n}function Pv(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Bg(n,e){return e.map(t=>t(n))}function GA(n){return n.map(e=>function qC(n){return!n.validate}(e)?e:t=>e.validate(t))}function kv(n){return null!=n?function Mv(n){if(!n)return null;const e=n.filter($C);return 0==e.length?null:function(t){return Pv(Bg(t,e))}}(GA(n)):null}function Rv(n){return null!=n?function Ov(n){if(!n)return null;const e=n.filter($C);return 0==e.length?null:function(t){return function Tv(...n){const e=(0,ad.jO)(n),{args:t,keys:r}=Rg(n),i=new Il.y(a=>{const{length:u}=t;if(!u)return void a.complete();const m=new Array(u);let y=u,E=u;for(let F=0;F<u;F++){let q=!1;(0,vp.Xf)(t[F]).subscribe((0,ti.x)(a,oe=>{q||(q=!0,E--),m[F]=oe},()=>y--,void 0,()=>{(!y||!q)&&(E||a.next(r?Sv(r,m):m),a.complete())}))}});return e?i.pipe(Ng(e)):i}(Bg(t,e).map(zC)).pipe((0,Zt.U)(Pv))}}(GA(n)):null}function WC(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ug(n){return n?Array.isArray(n)?n:[n]:[]}function Hg(n,e){return Array.isArray(n)?n.includes(e):n===e}function KC(n,e){const t=Ug(e);return Ug(n).forEach(i=>{Hg(t,i)||t.push(i)}),t}function YC(n,e){return Ug(e).filter(t=>!Hg(n,t))}class QC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Rv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Zi extends QC{get formDirective(){return null}get path(){return null}}class nu extends QC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Sp=(()=>{class n extends class JC{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(nu,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[s.qOj]}),n})();const qg="VALID",Wg="INVALID",cd="PENDING",Zg="DISABLED";function ud(n){return Array.isArray(n)?kv(n):n||null}function Vv(n){return Array.isArray(n)?Rv(n):n||null}function dd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function bh(n,e){(function Ip(n,e){const t=function Qo(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(WC(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function ZC(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(WC(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ch(e._rawValidators,i),Ch(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function _N(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Hv(n,e)})}(n,e),function rE(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Eh(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Hv(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function yN(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ch(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Hv(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ey(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ty(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const lE={provide:nu,useExisting:(0,s.Gpc)(()=>hd)},cE=(()=>Promise.resolve())();let hd=(()=>{class n extends nu{constructor(t,r,i,a,u){super(),this._changeDetectorRef=u,this.control=new class extends class nE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ud(this._rawValidators),this._composedAsyncValidatorFn=Vv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===qg}get invalid(){return this.status===Wg}get pending(){return this.status==cd}get disabled(){return this.status===Zg}get enabled(){return this.status!==Zg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ud(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Vv(e)}addValidators(e){this.setValidators(KC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YC(e,this._rawAsyncValidators))}hasValidator(e){return Hg(this._rawValidators,e)}hasAsyncValidator(e){return Hg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=cd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qg||this.status===cd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zg:qg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=cd,this._hasOwnPendingAsyncValidator=!0;const t=zC(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Zg:this.errors?Wg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cd)?cd:this._anyControlsHaveStatus(Wg)?Wg:qg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,r){super(function Fv(n){return(dd(n)?n.validators:n)||null}(t),function Lv(n,e){return(dd(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ty(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ey(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ey(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ty(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new s.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function sE(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===wp?t=a:function iE(n){return Object.getPrototypeOf(n.constructor)===ld}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Dp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){cE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,s.D6c)(r);cE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Kg(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Zi,9),s.Y36(Mi,10),s.Y36(fc,10),s.Y36(xa,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([lE]),s.qOj,s.TTD]}),n})();const TN={provide:xa,useExisting:(0,s.Gpc)(()=>uE),multi:!0};let sD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),IN=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:sD}),n})(),uE=(()=>{class n extends ld{constructor(t,r,i,a){super(t,r),this._registry=i,this._injector=a,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(nu),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(IN),s.Y36(s.zs3))},n.\u0275dir=s.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[s._Bn([TN]),s.qOj]}),n})();const mE={provide:xa,useExisting:(0,s.Gpc)(()=>fd),multi:!0};function gE(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let fd=(()=>{class n extends ld{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=gE(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function cD(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([mE]),s.qOj]}),n})(),pd=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(gE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(fd,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const zv={provide:xa,useExisting:(0,s.Gpc)(()=>ny),multi:!0};function md(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ny=(()=>{class n extends ld{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,u)=>{a._setSelected(i.indexOf(u.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const u=a;for(let m=0;m<u.length;m++){const E=this._getOptionValue(u[m].value);i.push(E)}}else{const u=r.options;for(let m=0;m<u.length;m++){const y=u[m];if(y.selected){const E=this._getOptionValue(y.value);i.push(E)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function qv(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([zv]),s.qOj]}),n})(),Zv=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(md(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(md(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(ny,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),EE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[sD]}),n})(),hD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[EE]}),n})();function Pt(...n){const e=(0,ad.yG)(n);return(0,er.D)(n,e)}var ou=p(7579);class Jo extends ou.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const oy=(0,p(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Sh=p(4671),Xv=p(9672);function TE(...n){const e=(0,ad.yG)(n),t=(0,ad.jO)(n),{args:r,keys:i}=Rg(n);if(0===r.length)return(0,er.D)([],e);const a=new Il.y(function _D(n,e,t=Sh.y){return r=>{kp(e,()=>{const{length:i}=n,a=new Array(i);let u=i,m=i;for(let y=0;y<i;y++)kp(e,()=>{const E=(0,er.D)(n[y],e);let F=!1;E.subscribe((0,ti.x)(r,q=>{a[y]=q,F||(F=!0,m--),m||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>Sv(i,u):Sh.y));return t?a.pipe(Ng(t)):a}function kp(n,e,t){n?(0,Xv.f)(t,n,e):e()}var gd=p(8189);function IE(...n){return function ay(){return(0,gd.J)(1)}()((0,er.D)(n,(0,ad.yG)(n)))}function ly(n){return new Il.y(e=>{(0,vp.Xf)(n()).subscribe(e)})}var FN=p(9635),cy=p(576);function Th(n,e){const t=(0,cy.m)(n)?n:()=>n,r=i=>i.error(t());return new Il.y(e?i=>e.schedule(r,0,i):r)}var au=p(515),e0=p(727),ni=p(4482);function Ma(){return(0,ni.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ti.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Op extends Il.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ni.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new e0.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ti.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=e0.w0.EMPTY)}return e}refCount(){return Ma()(this)}}function Ir(n,e){return(0,ni.e)((t,r)=>{let i=null,a=0,u=!1;const m=()=>u&&!i&&r.complete();t.subscribe((0,ti.x)(r,y=>{i?.unsubscribe();let E=0;const F=a++;(0,vp.Xf)(n(y,F)).subscribe(i=(0,ti.x)(r,q=>r.next(e?e(y,q,F,E++):q),()=>{i=null,m()}))},()=>{u=!0,m()}))})}function gc(n){return n<=0?()=>au.E:(0,ni.e)((e,t)=>{let r=0;e.subscribe((0,ti.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function uy(...n){const e=(0,ad.yG)(n);return(0,ni.e)((t,r)=>{(e?IE(n,t,e):IE(n,t)).subscribe(r)})}function co(n,e){return(0,ni.e)((t,r)=>{let i=0;t.subscribe((0,ti.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Ki=p(5577);function dy(n){return(0,ni.e)((e,t)=>{let r=!1;e.subscribe((0,ti.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function AE(n=Rp){return(0,ni.e)((e,t)=>{let r=!1;e.subscribe((0,ti.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Rp(){return new oy}function yc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?co((i,a)=>n(i,a,r)):Sh.y,gc(1),t?dy(e):AE(()=>new oy))}function Ih(n,e){return(0,cy.m)(e)?(0,Ki.z)(n,e,1):(0,Ki.z)(n,1)}var Yi=p(8505);function yd(n){return(0,ni.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,ti.x)(t,void 0,void 0,u=>{a=(0,vp.Xf)(n(u,yd(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function vD(n,e,t,r,i){return(a,u)=>{let m=t,y=e,E=0;a.subscribe((0,ti.x)(u,F=>{const q=E++;y=m?n(y,F,q):(m=!0,F),r&&u.next(y)},i&&(()=>{m&&u.next(y),u.complete()})))}}function _d(n,e){return(0,ni.e)(vD(n,e,arguments.length>=2,!0))}function t0(n){return n<=0?()=>au.E:(0,ni.e)((e,t)=>{let r=[];e.subscribe((0,ti.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function n0(n,e){const t=arguments.length>=2;return r=>r.pipe(n?co((i,a)=>n(i,a,r)):Sh.y,t0(1),t?dy(e):AE(()=>new oy))}function Np(n){return(0,ni.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const An="primary",Fp=Symbol("RouteTitle");class bD{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ah(n){return new bD(n)}function CD(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],m=n[a];if(u.startsWith(":"))i[u.substring(1)]=m;else if(u!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function uo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!lu(n[i],e[i]))return!1;return!0}function lu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function SD(n){return Array.prototype.concat.apply([],n)}function Dh(n){return n.length>0?n[n.length-1]:null}function ki(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Dl(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,er.D)(Promise.resolve(n)):Pt(n)}const Lp={exact:function ho(n,e,t){if(!ea(n.segments,e.segments)||!_c(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ho(n.children[r],e.children[r],t))return!1;return!0},subset:vd},Oi={exact:function hy(n,e){return uo(n,e)},subset:function o0(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lu(n[t],e[t]))},ignored:()=>!0};function cu(n,e,t){return Lp[t.paths](n.root,e.root,t.matrixParams)&&Oi[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function vd(n,e,t){return wd(n,e,e.segments,t)}function wd(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ea(i,t)||e.hasChildren()||!_c(i,t,r))}if(n.segments.length===t.length){if(!ea(n.segments,t)||!_c(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!vd(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(ea(n.segments,i)&&_c(n.segments,i,r)&&n.children[An])&&wd(n.children[An],e,a,r)}}function _c(n,e,t){return e.every((r,i)=>Oi[t](n[i].parameters,r.parameters))}class Xo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ah(this.queryParams)),this._queryParamMap}toString(){return DE.serialize(this)}}class gn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ki(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vp(this)}}class Pl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ah(this.parameters)),this._parameterMap}toString(){return c0(this)}}function ea(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let a0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new fy},providedIn:"root"}),n})();class fy{parse(e){const t=new AD(e);return new Xo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Mh(e.root,!0)}`,r=function ME(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Bp(t)}=${Bp(i)}`).join("&"):`${Bp(t)}=${Bp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function xE(n){return encodeURI(n)}(e.fragment)}`:""}`}}const DE=new fy;function Vp(n){return n.segments.map(e=>c0(e)).join("/")}function Mh(n,e){if(!n.hasChildren())return Vp(n);if(e){const t=n.children[An]?Mh(n.children[An],!1):"",r=[];return ki(n.children,(i,a)=>{a!==An&&r.push(`${a}:${Mh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ph(n,e){let t=[];return ki(n.children,(r,i)=>{i===An&&(t=t.concat(e(r,i)))}),ki(n.children,(r,i)=>{i!==An&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===An?[Mh(n.children[An],!1)]:[`${i}:${Mh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[An]?`${Vp(n)}/${t[0]}`:`${Vp(n)}/(${t.join("//")})`}}function l0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bp(n){return l0(n).replace(/%3B/gi,";")}function py(n){return l0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function my(n){return decodeURIComponent(n)}function PE(n){return my(n.replace(/\+/g,"%20"))}function c0(n){return`${py(n.path)}${function TD(n){return Object.keys(n).map(e=>`;${py(e)}=${py(n[e])}`).join("")}(n.parameters)}`}const u0=/^[^\/()?;=#]+/;function kh(n){const e=n.match(u0);return e?e[0]:""}const ID=/^[^=?&#]+/,yy=/^[^&#]+/;class AD{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gn([],{}):new gn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[An]=new gn(e,t)),r}parseSegment(){const e=kh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(e),new Pl(my(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=kh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=kh(this.remaining);i&&(r=i,this.capture(r))}e[my(t)]=my(r)}parseQueryParam(e){const t=function gy(n){const e=n.match(ID);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function d0(n){const e=n.match(yy);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=PE(t),a=PE(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new s.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=An);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[An]:new gn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new s.vHH(4011,!1)}}function Oh(n){return n.segments.length>0?new gn([],{[An]:n}):n}function bd(n){const e={};for(const r of Object.keys(n.children)){const a=bd(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function h0(n){if(1===n.numberOfChildren&&n.children[An]){const e=n.children[An];return new gn(n.segments.concat(e.segments),e.children)}return n}(new gn(n.segments,e))}function uu(n){return n instanceof Xo}function OE(n,e,t,r,i){if(0===t.length)return Cd(e.root,e.root,e.root,r,i);const a=function RE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new m0(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const m={};return ki(a.outlets,(y,E)=>{m[E]="string"==typeof y?y.split("/"):y}),[...i,{outlets:m}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((m,y)=>{0==y&&"."===m||(0==y&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,a]},[]);return new m0(t,e,r)}(t);return a.toRoot()?Cd(e.root,e.root,new gn([],{}),r,i):function u(y){const E=function g0(n,e,t,r){if(n.isAbsolute)return new Ed(e.root,!0,0);if(-1===r)return new Ed(t,t===e.root,0);return function jp(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new s.vHH(4005,!1);i=r.segments.length}return new Ed(r,!1,i-a)}(t,r+(Hp(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),F=E.processChildren?Nh(E.segmentGroup,E.index,a.commands):_y(E.segmentGroup,E.index,a.commands);return Cd(e.root,E.segmentGroup,F,r,i)}(n.snapshot?._lastPathIndex)}function Hp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Rh(n){return"object"==typeof n&&null!=n&&n.outlets}function Cd(n,e,t,r,i){let u,a={};r&&ki(r,(y,E)=>{a[E]=Array.isArray(y)?y.map(F=>`${F}`):`${y}`}),u=n===e?t:p0(n,e,t);const m=Oh(bd(u));return new Xo(m,a,i)}function p0(n,e,t){const r={};return ki(n.children,(i,a)=>{r[a]=i===e?t:p0(i,e,t)}),new gn(n.segments,r)}class m0{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Hp(r[0]))throw new s.vHH(4003,!1);const i=r.find(Rh);if(i&&i!==Dh(r))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ed{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function _y(n,e,t){if(n||(n=new gn([],{})),0===n.segments.length&&n.hasChildren())return Nh(n,e,t);const r=function FE(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],m=t[r];if(Rh(m))break;const y=`${m}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&E&&"object"==typeof E&&void 0===E.outlets){if(!v0(y,E,u))return a;r+=2}else{if(!v0(y,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new gn(n.segments.slice(0,r.pathIndex),{});return a.children[An]=new gn(n.segments.slice(r.pathIndex),n.children),Nh(a,0,i)}return r.match&&0===i.length?new gn(n.segments,{}):r.match&&!n.hasChildren()?vy(n,e,t):r.match?Nh(n,0,i):vy(n,e,t)}function Nh(n,e,t){if(0===t.length)return new gn(n.segments,{});{const r=function y0(n){return Rh(n[0])?n[0].outlets:{[An]:n}}(t),i={};return ki(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=_y(n.children[u],e,a))}),ki(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new gn(n.segments,i)}}function vy(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Rh(a)){const y=LE(a.outlets);return new gn(r,y)}if(0===i&&Hp(t[0])){r.push(new Pl(n.segments[e].path,_0(t[0]))),i++;continue}const u=Rh(a)?a.outlets[An]:`${a}`,m=i<t.length-1?t[i+1]:null;u&&m&&Hp(m)?(r.push(new Pl(u,_0(m))),i+=2):(r.push(new Pl(u,{})),i++)}return new gn(r,{})}function LE(n){const e={};return ki(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=vy(new gn([],{}),0,t))}),e}function _0(n){const e={};return ki(n,(t,r)=>e[r]=`${t}`),e}function v0(n,e,t){return n==t.path&&uo(e,t.parameters)}class du{constructor(e,t){this.id=e,this.url=t}}class w0 extends du{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sd extends du{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gp extends du{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class VE extends du{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ci extends du{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BE extends du{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xD extends du{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class PD extends du{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UE extends du{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MD{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HE{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jE{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fh{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kD{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OD{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b0{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class C0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=GE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=GE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=wy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wy(e,this._root).map(t=>t.value)}}function GE(n,e){if(n===e.value)return e;for(const t of e.children){const r=GE(n,t);if(r)return r}return null}function wy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=wy(n,t);if(r.length)return r.unshift(e),r}return[]}class ka{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function vs(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class $E extends C0{constructor(e,t){super(e),this.snapshot=t,S0(this,e)}toString(){return this.snapshot.toString()}}function E0(n,e){const t=function Ml(n,e){const u=new $p([],{},{},"",{},An,e,null,n.root,-1,{});return new qE("",new ka(u,[]))}(n,e),r=new Jo([new Pl("",{})]),i=new Jo({}),a=new Jo({}),u=new Jo({}),m=new Jo(""),y=new Zr(r,i,u,m,a,An,e,t.root);return y.snapshot=t.root,new $E(new ka(y,[]),t)}class Zr{constructor(e,t,r,i,a,u,m,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=m,this.title=this.data?.pipe((0,Zt.U)(E=>E[Fp]))??Pt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Zt.U)(e=>Ah(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Zt.U)(e=>Ah(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ta(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function zE(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class $p{constructor(e,t,r,i,a,u,m,y,E,F,q,oe){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=m,this.title=this.data?.[Fp],this.routeConfig=y,this._urlSegment=E,this._lastPathIndex=F,this._correctedLastPathIndex=oe??F,this._resolve=q}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ah(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ah(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qE extends C0{constructor(e,t){super(t),this.url=e,S0(this,t)}toString(){return WE(this._root)}}function S0(n,e){e.value._routerState=n,e.children.forEach(t=>S0(n,t))}function WE(n){const e=n.children.length>0?` { ${n.children.map(WE).join(", ")} } `:"";return`${n.value}${e}`}function T0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,uo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),uo(e.params,t.params)||n.params.next(t.params),function ED(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!uo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),uo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zp(n,e){const t=uo(n.params,e.params)&&function xh(n,e){return ea(n,e)&&n.every((t,r)=>uo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||zp(n.parent,e.parent))}function Wp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function ZE(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wp(n,r,i);return Wp(n,r)})}(n,e,t);return new ka(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(m=>Wp(n,m)),u}}const r=function ND(n){return new Zr(new Jo(n.url),new Jo(n.params),new Jo(n.queryParams),new Jo(n.fragment),new Jo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Wp(n,a));return new ka(r,i)}}const by="ngNavigationCancelingError";function I0(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=uu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Zp(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Zp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[by]=!0,r.cancellationCode=e,t&&(r.url=t),r}function KE(n){return A0(n)&&uu(n.url)}function A0(n){return n&&n[by]}class YE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Td,this.attachRef=null}}let Td=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new YE,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Id=!1;let Kp=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=i||An,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,Id);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,Id);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,Id);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new s.vHH(4013,Id);this._activatedRoute=t;const i=this.location,u=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,y=new QE(t,m,i.injector);if(r&&function JE(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(u);this.activated=i.createComponent(E,i.length,y)}else this.activated=i.createComponent(u,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Td),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class QE{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Zr?this.route:e===Td?this.childContexts:this.parent.get(e,t)}}let Cy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")},dependencies:[Kp],encapsulation:2}),n})();function D0(n,e){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function P0(n){const e=n.children&&n.children.map(P0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==An&&(t.component=Cy),t}function na(n){return n.outlet||An}function XE(n,e){const t=n.filter(r=>na(r)===e);return t.push(...n.filter(r=>na(r)!==e)),t}function Yp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class GD{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),T0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=vs(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),ki(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=vs(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=vs(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=vs(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new OD(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Fh(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(T0(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(m.contexts),u.attachRef=m.componentRef,u.route=m.route.value,u.outlet&&u.outlet.attach(m.componentRef,m.route.value),T0(m.route.value),this.activateChildRoutes(e,null,u.children)}else{const m=Yp(i.snapshot),y=m?.get(s._Vd)??null;u.attachRef=null,u.route=i,u.resolver=y,u.injector=m,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class eS{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ey{constructor(e,t){this.component=e,this.route=t}}function $D(n,e,t){const r=n._root;return Qp(r,e?e._root:null,t,[r.value])}function Lh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,s.Z0I)(n)?e.get(n):n:r}function Qp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=vs(e);return n.children.forEach(u=>{(function qD(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const y=function tS(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ea(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ea(n.url,e.url)||!uo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zp(n,e)||!uo(n.queryParams,e.queryParams);default:return!zp(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new eS(r)):(a.data=u.data,a._resolvedData=u._resolvedData),Qp(n,e,a.component?m?m.children:null:t,r,i),y&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new Ey(m.outlet.component,u))}else u&&Vh(e,m,i),i.canActivateChecks.push(new eS(r)),Qp(n,null,a.component?m?m.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),ki(a,(u,m)=>Vh(u,t.getContext(m),i)),i}function Vh(n,e,t){const r=vs(n),i=n.value;ki(r,(a,u)=>{Vh(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ey(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Bh(n){return"function"==typeof n}function vc(n){return n instanceof oy||"EmptyError"===n?.name}const Sy=Symbol("INITIAL_VALUE");function Uh(){return Ir(n=>TE(n.map(e=>e.pipe(gc(1),uy(Sy)))).pipe((0,Zt.U)(e=>{for(const t of e)if(!0!==t){if(t===Sy)return Sy;if(!1===t||t instanceof Xo)return t}return!0}),co(e=>e!==Sy),gc(1)))}function dS(n){return(0,FN.z)((0,Yi.b)(e=>{if(uu(e))throw I0(0,e)}),(0,Zt.U)(e=>!0===e))}const hu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hS(n,e,t,r,i){const a=jh(n,e,t);return a.matched?function KD(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Pt(i.map(u=>{const m=Lh(u,n);return Dl(function aS(n){return n&&Bh(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Uh(),dS()):Pt(!0)}(r=D0(e,r),e,t).pipe((0,Zt.U)(u=>!0===u?a:{...hu})):Pt(a)}function jh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...hu}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||CD)(t,n,e);if(!i)return{...hu};const a={};ki(i.posParams,(m,y)=>{a[y]=m.path});const u=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Ad(n,e,t,r,i="corrected"){if(t.length>0&&function fS(n,e,t){return t.some(r=>Ty(n,e,r)&&na(r)!==An)}(n,t,r)){const u=new gn(e,function jN(n,e,t,r){const i={};i[An]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&na(a)!==An){const u=new gn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[na(a)]=u}return i}(n,e,r,new gn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function pS(n,e,t){return t.some(r=>Ty(n,e,r))}(n,t,r)){const u=new gn(n.segments,function Br(n,e,t,r,i,a){const u={};for(const m of r)if(Ty(n,t,m)&&!i[na(m)]){const y=new gn([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[na(m)]=y}return{...i,...u}}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new gn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Ty(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function k0(n,e,t,r){return!!(na(n)===r||r!==An&&Ty(e,t,n))&&("**"===n.path||jh(e,n,t).matched)}function O0(n,e,t){return 0===e.length&&!n.children[t]}const Jp=!1;class Xp{constructor(e){this.segmentGroup=e||null}}class mS{constructor(e){this.urlTree=e}}function em(n){return Th(new Xp(n))}function gS(n){return Th(new mS(n))}class JD{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Ad(this.urlTree.root,[],[],this.config).segmentGroup,t=new gn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,An).pipe((0,Zt.U)(a=>this.createUrlTree(bd(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yd(a=>{if(a instanceof mS)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Xp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,An).pipe((0,Zt.U)(i=>this.createUrlTree(bd(i),e.queryParams,e.fragment))).pipe(yd(i=>{throw i instanceof Xp?this.noMatchError(i):i}))}noMatchError(e){return new s.vHH(4002,Jp)}createUrlTree(e,t,r){const i=Oh(e);return new Xo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Zt.U)(a=>new gn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,er.D)(i).pipe(Ih(a=>{const u=r.children[a],m=XE(t,a);return this.expandSegmentGroup(e,m,u,a).pipe((0,Zt.U)(y=>({segment:y,outlet:a})))}),_d((a,u)=>(a[u.outlet]=u.segment,a),{}),n0())}expandSegment(e,t,r,i,a,u){return(0,er.D)(r).pipe(Ih(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,a,u).pipe(yd(E=>{if(E instanceof Xp)return Pt(null);throw E}))),yc(m=>!!m),yd((m,y)=>{if(vc(m))return O0(t,i,a)?Pt(new gn([],{})):em(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,a,u,m){return k0(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):em(t):em(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?gS(a):this.lineralizeSegments(r,a).pipe((0,Ki.z)(u=>{const m=new gn(u,{});return this.expandSegment(e,m,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:m,consumedSegments:y,remainingSegments:E,positionalParamSegments:F}=jh(t,i,a);if(!m)return em(t);const q=this.applyRedirectCommands(y,i.redirectTo,F);return i.redirectTo.startsWith("/")?gS(q):this.lineralizeSegments(i,q).pipe((0,Ki.z)(oe=>this.expandSegment(e,t,r,oe.concat(E),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=D0(r,e),r.loadChildren?(r._loadedRoutes?Pt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Zt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new gn(i,{})))):Pt(new gn(i,{}))):hS(t,r,i,e).pipe(Ir(({matched:u,consumedSegments:m,remainingSegments:y})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ki.z)(F=>{const q=F.injector??e,oe=F.routes,{segmentGroup:pe,slicedSegments:we}=Ad(t,m,y,oe),Me=new gn(pe.segments,pe.children);if(0===we.length&&Me.hasChildren())return this.expandChildren(q,oe,Me).pipe((0,Zt.U)(ht=>new gn(m,ht)));if(0===oe.length&&0===we.length)return Pt(new gn(m,{}));const Ve=na(r)===a;return this.expandSegment(q,Me,oe,we,Ve?An:a,!0).pipe((0,Zt.U)(dt=>new gn(m.concat(dt.segments),dt.children)))})):em(t)))}getChildConfig(e,t,r){return t.children?Pt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Pt({routes:t._loadedRoutes,injector:t._loadedInjector}):function ZD(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Pt(!0):Pt(i.map(u=>{const m=Lh(u,n);return Dl(function rS(n){return n&&Bh(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Uh(),dS())}(e,t,r).pipe((0,Ki.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Yi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function YD(n){return Th(Zp(Jp,3))}())):Pt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Pt(r);if(i.numberOfChildren>1||!i.children[An])return Th(new s.vHH(4e3,Jp));i=i.children[An]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Xo(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ki(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[a]=t[m]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return ki(t.children,(m,y)=>{u[y]=this.createSegmentGroup(e,m,r,i)}),new gn(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new s.vHH(4001,Jp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class yS{}class rm{constructor(e,t,r,i,a,u,m,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=m,this.urlSerializer=y}recognize(){const e=Ad(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,An).pipe((0,Zt.U)(t=>{if(null===t)return null;const r=new $p([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},An,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ka(r,t),a=new qE(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=ta(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,er.D)(Object.keys(r.children)).pipe(Ih(i=>{const a=r.children[i],u=XE(t,i);return this.processSegmentGroup(e,u,a,i)}),_d((i,a)=>i&&a?(i.push(...a),i):null),function r0(n,e=!1){return(0,ni.e)((t,r)=>{let i=0;t.subscribe((0,ti.x)(r,a=>{const u=n(a,i++);(u||e)&&r.next(a),!u&&r.complete()}))})}(i=>null!==i),dy(null),n0(),(0,Zt.U)(i=>{if(null===i)return null;const a=vS(i);return function im(n){n.sort((e,t)=>e.value.outlet===An?-1:t.value.outlet===An?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,er.D)(t).pipe(Ih(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,a)),yc(u=>!!u),yd(u=>{if(vc(u))return O0(r,i,a)?Pt([]):Pt(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!k0(t,r,i,a))return Pt(null);let u;if("**"===t.path){const m=i.length>0?Dh(i).parameters:{},y=N0(r)+i.length;u=Pt({snapshot:new $p(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F0(t),na(t),t.component??t._loadedComponent??null,t,R0(r),y,CS(t),y),consumedSegments:[],remainingSegments:[]})}else u=hS(r,t,i,e).pipe((0,Zt.U)(({matched:m,consumedSegments:y,remainingSegments:E,parameters:F})=>{if(!m)return null;const q=N0(r)+y.length;return{snapshot:new $p(y,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F0(t),na(t),t.component??t._loadedComponent??null,t,R0(r),q,CS(t),q),consumedSegments:y,remainingSegments:E}}));return u.pipe(Ir(m=>{if(null===m)return Pt(null);const{snapshot:y,consumedSegments:E,remainingSegments:F}=m;e=t._injector??e;const q=t._loadedInjector??e,oe=function ex(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:pe,slicedSegments:we}=Ad(r,E,F,oe.filter(Ve=>void 0===Ve.redirectTo),this.relativeLinkResolution);if(0===we.length&&pe.hasChildren())return this.processChildren(q,oe,pe).pipe((0,Zt.U)(Ve=>null===Ve?null:[new ka(y,Ve)]));if(0===oe.length&&0===we.length)return Pt([new ka(y,[])]);const Me=na(t)===a;return this.processSegment(q,oe,pe,we,Me?An:a).pipe((0,Zt.U)(Ve=>null===Ve?null:[new ka(y,Ve)]))}))}}function tx(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vS(n){const e=[],t=new Set;for(const r of n){if(!tx(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=vS(r.children);e.push(new ka(r.value,i))}return e.filter(r=>!t.has(r))}function R0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function N0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function F0(n){return n.data||{}}function CS(n){return n.resolve||{}}function sm(n){return"string"==typeof n.title||null===n.title}function L0(n){return Ir(e=>{const t=n(e);return t?(0,er.D)(t).pipe((0,Zt.U)(()=>e)):Pt(e)})}let SS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===An);return r}getResolvedTitleForRoute(t){return t.data[Fp]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(V0)},providedIn:"root"}),n})(),V0=(()=>{class n extends SS{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ns))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rx{}class sx extends class ix{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Dy=new s.OlP("",{providedIn:"root",factory:()=>({})}),U0=new s.OlP("ROUTES");let H0=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Pt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Dl(t.loadComponent()).pipe((0,Yi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Np(()=>{this.componentLoaders.delete(t)})),i=new Op(r,()=>new ou.x).pipe(Ma());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Pt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Zt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,E,F=!1;Array.isArray(m)?E=m:(y=m.create(t).injector,E=SD(y.get(U0,[],s.XFs.Self|s.XFs.Optional)));return{routes:E.map(P0),injector:y}}),Np(()=>{this.childrenLoaders.delete(r)})),u=new Op(a,()=>new ou.x).pipe(Ma());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return Dl(t()).pipe((0,Ki.z)(r=>r instanceof s.YKP||Array.isArray(r)?Pt(r):(0,er.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class om{}class ax{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function lx(n){throw n}function TS(n,e,t){return e.parse("/")}const cx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function xy(){const n=(0,s.f3M)(a0),e=(0,s.f3M)(Td),t=(0,s.f3M)(ne),r=(0,s.f3M)(s.zs3),i=(0,s.f3M)(s.Sil),a=(0,s.f3M)(U0,{optional:!0})??[],u=(0,s.f3M)(Dy,{optional:!0})??{},m=(0,s.f3M)(V0),y=(0,s.f3M)(SS,{optional:!0}),E=(0,s.f3M)(om,{optional:!0}),F=(0,s.f3M)(rx,{optional:!0}),q=new ui(null,n,e,t,r,i,SD(a));return E&&(q.urlHandlingStrategy=E),F&&(q.routeReuseStrategy=F),q.titleStrategy=y??m,function ux(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,q),q}let ui=(()=>{class n{constructor(t,r,i,a,u,m,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ou.x,this.errorHandler=lx,this.malformedUriErrorHandler=TS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Pt(void 0),this.urlHandlingStrategy=new ax,this.routeReuseStrategy=new sx,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(H0),this.configLoader.onLoadEndListener=oe=>this.triggerEvent(new HE(oe)),this.configLoader.onLoadStartListener=oe=>this.triggerEvent(new MD(oe)),this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const q=u.get(s.R0b);this.isNgZoneEnabled=q instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function xl(){return new Xo(new gn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=E0(this.currentUrlTree,this.rootComponentType),this.transitions=new Jo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(co(i=>0!==i.id),(0,Zt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ir(i=>{let a=!1,u=!1;return Pt(i).pipe((0,Yi.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ir(m=>{const y=this.browserUrlTree.toString(),E=!this.navigated||m.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return j0(m.source)&&(this.browserUrlTree=m.extractedUrl),Pt(m).pipe(Ir(q=>{const oe=this.transitions.getValue();return r.next(new w0(q.id,this.serializeUrl(q.extractedUrl),q.source,q.restoredState)),oe!==this.transitions.getValue()?au.E:Promise.resolve(q)}),function Iy(n,e,t,r){return Ir(i=>function QD(n,e,t,r,i){return new JD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Zt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yi.b)(q=>{this.currentNavigation={...this.currentNavigation,finalUrl:q.urlAfterRedirects},i.urlAfterRedirects=q.urlAfterRedirects}),function nx(n,e,t,r,i,a){return(0,Ki.z)(u=>function XD(n,e,t,r,i,a,u="emptyOnly",m="legacy"){return new rm(n,e,t,r,i,u,m,a).recognize().pipe(Ir(y=>null===y?function _S(n){return new Il.y(e=>e.error(n))}(new yS):Pt(y)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,a).pipe((0,Zt.U)(m=>({...u,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yi.b)(q=>{if(i.targetSnapshot=q.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!q.extras.skipLocationChange){const pe=this.urlHandlingStrategy.merge(q.urlAfterRedirects,q.rawUrl);this.setBrowserUrl(pe,q)}this.browserUrlTree=q.urlAfterRedirects}const oe=new ci(q.id,this.serializeUrl(q.extractedUrl),this.serializeUrl(q.urlAfterRedirects),q.targetSnapshot);r.next(oe)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:oe,extractedUrl:pe,source:we,restoredState:Me,extras:Ve}=m,rt=new w0(oe,this.serializeUrl(pe),we,Me);r.next(rt);const dt=E0(pe,this.rootComponentType).snapshot;return Pt(i={...m,targetSnapshot:dt,urlAfterRedirects:pe,extras:{...Ve,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),au.E}),(0,Yi.b)(m=>{const y=new BE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(y)}),(0,Zt.U)(m=>i={...m,guards:$D(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function Hh(n,e){return(0,Ki.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?Pt({...t,guardsResult:!0}):function BN(n,e,t,r){return(0,er.D)(n).pipe((0,Ki.z)(i=>function Jt(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Pt(a.map(m=>{const y=Yp(e)??i,E=Lh(m,y);return Dl(function oS(n){return n&&Bh(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):y.runInContext(()=>E(n,e,t,r))).pipe(yc())})).pipe(Uh()):Pt(!0)}(i.component,i.route,t,e,r)),yc(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Ki.z)(m=>m&&function nS(n){return"boolean"==typeof n}(m)?function M0(n,e,t,r){return(0,er.D)(e).pipe(Ih(i=>IE(function cS(n,e){return null!==n&&e&&e(new jE(n)),Pt(!0)}(i.route.parent,r),function UN(n,e){return null!==n&&e&&e(new kD(n)),Pt(!0)}(i.route,r),function HN(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function zD(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>ly(()=>Pt(u.guards.map(y=>{const E=Yp(u.node)??t,F=Lh(y,E);return Dl(function sS(n){return n&&Bh(n.canActivateChild)}(F)?F.canActivateChild(r,n):E.runInContext(()=>F(r,n))).pipe(yc())})).pipe(Uh())));return Pt(a).pipe(Uh())}(n,i.path,t),function uS(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Pt(!0);const i=r.map(a=>ly(()=>{const u=Yp(e)??t,m=Lh(a,u);return Dl(function iS(n){return n&&Bh(n.canActivate)}(m)?m.canActivate(e,n):u.runInContext(()=>m(e,n))).pipe(yc())}));return Pt(i).pipe(Uh())}(n,i.route,t))),yc(i=>!0!==i,!0))}(r,a,n,e):Pt(m)),(0,Zt.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Yi.b)(m=>{if(i.guardsResult=m.guardsResult,uu(m.guardsResult))throw I0(0,m.guardsResult);const y=new xD(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(y)}),co(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),L0(m=>{if(m.guards.canActivateChecks.length)return Pt(m).pipe((0,Yi.b)(y=>{const E=new PD(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),Ir(y=>{let E=!1;return Pt(y).pipe(function GN(n,e){return(0,Ki.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Pt(t);let a=0;return(0,er.D)(i).pipe(Ih(u=>function $N(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!sm(i)&&(a[Fp]=i.title),function zN(n,e,t,r){const i=function qN(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Pt({});const a={};return(0,er.D)(i).pipe((0,Ki.z)(u=>function ES(n,e,t,r){const i=Yp(e)??r,a=Lh(n,i);return Dl(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[u],e,t,r).pipe(yc(),(0,Yi.b)(m=>{a[u]=m}))),t0(1),function wD(n){return(0,Zt.U)(()=>n)}(a),yd(u=>vc(u)?au.E:Th(u)))}(a,n,e,r).pipe((0,Zt.U)(u=>(n._resolvedData=u,n.data=ta(n,t).resolve,i&&sm(i)&&(n.data[Fp]=i.title),null)))}(u.route,r,n,e)),(0,Yi.b)(()=>a++),t0(1),(0,Ki.z)(u=>a===i.length?Pt(t):au.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yi.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Yi.b)(y=>{const E=new UE(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}))}),L0(m=>{const y=E=>{const F=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&F.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,Yi.b)(q=>{E.component=q}),(0,Zt.U)(()=>{})));for(const q of E.children)F.push(...y(q));return F};return TE(y(m.targetSnapshot.root)).pipe(dy(),gc(1))}),L0(()=>this.afterPreactivation()),(0,Zt.U)(m=>{const y=function qp(n,e,t){const r=Wp(n,e._root,t?t._root:void 0);return new $E(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return i={...m,targetRouterState:y}}),(0,Yi.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Zt.U)(r=>(new GD(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Yi.b)({next(){a=!0},complete(){a=!0}}),Np(()=>{a||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),yd(m=>{if(u=!0,A0(m)){KE(m)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new Gp(i.id,this.serializeUrl(i.extractedUrl),m.message,m.cancellationCode);if(r.next(y),KE(m)){const E=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),F={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||j0(i.source)};this.scheduleNavigation(E,"imperative",null,F,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new VE(i.id,this.serializeUrl(i.extractedUrl),m,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(m))}catch(E){i.reject(E)}}return au.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const m={...a};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(i.state=m)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(P0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:m,preserveFragment:y}=r,E=i||this.routerState.root,F=y?this.currentUrlTree.fragment:u;let q=null;switch(m){case"merge":q={...this.currentUrlTree.queryParams,...a};break;case"preserve":q=this.currentUrlTree.queryParams;break;default:q=a||null}return null!==q&&(q=this.removeEmptyProps(q)),OE(E,this.currentUrlTree,t,q,F??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=uu(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function AS(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new s.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...cx}:!1===r?{...IS}:r,uu(t))return cu(this.currentUrlTree,t,i);const a=this.parseUrl(t);return cu(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Sd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){if(this.disposed)return Promise.resolve(!1);let m,y,E;u?(m=u.resolve,y=u.reject,E=u.promise):E=new Promise((oe,pe)=>{m=oe,y=pe});const F=++this.navigationId;let q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),q=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):q=0,this.setTransition({id:F,targetPageId:q,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:m,reject:y,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(oe=>Promise.reject(oe))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new Gp(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return xy()},providedIn:"root"}),n})();function j0(n){return"imperative"!==n}let fu=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ou.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,s.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,s.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,s.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(ui),s.Y36(Zr),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&s.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),fo=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ou.x,this.subscription=t.events.subscribe(a=>{a instanceof Sd&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,s.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,s.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,s.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,u){return!!(0!==t||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(ui),s.Y36(Zr),s.Y36(I))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&s.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&s.uIk("target",r.target)("href",r.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),G0=(()=>{class n{constructor(t,r,i,a,u,m){this.router=t,this.element=r,this.renderer=i,this.cdr=a,this.link=u,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=t.events.subscribe(y=>{y instanceof Sd&&this.update()})}ngAfterContentInit(){Pt(this.links.changes,this.linksWithHrefs.changes,Pt(null)).pipe((0,gd.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,er.D)(t).pipe((0,gd.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function $0(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(ui),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(fu,8),s.Y36(fo,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,fu,5),s.Suo(i,fo,5)),2&t){let a;s.iGM(a=s.CRH())&&(r.links=a),s.iGM(a=s.CRH())&&(r.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.TTD]}),n})();class DS{}let hx=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(co(t=>t instanceof Sd),Ih(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,s.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,m=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(m,a.children??a._loadedRoutes))}return(0,er.D)(i).pipe((0,gd.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Pt(null);const a=i.pipe((0,Ki.z)(u=>null===u?Pt(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,er.D)([a,u]).pipe((0,gd.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ui),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(DS),s.LFG(H0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z0=new s.OlP("");let xS=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof w0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof b0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new b0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Gh(n,e){return{\u0275kind:n,\u0275providers:e}}function My(n){return[{provide:U0,multi:!0,useValue:n}]}function MS(){const n=(0,s.f3M)(s.zs3);return e=>{const t=n.get(s.z2F);if(e!==t.components[0])return;const r=n.get(ui),i=n.get(kS);1===n.get(ky)&&r.initialNavigation(),n.get(Oy,null,s.XFs.Optional)?.setUpPreloading(),n.get(z0,null,s.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const kS=new s.OlP("",{factory:()=>new ou.x}),ky=new s.OlP("",{providedIn:"root",factory:()=>1});const Oy=new s.OlP("");function q0(n){return Gh(0,[{provide:Oy,useExisting:hx},{provide:DS,useExisting:n}])}const OS=new s.OlP("ROUTER_FORROOT_GUARD"),W0=[ne,{provide:a0,useClass:fy},{provide:ui,useFactory:xy},Td,{provide:Zr,useFactory:function PS(n){return n.routerState.root},deps:[ui]},H0];function _x(){return new s.PXZ("Router",ui)}let Z0=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[W0,[],My(t),{provide:OS,useFactory:YN,deps:[[ui,new s.FiY,new s.tp0]]},{provide:Dy,useValue:r||{}},r?.useHash?{provide:I,useClass:J}:{provide:I,useClass:W},{provide:z0,useFactory:()=>{const n=(0,s.f3M)(ui),e=(0,s.f3M)(Rc),t=(0,s.f3M)(Dy);return t.scrollOffset&&e.setOffset(t.scrollOffset),new xS(n,e,t)}},r?.preloadingStrategy?q0(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:_x},r?.initialNavigation?NS(r):[],[{provide:Ry,useFactory:MS},{provide:s.tb,multi:!0,useExisting:Ry}]]}}static forChild(t){return{ngModule:n,providers:[My(t)]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(OS,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Cy]}),n})();function YN(n){return"guarded"}function NS(n){return["disabled"===n.initialNavigation?Gh(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const e=(0,s.f3M)(ui);return()=>{e.setUpLocationChangeListener()}}},{provide:ky,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gh(2,[{provide:ky,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:e=>{const t=e.get(x,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(ui),m=e.get(kS);(function i(a){e.get(ui).events.pipe(co(m=>m instanceof Sd||m instanceof Gp||m instanceof VE),(0,Zt.U)(m=>m instanceof Sd||m instanceof Gp&&(0===m.code||1===m.code)&&null),co(m=>null!==m),gc(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),u.afterPreactivation=()=>(a(!0),r||m.closed?Pt(void 0):m),u.initialNavigation()}))}}]).\u0275providers:[]]}const Ry=new s.OlP("");let bx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-about-div1"]],decls:7,vars:0,consts:[[1,"about-div1"],[1,"sub-section"],["src","../../assets/about-div1-image.jpeg","alt","about-main"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1"),s._uU(3,"Who are we? "),s.qZA(),s.TgZ(4,"h3"),s._uU(5," FashionGuru focuses on fashionable and sustainable clothing with an affordable price. We are currently working with 2 different suppliers from Europe to provide incredible quality. "),s.qZA()(),s._UZ(6,"img",2),s.qZA())},styles:['.about-div1[_ngcontent-%COMP%]{position:relative;height:45rem;max-width:100%;padding:0 5rem;display:flex;flex-direction:column;align-items:flex-end;justify-content:center;color:#fff;overflow:hidden;transition:1s}.about-div1[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;height:100%;width:100%;background:rgb(255,255,255);background:linear-gradient(90deg,#ffffff00 0%,#00000067 100%)}.about-div1[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(1)}img[_ngcontent-%COMP%]{position:absolute;object-fit:cover;top:0;left:0;height:100%;width:100%;transform:scale(1.05);transition:transform 1s}.sub-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;z-index:2;max-width:35rem}h1[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:400;margin:0;text-shadow:black 0 0 10px}h3[_ngcontent-%COMP%]{font-size:1.5rem;margin:0;font-weight:300;text-shadow:black 0 0 10px}@media only screen and (max-width: 450px){h1[_ngcontent-%COMP%]{font-size:3rem}h3[_ngcontent-%COMP%]{font-size:1.2rem}}']}),n})(),LS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-about-div2"]],decls:8,vars:0,consts:[[1,"about-div2"],[1,"grid"],[1,"text1"],[1,"text2"],[1,"text3"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"p",2),s._uU(3," It's about that upcoming party, the catch up with friends and all the excitement that comes with it. We put our customers at the heart of everything we do. This helps us to understand how they feel when searching for products and ultimately, making sure they feel great when wearing them. "),s.qZA(),s.TgZ(4,"p",3),s._uU(5," By reacting quickly to the latest trends and interpreting them in a way that's wearable for our customers, we can help them find a look that fits their personal style. So whether they're looking for the latest trends, or simply that perfect party dress, we've got it covered. "),s.qZA(),s.TgZ(6,"p",4),s._uU(7," We're passionate about what we do and most importantly, we have fun doing it. Sharing this positivity with our customers is important to us. By weaving our brand through everything we do, from our people and store environments, to marketing and social media, we make sure our customers not only look good but feel great too. "),s.qZA()()())},styles:[".about-div2[_ngcontent-%COMP%]{height:auto;max-width:100%;padding:4rem 3rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(3,1fr);gap:4rem;max-width:60rem}p[_ngcontent-%COMP%]{cursor:default;margin:0;font-size:1.2rem;font-weight:200;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:3rem;transition:.5s ease-in-out}p[_ngcontent-%COMP%]:hover{scale:1.05,}.text1[_ngcontent-%COMP%]{grid-row:1 / 2;grid-column:1 / 4;background-color:#f5a7a7;box-shadow:#5f3232 12px 12px 0 2px}.text1[_ngcontent-%COMP%]:hover{box-shadow:#5f3232b7 18px 18px 5px 2px}.text2[_ngcontent-%COMP%]{grid-row:2 / 3;grid-column:2 / 5;background-color:#fad7b0;box-shadow:#684c2b 12px 12px 0 2px}.text2[_ngcontent-%COMP%]:hover{box-shadow:#684c2bb7 18px 18px 5px 2px}.text3[_ngcontent-%COMP%]{grid-row:3 / 4;grid-column:1 / 4;background-color:#b0d3fa;box-shadow:#2b425c 12px 12px 0 2px}.text3[_ngcontent-%COMP%]:hover{box-shadow:#2b425cb7 18px 18px 5px 2px}@media only screen and (max-width: 750px){.grid[_ngcontent-%COMP%]{display:flex;flex-direction:column}}@media only screen and (max-width: 450px){p[_ngcontent-%COMP%]{font-size:1rem}}"]}),n})(),K0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-about"]],decls:3,vars:0,consts:[[1,"about"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"app-about-div1")(2,"app-about-div2"),s.qZA())},dependencies:[bx,LS],styles:[".about[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;width:100%;cursor:default;margin-top:10px;font-family:Dosis,sans-serif}"]}),n})(),VS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-error-not-found"]],decls:6,vars:0,consts:[[1,"container"],["src","../../assets/7aqcppklh6bexoa70320.webp"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2,"404: Page Not Found"),s.qZA(),s.TgZ(3,"p"),s._uU(4,"The page you are looking for cannot be found or you do not have access to this page."),s.qZA(),s._UZ(5,"img",1),s.qZA())},styles:[".container[_ngcontent-%COMP%]{text-align:center;margin:30px 0;padding:50px;font-family:Dosis,sans-serif}"]}),n})();const BS=function(){return["/Account/Orders"]};let US=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-error-page"]],decls:12,vars:2,consts:[[1,"error-page"],["src","https://cdn.lordicon.com/tdrtiskw.json","trigger","hover",2,"width","250px","height","250px"],[3,"routerLink"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"lord-icon",1),s.TgZ(2,"h2"),s._uU(3,"Something went wrong..."),s.qZA(),s.TgZ(4,"p"),s._uU(5,"Actually, it's all on purpose."),s.qZA(),s.TgZ(6,"p"),s._uU(7,"There's just no checkout on this fake store ;)"),s.qZA(),s.TgZ(8,"p"),s._uU(9,"You can find your ordered products at Account Page"),s.qZA(),s.TgZ(10,"a",2),s._uU(11,"Orders"),s.qZA()()),2&t&&(s.xp6(10),s.Q6J("routerLink",s.DdM(1,BS)))},dependencies:[fo],styles:[".error-page[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;box-sizing:border-box;padding:2rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:2rem;margin:0}p[_ngcontent-%COMP%]{font-size:1rem;margin:0;color:gray}p[_ngcontent-%COMP%]:nth-of-type(1){margin-top:1rem}p[_ngcontent-%COMP%]:nth-of-type(2n){margin-bottom:1rem}a[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.5rem;text-decoration:none;color:#fff;background:#ff613a;width:12rem;padding:.5rem 1rem;text-align:center;transition:.4s;border-radius:6px}a[_ngcontent-%COMP%]:hover{background:#ff896cf4}"]}),n})();const HS=function(){return["/Shop"]};let Cx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-div1"]],decls:10,vars:2,consts:[[1,"section1"],[1,"sub-section"],[3,"routerLink"],[1,"shop-button"],["src","../../assets/home-div1.jpg","alt","home-div1-image"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1"),s._uU(3," Fashion came straight to your doorstep "),s.qZA(),s.TgZ(4,"h3"),s._uU(5," Make yourself a fashionGuru without leaving your home "),s.qZA(),s.TgZ(6,"a",2)(7,"div",3),s._uU(8," Shop Now "),s.qZA()()(),s._UZ(9,"img",4),s.qZA()),2&t&&(s.xp6(6),s.Q6J("routerLink",s.DdM(1,HS)))},dependencies:[fo],styles:['.section1[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;box-sizing:border-box;position:relative;height:45rem;max-width:100%;padding:0 5rem;display:flex;flex-direction:column;align-items:flex-end;justify-content:center;color:#fff;transition:1s;overflow:hidden}.section1[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;height:100%;width:100%;background:#0000006c}img[_ngcontent-%COMP%]{position:absolute;object-fit:cover;top:0;left:0;height:100%;width:100%;transform:scale(1.05);transition:transform 1s}.section1[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(1)}.sub-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;z-index:2;max-width:35rem}a[_ngcontent-%COMP%]{font-weight:400;margin:0;text-decoration:none}h1[_ngcontent-%COMP%]{font-weight:400;margin:0;font-size:3.5rem;text-shadow:black 0 0 15px}h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:300;text-shadow:black 0 0 15px}.shop-button[_ngcontent-%COMP%]{font-weight:400;margin:0;margin-top:1rem;font-size:1.5rem;text-decoration:none;background:white;color:#000;box-shadow:#ff613a 3px 3px 0 1px;width:12rem;padding:.5rem 1rem;text-align:center;transition:.4s}.shop-button[_ngcontent-%COMP%]:hover{background-color:#ffebcd}@media only screen and (max-width: 850px){.section1[_ngcontent-%COMP%]{align-items:center}}']}),n})(),jS=(()=>{class n{constructor(){this.details=[{id:1,description:"A CASUAL TEE FOR EVERYDAY COMFORT.\n            For days on the move or nights on the town, \n            this t-shirt lets everyone know whose team you play for. \n            It's made of soft cotton jersey for all-day comfort. \n            A bold contrast adidas Badge of Sport stands out on the chest.",details:"Regular fit strikes a comfortable balance between loose and snug.\n            Ribbed crewneck.\n            Short sleeves.\n            100% cotton single jersey.\n            Soft feel",care:"Do not bleach.\n            Tumble dry low heat.\n            Do not dry clean.\n            Touch up with warm iron.\n            Machine wash cold"},{id:2,description:"Freshen up your basics with this t-shirt. \n            Show your love for all things sport with a big adidas Badge of Sport \n            that's front and center. Good thing it's designed for everyday wear, \n            because if you're anything like us, you're going to want to reach for it all the time.",details:"Regular fit. \n            Crewneck.\n            100% cotton single jersey. \n            Short sleeves",care:"Do not bleach.\n            Do not tumble dry. \n            Do not dry clean. \n            Touch up with cool iron. \n            Machine wash warm"},{id:3,description:"Put your brand pride on full display. A simple yet versatile look, \n            this long sleeve t-shirt keeps you comfortable while on the move or lounging at home. \n            A contrast adidas Badge of Sport stands out on the chest.",details:"Regular fit strikes a comfortable balance between loose and snug. \n            Ribbed crewneck. \n            Long sleeves with ribbed cuffs. \n            100% cotton single jersey. \n            Soft feel",care:"Do not bleach. \n            Tumble dry low heat. \n            Do not dry clean. \n            Touch up with cool iron. \n            Machine wash cold"},{id:4,description:"The Nike Air T-Shirt is made with our everyday cotton and classic fit \n            for a smooth, familiar feel. The printed graphic combines the Air Futura logo with a \n            top-down landscape view like the one you'd see from an airplane.",details:"The classic fit tee silhouette is relaxed through the body and hips. \n            Everyday cotton fabric feels soft and lightweight. \n            Standard fit for a relaxed, easy feel. \n            100% cotton",care:"Machine wash"},{id:5,description:"This 100% cotton tee is cool and comfy, on and off the court. \n            An easy fit and Jordan graphics on both sides will have you reaching for it on the daily",details:"Jordan Standard fit. \n            Graphics on front and back. \n            100% cotton",care:"Machine wash cold"},{id:6,description:"When it comes to your morning routine, it's hard to top a cool morning run \n            after a warm cup of coffee. Followed by another coffee. This long-sleeve tee celebrates \n            the iconic dawn-time pairing with soft cotton in a relaxed fit for easy comfort, \n            so you can enjoy it wherever the rest of your day takes you.",details:"Ribbed cuffs and collar. \n            100% cotton",care:"Machine wash"},{id:7,description:"Pair this crewneck sweatshirt with anything in your closet for a timeless \n            look that'll never go out of style. The bold adidas Badge of Sport puts your love for \n            adidas heritage at center stage. The cozy fleece keeps you warm whether you're chilling \n            on the couch or hanging out between pickup games.",details:"Regular fit. \n            Crewneck. \n            53% cotton, 36% recycled polyester, 11% viscose fleece. \n            Ribbed cuffs and hem",care:"Do not bleach. \n            Do not tumble dry. \n            Do not dry clean. \n            Touch up with cool iron. \n            Machine wash warm"},{id:8,description:"The outdoors are never far when you have this adidas hoodie on. \n            That is, the camo print on the adidas Badge of Sport keeps the nature vibes close, \n            even if you're tucked inside for some necessary reset time. Though when you're feeling \n            inspired, the soft cozy fleece material keeps you incredibly comfortable when you choose \n            to venture out the door. Plus the loose fit makes it super easy to layer.",details:"Loose fit. \n            Drawcord-adjustable hood. \n            70% cotton, 30% recycled polyester fleece. \n            Kangaroo pocket. \n            Ribbed cuffs and hem",care:"Do not bleach. \n            Do not tumble dry. \n            Do not dry clean. \n            Touch up with warm iron. \n            Machine wash warm"},{id:9,description:"Extend your range on the course in this adidas golf fleece pullover. \n            When the day starts off cold or the afternoon clouds move in, it offers easy-moving \n            warmth that lets you focus on your swing. It's coated with a durable water-repellent \n            finish to keep you dry through misty mornings and an occasional light shower. \n            The relaxed feel plays well off the course too.",details:"Regular fit.\n            Quarter zip with stand-up collar. \n            Upper body: 100% recycled polyester doubleknit. \n            Lower body: 100% recycled polyester fleece. \n            Banded hem",care:"Do not bleach. \n            Tumble dry low heat. \n            Do not dry clean. \n            Do not iron. \n            Machine wash cold"},{id:10,description:"A closet staple, the Nike Sportswear Club Fleece Crew combines a bold \n            Futura logo on the chest with the soft comfort of fleece for an elevated, everyday look.",details:"Fleece fabric is soft and smooth against the skin. \n            Ribbing at the hem, cuffs and collar keep your fit comfy and secure. \n            Standard fit for a relaxed, easy feel. \n            80% cotton/20% polyester",care:"Machine wash"},{id:11,description:"The Nike Dri-FIT Hoodie is made of soft French terry fabric with \n            sweat-wicking power to help keep you warm and dry when you're warming up, \n            cooling down or catching your breath between sets. This product is made with 100% \n            sustainable materials, using a blend of both recycled polyester and organic cotton fibers. \n            The blend is at least 10% recycled fibers or at least 10% organic cotton fibers.",details:"Dri-FIT technology helps you stay dry and comfortable. \n            French terry fabric feels soft and warm. \n            Standard fit for a relaxed, easy feel. \n            Full zip. \n            Front pockets. \n            61% cotton/39% polyester",care:"Machine wash"},{id:12,description:"This track-inspired Solo Swoosh jacket is built on clean lines with \n            soft blended fabric in a roomy fit you can layer up or down. The 1/4-zip design \n            lets you change up your style and coverage while soft ribbing in the hem and cuffs \n            help lock in your body heat. The smooth, brushed French terry fabric feels soft and \n            warm against your skin for comfort you can take anywhere.",details:"\n            The 1/4-zip closure and stand collar lets you layer it over a tee for casual comfort,\n            or pop it on over an oxford shirt for a more dressed up finish. \n            Loose fit for a roomy feel. \n            Embroidered Swoosh design on left chest. \n            Body: 84-85% cotton/15-16% polyester. \n            Rib: 98% cotton/2% spandex. \n            Material percentages may vary, check label for actual content",care:"Machine wash"},{id:13,description:"From a morning gym session to a day of errands to an evening with friends, \n            keep your feet comfortable and your style on point in these adidas shoes. \n            Pair them with your favorite running shorts for the ultimate athletic-casual vibe. \n            A mesh upper helps you stay cool, while superlight cushioning cradles every step you take. \n            Made with a series of recycled materials, this upper features at least 50% recycled content. \n            This product represents just one of our solutions to help end plastic waste.",details:"Regular fit. \n            Lace closure. \n            Sandwich mesh upper. \n            Supportive no-sew overlays. \n            Soft heel. \n            LIGHTMOTION cushioning",care:""},{id:14,description:"It doesn't really matter whether or not a run is in the cards for the day. \n            An ultra-breathable feel and cushy midsole that energizes give these adidas shoes an edge. \n            Hit the pavement or hit the town. You've got the kicks for whatever unfolds.",details:"Lace closure. \n            Knit textile upper. \n            Breathable feel. \n            Textile lining. \n            Bounce midsole",care:""},{id:15,description:"When you're getting close to race day, you need pace and pop. \n            These adidas running shoes are designed for that fast performance. They combine \n            Bounce technology at the heel and Bounce+ underfoot for all-around cushioning to \n            make your run feel springy. The specially made plastic heel clip provides added stability. \n            Now all you need to do is tighten up your laces and start the clock. Made with a series of \n            recycled materials, this upper features at least 50% recycled content. \n            This product represents just one of our solutions to help end plastic waste.",details:"Regular fit. \n            Lace closure. \n            Breathable mesh upper. \n            Geofit padded collar. \n            Bounce midsole. \n            Adibouncy EVA sockliner",care:""},{id:16,description:"Every day is an opportunity to improve: your expectations, your outlook, \n            your run. The Ultra 4D is coded to help get you there, starting with a 3D-printed 4D \n            midsole designed to stabilize your ride. Long-lasting cushioning helps you go the distance, \n            and adidas PRIMEKNIT wraps your foot for support through every stride.",details:"Lace closure. \n            adidas PRIMEKNIT upper. \n            3D-printed 4D midsole. \n            Textile lining. \n            Continental\u2122 Rubber outsole",care:""},{id:17,description:"The Jordan offers a fresh, fearless take on the features you want: durability, \n            comfort, and an attitude that's Jordan to the core. We updated design lines and upgraded \n            some components, while keeping the fundamentals you love from the first Delta in place. \n            Enjoy the same combination of supportive, innovative materials, with new textures and \n            heavy stitching to create a look that's both adventurous and iconic.",details:"React foam is ultra-soft, resilient, and transitions smoothly from heel to toe. \n            Multilayered, mixed material fabric looks both high-tech and handcrafted. \n            Rubber outsole pods provide traction where your foot hits the ground. \n            Molded rubber mudguard along the outer midfoot provides side-to-side stability. \n            Woven tongue label with micro graphics. \n            Heel pull loop",care:""},{id:18,description:"A Zoom Air unit in the forefoot offers responsive cushioning. \n            Every step helps create energy return to help drive you forward. \n            It combines with a foam midsole for a firm, yet smooth and stable feeling as \n            your foot hits the ground.",details:"The durable rubber sole is built for mileage. \n            Grooves in the forefoot to create flexibility, and vertical \n            grooves down the side help create stability. \n            Mesh is engineered for durability. \n            Laces cinch down for a secure feel. \n            A softer and more durable lining around the heel and ankle helps keep \n            socks from bunching up when you run. \n            Cushy tongue provides helps pad the laces. \n            Molded heel securely hugs your foot. \n            Weight: 312g/11oz (Men's size 10). \n            Offset: 8mm (Forefoot: 19mm, Heel: 27mm)",care:""},{id:19,description:"LeBron thrives when stakes are high and the pressure's on. \n            The LeBron 19 harnesses that energy with a locked-in fit and an updated cushioning system. \n            The snug inner sleeve is pulled together by a sculpted overlay that the laces feed \n            through to help prevent the foot from moving inside the shoe. \n            Embedded pods in the tongue and around the collar help reduce weight, \n            keep the ankle aligned, and give players the secure feel and confidence to \n            go all out when the game is on the line.",details:"The retooled cushioning system combines visible Max Air with a thick,\n            responsive Zoom Air unit under the forefoot. \n            The Max Air helps to dissipate impact forces, \n            while the Zoom Air helps drive you down the court. \n            The bottom of the shoe is designed to \n            look like valves and tubes that form its inner workings. \n            A full inner fit sleeve conforms to the foot for a snug, secure feel. \n            The thin, transparent exterior layer is highly durable and lightweight \n            to keep you contained and help reduce in-shoe movement.\n            Cushlon foam midsole is soft, stable and responsive.\n            Flywire cables rise up from the midsole to help harness your foot when you lace up.\n            LeBron's logo is visible through the bottom of the shoe",care:""},{id:20,description:"Nike ZoomX foam is responsive and lightweight, giving you bounce with every step. \n            Shaped like a rocker, the foam provides support for the 3 phases of a runner's stride. \n            It offers flexibility when your foot rises off the ground, a smooth ride when your foot is \n            moving forward and cushioning at ground contact.",details:"Flyknit technology uses high-strength fibers to create a lightweight upper with \n            targeted areas of support, stretch and breathability. \n            It provides security and comfort.\n            Waffle-inspired tread on the outsole provides traction",care:""},{id:21,description:"Fresh colors and graphics nod to the days of the Nike Athletic Department and \n            Nike International. It's a meeting of eras, showing where we've been while keeping an eye \n            towards tomorrow. We added Flyknit throughout the upper, creating specific zones of \n            breathability, flexibility and containment. The result is a cool feel that helps your \n            foot feel secure, while letting it move with reduced restrictions. It still has \n            Flywire technology for support through the midfoot.",details:"High-rise cushioning comes with less material between it and your foot, \n            so you're closer to the foam for a truly responsive experience.\n            Hybrid tongue combines a socklike feel with the adjustability of a traditional design.\n            Soft padding along the collar provides a cushioned touch point.\n            Increased rubber at the outsole helps deliver traction and durability",care:""},{id:22,description:"EVERYDAY TEE WITH AN ULTRA-SPORTY LOOK.\n            The classic design on this t-shirt makes it super easy to mix and match. \n            Go sporty with a pair of track pants, or throw it on with jeans for a day out shopping. \n            An oversized adidas Badge of Sport across the chest makes it clear you're a sports lover.",details:"Regular fit.\n            Crewneck.\n            100% cotton single jersey.\n            Short sleeves",care:"Do not bleach.\n            Do not tumble dry.\n            Do not dry clean.\n            Touch up with warm iron.\n            Machine wash warm"},{id:23,description:"Flowers urge us to stop and pause. This soft t-shirt is ideal for slowing down. \n            The floral details at the adidas Badge of Sport add a feminine feel to the athletic, \n            crewneck shape. So whether your idea of me-time is a hike in the woods or a cup of tea \n            in the garden, this tee is the natural choice. \n            Our cotton products support more sustainable cotton farming.",details:"Regular fit.\n            Crewneck.\n            100% cotton single jersey.\n            Soft feel",care:"Do not bleach.\n            Tumble dry low heat.\n            Do not dry clean.\n            Touch up with warm iron.\n            Machine wash warm"},{id:24,description:"Beat your personal best. Up the weight on your leg presses. \n            You've got a lot of goals. But when rest day comfort is your goal, \n            reach for this sporty adidas long sleeve t-shirt. Throw it on to go out with \n            friends or catch up on your favorite shows. No matter how you choose to rest \n            up and rejuvenate, the soft single jersey fabric will keep things cozy.\n            Our cotton products support more sustainable cotton farming.",details:"Regular fit.\n            Ribbed crewneck.\n            100% cotton single jersey.\n            Supports the Better Cotton Initiative",care:"Do not bleach.\n            Tumble dry low heat.\n            Do not dry clean.\n            Touch up with cool iron.\n            Machine wash warm"},{id:25,description:"The Nike Sportswear Essential T-Shirt sets you up with soft cotton jersey and a cropped hem.",details:"Cotton fabric is soft and comfortable.\n            Cropped hem hits above the hips.\n            Loose fit for a roomy feel.\n            Fabric: 100% cotton",care:"Machine wash"},{id:26,description:'"Just Do It." is knit into the interior hem to deliver an inspirational \n            message\u2014just for you. Soft, smooth fabric with 4-way stretch helps you move without \n            restrictions. It\'s designed to hit low on your hips for more coverage while you bend \n            and stretch.',details:"Slim fit for a tailored feel.\n            Reflective details.\n            Not intended for use as Personal Protective Equipment (PPE).\n            85% nylon/11% polyester/4% spandex",care:"Machine wash"},{id:27,description:"Perfect as a base layer or worn on its own, the Nike Sportswear \n            Long-Sleeve T-Shirt sets you up with soft cotton jersey and a Nike logo printed on the chest.",details:"100% cotton",care:"Machine wash"},{id:28,description:"Don't underestimate the power of a good sweatshirt. This one gives you plenty \n            of styling options, wraps you in comfort, and reflects your inner confidence with an \n            adidas Badge of Sport logo on the front. Pull it on. Feel good.\n            Our cotton products support more sustainable cotton farming.",details:"Loose fit.\n            Ribbed crewneck.\n            53% cotton, 36% recycled polyester, 11% viscose French terry.\n            Ribbed cuffs and hem",care:"Do not bleach.\n            Do not tumble dry.\n            Do not dry clean.\n            Touch up with warm iron.\n            Machine wash warm"},{id:29,description:"The nice thing about a hoodie is being able to mix and match it with everything. \n            This one from adidas is cut from a soft fleece fabric that's cozy enough to wear every day. \n            Pair it with jeans, or keep it mellow and match it with sweats. You can't go wrong.\n            Our cotton products support sustainable cotton farming. This is part of our ambition to end plastic waste.",details:"Regular fit.\n            Drawcord-adjustable hood.\n            53% cotton, 36% recycled polyester, 11% viscose fleece.\n            Soft feel",care:"Do not bleach.\n            Do not tumble dry.\n            Do not dry clean.\n            Touch up with cool iron.\n            Machine wash warm"},{id:30,description:"Look good and stay warm at the same time. This Terrex half-zip sweatshirt \n            features recycled fabrics. The cropped silhouette pairs as easily with leggings as with \n            hiking pants. The non-brushed design is inspired by adidas' ambition to address the \n            microfiber shedding problem.\n            This product is made with Primegreen, a series of high-performance recycled materials.",details:"Half zip with stand-up collar.\n            100% recycled polyester doubleknit.\n            Woven overlay.\n            Front pocket with zip.\n            Cropped hem.\n            Gathered fabric at front hem",care:"Do not bleach.\n            Do not tumble dry.\n            Do not dry clean.\n            Do not iron.\n            Machine wash cold"},{id:31,description:"Club Fleece sweatshirts, universally loved for their coziness and consistency, \n            are for everyone. Always soft and made with a relaxed fit, they're basics that help you \n            do more. This cozy crew neck is a cold-weather staple, with just enough room to layer \n            comfortably without feeling too big.",details:"Brushed for added warmth and softness, it's an ideal layer for colder temperatures.\n            Ribbing at the hem and cuffs is soft and stretchy for easy layering.\n            80% cotton/20% polyester",care:"Machine wash"},{id:32,description:"Keep it classic in the Nike Sportswear Essential Hoodie. \n            Made from soft, semi-brushed fleece, this laid-back look goes well with anything.",details:"Semi-brushed fleece fabric has a soft, lightweight feel.\n            Raglan sleeves.\n            Ribbed hem and cuffs.\n            Body: 80% cotton/20% polyester. \n            Hood lining: 100% cotton",care:"Machine wash"},{id:33,description:"Made for layering, the Nike Dri-FIT UV Victory Top combines breathable, \n            stretchy fabric with a 1/2-length zipper so you can adjust your coverage on the fly.\n            Dri-FIT technology helps you stay dry and comfortable. Breathable knit fabric has \n            plenty of stretch and a unique, mesh-like texture. Zipper guard at the top of the \n            collar feels soft against your skin.",details:"Standard fit for a relaxed, easy feel.\n            1/2-length zipper.\n            100% polyester",care:"Machine wash"},{id:34,description:"Craftsmanship and comfort. These adidas sneakers are the perfect balance. \n            The intricately designed knit upper is set on a comfortable rubber outsole. \n            Bounce cushioning adds springy support at the midsole. Style your pair with \n            distressed denim or workout leggings.\n            Made with a series of recycled materials, this upper features at least 50% recycled content. \n            This product represents just one of our solutions to help end plastic waste.",details:"Regular fit.\n            Lace closure.\n            Textile upper.\n            Bounce midsole.\n            Textile lining",care:""},{id:35,description:"Put some spin on your look with these adidas Grand Court shoes. \n            An updated take on a classic tennis-inspired shape, they're made to flex with each step. \n            Cloudfoam cushioning gently holds your feet in place so you can wear them comfortably \n            right through to the evening. And even then, there's no missing the Colorful 3-Stripes.\n            Made with a series of recycled materials, this upper features at least 50% recycled content. \n            This product represents just one of our solutions to help end plastic waste.",details:"Regular fit.\n            Lace closure.\n            Synthetic leather upper.\n            Cloudfoam sockliner.\n            Textile lining",care:""},{id:36,description:"The better your shoes feel, the more enjoyable your run. \n            These adidas shoes are designed to perform in all areas. They combine Bounce \n            at the heel with Bounce+ underfoot for a comfy, springy feel. \n            A light and airy upper sits on a sturdy grippy rubber outsole. \n            And while the molded heel fits snugly, the soft sockliner cushions your foot \n            stride after stride.\n            Made with a series of recycled materials, this upper features at least 50% recycled content. \n            This product represents just one of our solutions to help end plastic waste.",details:"Regular fit.\n            Lace closure.\n            Breathable mesh upper.\n            Textile lining.\n            Bounce midsole.\n            Adibouncy EVA sockliner",care:""},{id:37,description:"Experience a smooth run with the Ultra 4DFWD running shoes. \n            They combine the upper of our iconic Ultraboost with a 3D-printed adidas 4DFWD \n            midsole that's innovated to compress forward, reducing braking forces and transforming \n            the impact energy into forward motion. The result provides a smooth transition and \n            unique gliding experience. An adidas PRIMEKNIT upper hugs the foot with targeted areas \n            of support, while the Continental\u2122 Rubber outsole provides extra grip in all weather \n            conditions.\n            This shoe's upper is made with a high-performance yarn which contains at least 50% \n            Parley Ocean Plastic \u2014 reimagined plastic waste, intercepted on remote islands, \n            beaches, coastal communities and shorelines, preventing it from polluting our ocean. \n            The other 50% of the yarn is recycled polyester.",details:"Lace closure.\n            adidas PRIMEKNIT textile upper.\n            adidas 4D midsole.\n            Textile lining.\n            Weight: 13,5 ounces (size 9).\n            Midsole drop: 12 mm (heel: 24 mm / forefoot: 12 mm)",care:""},{id:38,description:"Once you take a few strides in the Nike Air Zoom Alphafly NEXT% 2, you'll \n            never look at your favorite pair of old racing shoes the same way again. \n            These rocket ships are made to help shave precious time off your personal \n            records without surrendering the foundation you need to go the full distance. \n            This electric design is inspired by the soul and rebellious spirit of Eugene, \n            Oregon\u2014Tracktown USA\u2014where contenders from all over the world test themselves \n            against the globe's greatest athletes.",details:"Part of the Flyknit family\u2014Atomknit material on the upper has a contoured fit while being lightweight and super-breathable.\n            Specifically designed lofted heel pods use Flyknit yarns for secure, extended comfort and lightweight heel lockdown.\n            The sole was designed using data from hundreds of runners. \n            It has different angles of traction placed where you need it, providing grip from foot-strike to toe-off.\n            Notched laces offer a secure, but soft lace-up.\n            An interrated knit tongue with lofted padding make for a secure, repeatable fit that helps reduce lace pressure",care:""},{id:39,description:"The sock-like fit and lightweight feel of this Nike Free was made to \n            transition from running to training to your everyday routine. Made with at least \n            20% recycled content by weight, it combines the flexibility you love with a \n            contained design that will help keep you close to the ground for that barefoot feeling",details:"The upper uses a breathable knit material throughout for a soft, stretchy feel. \n            It gives your foot room to stretch as you run.\n            Flywire technology loops through the laces on the side for midfoot containment.\n            The same cushioned heel you know and love from previous iterations of the Free provides comfortable support.\n            A pull-tab at the heel provides easy on and off",care:""},{id:40,description:"The Nike Juniper trail delivers a consistent ride for your your off-road runs.\n            It's built for rocky trails,helping stay focused on the path ahead.Tough traxion \n            mixed with a lightweight design for tacking the rugged terrains.",details:"Cushioning/Neutral.\n            Solid Rubber.\n            Internal Heel Counter.\n            EVA Insole",care:""},{id:41,description:"The Nike Pegasus Trail 4 GORE-TEX is made for those moments when you \n            don't want to turn back, no matter what. Feel confident even in the most unforeseen \n            weather conditions with waterproof GORE-TEX keeping you dry, so you can run harder \n            for longer and take your wet run from the road to the trail without breaking stride",details:'Less rubber along the outsole creates a smoother transition from road to trail. \n            The rubber wraps around the front of the shoe for extra durability.\n            The inspirational message by the heel will vary between "JUST DO IT" and "JUST RUN IT" depending on the shoe.\n            Pull loops at heel and tongue',care:""},{id:42,description:"Nike React Infinity Run Flyknit 3 offers you cushy responsiveness and \n            breathable support to help reduce injury and keep you running\n            An advanced Flyknit upper provides breathability where you need it most",details:"Nike React technology is a lightweight, durable foam that delivers a smooth, responsive ride.\n            Increased rubber at the outsole helps deliver traction and durability.\n            Cushioned collar provides soft comfort.\n            Wide shape provides a more stable ride, helping release energy with every step",care:""}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),wc=(()=>{class n{constructor(t){this.service=t,this.products2=[{id:1,name:"Adidas Grey T-shirt",description:this.service.details[0].description,details:this.service.details[0].details,care:this.service.details[0].care,price:12.5,gender:"Men",category:"T-shirts",image1:"assets/products/men/tshirts/adidas_grey_1.png",image2:"assets/products/men/tshirts/adidas_grey_2.png",src:"",fav:!1,stockA:{S:0,M:3,L:1,XL:2},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:2,name:"Adidas Red T-shirt",description:this.service.details[1].description,details:this.service.details[1].details,care:this.service.details[1].care,price:12,gender:"Men",category:"T-shirts",image1:"assets/products/men/tshirts/adidas_red_1.png",image2:"assets/products/men/tshirts/adidas_red_2.png",src:"",fav:!1,stockA:{S:1,M:0,L:1,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:3,name:"Adidas Long Sleeve T-shirt",description:this.service.details[2].description,details:this.service.details[2].details,care:this.service.details[2].care,price:14.9,gender:"Men",category:"T-shirts",image1:"assets/products/men/tshirts/adidas_long_sleeve_1.png",image2:"assets/products/men/tshirts/adidas_long_sleeve_2.png",src:"",fav:!1,stockA:{S:0,M:2,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:4,name:"Nike Air Black T-shirt",description:this.service.details[3].description,details:this.service.details[3].details,care:this.service.details[3].care,price:13.9,gender:"Men",category:"T-shirts",image1:"assets/products/men/tshirts/nike_air_black_1.png",image2:"assets/products/men/tshirts/nike_air_black_2.png",src:"",fav:!1,stockA:{S:1,M:2,L:2,XL:1},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:5,name:"Nike Air Jordan Grey T-shirt",description:this.service.details[4].description,details:this.service.details[4].details,care:this.service.details[4].care,price:15.5,gender:"Men",category:"T-shirts",image1:"assets/products/men/tshirts/air_jordan_grey_1.png",image2:"assets/products/men/tshirts/air_jordan_grey_2.png",src:"",fav:!1,stockA:{S:1,M:2,L:0,XL:2},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:6,name:"Nike Long Sleeve T-shirt",description:this.service.details[5].description,details:this.service.details[5].details,care:this.service.details[5].care,price:17,gender:"Men",category:"T-shirts",image1:"assets/products/men/tshirts/nike_long_sleeve_1.png",image2:"assets/products/men/tshirts/nike_long_sleeve_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:7,name:"Adidas Essential Big Logo Sweatshirt",description:this.service.details[6].description,details:this.service.details[6].details,care:this.service.details[6].care,price:52.5,gender:"Men",category:"Sweaters",image1:"assets/products/men/sweaters/adidas_ess_big_logo_1.png",image2:"assets/products/men/sweaters/adidas_ess_big_logo_2.png",src:"",fav:!1,stockA:{S:1,M:2,L:2,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:8,name:"Adidas Essential Hoodie",description:this.service.details[7].description,details:this.service.details[7].details,care:this.service.details[7].care,price:61,gender:"Men",category:"Sweaters",image1:"assets/products/men/sweaters/adidas_essential_hoodie_1.png",image2:"assets/products/men/sweaters/adidas_essential_hoodie_2.png",src:"",fav:!1,stockA:{S:2,M:2,L:1,XL:1},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:9,name:"Adidas Zipped Sweater",description:this.service.details[8].description,details:this.service.details[8].details,care:this.service.details[8].care,price:54.9,gender:"Men",category:"Sweaters",image1:"assets/products/men/sweaters/adidas_zipped_1.png",image2:"assets/products/men/sweaters/adidas_zipped_2.png",src:"",fav:!1,stockA:{S:1,M:2,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:10,name:"Nike Air Big Logo Sweatshirt",description:this.service.details[9].description,details:this.service.details[9].details,care:this.service.details[9].care,price:53.9,gender:"Men",category:"Sweaters",image1:"assets/products/men/sweaters/nike_air_big_logo_2.png",image2:"assets/products/men/sweaters/nike_air_big_logo_1.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:11,name:"Nike Air Jordan Hoodie",description:this.service.details[10].description,details:this.service.details[10].details,care:this.service.details[10].care,price:65.5,gender:"Men",category:"Sweaters",image1:"assets/products/men/sweaters/nike_air_jordan_2.png",image2:"assets/products/men/sweaters/nike_air_jordan_1.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:2},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:12,name:"Nike Zipped Sweater",description:this.service.details[11].description,details:this.service.details[11].details,care:this.service.details[11].care,price:57,gender:"Men",category:"Sweaters",image1:"assets/products/men/sweaters/nike_zipped_2.png",image2:"assets/products/men/sweaters/nike_zipped_1.png",src:"",fav:!1,stockA:{S:0,M:2,L:2,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:13,name:"Adidas Duramo Running Shoes",description:this.service.details[12].description,details:this.service.details[12].details,care:this.service.details[12].care,price:46.5,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/adidas_duramo_1.png",image2:"assets/products/men/sneakers/adidas_duramo_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:2,num3:0,num4:1,num5:0,num6:2,num7:0,num8:1,num9:0,num10:2}},{id:14,name:"Adidas FluidFlow Running Shoes",description:this.service.details[13].description,details:this.service.details[13].details,care:this.service.details[13].care,price:39,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/adidas_fluidflow_1.png",image2:"assets/products/men/sneakers/adidas_fluidflow_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:1,num2:2,num3:1,num4:1,num5:0,num6:2,num7:0,num8:1,num9:0,num10:0}},{id:15,name:"Adidas Response Running Shoes",description:this.service.details[14].description,details:this.service.details[14].details,care:this.service.details[14].care,price:41.9,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/adidas_response_1.png",image2:"assets/products/men/sneakers/adidas_response_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:1,num2:2,num3:1,num4:1,num5:1,num6:2,num7:1,num8:1,num9:1,num10:2}},{id:16,name:"Adidas Ultra 4D Running Shoes",description:this.service.details[15].description,details:this.service.details[15].details,care:this.service.details[15].care,price:33.5,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/adidas_ultra_4d_1.png",image2:"assets/products/men/sneakers/adidas_ultra_4d_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:2,num7:0,num8:1,num9:0,num10:2}},{id:17,name:"Nike Air Jordan Basketball Shoes",description:this.service.details[16].description,details:this.service.details[16].details,care:this.service.details[16].care,price:65.7,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/nike_air_jordan_1.png",image2:"assets/products/men/sneakers/nike_air_jordan_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:18,name:"Nike Air Zoom Running Shoes",description:this.service.details[17].description,details:this.service.details[17].details,care:this.service.details[17].care,price:47,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/nike_air_zoom_1.png",image2:"assets/products/men/sneakers/nike_air_zoom_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:1,num2:2,num3:0,num4:1,num5:1,num6:2,num7:0,num8:0,num9:0,num10:0}},{id:19,name:"Nike Lebron James Basketball Shoes",description:this.service.details[18].description,details:this.service.details[18].details,care:this.service.details[18].care,price:63.5,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/nike_lebron_1.png",image2:"assets/products/men/sneakers/nike_lebron_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:1,num4:1,num5:2,num6:2,num7:0,num8:1,num9:0,num10:2}},{id:20,name:"Nike Pegasus Running Shoes",description:this.service.details[19].description,details:this.service.details[19].details,care:this.service.details[19].care,price:42.3,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/nike_pegasus_1.png",image2:"assets/products/men/sneakers/nike_pegasus_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:2,num3:1,num4:1,num5:1,num6:2,num7:0,num8:0,num9:0,num10:1}},{id:21,name:"Nike React Running Shoes",description:this.service.details[20].description,details:this.service.details[20].details,care:this.service.details[20].care,price:41,gender:"Men",category:"Sneakers",image1:"assets/products/men/sneakers/nike_react_1.png",image2:"assets/products/men/sneakers/nike_react_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:1,num2:2,num3:1,num4:1,num5:0,num6:2,num7:1,num8:1,num9:1,num10:2}},{id:22,name:"Adidas Big Logo Black T-shirt",description:this.service.details[21].description,details:this.service.details[21].details,care:this.service.details[21].care,price:17.6,gender:"Women",category:"T-shirts",image1:"assets/products/women/tshirts/adidas_big_logo_tshirt_1.png",image2:"assets/products/women/tshirts/adidas_big_logo_tshirt_2.png",src:"",fav:!1,stockA:{S:1,M:1,L:2,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:23,name:"Adidas Floral T-shirt",description:this.service.details[22].description,details:this.service.details[22].details,care:this.service.details[22].care,price:16.2,gender:"Women",category:"T-shirts",image1:"assets/products/women/tshirts/adidas_floral_1.png",image2:"assets/products/women/tshirts/adidas_floral_2.png",src:"",fav:!1,stockA:{S:1,M:2,L:2,XL:1},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:24,name:"Adidas Long Sleeve T-shirt",description:this.service.details[23].description,details:this.service.details[23].details,care:this.service.details[23].care,price:20.9,gender:"Women",category:"T-shirts",image1:"assets/products/women/tshirts/adidas_long_sleeve_1.png",image2:"assets/products/women/tshirts/adidas_long_sleeve_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:2,XL:1},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:25,name:"Nike Short White T-shirt",description:this.service.details[24].description,details:this.service.details[24].details,care:this.service.details[24].care,price:15.2,gender:"Women",category:"T-shirts",image1:"assets/products/women/tshirts/nike_white_tshirt_1.png",image2:"assets/products/women/tshirts/nike_white_tshirt_2.png",src:"",fav:!1,stockA:{S:1,M:1,L:2,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:26,name:"Nike Running ClimaCool T-shirt",description:this.service.details[25].description,details:this.service.details[25].details,care:this.service.details[25].care,price:19.5,gender:"Women",category:"T-shirts",image1:"assets/products/women/tshirts/nike_running_black_1.png",image2:"assets/products/women/tshirts/nike_running_black_2.png",src:"",fav:!1,stockA:{S:0,M:1,L:1,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:27,name:"Nike Long Sleeve T-shirt",description:this.service.details[26].description,details:this.service.details[26].details,care:this.service.details[26].care,price:21.5,gender:"Women",category:"T-shirts",image1:"assets/products/women/tshirts/nike_long_sleeve_tshirt_1.png",image2:"assets/products/women/tshirts/nike_long_sleeve_tshirt_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:28,name:"Adidas Essential Big Logo Sweatshirt",description:this.service.details[27].description,details:this.service.details[27].details,care:this.service.details[27].care,price:49.3,gender:"Women",category:"Sweaters",image1:"assets/products/women/sweaters/adidas_black_sweatshirt_1.png",image2:"assets/products/women/sweaters/adidas_black_sweatshirt_2.png",src:"",fav:!1,stockA:{S:1,M:2,L:2,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:29,name:"Adidas Essential Hoodie",description:this.service.details[28].description,details:this.service.details[28].details,care:this.service.details[28].care,price:64.2,gender:"Women",category:"Sweaters",image1:"assets/products/women/sweaters/adidas_hoodie_1.png",image2:"assets/products/women/sweaters/adidas_hoodie_2.png",src:"",fav:!1,stockA:{S:0,M:1,L:2,XL:1},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:30,name:"Adidas Zipped Sweater",description:this.service.details[29].description,details:this.service.details[29].details,care:this.service.details[29].care,price:56.5,gender:"Women",category:"Sweaters",image1:"assets/products/women/sweaters/adidas_zipped_1.png",image2:"assets/products/women/sweaters/adidas_zipped_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:1,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:31,name:"Nike Essential Big Logo Sweatshirt",description:this.service.details[30].description,details:this.service.details[30].details,care:this.service.details[30].care,price:54.2,gender:"Women",category:"Sweaters",image1:"assets/products/women/sweaters/nike_big_logo_sweatshirt_1.png",image2:"assets/products/women/sweaters/nike_big_logo_sweatshirt_2.png",src:"",fav:!1,stockA:{S:0,M:1,L:1,XL:1},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:32,name:"Nike Air Big Logo Hoodie",description:this.service.details[31].description,details:this.service.details[31].details,care:this.service.details[31].care,price:59.7,gender:"Women",category:"Sweaters",image1:"assets/products/women/sweaters/nike_air_hoodie_1.png",image2:"assets/products/women/sweaters/nike_air_hoodie_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:33,name:"Nike Zipped Sweater",description:this.service.details[32].description,details:this.service.details[32].details,care:this.service.details[32].care,price:56,gender:"Women",category:"Sweaters",image1:"assets/products/women/sweaters/nike_zipped_1.png",image2:"assets/products/women/sweaters/nike_zipped_2.png",src:"",fav:!1,stockA:{S:1,M:1,L:1,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:34,name:"Adidas FluidFlow Running Shoes",description:this.service.details[33].description,details:this.service.details[33].details,care:this.service.details[33].care,price:40.5,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/adidas_fluidflow_1.png",image2:"assets/products/women/sneakers/adidas_fluidflow_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:1,num4:1,num5:0,num6:1,num7:2,num8:1,num9:0,num10:0}},{id:35,name:"Adidas Grandcourt Base Tennis Shoes",description:this.service.details[34].description,details:this.service.details[34].details,care:this.service.details[34].care,price:47.2,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/adidas_grand_court_base_1.png",image2:"assets/products/women/sneakers/adidas_grand_court_base_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:1,num6:1,num7:1,num8:1,num9:1,num10:2}},{id:36,name:"Adidas Response Running Shoes",description:this.service.details[35].description,details:this.service.details[35].details,care:this.service.details[35].care,price:43.5,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/adidas_response_1.png",image2:"assets/products/women/sneakers/adidas_response_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:2,num6:0,num7:0,num8:1,num9:0,num10:0}},{id:37,name:"Adidas Ultra 4D Running Shoes",description:this.service.details[36].description,details:this.service.details[36].details,care:this.service.details[36].care,price:37.3,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/adidas_ultra_4D_1.png",image2:"assets/products/women/sneakers/adidas_ultra_4D_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}},{id:38,name:"Nike Air Zoom Running Shoes",description:this.service.details[37].description,details:this.service.details[37].details,care:this.service.details[37].care,price:52.7,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/nike_air_zoom_1.png",image2:"assets/products/women/sneakers/nike_air_zoom_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:1,num2:1,num3:0,num4:0,num5:0,num6:2,num7:1,num8:1,num9:1,num10:2}},{id:39,name:"Nike Free Run Running Shoes",description:this.service.details[38].description,details:this.service.details[38].details,care:this.service.details[38].care,price:43.1,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/nike_free_run_1.png",image2:"assets/products/women/sneakers/nike_free_run_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:1,num2:1,num3:1,num4:1,num5:0,num6:1,num7:0,num8:0,num9:0,num10:0}},{id:40,name:"Nike Juniper Running Shoes",description:this.service.details[39].description,details:this.service.details[39].details,care:this.service.details[39].care,price:53.5,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/nike_juniper_1.png",image2:"assets/products/women/sneakers/nike_juniper_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:1,num3:1,num4:1,num5:1,num6:1,num7:0,num8:1,num9:0,num10:2}},{id:41,name:"Nike Pegasus Running Shoes",description:this.service.details[40].description,details:this.service.details[40].details,care:this.service.details[40].care,price:47.6,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/nike_pegasus_1.png",image2:"assets/products/women/sneakers/nike_pegasus_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:1,num3:1,num4:1,num5:1,num6:1,num7:1,num8:0,num9:0,num10:0}},{id:42,name:"Nike React Running Shoes",description:this.service.details[41].description,details:this.service.details[41].details,care:this.service.details[41].care,price:45.1,gender:"Women",category:"Sneakers",image1:"assets/products/women/sneakers/nike_react_1.png",image2:"assets/products/women/sneakers/nike_react_2.png",src:"",fav:!1,stockA:{S:0,M:0,L:0,XL:0},stockB:{num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,num9:0,num10:0}}],this.LOCAL_STORAGE_LIST_KEY="product.list",this.products=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_LIST_KEY))||this.products2}addItemToFavs(t){let r=t.id;this.product=this.products.find(i=>i.id==r),this.product.fav=!0,this.saveInProductsServicesData()}removeItemFromFavs(t){let r=t.id;this.product=this.products.find(i=>i.id==r),this.product.fav=!1,this.saveInProductsServicesData()}removeProduct(t,r){switch(t){case"S":r.stockA.S--;break;case"M":r.stockA.M--;break;case"L":r.stockA.L--;break;case"XL":r.stockA.XL--;break;case"37":r.stockB.num1--;break;case"38":r.stockB.num2--;break;case"39":r.stockB.num3--;break;case"40":r.stockB.num4--;break;case"41":r.stockB.num5--;break;case"42":r.stockB.num6--;break;case"43":r.stockB.num7--;break;case"44":r.stockB.num8--;break;case"45":r.stockB.num9--;break;case"46":r.stockB.num10--}this.saveInProductsServicesData()}addItemQuantityToStock(t){let r=t.id;switch(this.product=this.products.find(i=>i.id==r),t.size){case"S":this.product.stockA.S+=t.quantity;break;case"M":this.product.stockA.M+=t.quantity;break;case"L":this.product.stockA.L+=t.quantity;break;case"XL":this.product.stockA.XL+=t.quantity;break;case"37":this.product.stockB.num1+=t.quantity;break;case"38":this.product.stockB.num2+=t.quantity;break;case"39":this.product.stockB.num3+=t.quantity;break;case"40":this.product.stockB.num4+=t.quantity;break;case"41":this.product.stockB.num5+=t.quantity;break;case"42":this.product.stockB.num6+=t.quantity;break;case"43":this.product.stockB.num7+=t.quantity;break;case"44":this.product.stockB.num8+=t.quantity;break;case"45":this.product.stockB.num9+=t.quantity;break;case"46":this.product.stockB.num10+=t.quantity}this.saveInProductsServicesData()}addItemSizeToStock(t){let r=t.id;switch(this.product=this.products.find(i=>i.id==r),t.size){case"S":this.product.stockA.S++;break;case"M":this.product.stockA.M++;break;case"L":this.product.stockA.L++;break;case"XL":this.product.stockA.XL++;break;case"37":this.product.stockB.num1++;break;case"38":this.product.stockB.num2++;break;case"39":this.product.stockB.num3++;break;case"40":this.product.stockB.num4++;break;case"41":this.product.stockB.num5++;break;case"42":this.product.stockB.num6++;break;case"43":this.product.stockB.num7++;break;case"44":this.product.stockB.num8++;break;case"45":this.product.stockB.num9++;break;case"46":this.product.stockB.num10++}this.saveInProductsServicesData()}removeItemSizeFromStock(t){let r=t.id;switch(this.product=this.products.find(i=>i.id==r),t.size){case"S":this.product.stockA.S--;break;case"M":this.product.stockA.M--;break;case"L":this.product.stockA.L--;break;case"XL":this.product.stockA.XL--;break;case"37":this.product.stockB.num1--;break;case"38":this.product.stockB.num2--;break;case"39":this.product.stockB.num3--;break;case"40":this.product.stockB.num4--;break;case"41":this.product.stockB.num5--;break;case"42":this.product.stockB.num6--;break;case"43":this.product.stockB.num7--;break;case"44":this.product.stockB.num8--;break;case"45":this.product.stockB.num9--;break;case"46":this.product.stockB.num10--}this.saveInProductsServicesData()}saveInProductsServicesData(){localStorage.setItem(this.LOCAL_STORAGE_LIST_KEY,JSON.stringify(this.products))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(jS))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ex=(()=>{class n{constructor(t,r){this.activatedRoute=t,this.service=r}ngOnInit(){this.products=this.service.products,this.productId=this.activatedRoute.snapshot.paramMap.get("id"),this.product=this.service.products.find(t=>t.id==this.productId)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Zr),s.Y36(wc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-div2"]],decls:24,vars:12,consts:[[1,"section2"],[1,"cards"],[1,"card"],["routerLink","/Shop/Product/3"],[3,"src","alt","mouseover","mouseout"],["routerLink","/Shop/Product/15"],["routerLink","/Shop/Product/29"],["routerLink","/Shop/Product/38"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2,"Items on Sale"),s.qZA(),s.TgZ(3,"div",1)(4,"div",2)(5,"a",3)(6,"img",4),s.NdJ("mouseover",function(){return r.products[2].src=r.products[2].image2})("mouseout",function(){return r.products[2].src=r.products[2].image1}),s.qZA()(),s.TgZ(7,"p"),s._uU(8),s.qZA()(),s.TgZ(9,"div",2)(10,"a",5)(11,"img",4),s.NdJ("mouseover",function(){return r.products[14].src=r.products[14].image2})("mouseout",function(){return r.products[14].src=r.products[14].image1}),s.qZA()(),s.TgZ(12,"p"),s._uU(13),s.qZA()(),s.TgZ(14,"div",2)(15,"a",6)(16,"img",4),s.NdJ("mouseover",function(){return r.products[28].src=r.products[28].image2})("mouseout",function(){return r.products[28].src=r.products[28].image1}),s.qZA()(),s.TgZ(17,"p"),s._uU(18),s.qZA()(),s.TgZ(19,"div",2)(20,"a",7)(21,"img",4),s.NdJ("mouseover",function(){return r.products[37].src=r.products[37].image2})("mouseout",function(){return r.products[37].src=r.products[37].image1}),s.qZA()(),s.TgZ(22,"p"),s._uU(23),s.qZA()()()()),2&t&&(s.xp6(6),s.s9C("alt",r.products[2].name),s.Q6J("src",r.products[2].src||r.products[2].image1,s.LSH),s.xp6(2),s.Oqu(r.products[2].name),s.xp6(3),s.s9C("alt",r.products[14].name),s.Q6J("src",r.products[14].src||r.products[14].image1,s.LSH),s.xp6(2),s.Oqu(r.products[14].name),s.xp6(3),s.s9C("alt",r.products[28].name),s.Q6J("src",r.products[28].src||r.products[28].image1,s.LSH),s.xp6(2),s.Oqu(r.products[28].name),s.xp6(3),s.s9C("alt",r.products[37].name),s.Q6J("src",r.products[37].src||r.products[37].image1,s.LSH),s.xp6(2),s.Oqu(r.products[37].name))},dependencies:[fo],styles:[".section2[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;min-height:40rem;padding:4rem 0;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;gap:2rem}h1[_ngcontent-%COMP%]{font-weight:200;font-size:2.5rem;margin:0}.cards[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:70%;flex:1 1;display:grid;grid-template-columns:repeat(4,1fr);gap:2rem;padding:4rem 2rem}.card[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1 1 auto;height:50%;width:100%;background-color:#ececec;transition:.3s}.card[_ngcontent-%COMP%]:hover{box-shadow:#0000000a 0 10px 10px;scale:1.05;transition:ease-in-out,.7s}img[_ngcontent-%COMP%]{position:absolute;max-width:90%;max-height:90%}p[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:70%;padding:0 .5rem;height:3rem;font-size:1rem;margin:0;position:absolute;top:-20px;text-align:center;color:#fff;background:rgb(83,83,83);transition:.5s ease-in-out;opacity:0}.card[_ngcontent-%COMP%]:hover > p[_ngcontent-%COMP%]{opacity:1}@media only screen and (max-width: 850px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.card[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{height:100%}}@media only screen and (max-width: 450px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}.card[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{height:100%}}"]}),n})(),GS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"home"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"app-home-div1")(2,"app-home-div2"),s.qZA())},dependencies:[Cx,Ex],styles:[".home[_ngcontent-%COMP%]{margin-top:10px;box-sizing:border-box;display:flex;flex-direction:column;flex:1;width:100%;cursor:default}"]}),n})();var QN=p(2454),Or=p.n(QN);class Ny{constructor(){this.items2=[],this.totalQuantity2=[],this.totalPrice2=0,this.LOCAL_STORAGE_CHOSEN_ITEMS_LIST_KEY="chosenItems.list",this.LOCAL_STORAGE_TOTAL_QUANTITY_KEY="totalQuantity",this.LOCAL_STORAGE_TOTAL_PRICE="totalPrice",this.items=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_CHOSEN_ITEMS_LIST_KEY))||this.items2,this.totalQuantity=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_QUANTITY_KEY))||this.totalQuantity2,this.totalPrice=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_PRICE))||this.totalPrice2}addChosenItemToCart(e){let t=!1;this.items.length>0&&this.items.forEach(r=>{if(r.name===e.name&&r.size===e.size)switch(r.quantity+=1,t=!0,r.size){case"S":r.stockA.S--;break;case"M":r.stockA.M--;break;case"L":r.stockA.L--;break;case"XL":r.stockA.XL--;break;case"37":r.stockB.num1--;break;case"38":r.stockB.num2--;break;case"39":r.stockB.num3--;break;case"40":r.stockB.num4--;break;case"41":r.stockB.num5--;break;case"42":r.stockB.num6--;break;case"43":r.stockB.num7--;break;case"44":r.stockB.num8--;break;case"45":r.stockB.num9--;break;case"46":r.stockB.num10--}}),t||this.items.push(e),this.totalQuantity.push("x"),this.totalPrice+=e.price,this.saveInChosenItemsServicesData()}removeAllItems(e){this.items.splice(0,e.length),this.totalQuantity.splice(0,this.totalQuantity.length),this.totalPrice=0,this.saveInChosenItemsServicesData()}removeItem(e){this.items.map((t,r)=>{e.uniqId==t.uniqId&&this.items.splice(r,1)}),this.totalQuantity.splice(this.totalQuantity.length-e.quantity,e.quantity),this.totalPrice-=e.quantity*e.price,this.saveInChosenItemsServicesData()}decreaseQuantity(e){e.quantity-=1,this.totalQuantity.pop(),this.totalPrice-=e.price,this.saveInChosenItemsServicesData()}increaseQuantity(e){e.quantity+=1,this.totalQuantity.push("x"),this.totalPrice+=e.price,this.saveInChosenItemsServicesData()}saveInChosenItemsServicesData(){localStorage.setItem(this.LOCAL_STORAGE_CHOSEN_ITEMS_LIST_KEY,JSON.stringify(this.items)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_QUANTITY_KEY,JSON.stringify(this.totalQuantity)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_PRICE,JSON.stringify(this.totalPrice))}}class Y0{constructor(){this.items2=[],this.FAVORITE_ITEMS_LIST_KEY="favorites.list",this.items=JSON.parse(localStorage.getItem(this.FAVORITE_ITEMS_LIST_KEY))||this.items2}addToFavorites(e){let t=!1;this.items.length>0&&this.items.forEach(r=>{r.name===e.name&&(t=!0)}),t||this.items.push(e),this.saveInFavoriteItemsServicesData()}removeFromFavorites(e){this.items.map((t,r)=>{e.id==t.id&&this.items.splice(r,1)}),this.saveInFavoriteItemsServicesData()}saveInFavoriteItemsServicesData(){localStorage.setItem(this.FAVORITE_ITEMS_LIST_KEY,JSON.stringify(this.items))}}function JN(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"img",27),s._uU(2),s.qZA()),2&n){const t=e.$implicit;s.xp6(2),s.hij("",t," ")}}function XN(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"img",29),s._uU(2),s.qZA()),2&n){const t=e.$implicit;s.xp6(2),s.hij("",t," ")}}function Sx(n,e){if(1&n&&(s.TgZ(0,"p-accordionTab",28)(1,"p",11),s.YNc(2,XN,3,1,"li",13),s.qZA()()),2&n){const t=s.oxw();s.xp6(2),s.Q6J("ngForOf",t.productCare)}}function Tx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"lord-icon",30),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.addToFavorites(i.product))}),s.qZA()}}function $S(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"lord-icon",31),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.removeFromFavorites(i.product))}),s.qZA()}}function zS(n,e){1&n&&(s.TgZ(0,"span",32),s._uU(1,"Add to your favorites"),s.qZA())}function qS(n,e){1&n&&(s.TgZ(0,"span",33),s._uU(1,"It is in your favorites!"),s.qZA())}function Ix(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"select",34),s.NdJ("ngModelChange",function(i){s.CHM(t);const a=s.oxw();return s.KtG(a.selectedSizeButtonValue=i)}),s.TgZ(1,"option",35),s._uU(2,"-- Select Size --"),s.qZA(),s.TgZ(3,"option",36),s._uU(4,"EU - 37"),s.qZA(),s.TgZ(5,"option",37),s._uU(6,"EU - 38"),s.qZA(),s.TgZ(7,"option",38),s._uU(8,"EU - 39"),s.qZA(),s.TgZ(9,"option",39),s._uU(10,"EU - 40"),s.qZA(),s.TgZ(11,"option",40),s._uU(12,"EU - 41"),s.qZA(),s.TgZ(13,"option",41),s._uU(14,"EU - 42"),s.qZA(),s.TgZ(15,"option",42),s._uU(16,"EU - 43"),s.qZA(),s.TgZ(17,"option",43),s._uU(18,"EU - 44"),s.qZA(),s.TgZ(19,"option",44),s._uU(20,"EU - 45"),s.qZA(),s.TgZ(21,"option",45),s._uU(22,"EU - 46"),s.qZA()()}if(2&n){const t=s.oxw();s.Q6J("ngModel",t.selectedSizeButtonValue),s.xp6(3),s.Q6J("disabled",0===t.product.stockB.num1),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num2),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num3),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num4),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num5),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num6),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num7),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num8),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num9),s.xp6(2),s.Q6J("disabled",0===t.product.stockB.num10)}}function Ax(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"select",34),s.NdJ("ngModelChange",function(i){s.CHM(t);const a=s.oxw();return s.KtG(a.selectedSizeButtonValue=i)}),s.TgZ(1,"option",35),s._uU(2,"-- Select Size --"),s.qZA(),s.TgZ(3,"option",46),s._uU(4,"EU - S"),s.qZA(),s.TgZ(5,"option",47),s._uU(6,"EU - M"),s.qZA(),s.TgZ(7,"option",48),s._uU(8,"EU - L"),s.qZA(),s.TgZ(9,"option",49),s._uU(10,"EU - XL"),s.qZA()()}if(2&n){const t=s.oxw();s.Q6J("ngModel",t.selectedSizeButtonValue),s.xp6(3),s.Q6J("disabled",0===t.product.stockA.S),s.xp6(2),s.Q6J("disabled",0===t.product.stockA.M),s.xp6(2),s.Q6J("disabled",0===t.product.stockA.L),s.xp6(2),s.Q6J("disabled",0===t.product.stockA.XL)}}function Dx(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function xx(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Dx,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockA.S)}}function Px(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function Mx(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Px,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockA.M)}}function kx(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function lm(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,kx,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockA.L)}}function WS(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function ZS(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,WS,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockA.XL)}}function KS(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function YS(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,KS,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num1)}}function QS(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function JS(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,QS,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num2)}}function Ox(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function eF(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Ox,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num3)}}function Rx(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function XS(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Rx,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num4)}}function Nx(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function Fx(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Nx,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num5)}}function Lx(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function cm(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Lx,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num6)}}function Vx(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function Q0(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Vx,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num7)}}function kl(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function Bx(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,kl,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num8)}}function J0(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function um(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,J0,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num9)}}function Ux(n,e){if(1&n&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("Hurry up! Only 1 item remained for size '",t.selectedSizeButtonValue,"'")}}function Hx(n,e){if(1&n&&(s.TgZ(0,"p"),s.YNc(1,Ux,2,1,"span",50),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",1===t.product.stockB.num10)}}function jx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",52),s.NdJ("click",function(i){s.CHM(t);const a=s.oxw();return s.KtG(a.handleAddToCart(i,a.selectedSizeButtonValue))}),s._uU(1," Add to cart "),s.qZA()}}function Fy(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"p",53),s._uU(1,"All sizes are out of stock!"),s.qZA(),s.TgZ(2,"button",54),s.NdJ("click",function(i){s.CHM(t);const a=s.oxw();return s.KtG(a.addToFavoritesByNotifyButton(i,a.product))}),s._uU(3,"Notify Me"),s.qZA()}}const Ly=function(){return["/Shop"]},Gx=function(){return["/ShoppingCart"]};let $x=(()=>{class n{constructor(t,r,i,a){this.activatedRoute=t,this.service=r,this.service2=i,this.service3=a,this.LOCAL_STORAGE_S_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_M_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_L_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_XL_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_37_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_38_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_39_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_40_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_41_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_42_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_43_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_44_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_45_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_46_SIZE_STOCK="s-size.stock",this.LOCAL_STORAGE_TOTAL_STOCK="s-size.stock",this.stockS=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_S_SIZE_STOCK)),this.stockM=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_M_SIZE_STOCK)),this.stockL=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_L_SIZE_STOCK)),this.stockXL=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_XL_SIZE_STOCK)),this.stock1=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_37_SIZE_STOCK)),this.stock2=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_38_SIZE_STOCK)),this.stock3=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_39_SIZE_STOCK)),this.stock4=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_40_SIZE_STOCK)),this.stock5=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_41_SIZE_STOCK)),this.stock6=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_42_SIZE_STOCK)),this.stock7=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_43_SIZE_STOCK)),this.stock8=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_44_SIZE_STOCK)),this.stock9=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_45_SIZE_STOCK)),this.stock10=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_46_SIZE_STOCK)),this.stockTotal=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_STOCK)),this.selectedSizeButtonValue=""}ngOnInit(){this.productId=this.activatedRoute.snapshot.paramMap.get("id"),this.product=this.service.products.find(t=>t.id==this.productId),this.productDetails=this.product.details.split("."),this.productCare=this.product.care.split("."),this.stockS=this.product.stockA.S,this.stockM=this.product.stockA.M,this.stockL=this.product.stockA.L,this.stockXL=this.product.stockA.XL,this.stock1=this.product.stockB.num1,this.stock2=this.product.stockB.num2,this.stock3=this.product.stockB.num3,this.stock4=this.product.stockB.num4,this.stock5=this.product.stockB.num5,this.stock6=this.product.stockB.num6,this.stock7=this.product.stockB.num7,this.stock8=this.product.stockB.num8,this.stock9=this.product.stockB.num9,this.stock10=this.product.stockB.num10,this.stockTotal=this.stockS+this.stockM+this.stockL+this.stockXL+this.stock1+this.stock2+this.stock3+this.stock4+this.stock5+this.stock6+this.stock7+this.stock8+this.stock9+this.stock10}addToFavorites(t){Or().fire({position:"top-end",icon:"success",title:`${t.name} was added to your favorites`,showConfirmButton:!1,timer:1500}),this.service.addItemToFavs(t),this.service3.addToFavorites(t)}removeFromFavorites(t){this.service3.removeFromFavorites(t),this.service.removeItemFromFavs(t)}addToFavoritesByNotifyButton(t,r){Or().fire("Thank you for your interest!",`We will inform you  when </br>${r.name} arrived in our store`,"success"),this.service.addItemToFavs(r),this.service3.addToFavorites(r),this.onChangeButtonColor(t)}handleAddToCart(t,r){if(""!==r)if(this.isItemOver(r))Or().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:`There is no ${this.product.name} </br>in our stocks for size '${r}'`});else{this.service.removeProduct(r,this.product);const{v4:i}=p(5464);let a={uniqId:i(),id:this.product.id,name:this.product.name,price:this.product.price,image:this.product.image1,size:r,quantity:1,stockA:{S:this.product.stockA.S,M:this.product.stockA.M,L:this.product.stockA.L,XL:this.product.stockA.XL},stockB:{num1:this.product.stockB.num1,num2:this.product.stockB.num2,num3:this.product.stockB.num3,num4:this.product.stockB.num4,num5:this.product.stockB.num5,num6:this.product.stockB.num6,num7:this.product.stockB.num7,num8:this.product.stockB.num8,num9:this.product.stockB.num9,num10:this.product.stockB.num10}};this.service2.addChosenItemToCart(a),this.stockTotal--,Or().fire({position:"top-end",icon:"success",title:`${this.product.name} was added to your shopping cart`,showConfirmButton:!1,timer:1500}),this.onChangeButtonColor(t),this.saveInStocksData()}}isItemOver(t){return"S"===t?0===this.product.stockA.S:"M"===t?0===this.product.stockA.M:"L"===t?0===this.product.stockA.L:"XL"===t?0===this.product.stockA.XL:"37"===t?0===this.product.stockB.num1:"38"===t?0===this.product.stockB.num2:"39"===t?0===this.product.stockB.num3:"40"===t?0===this.product.stockB.num4:"41"===t?0===this.product.stockB.num5:"42"===t?0===this.product.stockB.num6:"43"===t?0===this.product.stockB.num7:"44"===t?0===this.product.stockB.num8:"45"===t?0===this.product.stockB.num9:0===this.product.stockB.num10}onChangeButtonColor(t){t.target.classList.add("active"),setTimeout(()=>{t.target.classList.remove("active")},1500)}saveInStocksData(){localStorage.setItem(this.LOCAL_STORAGE_S_SIZE_STOCK,JSON.stringify(this.stockS)),localStorage.setItem(this.LOCAL_STORAGE_M_SIZE_STOCK,JSON.stringify(this.stockM)),localStorage.setItem(this.LOCAL_STORAGE_L_SIZE_STOCK,JSON.stringify(this.stockL)),localStorage.setItem(this.LOCAL_STORAGE_XL_SIZE_STOCK,JSON.stringify(this.stockXL)),localStorage.setItem(this.LOCAL_STORAGE_37_SIZE_STOCK,JSON.stringify(this.stock1)),localStorage.setItem(this.LOCAL_STORAGE_38_SIZE_STOCK,JSON.stringify(this.stock2)),localStorage.setItem(this.LOCAL_STORAGE_39_SIZE_STOCK,JSON.stringify(this.stock3)),localStorage.setItem(this.LOCAL_STORAGE_40_SIZE_STOCK,JSON.stringify(this.stock4)),localStorage.setItem(this.LOCAL_STORAGE_41_SIZE_STOCK,JSON.stringify(this.stock5)),localStorage.setItem(this.LOCAL_STORAGE_42_SIZE_STOCK,JSON.stringify(this.stock6)),localStorage.setItem(this.LOCAL_STORAGE_43_SIZE_STOCK,JSON.stringify(this.stock7)),localStorage.setItem(this.LOCAL_STORAGE_44_SIZE_STOCK,JSON.stringify(this.stock8)),localStorage.setItem(this.LOCAL_STORAGE_45_SIZE_STOCK,JSON.stringify(this.stock9)),localStorage.setItem(this.LOCAL_STORAGE_46_SIZE_STOCK,JSON.stringify(this.stock10)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_STOCK,JSON.stringify(this.stockTotal))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Zr),s.Y36(wc),s.Y36(Ny),s.Y36(Y0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-product-view"]],decls:52,vars:37,consts:[[1,"product"],[1,"arrows"],[1,"left-arrow",3,"routerLink"],[1,"right-arrow",3,"routerLink"],[1,"main"],[1,"left"],[1,"product-img"],[3,"src","alt","mouseover","mouseout"],[1,"right"],[3,"multiple"],["header","Description"],["align","justify"],["header","Tech Details"],[4,"ngFor","ngForOf"],["header","Care Instructions",4,"ngIf"],[1,"favorites"],["src","https://cdn.lordicon.com/rjzlnunf.json","trigger","hover","style","width:40px;height:40px",3,"click",4,"ngIf"],["src","https://cdn.lordicon.com/iwaotjbp.json","trigger","hover","style","width:40px;height:40px",3,"click",4,"ngIf"],["class","green-span",4,"ngIf"],["class","red-span",4,"ngIf"],["ngDefaultControl","",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["nonSneakersSelection",""],[1,"ng-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"click",4,"ngIf","ngIfElse"],["notifyMe",""],["src","../../assets/tech.png"],["header","Care Instructions"],["src","../../assets/care.png"],["src","https://cdn.lordicon.com/rjzlnunf.json","trigger","hover",2,"width","40px","height","40px",3,"click"],["src","https://cdn.lordicon.com/iwaotjbp.json","trigger","hover",2,"width","40px","height","40px",3,"click"],[1,"green-span"],[1,"red-span"],["ngDefaultControl","",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","name","size"],["value","37","name","size",3,"disabled"],["value","38","name","size",3,"disabled"],["value","39","name","size",3,"disabled"],["value","40","name","size",3,"disabled"],["value","41","name","size",3,"disabled"],["value","42","name","size",3,"disabled"],["value","43","name","size",3,"disabled"],["value","44","name","size",3,"disabled"],["value","45","name","size",3,"disabled"],["value","46","name","size",3,"disabled"],["value","S","name","size",3,"disabled"],["value","M","name","size",3,"disabled"],["value","L","name","size",3,"disabled"],["value","XL","name","size",3,"disabled"],["class","red1",4,"ngIf"],[1,"red1"],[3,"click"],[1,"red2"],[1,"red-button",3,"click"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"a",2),s._uU(3),s.qZA(),s.TgZ(4,"a",3),s._uU(5),s.qZA()(),s.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"img",7),s.NdJ("mouseover",function(){return r.product.src=r.product.image2})("mouseout",function(){return r.product.src=r.product.image1}),s.qZA()()(),s.TgZ(10,"div",8)(11,"h1"),s._uU(12),s.qZA(),s.TgZ(13,"p-accordion",9)(14,"p-accordionTab",10)(15,"p",11),s._uU(16),s.qZA()(),s.TgZ(17,"p-accordionTab",12)(18,"p",11),s.YNc(19,JN,3,1,"li",13),s.qZA()(),s.YNc(20,Sx,3,1,"p-accordionTab",14),s.qZA(),s.TgZ(21,"div",15),s.YNc(22,Tx,1,0,"lord-icon",16),s.YNc(23,$S,1,0,"lord-icon",17),s.YNc(24,zS,2,0,"span",18),s.YNc(25,qS,2,0,"span",19),s.qZA(),s.TgZ(26,"h3"),s._uU(27),s.TgZ(28,"p"),s._uU(29,"VAT included"),s.qZA()(),s.YNc(30,Ix,23,11,"select",20),s.YNc(31,Ax,11,5,"ng-template",null,21,s.W1O),s.TgZ(33,"div",22)(34,"div",23),s.YNc(35,xx,2,1,"p",24),s.YNc(36,Mx,2,1,"p",24),s.YNc(37,lm,2,1,"p",24),s.YNc(38,ZS,2,1,"p",24),s.YNc(39,YS,2,1,"p",24),s.YNc(40,JS,2,1,"p",24),s.YNc(41,eF,2,1,"p",24),s.YNc(42,XS,2,1,"p",24),s.YNc(43,Fx,2,1,"p",24),s.YNc(44,cm,2,1,"p",24),s.YNc(45,Q0,2,1,"p",24),s.YNc(46,Bx,2,1,"p",24),s.YNc(47,um,2,1,"p",24),s.YNc(48,Hx,2,1,"p",24),s.qZA(),s.YNc(49,jx,2,0,"button",25),s.qZA(),s.YNc(50,Fy,4,0,"ng-template",null,26,s.W1O),s.qZA()()()),2&t){const i=s.MAs(32),a=s.MAs(51);s.xp6(2),s.Q6J("routerLink",s.DdM(35,Ly)),s.xp6(1),s.hij(" ","< Go to Shop"," "),s.xp6(1),s.Q6J("routerLink",s.DdM(36,Gx)),s.xp6(1),s.hij(" ","Go to Shopping Cart >"," "),s.xp6(4),s.s9C("alt",r.product.name),s.Q6J("src",r.product.src||r.product.image1,s.LSH),s.xp6(3),s.Oqu(r.product.name),s.xp6(1),s.Q6J("multiple",!0),s.xp6(3),s.hij(" ",r.product.description," "),s.xp6(3),s.Q6J("ngForOf",r.productDetails),s.xp6(1),s.Q6J("ngIf","Sneakers"!==r.product.category),s.xp6(2),s.Q6J("ngIf",!1===r.product.fav),s.xp6(1),s.Q6J("ngIf",!0===r.product.fav),s.xp6(1),s.Q6J("ngIf",!1===r.product.fav),s.xp6(1),s.Q6J("ngIf",!0===r.product.fav),s.xp6(2),s.hij(" \u20ac ",r.product.price," "),s.xp6(3),s.Q6J("ngIf","Sneakers"===r.product.category)("ngIfElse",i),s.xp6(4),s.Q6J("ngSwitch",r.selectedSizeButtonValue),s.xp6(1),s.Q6J("ngSwitchCase","S"),s.xp6(1),s.Q6J("ngSwitchCase","M"),s.xp6(1),s.Q6J("ngSwitchCase","L"),s.xp6(1),s.Q6J("ngSwitchCase","XL"),s.xp6(1),s.Q6J("ngSwitchCase","37"),s.xp6(1),s.Q6J("ngSwitchCase","38"),s.xp6(1),s.Q6J("ngSwitchCase","39"),s.xp6(1),s.Q6J("ngSwitchCase","40"),s.xp6(1),s.Q6J("ngSwitchCase","41"),s.xp6(1),s.Q6J("ngSwitchCase","42"),s.xp6(1),s.Q6J("ngSwitchCase","43"),s.xp6(1),s.Q6J("ngSwitchCase","44"),s.xp6(1),s.Q6J("ngSwitchCase","45"),s.xp6(1),s.Q6J("ngSwitchCase","46"),s.xp6(1),s.Q6J("ngIf",0!==r.stockTotal)("ngIfElse",a)}},dependencies:[gi,jn,ls,ua,Og,FC,fo,pd,Zv,wp,fd,Sp,hd],styles:[".product[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin-top:10px;font-family:Dosis,sans-serif}.arrows[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.left-arrow[_ngcontent-%COMP%]{align-self:flex-start;margin:0 1rem;color:#000;text-decoration:none;font-size:1.2rem;padding:.2rem .5rem}.right-arrow[_ngcontent-%COMP%]{align-self:flex-end;margin:0 1rem;color:#000;text-decoration:none;font-size:1.2rem;padding:.2rem .5rem}.left-arrow[_ngcontent-%COMP%]:hover, .right-arrow[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.main[_ngcontent-%COMP%]{max-width:100%;display:flex;flex:1;flex-direction:row;justify-content:center;align-items:center;gap:4rem;padding:6rem}.product-img[_ngcontent-%COMP%]{position:relative;width:30rem;height:30rem;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{object-fit:cover}.right[_ngcontent-%COMP%]{width:20rem;display:flex;flex-direction:column;justify-content:space-between;gap:1rem}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-weight:400;font-size:1.5rem}p[_ngcontent-%COMP%]{font-weight:200;font-size:1rem}select[_ngcontent-%COMP%]{border:solid black 2px;color:#000;padding:0 .2rem;height:3rem;font-size:1rem;cursor:pointer}select[_ngcontent-%COMP%]:hover{background-color:#d3e6ffe4}button[_ngcontent-%COMP%]{background-color:#000;background-image:linear-gradient(#228f43,#228f43);background-position:0% 100%;background-repeat:no-repeat;background-size:0% 100%;border:none;color:#fff;font-size:1rem;font-weight:600;padding:1rem;transition:.4s;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#1d1d1db4}button.active[_ngcontent-%COMP%]{background-size:100% 100%;color:#fff;transition:.6s}.ng-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin-top:30px;gap:40px}span.red1[_ngcontent-%COMP%]{color:#dc143c;font-weight:200;font-size:1rem;line-height:0;align-self:center}.red-button[_ngcontent-%COMP%]{background-color:#dc143c}.red2[_ngcontent-%COMP%]{color:#dc143c}lord-icon[_ngcontent-%COMP%]{cursor:pointer}.favorites[_ngcontent-%COMP%]{display:flex;align-items:center}.green-span[_ngcontent-%COMP%]{display:none;color:#228b22}.red-span[_ngcontent-%COMP%]{display:none;color:#ff1493}.favorites[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:inline-block}p-accordionTab[_ngcontent-%COMP%]:nth-of-type(2), p-accordionTab[_ngcontent-%COMP%]:nth-of-type(3){line-height:1.5}p-accordionTab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:row;align-items:center}p-accordionTab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin:2px 10px 2px 2px;width:20px;height:20px}@media only screen and (max-width: 933px){.main[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:0;padding:1rem 2rem 3rem}.left[_ngcontent-%COMP%]{width:100%}.product-img[_ngcontent-%COMP%]{width:100%;height:auto}.right[_ngcontent-%COMP%]{width:90%;margin-bottom:2rem}}"]}),n})(),eT=(()=>{class n{constructor(){this.selectedGenderButtonValue="Men",this.selectedCategoryButtonValue="T-shirts",this.enteredSearchValue="",this.genderFilterButtonSelectionChanged=new s.vpe,this.categoryFilterButtonSelectionChanged=new s.vpe,this.searchTextChanged=new s.vpe}ngOnInit(){}onButtonSelectionGenderChanged(){this.genderFilterButtonSelectionChanged.emit(this.selectedGenderButtonValue)}onButtonSelectionCategoryChanged(){this.categoryFilterButtonSelectionChanged.emit(this.selectedCategoryButtonValue)}onSearchTextChanged(){this.searchTextChanged.emit(this.enteredSearchValue)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-categories"]],outputs:{genderFilterButtonSelectionChanged:"genderFilterButtonSelectionChanged",categoryFilterButtonSelectionChanged:"categoryFilterButtonSelectionChanged",searchTextChanged:"searchTextChanged"},decls:10,vars:8,consts:[[1,"top"],[1,"genders"],["name","gender","type","radio","value","Men","label","Men",3,"ngModel","ngModelChange","change"],["name","gender","type","radio","value","Women","label","Women",3,"ngModel","ngModelChange","change"],[1,"categories"],[1,"category-buttons"],["name","category","type","radio","value","T-shirts","label","T-shirts",3,"ngModel","ngModelChange","change"],["name","category","type","radio","value","Sweaters","label","Sweaters",3,"ngModel","ngModelChange","change"],["name","category","type","radio","value","Sneakers","label","Sneakers",3,"ngModel","ngModelChange","change"],["type","text",1,"search",3,"placeholder","ngModel","ngModelChange","input"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"input",2),s.NdJ("ngModelChange",function(a){return r.selectedGenderButtonValue=a})("change",function(){return r.onButtonSelectionGenderChanged()}),s.qZA(),s.TgZ(3,"input",3),s.NdJ("ngModelChange",function(a){return r.selectedGenderButtonValue=a})("change",function(){return r.onButtonSelectionGenderChanged()}),s.qZA()(),s.TgZ(4,"div",4)(5,"div",5)(6,"input",6),s.NdJ("ngModelChange",function(a){return r.selectedCategoryButtonValue=a})("change",function(){return r.onButtonSelectionCategoryChanged()}),s.qZA(),s.TgZ(7,"input",7),s.NdJ("ngModelChange",function(a){return r.selectedCategoryButtonValue=a})("change",function(){return r.onButtonSelectionCategoryChanged()}),s.qZA(),s.TgZ(8,"input",8),s.NdJ("ngModelChange",function(a){return r.selectedCategoryButtonValue=a})("change",function(){return r.onButtonSelectionCategoryChanged()}),s.qZA()(),s.TgZ(9,"input",9),s.NdJ("ngModelChange",function(a){return r.enteredSearchValue=a})("input",function(){return r.onSearchTextChanged()}),s.qZA()()()),2&t&&(s.xp6(2),s.Q6J("ngModel",r.selectedGenderButtonValue),s.xp6(1),s.Q6J("ngModel",r.selectedGenderButtonValue),s.xp6(3),s.Q6J("ngModel",r.selectedCategoryButtonValue),s.xp6(1),s.Q6J("ngModel",r.selectedCategoryButtonValue),s.xp6(1),s.Q6J("ngModel",r.selectedCategoryButtonValue),s.xp6(1),s.hYB("placeholder","Search in ",r.selectedGenderButtonValue,"'s ",r.selectedCategoryButtonValue,""),s.Q6J("ngModel",r.enteredSearchValue))},dependencies:[wp,uE,Sp,hd],styles:[".top[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%;padding-bottom:1rem;margin-bottom:1rem;margin-top:1rem;border-bottom:solid 1px rgba(0,0,0,.199)}.genders[_ngcontent-%COMP%]{background:#454857;padding:4px;border-radius:3px;box-shadow:inset 0 0 0 3px #23212d4d,0 0 0 3px #b9b9b94d;position:relative;width:6.6rem;margin-left:18px}.genders[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;width:auto;height:100%;-webkit-appearance:none;appearance:none;outline:none;cursor:pointer;border-radius:2px;padding:4px 8px;background:#454857;color:#bdbdbdbd;font-size:14px;transition:all .1s linear}.genders[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked{background-image:linear-gradient(180deg,#95d891,#74bbad);color:#fff;box-shadow:0 1px 1px #0000002e;text-shadow:0 1px 0px #79485f7a}.genders[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:before{content:attr(label);display:inline-block;text-align:center;width:100%}.categories[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 1rem;gap:1rem}.category-buttons[_ngcontent-%COMP%]{background:#454857;padding:4px;border-radius:3px;box-shadow:inset 0 0 0 3px #23212d4d,0 0 0 3px #b9b9b94d;position:relative;width:12.4rem}.category-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;width:auto;height:100%;-webkit-appearance:none;appearance:none;outline:none;cursor:pointer;border-radius:2px;padding:4px 8px;background:#454857;color:#bdbdbdbd;font-size:14px;transition:all .1s linear}.category-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked{background-image:linear-gradient(180deg,#95d891,#74bbad);color:#fff;box-shadow:0 1px 1px #0000002e;text-shadow:0 1px 0px #79485f7a}.category-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:before{content:attr(label);display:inline-block;text-align:center;width:100%}.search[_ngcontent-%COMP%]{height:1.5rem;width:13rem;outline:none;border:solid black 1px;transition:.2s;padding:0 .2rem;margin:0 1rem;opacity:.5;font-family:Dosis,sans-serif}.search[_ngcontent-%COMP%]:focus{background:#ffdcd357;box-shadow:#00000036 0 0 5px}"]}),n})(),tT=(()=>{class n{transform(t,r=20,i=!1,a="..."){return i?t:t.split(" ").length>r?t.split(" ").splice(0,r).join(" ")+a:t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=s.Yjl({name:"shortenText",type:n,pure:!0}),n})();function X0(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"a",5)(2,"div",6)(3,"img",7),s.NdJ("mouseover",function(){s.CHM(t);const i=s.oxw(3).$implicit;return s.KtG(i.src=i.image2)})("mouseout",function(){s.CHM(t);const i=s.oxw(3).$implicit;return s.KtG(i.src=i.image1)}),s.qZA()(),s.TgZ(4,"p",8),s._uU(5),s.qZA(),s.TgZ(6,"p",9),s._uU(7),s.qZA()(),s.TgZ(8,"p",10),s.ALo(9,"shortenText"),s._uU(10),s.qZA()()}if(2&n){const t=s.oxw(3).$implicit;s.xp6(1),s.MGl("routerLink","/Shop/Product/",t.id,""),s.xp6(2),s.s9C("alt",t.name),s.Q6J("src",t.src||t.image1,s.LSH),s.xp6(2),s.hij("\u20ac ",t.price,""),s.xp6(2),s.Oqu(t.name),s.xp6(1),s.Q6J("innerHTML",s.xi3(9,7,t.description,15),s.oJD),s.xp6(2),s.hij(" ",t.description," ")}}function nT(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,X0,11,10,"div",4),s.qZA()),2&n){const t=s.oxw(2).$implicit,r=s.oxw();s.xp6(1),s.Q6J("ngIf",""===r.searchValueResult||t.name.toLowerCase().includes(r.searchValueResult))}}function zx(n,e){if(1&n&&(s.TgZ(0,"div",3),s.YNc(1,nT,2,1,"div",4),s.qZA()),2&n){const t=s.oxw().$implicit,r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.categorySelectionResult===t.category)}}function qx(n,e){if(1&n&&(s.ynx(0),s.YNc(1,zx,2,1,"div",2),s.BQk()),2&n){const t=e.$implicit,r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.genderSelectionResult===t.gender)}}let tF=(()=>{class n{constructor(t,r){this.activatedRoute=t,this.service=r,this.genderSelectionResult="",this.categorySelectionResult="",this.searchValueResult=""}ngOnInit(){this.products=this.service.products,this.productId=this.activatedRoute.snapshot.paramMap.get("id"),this.product=this.service.products.find(t=>t.id==this.productId)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Zr),s.Y36(wc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-card"]],inputs:{genderSelectionResult:"genderSelectionResult",categorySelectionResult:"categorySelectionResult",searchValueResult:"searchValueResult"},decls:2,vars:1,consts:[[1,"cards"],[4,"ngFor","ngForOf"],["class","product-container",4,"ngIf"],[1,"product-container"],[4,"ngIf"],[3,"routerLink"],[1,"image-container"],[3,"src","alt","mouseover","mouseout"],[1,"price"],[1,"name"],["align","justify",1,"grey",3,"innerHTML"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,qx,2,1,"ng-container",1),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngForOf",r.products))},dependencies:[gi,jn,fo,tT],styles:[".cards[_ngcontent-%COMP%]{padding:2rem;display:grid;grid-column-gap:20px;grid-template-columns:repeat(3,1fr);justify-content:center;align-items:center;list-style:none}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.product-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:Dosis,sans-serif}.image-container[_ngcontent-%COMP%]{position:relative;background-color:#f7f7f7;height:15rem;width:15rem;padding:.5rem;margin-bottom:.5rem;display:flex;align-items:center;justify-content:center}img[_ngcontent-%COMP%]{object-position:center;max-height:100%;max-width:100%;object-fit:cover;transition:1s}.image-container[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(.95)}p[_ngcontent-%COMP%]{max-width:15rem;justify-self:flex-start;align-self:flex-start;margin:0;font-weight:300}.name[_ngcontent-%COMP%]{height:2.5rem}.grey[_ngcontent-%COMP%]{color:#dcdcdc;margin-top:-15px;margin-bottom:10px}@media only screen and (max-width: 850px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media only screen and (max-width: 570px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),n})(),ew=(()=>{class n{constructor(t){this.service=t,this.genderSelectionButton="Men",this.categorySelectionButton="T-shirts",this.searchedText=""}ngOnInit(){this.products=this.service.products}getGenderSelection(){return this.genderSelectionButton}getCategorySelection(){return this.categorySelectionButton}getSearchValue(){return this.searchedText.toLowerCase()}onFilterButtonGenderChanged(t){this.genderSelectionButton=t}onFilterButtonCategoryChanged(t){this.categorySelectionButton=t}onSearchTextChanged(t){this.searchedText=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(wc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-shop"]],decls:3,vars:3,consts:[[1,"shop"],[3,"genderFilterButtonSelectionChanged","categoryFilterButtonSelectionChanged","searchTextChanged"],[3,"genderSelectionResult","categorySelectionResult","searchValueResult"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"app-categories",1),s.NdJ("genderFilterButtonSelectionChanged",function(a){return r.onFilterButtonGenderChanged(a)})("categoryFilterButtonSelectionChanged",function(a){return r.onFilterButtonCategoryChanged(a)})("searchTextChanged",function(a){return r.onSearchTextChanged(a)}),s.qZA(),s._UZ(2,"app-card",2),s.qZA()),2&t&&(s.xp6(2),s.Q6J("genderSelectionResult",r.getGenderSelection())("categorySelectionResult",r.getCategorySelection())("searchValueResult",r.getSearchValue()))},dependencies:[eT,tF],styles:[".shop[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;box-sizing:border-box;color:#000}"]}),n})();class dm{constructor(){this.orderedItems2=[],this.totalQuantity2=[],this.totalPrice2=0,this.LOCAL_STORAGE_ORDERED_ITEMS_LIST_KEY="orderedItems.list",this.LOCAL_STORAGE_TOTAL_QUANTITY_KEY="totalQuantity",this.LOCAL_STORAGE_TOTAL_PRICE="totalPrice",this.orderedItems=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_ORDERED_ITEMS_LIST_KEY))||this.orderedItems2,this.totalQuantity=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_QUANTITY_KEY))||this.totalQuantity2,this.totalPrice=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_PRICE))||this.totalPrice2}addOrderedItemToAccount(e){e.map(t=>{this.orderedItems.push(t)}),localStorage.setItem(this.LOCAL_STORAGE_ORDERED_ITEMS_LIST_KEY,JSON.stringify(this.orderedItems))}removeItem(e){this.orderedItems.map((t,r)=>{e.uniqId==t.uniqId&&this.orderedItems.splice(r,1)}),this.totalPrice-=e.price*e.quantity,this.saveInOrderedItemsServicesData()}saveInOrderedItemsServicesData(){localStorage.setItem(this.LOCAL_STORAGE_ORDERED_ITEMS_LIST_KEY,JSON.stringify(this.orderedItems)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_QUANTITY_KEY,JSON.stringify(this.totalQuantity)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_PRICE,JSON.stringify(this.totalPrice))}}const tw=function(){return["/Shop"]};function nw(n,e){1&n&&(s.TgZ(0,"div",4)(1,"p"),s._uU(2,"Your cart is empty"),s.qZA(),s.TgZ(3,"p"),s._uU(4,"Fill it up with our collection!"),s.qZA(),s.TgZ(5,"a",5),s._uU(6,"Shop"),s.qZA()()),2&n&&(s.xp6(5),s.Q6J("routerLink",s.DdM(1,tw)))}function rw(n,e){if(1&n&&(s.TgZ(0,"h1"),s._uU(1," Your shopping cart: ( "),s.TgZ(2,"span"),s._uU(3),s.qZA(),s._uU(4," ) items "),s.qZA()),2&n){const t=s.oxw(2);s.xp6(3),s.hij(" ",t.totalQuantity.length," ")}}function Wx(n,e){if(1&n&&(s.TgZ(0,"h1"),s._uU(1," Your shopping cart: ( "),s.TgZ(2,"span"),s._uU(3),s.qZA(),s._uU(4," ) item "),s.qZA()),2&n){const t=s.oxw(2);s.xp6(3),s.hij(" ",t.totalQuantity.length," ")}}function Zx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockA.S)}}function Kx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockA.M)}}function Yx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockA.L)}}function rT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockA.XL)}}function iw(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num1)}}function iT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num2)}}function Qx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num3)}}function sT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num4)}}function oT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num5)}}function Jx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num6)}}function aT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num7)}}function lT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num8)}}function Xx(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num9)}}function cT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,a=s.oxw(2);return s.KtG(a.increaseQuantity(i,i.size))}),s._uU(1," + "),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("disabled",0==t.stockB.num10)}}function uT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"li")(1,"a",5),s._UZ(2,"img",20),s.qZA(),s.TgZ(3,"div",21)(4,"a",5)(5,"p",22),s._uU(6),s.qZA()(),s.TgZ(7,"p",23),s._uU(8),s.qZA(),s.TgZ(9,"lord-icon",24),s.NdJ("click",function(){const a=s.CHM(t).$implicit,u=s.oxw(2);return s.KtG(u.removeItem(a))}),s.qZA()(),s.TgZ(10,"div",25)(11,"button",26),s.NdJ("click",function(){const a=s.CHM(t).$implicit,u=s.oxw(2);return s.KtG(u.decreaseQuantity(a,a.size))}),s._uU(12," - "),s.qZA(),s.TgZ(13,"p",27),s._uU(14),s.qZA(),s.TgZ(15,"div",28),s.YNc(16,Zx,2,1,"button",29),s.YNc(17,Kx,2,1,"button",29),s.YNc(18,Yx,2,1,"button",29),s.YNc(19,rT,2,1,"button",29),s.YNc(20,iw,2,1,"button",29),s.YNc(21,iT,2,1,"button",29),s.YNc(22,Qx,2,1,"button",29),s.YNc(23,sT,2,1,"button",29),s.YNc(24,oT,2,1,"button",29),s.YNc(25,Jx,2,1,"button",29),s.YNc(26,aT,2,1,"button",29),s.YNc(27,lT,2,1,"button",29),s.YNc(28,Xx,2,1,"button",29),s.YNc(29,cT,2,1,"button",29),s.qZA()()()}if(2&n){const t=e.$implicit;s.xp6(1),s.MGl("routerLink","/Shop/Product/",t.id,""),s.xp6(1),s.s9C("src",t.image,s.LSH),s.s9C("alt",t.name),s.xp6(2),s.MGl("routerLink","/Shop/Product/",t.id,""),s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Oqu(t.size),s.xp6(3),s.Q6J("disabled",1==t.quantity),s.xp6(3),s.Oqu(t.quantity),s.xp6(1),s.Q6J("ngSwitch",t.size),s.xp6(1),s.Q6J("ngSwitchCase","S"),s.xp6(1),s.Q6J("ngSwitchCase","M"),s.xp6(1),s.Q6J("ngSwitchCase","L"),s.xp6(1),s.Q6J("ngSwitchCase","XL"),s.xp6(1),s.Q6J("ngSwitchCase","37"),s.xp6(1),s.Q6J("ngSwitchCase","38"),s.xp6(1),s.Q6J("ngSwitchCase","39"),s.xp6(1),s.Q6J("ngSwitchCase","40"),s.xp6(1),s.Q6J("ngSwitchCase","41"),s.xp6(1),s.Q6J("ngSwitchCase","42"),s.xp6(1),s.Q6J("ngSwitchCase","43"),s.xp6(1),s.Q6J("ngSwitchCase","44"),s.xp6(1),s.Q6J("ngSwitchCase","45"),s.xp6(1),s.Q6J("ngSwitchCase","46")}}function ws(n,e){1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n&&(s.xp6(1),s.hij(" ","(free shipping on orders over \u20ac100)"," "))}function qh(n,e){1&n&&(s.TgZ(0,"div"),s._uU(1," FREE "),s.qZA())}function eP(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij(" ",t.shippingPrice," ")}}function tP(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij(" \u20ac ",t.totalPrice.toFixed(2)," ")}}function nF(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("\u20ac ",(t.totalPrice+t.shippingPrice).toFixed(2),"")}}const rF=function(){return["/ErrorPage"]};function dT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"ul"),s.YNc(1,rw,5,1,"h1",6),s.YNc(2,Wx,5,1,"ng-template",null,7,s.W1O),s.YNc(4,uT,30,23,"li",8),s.TgZ(5,"div",9)(6,"h3"),s._uU(7,"Total"),s.qZA(),s.TgZ(8,"div",10)(9,"p"),s._uU(10,"Sub-total"),s.qZA(),s.TgZ(11,"div"),s._uU(12),s.qZA()(),s.TgZ(13,"div",11)(14,"p"),s._uU(15,"Shipping "),s.YNc(16,ws,2,1,"span",12),s.qZA(),s.YNc(17,qh,2,0,"div",6),s.YNc(18,eP,2,1,"ng-template",null,13,s.W1O),s.qZA(),s.TgZ(20,"div",14)(21,"p"),s._uU(22,"Total (VAT included)"),s.qZA(),s.YNc(23,tP,2,1,"div",6),s.YNc(24,nF,2,1,"ng-template",null,15,s.W1O),s.qZA(),s.TgZ(26,"a",16),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.addItemsToOrderedItems())}),s._uU(27,"ORDER"),s.qZA()(),s.TgZ(28,"div",17)(29,"h3"),s._uU(30,"We accept"),s.qZA(),s.TgZ(31,"div",18),s._UZ(32,"img",19),s.qZA()()()}if(2&n){const t=s.MAs(3),r=s.MAs(19),i=s.MAs(25),a=s.oxw();s.xp6(1),s.Q6J("ngIf",a.totalQuantity.length>1)("ngIfElse",t),s.xp6(3),s.Q6J("ngForOf",a.chosenItems),s.xp6(8),s.Oqu(a.totalPrice.toFixed(2)),s.xp6(4),s.Q6J("ngIf",a.totalPrice<=100),s.xp6(1),s.Q6J("ngIf",a.totalPrice>100)("ngIfElse",r),s.xp6(6),s.Q6J("ngIf",a.totalPrice>100)("ngIfElse",i),s.xp6(3),s.Q6J("routerLink",s.DdM(10,rF))}}let hT=(()=>{class n{constructor(t,r,i){this.service=t,this.service2=r,this.service3=i,this.LOCAL_STORAGE_CHOSEN_ITEMS_LIST="chosen-items.list",this.LOCAL_STORAGE_TOTAL_QUANTITY="totalQuantity",this.LOCAL_STORAGE_TOTAL_PRICE="totalPrice",this.chosenItems=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_CHOSEN_ITEMS_LIST)),this.totalQuantity=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_QUANTITY)),this.totalPrice=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_PRICE)),this.shippingPrice=20}ngOnInit(){this.chosenItems=this.service2.items,this.totalQuantity=this.service2.totalQuantity,this.totalPrice=this.service2.totalPrice}addItemsToOrderedItems(){Or().fire("Thank you for your order!","Your ordered items were added to your account!","success"),this.service3.addOrderedItemToAccount(this.chosenItems),this.service2.removeAllItems(this.chosenItems),this.totalPrice=0,this.saveInLocalStorageData()}removeItem(t){Or().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&(Or().fire("Deleted!",`${t.name} </br>was removed from your chosen items`,"success"),this.service2.removeItem(t),this.service.addItemQuantityToStock(t),this.totalPrice-=t.quantity*t.price,this.saveInLocalStorageData())})}decreaseQuantity(t,r){switch(this.service2.decreaseQuantity(t),this.service.addItemSizeToStock(t),r){case"S":t.stockA.S++;break;case"M":t.stockA.M++;break;case"L":t.stockA.L++;break;case"XL":t.stockA.XL++;break;case"37":t.stockB.num1++;break;case"38":t.stockB.num2++;break;case"39":t.stockB.num3++;break;case"40":t.stockB.num4++;break;case"41":t.stockB.num5++;break;case"42":t.stockB.num6++;break;case"43":t.stockB.num7++;break;case"44":t.stockB.num8++;break;case"45":t.stockB.num9++;break;case"46":t.stockB.num10++}this.totalPrice-=t.price,this.saveInLocalStorageData()}increaseQuantity(t,r){switch(this.service2.increaseQuantity(t),this.service.removeItemSizeFromStock(t),r){case"S":t.stockA.S--;break;case"M":t.stockA.M--;break;case"L":t.stockA.L--;break;case"XL":t.stockA.XL--;break;case"37":t.stockB.num1--;break;case"38":t.stockB.num2--;break;case"39":t.stockB.num3--;break;case"40":t.stockB.num4--;break;case"41":t.stockB.num5--;break;case"42":t.stockB.num6--;break;case"43":t.stockB.num7--;break;case"44":t.stockB.num8--;break;case"45":t.stockB.num9--;break;case"46":t.stockB.num10--}this.totalPrice+=t.price,this.saveInLocalStorageData()}saveInLocalStorageData(){localStorage.setItem(this.LOCAL_STORAGE_CHOSEN_ITEMS_LIST,JSON.stringify(this.chosenItems)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_QUANTITY,JSON.stringify(this.totalQuantity)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_PRICE,JSON.stringify(this.totalPrice))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(wc),s.Y36(Ny),s.Y36(dm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:6,vars:5,consts:[[1,"shopping-cart"],[1,"left-arrow",3,"routerLink"],["class","empty-cart",4,"ngIf","ngIfElse"],["proceedCheckOut",""],[1,"empty-cart"],[3,"routerLink"],[4,"ngIf","ngIfElse"],["onlyOne",""],[4,"ngFor","ngForOf"],[1,"total-price"],[1,"sub-total"],[1,"shipping"],[4,"ngIf"],["shipping",""],[1,"total"],["shippingAdded",""],[3,"routerLink","click"],[1,"payment-method"],[1,"icons"],["src","../../assets/credit-cards.png","alt","credit cards"],[3,"src","alt"],[1,"description"],[1,"name"],[1,"size"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","hover",2,"width","25px","height","25px",3,"click"],[1,"add-and-remove"],[3,"disabled","click"],[1,"bold"],[3,"ngSwitch"],[3,"disabled","click",4,"ngSwitchCase"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"a",1),s._uU(2),s.qZA(),s.YNc(3,nw,7,2,"div",2),s.YNc(4,dT,33,11,"ng-template",null,3,s.W1O),s.qZA()),2&t){const i=s.MAs(5);s.xp6(1),s.Q6J("routerLink",s.DdM(4,tw)),s.xp6(1),s.hij(" ","< Go to Shop"," "),s.xp6(1),s.Q6J("ngIf",0==r.chosenItems.length)("ngIfElse",i)}},dependencies:[gi,jn,ls,ua,fo],styles:[".shopping-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem;margin-top:10px;font-family:Dosis,sans-serif}.left-arrow[_ngcontent-%COMP%]{align-self:flex-start;margin:0 1rem;color:#000;text-decoration:none;font-size:1.2rem;padding:.2rem .5rem}.left-arrow[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;background-color:#f7f7f7;margin-top:20px;padding:5rem;gap:1rem;font-size:1.5rem;border-radius:4px;box-shadow:#0000002f 0 5px 5px}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1rem;text-decoration:none;color:#fff;background:#ff613a;width:12rem;padding:.5rem 1rem;text-align:center;transition:.4s;border-radius:6px}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ff8567}h1[_ngcontent-%COMP%]{font-size:2rem}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#dc143c}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:26rem;list-style:none;gap:1rem;padding:2rem 0rem}li[_ngcontent-%COMP%]{box-shadow:#0000002f 0 5px 5px;box-sizing:border-box;padding:1rem 2rem;display:flex;width:100%;min-height:8rem;align-items:center;justify-content:space-between;gap:1rem;background-color:#f7f7f7;font-weight:200;gap:2rem;border-radius:4px}.description[_ngcontent-%COMP%]{display:flex;gap:.3rem;flex-direction:column;flex:1}li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:5rem;width:5rem;background-color:#fff;padding:1rem;object-fit:contain}.add-and-remove[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;color:#000;border:black solid 1px;height:2rem;width:5rem;box-sizing:border-box}.add-and-remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%;margin:0;padding:0;background:none;border:none;color:#000;font-size:1rem}.add-and-remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#ff613a}.add-and-remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{pointer-events:none;color:#b6b6b6}.name[_ngcontent-%COMP%]{max-width:12rem}lord-icon[_ngcontent-%COMP%]{cursor:pointer;margin:0}.total-price[_ngcontent-%COMP%], .payment-method[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#f7f7f7;min-height:10rem;flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;padding:2rem;box-shadow:#0000002f 0 5px 5px;border-radius:4px}.total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .payment-method[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{align-self:flex-start;margin-bottom:1rem}.sub-total[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.shipping[_ngcontent-%COMP%]{border-bottom:solid 1px rgb(182,182,182);padding-bottom:.5rem}.shipping[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#b6b6b6}.total[_ngcontent-%COMP%]{font-weight:800;margin-top:.5rem}.total-price[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#ff613a;padding:.5rem 0;text-align:center;color:#fff;margin-top:1rem;transition:.3s;cursor:pointer;width:100%;border-radius:6px}.total-price[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ff8567}.payment-method[_ngcontent-%COMP%]{justify-items:flex-start;align-items:flex-start;min-height:auto}.payment-method[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2rem;width:auto}.bold[_ngcontent-%COMP%]{font-weight:800}@media only screen and (max-width: 850px){.shopping-cart[_ngcontent-%COMP%]{padding:1rem}}@media only screen and (max-width: 650px){.shopping-cart[_ngcontent-%COMP%]{padding:1rem}li[_ngcontent-%COMP%]{gap:1rem;min-width:0}}"]}),n})();var He=p(5861),nP=p(8247),fe=p(2090),bs=p(9681),ra=p(1877),Oa=p(4859),sw=p(4986),qn=p(5813);function hm(){return(0,ni.e)((n,e)=>{let t,r=!1;n.subscribe((0,ti.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function ow(n,e=Sh.y){return n=n??fT,(0,ni.e)((t,r)=>{let i,a=!0;t.subscribe((0,ti.x)(r,u=>{const m=e(u);(a||!n(i,m))&&(a=!1,i=m,r.next(u))}))})}function fT(n,e){return n===e}var Mt,Ur=p(2011),mT=(p(5881),p(3942)),gT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bc={},pu=pu||{},un=gT||self;function fm(){}function Wh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Vy(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yT="closure_uid_"+(1e9*Math.random()>>>0),iP=0;function sP(n,e,t){return n.call.apply(n.bind,arguments)}function oP(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ri(n,e,t){return(Ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sP:oP).apply(null,arguments)}function pm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ni(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var u=Array(arguments.length-2),m=2;m<arguments.length;m++)u[m-2]=arguments[m];return e.prototype[i].apply(r,u)}}function Cc(){this.s=this.s,this.o=this.o}Cc.prototype.s=!1,Cc.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function rP(n){Object.prototype.hasOwnProperty.call(n,yT)&&n[yT]||(n[yT]=++iP)}(this)},Cc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function aw(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function lw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Wh(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let u=0;u<a;u++)n[i+u]=r[u]}else n.push(r)}}function Qi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Qi.prototype.h=function(){this.defaultPrevented=!0};var wT=function(){if(!un.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{un.addEventListener("test",fm,e),un.removeEventListener("test",fm,e)}catch{}return n}();function mm(n){return/^[\s\xa0]*$/.test(n)}var cw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function By(n,e){return n<e?-1:n>e?1:0}function Uy(){var n=un.navigator;return n&&(n=n.userAgent)?n:""}function Ol(n){return-1!=Uy().indexOf(n)}function bT(n){return bT[" "](n),n}bT[" "]=fm;var uw,n,iF=Ol("Opera"),gm=Ol("Trident")||Ol("MSIE"),aP=Ol("Edge"),ET=aP||gm,lP=Ol("Gecko")&&!(-1!=Uy().toLowerCase().indexOf("webkit")&&!Ol("Edge"))&&!(Ol("Trident")||Ol("MSIE"))&&!Ol("Edge"),sF=-1!=Uy().toLowerCase().indexOf("webkit")&&!Ol("Edge");function cP(){var n=un.document;return n?n.documentMode:void 0}e:{var Zh="",ST=(n=Uy(),lP?/rv:([^\);]+)(\)|;)/.exec(n):aP?/Edge\/([\d\.]+)/.exec(n):gm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):sF?/WebKit\/(\S+)/.exec(n):iF?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ST&&(Zh=ST?ST[1]:""),gm){var Hy=cP();if(null!=Hy&&Hy>parseFloat(Zh)){uw=String(Hy);break e}}uw=Zh}var jy={};var dw=un.document&&gm&&(cP()||parseInt(uw,10))||void 0;function Kh(n,e){if(Qi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(lP){e:{try{bT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dP[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Kh.X.h.call(this)}}Ni(Kh,Qi);var dP={2:"touch",3:"pen",4:"mouse"};Kh.prototype.h=function(){Kh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yh="closure_listenable_"+(1e6*Math.random()|0),oF=0;function hP(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++oF,this.ba=this.ea=!1}function $y(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function hw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ym(n){const e={};for(const t in n)e[t]=n[t];return e}const IT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<IT.length;a++)t=IT[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function fw(n){this.src=n,this.g={},this.h=0}function AT(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=vT(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&($y(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function pw(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}fw.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=pw(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new hP(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var mw="closure_lm_"+(1e6*Math.random()|0),gw={};function pP(n,e,t,r,i){if(r&&r.once)return yw(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)pP(n,e[a],t,r,i);return null}return t=ww(t),n&&n[Yh]?n.N(e,t,Vy(r)?!!r.capture:!!r,i):DT(n,e,t,!1,r,i)}function DT(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=Vy(i)?!!i.capture:!!i,m=vw(n);if(m||(n[mw]=m=new fw(n)),(t=m.add(e,t,r,u,a)).proxy)return t;if(r=function xT(){const e=_w;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)wT||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(PT(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function yw(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)yw(n,e[a],t,r,i);return null}return t=ww(t),n&&n[Yh]?n.O(e,t,Vy(r)?!!r.capture:!!r,i):DT(n,e,t,!0,r,i)}function mP(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)mP(n,e[a],t,r,i);else r=Vy(r)?!!r.capture:!!r,t=ww(t),n&&n[Yh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=pw(a=n.g[e],t,r,i))&&($y(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=vw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=pw(e,t,r,i)),(t=-1<n?e[n]:null)&&po(t))}function po(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Yh])AT(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(PT(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=vw(e))?(AT(t,n),0==t.h&&(t.src=null,e[mw]=null)):$y(n)}}}function PT(n){return n in gw?gw[n]:gw[n]="on"+n}function _w(n,e){if(n.ba)n=!0;else{e=new Kh(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&po(n),n=t.call(r,e)}return n}function vw(n){return(n=n[mw])instanceof fw?n:null}var Hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ww(n){return"function"==typeof n?n:(n[Hs]||(n[Hs]=function(e){return n.handleEvent(e)}),n[Hs])}function ri(){Cc.call(this),this.i=new fw(this),this.P=this,this.I=null}function Fi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Qi(e,n);else if(e instanceof Qi)e.target=e.target||n;else{var i=e;fP(e=new Qi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=zy(u,r,!0,e)&&i}if(i=zy(u=e.g=n,r,!0,e)&&i,i=zy(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=zy(u=e.g=t[a],r,!1,e)&&i}function zy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var m=u.listener,y=u.ha||u.src;u.ea&&AT(n.i,u),i=!1!==m.call(y,r)&&i}}return i&&!r.defaultPrevented}Ni(ri,Cc),ri.prototype[Yh]=!0,ri.prototype.removeEventListener=function(n,e,t,r){mP(this,n,e,t,r)},ri.prototype.M=function(){if(ri.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)$y(t[r]);delete n.g[e],n.h--}}this.I=null},ri.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ri.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var _m=un.JSON.stringify;function MT(){var n=Ec;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var qy,OT=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new RT,n=>n.reset());class RT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function NT(n){un.setTimeout(()=>{throw n},0)}function FT(n,e){qy||function gP(){var n=un.Promise.resolve(void 0);qy=function(){n.then(LT)}}(),vm||(qy(),vm=!0),Ec.add(n,e)}var vm=!1,Ec=new class kT{constructor(){this.h=this.g=null}add(e,t){const r=OT.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function LT(){for(var n;n=MT();){try{n.h.call(n.g)}catch(t){NT(t)}var e=OT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}vm=!1}function Qh(n,e){ri.call(this),this.h=n||1,this.g=e||un,this.j=Ri(this.lb,this),this.l=Date.now()}function Ra(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function bw(n,e,t){if("function"==typeof n)t&&(n=Ri(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ri(n.handleEvent,n)}return 2147483647<Number(e)?-1:un.setTimeout(n,e||0)}function yP(n){n.g=bw(()=>{n.g=null,n.i&&(n.i=!1,yP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ni(Qh,ri),(Mt=Qh.prototype).ca=!1,Mt.R=null,Mt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Fi(this,"tick"),this.ca&&(Ra(this),this.start()))}},Mt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mt.M=function(){Qh.X.M.call(this),Ra(this),delete this.g};class _P extends Cc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yP(this)}M(){super.M(),this.g&&(un.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wm(n){Cc.call(this),this.h=n,this.g={}}Ni(wm,Cc);var VT=[];function BT(n,e,t,r){Array.isArray(t)||(t&&(VT[0]=t.toString()),t=VT);for(var i=0;i<t.length;i++){var a=pP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Cw(n){hw(n.g,function(e,t){this.g.hasOwnProperty(t)&&po(e)},n),n.g={}}function Ew(){this.g=!0}function Dd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Sw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return _m(t)}catch{return e}}(n,t)+(r?" "+r:"")})}wm.prototype.M=function(){wm.X.M.call(this),Cw(this)},wm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ew.prototype.Aa=function(){this.g=!1},Ew.prototype.info=function(){};var mu={},Tw=null;function bm(){return Tw=Tw||new ri}function Iw(n){Qi.call(this,mu.Pa,n)}function Jh(n){const e=bm();Fi(e,new Iw(e))}function Cm(n,e){Qi.call(this,mu.STAT_EVENT,n),this.stat=e}function Ei(n){const e=bm();Fi(e,new Cm(e,n))}function Aw(n,e){Qi.call(this,mu.Qa,n),this.size=e}function Em(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return un.setTimeout(function(){n()},e)}mu.Pa="serverreachability",Ni(Iw,Qi),mu.STAT_EVENT="statevent",Ni(Cm,Qi),mu.Qa="timingevent",Ni(Aw,Qi);var Sm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Dw={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function xw(){}function wP(){}xw.prototype.h=null;var Mw,Wy={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Zy(){Qi.call(this,"d")}function Pw(){Qi.call(this,"c")}function Ky(){}function Yy(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new wm(this),this.O=lF,this.T=new Qh(n=ET?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new bP}function bP(){this.i=null,this.g="",this.h=!1}Ni(Zy,Qi),Ni(Pw,Qi),Ni(Ky,xw),Ky.prototype.g=function(){return new XMLHttpRequest},Ky.prototype.i=function(){return{}},Mw=new Ky;var lF=45e3,jT={},kw={};function Ow(n,e,t){n.K=1,n.v=Am(Rl(e)),n.s=t,n.P=!0,Tm(n,null)}function Tm(n,e){n.F=Date.now(),Na(n),n.A=Rl(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),IP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new bP,n.g=wF(n.l,t?e:null,!n.s),0<n.N&&(n.L=new _P(Ri(n.La,n,n.g),n.N)),BT(n.S,n.g,"readystatechange",n.ib),e=n.H?ym(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Jh(),function UT(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",m=a.split("&"),y=0;y<m.length;y++){var E=m[y].split("=");if(1<E.length){var F=E[0];E=E[1];var q=F.split("_");u=2<=q.length&&"type"==q[1]?u+(F+"=")+E+"&":u+(F+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function GT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function $T(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=zT(n,t),i==kw){4==e&&(n.o=4,Ei(14),r=!1),Dd(n.j,n.m,null,"[Incomplete Response]");break}if(i==jT){n.o=4,Ei(15),Dd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Dd(n.j,n.m,i,null),Im(n,i)}GT(n)&&i!=kw&&i!=jT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ei(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),NP(e),e.K=!0,Ei(11))):(Dd(n.j,n.m,t,"[Invalid Chunked Response]"),Pd(n),xd(n))}function zT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?kw:(t=Number(e.substring(t,r)),isNaN(t)?jT:(r+=1)+t>e.length?kw:(e=e.substr(r,t),n.C=r+t,e))}function Na(n){n.V=Date.now()+n.O,Rw(n,n.O)}function Rw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Em(Ri(n.gb,n),e)}function Xh(n){n.B&&(un.clearTimeout(n.B),n.B=null)}function xd(n){0==n.l.G||n.I||gF(n.l,n)}function Pd(n){Xh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ra(n.T),Cw(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Im(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||QT(t.h,n)))if(!n.J&&QT(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;XT(t),sf(t)}RP(t),Ei(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Em(Ri(t.cb,t),6e3));if(1>=MP(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else xm(t,11)}else if((n.J||t.g==n)&&XT(t),!mm(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.T=E[0],E=E[1],2==t.G)if("c"==E[0]){t.I=E[1],t.ka=E[2];const F=E[3];null!=F&&(t.ma=F,t.j.info("VER="+t.ma));const q=E[4];null!=q&&(t.Ca=q,t.j.info("SVER="+t.Ca));const oe=E[5];null!=oe&&"number"==typeof oe&&0<oe&&(t.J=r=1.5*oe,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const pe=n.g;if(pe){const we=pe.g?pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(we){var a=r.h;a.g||-1==we.indexOf("spdy")&&-1==we.indexOf("quic")&&-1==we.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Lw(a,a.h),a.h=null))}if(r.D){const Me=pe.g?pe.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.za=Me,Ar(r.F,r.D,Me))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=vF(r,r.H?r.ka:null,r.V),u.J){kP(r.h,u);var m=u,y=r.J;y&&m.setTimeout(y),m.B&&(Xh(m),Na(m)),r.g=u}else r_(r);0<t.i.length&&af(t)}else"stop"!=E[0]&&"close"!=E[0]||xm(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?xm(t,7):Dm(t):"noop"!=E[0]&&t.l&&t.l.wa(E),t.A=0)}Jh()}catch{}}function CP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Qy(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Nw(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(Mt=Yy.prototype).setTimeout=function(n){this.O=n},Mt.ib=function(n){n=n.target;const e=this.L;e&&3==xt(n)?e.l():this.La(n)},Mt.La=function(n){try{if(n==this.g)e:{const F=xt(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>F)&&(3!=F||ET||this.g&&(this.h.h||this.g.fa()||Xe(this.g)))){this.I||4!=F||7==e||Jh(),Xh(this);var t=this.g.aa();this.Y=t;t:if(GT(this)){var r=Xe(this.g);n="";var i=r.length,a=4==xt(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pd(this),xd(this);var u="";break t}this.h.i=new un.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function vP(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,F,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,y=this.g;if((m=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mm(m)){var E=m;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Ei(12),Pd(this),xd(this);break e}Dd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Im(this,t)}this.P?($T(this,F,u),ET&&this.i&&3==F&&(BT(this.S,this.T,"tick",this.hb),this.T.start())):(Dd(this.j,this.m,u,null),Im(this,u)),4==F&&Pd(this),this.i&&!this.I&&(4==F?gF(this.l,this):(this.i=!1,Na(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ei(12)):(this.o=0,Ei(13)),Pd(this),xd(this)}}}catch{}},Mt.hb=function(){if(this.g){var n=xt(this.g),e=this.g.fa();this.C<e.length&&(Xh(this),$T(this,n,e),this.i&&4!=n&&Na(this))}},Mt.cancel=function(){this.I=!0,Pd(this)},Mt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function aF(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jh(),Ei(17)),Pd(this),this.o=2,xd(this)):Rw(this,this.V-n)};var EP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ef(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ef){this.h=void 0!==e?e:n.h,Jy(this,n.j),this.s=n.s,this.g=n.g,Xy(this,n.m),this.l=n.l,e=n.i;var t=new Md;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),qT(this,t),this.o=n.o}else n&&(t=String(n).match(EP))?(this.h=!!e,Jy(this,t[1]||"",!0),this.s=tf(t[2]||""),this.g=tf(t[3]||"",!0),Xy(this,t[4]),this.l=tf(t[5]||"",!0),qT(this,t[6]||"",!0),this.o=tf(t[7]||"")):(this.h=!!e,this.i=new Md(null,this.h))}function Rl(n){return new ef(n)}function Jy(n,e,t){n.j=t?tf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Xy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function qT(n,e,t){e instanceof Md?(n.i=e,function AP(n,e){e&&!n.j&&(gu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(YT(this,r),IP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=nf(e,uF)),n.i=new Md(e,n.h))}function Ar(n,e,t){n.i.set(e,t)}function Am(n){return Ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,SP),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function SP(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ef.prototype.toString=function(){var n=[],e=this.j;e&&n.push(nf(e,WT,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(nf(e,WT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(nf(t,"/"==t.charAt(0)?Fw:ZT,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",nf(t,KT)),n.join("")};var WT=/[#\/\?@]/g,ZT=/[#\?:]/g,Fw=/[#\?]/g,uF=/[#\?@]/g,KT=/#/g;function Md(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function gu(n){n.g||(n.g=new Map,n.h=0,n.i&&function cF(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function YT(n,e){gu(n),e=rf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function TP(n,e){return gu(n),e=rf(n,e),n.g.has(e)}function IP(n,e,t){YT(n,e),0<t.length&&(n.i=null,n.g.set(rf(n,e),aw(t)),n.h+=t.length)}function rf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function xP(n){this.l=n||dF,n=un.PerformanceNavigationTiming?0<(n=un.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(un.g&&un.g.Ga&&un.g.Ga()&&un.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Mt=Md.prototype).add=function(n,e){gu(this),this.i=null,n=rf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Mt.forEach=function(n,e){gu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Mt.oa=function(){gu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},Mt.W=function(n){gu(this);let e=[];if("string"==typeof n)TP(this,n)&&(e=e.concat(this.g.get(rf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Mt.set=function(n,e){return gu(this),this.i=null,TP(this,n=rf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Mt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=a;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var dF=10;function PP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function MP(n){return n.h?1:n.g?n.g.size:0}function QT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Lw(n,e){n.g?n.g.add(e):n.h=e}function kP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function OP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return aw(n.i)}function JT(){}function hF(){this.g=new JT}function fF(n,e,t){const r=t||"";try{CP(n,function(i,a){let u=i;Vy(i)&&(u=_m(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function o(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function l(n){this.l=n.ac||null,this.j=n.jb||!1}function c(n,e){ri.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=f,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xP.prototype.cancel=function(){if(this.i=OP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},JT.prototype.stringify=function(n){return un.JSON.stringify(n,void 0)},JT.prototype.parse=function(n){return un.JSON.parse(n,void 0)},Ni(l,xw),l.prototype.g=function(){return new c(this.l,this.j)},l.prototype.i=function(n){return function(){return n}}({}),Ni(c,ri);var f=0;function g(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function v(n){n.readyState=4,n.l=null,n.j=null,n.A=null,S(n)}function S(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Mt=c.prototype).open=function(n,e){if(this.readyState!=f)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,S(this)},Mt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||un).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,v(this)),this.readyState=f},Mt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,S(this)),this.g&&(this.readyState=3,S(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof un.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;g(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Mt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?v(this):S(this),3==this.readyState&&g(this)}},Mt.Va=function(n){this.g&&(this.response=this.responseText=n,v(this))},Mt.Ua=function(n){this.g&&(this.response=n,v(this))},Mt.ga=function(){this.g&&v(this)},Mt.setRequestHeader=function(n,e){this.v.append(n,e)},Mt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Mt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(c.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var O=un.JSON.parse;function H(n){ri.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=K,this.K=this.L=!1}Ni(H,ri);var K="",ce=/^https?$/i,ge=["POST","PUT"];function Le(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ze(n),ut(n)}function ze(n){n.D||(n.D=!0,Fi(n,"complete"),Fi(n,"error"))}function it(n){if(n.h&&typeof pu<"u"&&(!n.C[1]||4!=xt(n)||2!=n.aa()))if(n.v&&4==xt(n))bw(n.Ha,0,n);else if(Fi(n,"readystatechange"),4==xt(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(EP)[1]||null;if(!i&&un.self&&un.self.location){var a=un.self.location.protocol;i=a.substr(0,a.length-1)}r=!ce.test(i?i.toLowerCase():"")}t=r}if(t)Fi(n,"complete"),Fi(n,"success");else{n.m=6;try{var u=2<xt(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",ze(n)}}finally{ut(n)}}}function ut(n,e){if(n.g){It(n);const t=n.g,r=n.C[0]?fm:null;n.g=null,n.C=null,e||Fi(n,"ready");try{t.onreadystatechange=r}catch{}}}function It(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(un.clearTimeout(n.A),n.A=null)}function xt(n){return n.g?n.g.readyState:0}function Xe(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case K:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function en(n){let e="";return hw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function $n(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=en(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ar(n,e,t))}function ur(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yu(n){this.Ca=0,this.i=[],this.j=new Ew,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ur("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ur("baseRetryDelayMs",5e3,n),this.bb=ur("retryDelaySeedMs",1e4,n),this.$a=ur("forwardChannelMaxRetries",2,n),this.ta=ur("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new xP(n&&n.concurrentRequestLimit),this.Fa=new hF,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Dm(n){if(e_(n),3==n.G){var e=n.U++,t=Rl(n.F);Ar(t,"SID",n.I),Ar(t,"RID",e),Ar(t,"TYPE","terminate"),kd(n,t),(e=new Yy(n,n.j,e,void 0)).K=2,e.v=Am(Rl(t)),t=!1,un.navigator&&un.navigator.sendBeacon&&(t=un.navigator.sendBeacon(e.v.toString(),"")),!t&&un.Image&&((new Image).src=e.v,t=!0),t||(e.g=wF(e.l,null),e.g.da(e.v)),e.F=Date.now(),Na(e)}_F(n)}function sf(n){n.g&&(NP(n),n.g.cancel(),n.g=null)}function e_(n){sf(n),n.u&&(un.clearTimeout(n.u),n.u=null),XT(n),n.h.cancel(),n.m&&("number"==typeof n.m&&un.clearTimeout(n.m),n.m=null)}function af(n){PP(n.h)||n.m||(n.m=!0,FT(n.Ja,n),n.C=0)}function t_(n,e){var t;t=e?e.m:n.U++;const r=Rl(n.F);Ar(r,"SID",n.I),Ar(r,"RID",t),Ar(r,"AID",n.T),kd(n,r),n.o&&n.s&&$n(r,n.o,n.s),t=new Yy(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=n_(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Lw(n.h,t),Ow(t,r,e)}function kd(n,e){n.ia&&hw(n.ia,function(t,r){Ar(e,r,t)}),n.l&&CP({},function(t,r){Ar(e,r,t)})}function n_(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Ri(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let m=!0;for(let y=0;y<t;y++){let E=i[y].h;const F=i[y].g;if(E-=a,0>E)a=Math.max(0,i[y].h-100),m=!1;else try{fF(F,u,"req"+E+"_")}catch{r&&r(F)}}if(m){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function r_(n){n.g||n.u||(n.Z=1,FT(n.Ia,n),n.A=0)}function RP(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Em(Ri(n.Ia,n),yF(n,n.A)),n.A++,0))}function NP(n){null!=n.B&&(un.clearTimeout(n.B),n.B=null)}function mF(n){n.g=new Yy(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Rl(n.sa);Ar(e,"RID","rpc"),Ar(e,"SID",n.I),Ar(e,"CI",n.L?"0":"1"),Ar(e,"AID",n.T),Ar(e,"TYPE","xmlhttp"),kd(n,e),n.o&&n.s&&$n(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Am(Rl(e)),t.s=null,t.P=!0,Tm(t,n)}function XT(n){null!=n.v&&(un.clearTimeout(n.v),n.v=null)}function gF(n,e){var t=null;if(n.g==e){XT(n),NP(n),n.g=null;var r=2}else{if(!QT(n.h,e))return;t=e.D,kP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Fi(r=bm(),new Aw(r,t)),af(n)}else r_(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Vw(n,e){return!(MP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Em(Ri(n.Ja,n,e),yF(n,n.C)),n.C++,0)))}(n,e)||2==r&&RP(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:xm(n,5);break;case 4:xm(n,10);break;case 3:xm(n,6);break;default:xm(n,2)}}function yF(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function xm(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Ri(n.kb,n);t||(t=new ef("//www.google.com/images/cleardot.gif"),un.location&&"http"==un.location.protocol||Jy(t,"https"),Am(t)),function pF(n,e){const t=new Ew;if(un.Image){const r=new Image;r.onload=pm(o,t,r,"TestLoadImage: loaded",!0,e),r.onerror=pm(o,t,r,"TestLoadImage: error",!1,e),r.onabort=pm(o,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=pm(o,t,r,"TestLoadImage: timeout",!1,e),un.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ei(2);n.G=0,n.l&&n.l.va(e),_F(n),e_(n)}function _F(n){if(n.G=0,n.la=[],n.l){const e=OP(n.h);(0!=e.length||0!=n.i.length)&&(lw(n.la,e),lw(n.la,n.i),n.h.i.length=0,aw(n.i),n.i.length=0),n.l.ua()}}function vF(n,e,t){var r=t instanceof ef?Rl(t):new ef(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Xy(r,r.m);else{var i=un.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new ef(null,void 0);r&&Jy(a,r),e&&(a.g=e),i&&Xy(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Ar(r,t,e),Ar(r,"VER",n.ma),kd(n,r),r}function wF(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new H(t&&n.Da&&!n.ra?new l({jb:!0}):n.ra)).Ka(n.H),e}function bF(){}function eI(){if(gm&&!(10<=Number(dw)))throw Error("Environmental error: no available transport.")}function Fa(n,e){ri.call(this),this.g=new yu(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!mm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new i_(this)}function CF(n){Zy.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function EF(){Pw.call(this),this.status=1}function i_(n){this.g=n}(Mt=H.prototype).Ka=function(n){this.L=n},Mt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mw.g(),this.C=function HT(n){return n.h||(n.h=n.i())}(this.u?this.u:Mw),this.g.onreadystatechange=Ri(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Le(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=un.FormData&&n instanceof un.FormData,!(0<=vT(ge,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{It(this),0<this.B&&((this.K=function De(n){return gm&&function TT(){return function CT(n){var e=jy;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=cw(String(uw)).split("."),t=cw("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=By(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||By(0==i[2].length,0==a[2].length)||By(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ri(this.qa,this)):this.A=bw(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Le(this,a)}},Mt.qa=function(){typeof pu<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fi(this,"timeout"),this.abort(8))},Mt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fi(this,"complete"),Fi(this,"abort"),ut(this))},Mt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ut(this,!0)),H.X.M.call(this)},Mt.Ha=function(){this.s||(this.F||this.v||this.l?it(this):this.fb())},Mt.fb=function(){it(this)},Mt.aa=function(){try{return 2<xt(this)?this.g.status:-1}catch{return-1}},Mt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Mt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),O(e)}},Mt.Ea=function(){return this.m},Mt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Mt=yu.prototype).ma=8,Mt.G=1,Mt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Yy(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=ym(a),fP(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=n_(this,i,e),Ar(t=Rl(this.F),"RID",n),Ar(t,"CVER",22),this.D&&Ar(t,"X-HTTP-Session-Id",this.D),kd(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(en(a)))+"&"+e:this.o&&$n(t,this.o,a)),Lw(this.h,i),this.Ya&&Ar(t,"TYPE","init"),this.O?(Ar(t,"$req",e),Ar(t,"SID","null"),i.Z=!0,Ow(i,t,null)):Ow(i,t,e),this.G=2}}else 3==this.G&&(n?t_(this,n):0==this.i.length||PP(this.h)||t_(this))},Mt.Ia=function(){if(this.u=null,mF(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Em(Ri(this.eb,this),n)}},Mt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ei(10),sf(this),mF(this))},Mt.cb=function(){null!=this.v&&(this.v=null,sf(this),RP(this),Ei(19))},Mt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ei(2)):(this.j.info("Failed to ping google.com"),Ei(1))},(Mt=bF.prototype).xa=function(){},Mt.wa=function(){},Mt.va=function(){},Mt.ua=function(){},Mt.Ra=function(){},eI.prototype.g=function(n,e){return new Fa(n,e)},Ni(Fa,ri),Fa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ei(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=vF(n,null,n.V),af(n)},Fa.prototype.close=function(){Dm(this.g)},Fa.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=_m(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&af(e)},Fa.prototype.M=function(){this.g.l=null,delete this.j,Dm(this.g),delete this.g,Fa.X.M.call(this)},Ni(CF,Zy),Ni(EF,Pw),Ni(i_,bF),i_.prototype.xa=function(){Fi(this.g,"a")},i_.prototype.wa=function(n){Fi(this.g,new CF(n))},i_.prototype.va=function(n){Fi(this.g,new EF)},i_.prototype.ua=function(){Fi(this.g,"b")},eI.prototype.createWebChannel=eI.prototype.g,Fa.prototype.send=Fa.prototype.u,Fa.prototype.open=Fa.prototype.m,Fa.prototype.close=Fa.prototype.close,Sm.NO_ERROR=0,Sm.TIMEOUT=8,Sm.HTTP_ERROR=6,Dw.COMPLETE="complete",wP.EventType=Wy,Wy.OPEN="a",Wy.CLOSE="b",Wy.ERROR="c",Wy.MESSAGE="d",ri.prototype.listen=ri.prototype.N,H.prototype.listenOnce=H.prototype.O,H.prototype.getLastError=H.prototype.Oa,H.prototype.getLastErrorCode=H.prototype.Ea,H.prototype.getStatus=H.prototype.aa,H.prototype.getResponseJson=H.prototype.Sa,H.prototype.getResponseText=H.prototype.fa,H.prototype.send=H.prototype.da,H.prototype.setWithCredentials=H.prototype.Ka;var GH=bc.createWebChannelTransport=function(){return new eI},$H=bc.getStatEventTarget=function(){return bm()},FP=bc.ErrorCode=Sm,zH=bc.EventType=Dw,qH=bc.Event=mu,SF=bc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},WH=bc.FetchXmlHttpFactory=l,tI=bc.WebChannel=wP,ZH=bc.XhrIo=H;const TF="@firebase/firestore";class Ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ji.UNAUTHENTICATED=new Ji(null),Ji.GOOGLE_CREDENTIALS=new Ji("google-credentials-uid"),Ji.FIRST_PARTY=new Ji("first-party-uid"),Ji.MOCK_USER=new Ji("mock-user");let s_="9.14.0";const lf=new ra.Yd("@firebase/firestore");function LP(){return lf.logLevel}function nt(n,...e){if(lf.logLevel<=ra.in.DEBUG){const t=e.map(VP);lf.debug(`Firestore (${s_}): ${n}`,...t)}}function di(n,...e){if(lf.logLevel<=ra.in.ERROR){const t=e.map(VP);lf.error(`Firestore (${s_}): ${n}`,...t)}}function Pm(n,...e){if(lf.logLevel<=ra.in.WARN){const t=e.map(VP);lf.warn(`Firestore (${s_}): ${n}`,...t)}}function VP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Dt(n="Unexpected state"){const e=`FIRESTORE (${s_}) INTERNAL ASSERTION FAILED: `+n;throw di(e),new Error(e)}function sn(n,e){n||Dt()}function vt(n,e){return n}const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Li{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class IF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ji.UNAUTHENTICATED))}shutdown(){}}class JH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class XH{constructor(e){this.t=e,this.currentUser=Ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let u=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Li,e.enqueueRetryable(()=>a(this.currentUser))};const m=()=>{const E=u;e.enqueueRetryable((0,He.Z)(function*(){yield E.promise,yield a(r.currentUser)}))},y=E=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(E=>y(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Li)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(sn("string"==typeof r.accessToken),new IF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return sn(null===e||"string"==typeof e),new Ji(e)}}class e4{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Ji.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(sn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class t4{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new e4(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n4{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,nt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(sn("string"==typeof t.token),this.A=t.token,new AF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function r4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class DF{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=r4(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function yn(n,e){return n<e?-1:n>e?1:0}function o_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function xF(n){return n+"\0"}class Hr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hr.fromMillis(Date.now())}static fromDate(e){return Hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Hr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yn(this.nanoseconds,e.nanoseconds):yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class on{constructor(e){this.timestamp=e}static fromTimestamp(e){return new on(e)}static min(){return new on(new Hr(0,0))}static max(){return new on(new Hr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bw{constructor(e,t,r){void 0===t?t=0:t>e.length&&Dt(),void 0===r?r=e.length-t:r>e.length-t&&Dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Bw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bw?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wn extends Bw{construct(e,t,r){return new Wn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new tt(Ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Wn(t)}static emptyPath(){return new Wn([])}}const i4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ii extends Bw{construct(e,t,r){return new ii(e,t,r)}static isValidIdentifier(e){return i4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ii.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ii(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new tt(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new tt(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new tt(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===m?(u=!u,i++):"."!==m||u?(r+=m,i++):(a(),i++)}if(a(),u)throw new tt(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ii(t)}static emptyPath(){return new ii([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Wn.fromString(e))}static fromName(e){return new gt(Wn.fromString(e).popFirst(5))}static empty(){return new gt(Wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Wn(e.slice()))}}class nI{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function BP(n){return n.fields.find(e=>2===e.kind)}function Mm(n){return n.fields.filter(e=>2!==e.kind)}nI.UNKNOWN_ID=-1;class rI{constructor(e,t){this.fieldPath=e,this.kind=t}}class Uw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Uw(0,La.min())}}function PF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=on.fromTimestamp(1e9===r?new Hr(t+1,0):new Hr(t,r));return new La(i,gt.empty(),e)}function MF(n){return new La(n.readTime,n.key,-1)}class La{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new La(on.min(),gt.empty(),-1)}static max(){return new La(on.max(),gt.empty(),-1)}}function UP(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=gt.comparator(n.documentKey,e.documentKey),0!==t?t:yn(n.largestBatchId,e.largestBatchId))}const kF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function cf(n){return HP.apply(this,arguments)}function HP(){return HP=(0,He.Z)(function*(n){if(n.code!==Ge.FAILED_PRECONDITION||n.message!==kF)throw n;nt("LocalStore","Unexpectedly lost primary lease")}),HP.apply(this,arguments)}class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ue((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ue?t:Ue.resolve(t)}catch(t){return Ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.reject(t)}static resolve(e){return new Ue((t,r)=>{t(e)})}static reject(e){return new Ue((t,r)=>{r(e)})}static waitFor(e){return new Ue((t,r)=>{let i=0,a=0,u=!1;e.forEach(m=>{++i,m.next(()=>{++a,u&&a===i&&t()},y=>r(y))}),u=!0,a===i&&t()})}static or(e){let t=Ue.resolve(!1);for(const r of e)t=t.next(i=>i?Ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Ue((r,i)=>{const a=e.length,u=new Array(a);let m=0;for(let y=0;y<a;y++){const E=y;t(e[E]).next(F=>{u[E]=F,++m,m===a&&r(u)},F=>i(F))}})}static doWhile(e,t){return new Ue((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class iI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Li,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Hw(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=jP(r.target.error);this.P.reject(new Hw(e,i))}}static open(e,t,r,i){try{return new iI(t,e.transaction(i,r))}catch(a){throw new Hw(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(nt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new l4(t)}}class Sc{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Sc.D((0,fe.z$)())&&di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return nt("SimpleDb","Removing database:",e),km(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,fe.hl)())return!1;if(Sc.N())return!0;const e=(0,fe.z$)(),t=Sc.D(e),r=0<t&&t<10,i=Sc.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,He.Z)(function*(){return t.db||(nt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new Hw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const m=u.target.error;i("VersionError"===m.name?new tt(Ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new tt(Ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Hw(e,m))},a.onupgradeneeded=u=>{nt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{nt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,He.Z)(function*(){const u="readonly"===t;let m=0;for(;;){++m;try{a.db=yield a.F(e);const y=iI.open(a.db,e,u?"readonly":"readwrite",r),E=i(y).next(F=>(y.V(),F)).catch(F=>(y.abort(F),Ue.reject(F))).toPromise();return E.catch(()=>{}),yield y.v,E}catch(y){const E=y,F="FirebaseError"!==E.name&&m<3;if(nt("SimpleDb","Transaction failed with error:",E.message,"Retrying:",F),a.close(),!F)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class a4{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return km(this.U.delete())}}class Hw extends tt{constructor(e,t){super(Ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function uf(n){return"IndexedDbTransactionError"===n.name}class l4{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(nt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(nt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),km(r)}add(e){return nt("SimpleDb","ADD",this.store.name,e,e),km(this.store.add(e))}get(e){return km(this.store.get(e)).next(t=>(void 0===t&&(t=null),nt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return nt("SimpleDb","DELETE",this.store.name,e),km(this.store.delete(e))}count(){return nt("SimpleDb","COUNT",this.store.name),km(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(u,m)=>{a.push(m)}).next(()=>a)}{const i=this.store.getAll(r.range);return new Ue((a,u)=>{i.onerror=m=>{u(m.target.error)},i.onsuccess=m=>{a(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ue((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){nt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,u,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new Ue((r,i)=>{t.onerror=a=>{const u=jP(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(m=>{m?u.continue():r()}):r()}})}H(e,t){const r=[];return new Ue((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const m=u.target.result;if(!m)return void i();const y=new a4(m),E=t(m.primaryKey,m.value,y);if(E instanceof Ue){const F=E.catch(q=>(y.done(),Ue.reject(q)));r.push(F)}y.isDone?i():null===y.G?m.continue():m.continue(y.G)}}).next(()=>Ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function km(n){return new Ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=jP(r.target.error);t(i)}})}let RF=!1;function jP(n){const e=Sc.D((0,fe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RF||(RF=!0,setTimeout(()=>{throw r},0)),r}}return n}class c4{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;nt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,He.Z)(function*(){t.task=null;try{nt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){uf(r)?nt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield cf(r)}yield t.nt(6e4)}))}}class u4{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,He.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return Ue.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return nt("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(m=>{i-=m,r.add(u)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,a)).next(m=>(nt("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const u=MF(a);UP(u,r)>0&&(r=u)}),new La(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ia{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function NF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Om(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ia.at=-1;class si{constructor(e,t){this.comparator=e,this.root=t||Cs.EMPTY}insert(e,t){return new si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cs.BLACK,null,null))}remove(e){return new si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sI(this.root,e,this.comparator,!1)}getReverseIterator(){return new sI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sI(this.root,e,this.comparator,!0)}}class sI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cs{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Cs.RED,this.left=i??Cs.EMPTY,this.right=a??Cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Cs(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Cs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}Cs.EMPTY=null,Cs.RED=!0,Cs.BLACK=!1,Cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Cs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yr{constructor(e){this.comparator=e,this.data=new si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LF(this.data.getIterator())}getIteratorFrom(e){return new LF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yr(this.comparator);return t.data=e,t}}class LF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function a_(n){return n.hasNext()?n.getNext():void 0}class Va{constructor(e){this.fields=e,e.sort(ii.comparator)}static empty(){return new Va([])}unionWith(e){let t=new yr(ii.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Va(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return o_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const h4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function df(n){if(sn(!!n),"string"==typeof n){let e=0;const t=h4.exec(n);if(sn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:oi(n.seconds),nanos:oi(n.nanos)}}function oi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Rm(n){return"string"==typeof n?Vi.fromBase64String(n):Vi.fromUint8Array(n)}function GP(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function VF(n){const e=n.mapValue.fields.__previous_value__;return GP(e)?VF(e):e}function jw(n){const e=df(n.mapValue.fields.__local_write_time__.timestampValue);return new Hr(e.seconds,e.nanos)}class f4{constructor(e,t,r,i,a,u,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.useFetchStreams=y}}class hf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hf&&e.projectId===this.projectId&&e.database===this.database}}function Gw(n){return null==n}function $w(n){return 0===n&&1/n==-1/0}function BF(n){return"number"==typeof n&&Number.isInteger(n)&&!$w(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ff={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},oI={nullValue:"NULL_VALUE"};function Nm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?GP(n)?4:GF(n)?9007199254740991:10:Dt()}function _u(n,e){if(n===e)return!0;const t=Nm(n);if(t!==Nm(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jw(n).isEqual(jw(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=df(r.timestampValue),u=df(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Rm(n.bytesValue).isEqual(Rm(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return oi(r.geoPointValue.latitude)===oi(i.geoPointValue.latitude)&&oi(r.geoPointValue.longitude)===oi(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return oi(r.integerValue)===oi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=oi(r.doubleValue),u=oi(i.doubleValue);return a===u?$w(a)===$w(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return o_(n.arrayValue.values||[],e.arrayValue.values||[],_u);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(NF(a)!==NF(u))return!1;for(const m in a)if(a.hasOwnProperty(m)&&(void 0===u[m]||!_u(a[m],u[m])))return!1;return!0}(n,e);default:return Dt()}var i}function zw(n,e){return void 0!==(n.values||[]).find(t=>_u(t,e))}function pf(n,e){if(n===e)return 0;const t=Nm(n),r=Nm(e);if(t!==r)return yn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=oi(i.integerValue||i.doubleValue),m=oi(a.integerValue||a.doubleValue);return u<m?-1:u>m?1:u===m?0:isNaN(u)?isNaN(m)?0:-1:1}(n,e);case 3:return UF(n.timestampValue,e.timestampValue);case 4:return UF(jw(n),jw(e));case 5:return yn(n.stringValue,e.stringValue);case 6:return function(i,a){const u=Rm(i),m=Rm(a);return u.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),m=a.split("/");for(let y=0;y<u.length&&y<m.length;y++){const E=yn(u[y],m[y]);if(0!==E)return E}return yn(u.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=yn(oi(i.latitude),oi(a.latitude));return 0!==u?u:yn(oi(i.longitude),oi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],m=a.values||[];for(let y=0;y<u.length&&y<m.length;++y){const E=pf(u[y],m[y]);if(E)return E}return yn(u.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===ff.mapValue&&a===ff.mapValue)return 0;if(i===ff.mapValue)return 1;if(a===ff.mapValue)return-1;const u=i.fields||{},m=Object.keys(u),y=a.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let F=0;F<m.length&&F<E.length;++F){const q=yn(m[F],E[F]);if(0!==q)return q;const oe=pf(u[m[F]],y[E[F]]);if(0!==oe)return oe}return yn(m.length,E.length)}(n.mapValue,e.mapValue);default:throw Dt()}}function UF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return yn(n,e);const t=df(n),r=df(e),i=yn(t.seconds,r.seconds);return 0!==i?i:yn(t.nanos,r.nanos)}function l_(n){return $P(n)}function $P(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=df(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Rm(n.bytesValue).toBase64():"referenceValue"in n?gt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=$P(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const m of i)u?u=!1:a+=",",a+=`${m}:${$P(r.fields[m])}`;return a+"}"}(n.mapValue):Dt();var e}function Fm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zP(n){return!!n&&"integerValue"in n}function qw(n){return!!n&&"arrayValue"in n}function HF(n){return!!n&&"nullValue"in n}function jF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function aI(n){return!!n&&"mapValue"in n}function Ww(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Om(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ww(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ww(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function p4(n){return"nullValue"in n?oI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Fm(hf.empty(),gt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Dt()}function m4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Fm(hf.empty(),gt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ff:Dt()}function $F(n,e){const t=pf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function zF(n,e){const t=pf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Es{constructor(e){this.value=e}static empty(){return new Es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!aI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ww(t)}setAll(e){let t=ii.emptyPath(),r={},i=[];e.forEach((u,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=m.popLast()}u?r[m.lastSegment()]=Ww(u):i.push(m.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());aI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _u(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];aI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Om(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Es(Ww(this.value))}}function qF(n){const e=[];return Om(n.fields,(t,r)=>{const i=new ii([t]);if(aI(r)){const a=qF(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Va(e)}class Dr{constructor(e,t,r,i,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Dr(e,0,on.min(),on.min(),Es.empty(),0)}static newFoundDocument(e,t,r){return new Dr(e,1,t,on.min(),r,0)}static newNoDocument(e,t){return new Dr(e,2,t,on.min(),Es.empty(),0)}static newUnknownDocument(e,t){return new Dr(e,3,t,on.min(),Es.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=on.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class g4{constructor(e,t=null,r=[],i=[],a=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=m,this.ht=null}}function WF(n,e=null,t=[],r=[],i=null,a=null,u=null){return new g4(n,e,t,r,i,a,u)}function Lm(n){const e=vt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+l_(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Gw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>l_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>l_(r)).join(",")),e.ht=t}return e.ht}function Zw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!T4(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!_u(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JF(n.startAt,e.startAt)&&JF(n.endAt,e.endAt)}function lI(n){return gt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function cI(n,e){return n.filters.filter(t=>t instanceof Ss&&t.field.isEqual(e))}function ZF(n,e,t){let r=oI,i=!0;for(const a of cI(n,e)){let u=oI,m=!0;switch(a.op){case"<":case"<=":u=p4(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,m=!1;break;case"!=":case"not-in":u=oI}$F({value:r,inclusive:i},{value:u,inclusive:m})<0&&(r=u,i=m)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];$F({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function KF(n,e,t){let r=ff,i=!0;for(const a of cI(n,e)){let u=ff,m=!0;switch(a.op){case">=":case">":u=m4(a.value),m=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,m=!1;break;case"!=":case"not-in":u=ff}zF({value:r,inclusive:i},{value:u,inclusive:m})>0&&(r=u,i=m)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];zF({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class Ss extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new _4(e,t,r):"array-contains"===t?new b4(e,r):"in"===t?new C4(e,r):"not-in"===t?new E4(e,r):"array-contains-any"===t?new S4(e,r):new Ss(e,t,r)}static lt(e,t,r){return"in"===t?new v4(e,r):new w4(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(pf(t,this.value)):null!==t&&Nm(this.value)===Nm(t)&&this.ft(pf(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _4 extends Ss{constructor(e,t,r){super(e,t,r),this.key=gt.fromName(r.referenceValue)}matches(e){const t=gt.comparator(e.key,this.key);return this.ft(t)}}class v4 extends Ss{constructor(e,t){super(e,"in",t),this.keys=YF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class w4 extends Ss{constructor(e,t){super(e,"not-in",t),this.keys=YF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function YF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>gt.fromName(r.referenceValue))}class b4 extends Ss{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qw(t)&&zw(t.arrayValue,this.value)}}class C4 extends Ss{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zw(this.value.arrayValue,t)}}class E4 extends Ss{constructor(e,t){super(e,"not-in",t)}matches(e){if(zw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zw(this.value.arrayValue,t)}}class S4 extends Ss{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zw(this.value.arrayValue,r))}}class mf{constructor(e,t){this.position=e,this.inclusive=t}}class c_{constructor(e,t="asc"){this.field=e,this.dir=t}}function T4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function QF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?gt.comparator(gt.fromName(u.referenceValue),t.key):pf(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function JF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_u(n.position[t],e.position[t]))return!1;return!0}class Od{constructor(e,t=null,r=[],i=[],a=null,u="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=m,this.endAt=y,this._t=null,this.wt=null}}function XF(n,e,t,r,i,a,u,m){return new Od(n,e,t,r,i,a,u,m)}function u_(n){return new Od(n)}function eL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function qP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function WP(n){for(const e of n.filters)if(e.dt())return e.field;return null}function ZP(n){return null!==n.collectionGroup}function d_(n){const e=vt(n);if(null===e._t){e._t=[];const t=WP(e),r=qP(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new c_(t)),e._t.push(new c_(ii.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new c_(ii.keyField(),a))}}}return e._t}function mo(n){const e=vt(n);if(!e.wt)if("F"===e.limitType)e.wt=WF(e.path,e.collectionGroup,d_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of d_(e))t.push(new c_(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new mf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new mf(e.startAt.position,e.startAt.inclusive):null;e.wt=WF(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function uI(n,e,t){return new Od(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kw(n,e){return Zw(mo(n),mo(e))&&n.limitType===e.limitType}function tL(n){return`${Lm(mo(n))}|lt:${n.limitType}`}function KP(n){return`Query(target=${function y4(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${l_(r.value)}`;var r}).join(", ")}]`),Gw(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>l_(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>l_(t)).join(",")),`Target(${e})`}(mo(n))}; limitType=${n.limitType})`}function YP(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):gt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const m=QF(i,a,u);return i.inclusive?m<=0:m<0}(t.startAt,d_(t),r)||t.endAt&&!function(i,a,u){const m=QF(i,a,u);return i.inclusive?m>=0:m>0}(t.endAt,d_(t),r)));var t,r}function nL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rL(n){return(e,t)=>{let r=!1;for(const i of d_(n)){const a=I4(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function I4(n,e,t){const r=n.field.isKeyField()?gt.comparator(e.key,t.key):function(i,a,u){const m=a.data.field(i),y=u.data.field(i);return null!==m&&null!==y?pf(m,y):Dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Dt()}}function iL(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$w(e)?"-0":e}}function sL(n){return{integerValue:""+n}}function oL(n,e){return BF(e)?sL(e):iL(n,e)}class dI{constructor(){this._=void 0}}function A4(n,e,t){return n instanceof h_?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Vm?lL(n,e):n instanceof Bm?cL(n,e):function(r,i){const a=aL(r,i),u=uL(a)+uL(r.yt);return zP(a)&&zP(r.yt)?sL(u):iL(r.It,u)}(n,e)}function D4(n,e,t){return n instanceof Vm?lL(n,e):n instanceof Bm?cL(n,e):t}function aL(n,e){return n instanceof f_?zP(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class h_ extends dI{}class Vm extends dI{constructor(e){super(),this.elements=e}}function lL(n,e){const t=dL(e);for(const r of n.elements)t.some(i=>_u(i,r))||t.push(r);return{arrayValue:{values:t}}}class Bm extends dI{constructor(e){super(),this.elements=e}}function cL(n,e){let t=dL(e);for(const r of n.elements)t=t.filter(i=>!_u(i,r));return{arrayValue:{values:t}}}class f_ extends dI{constructor(e,t){super(),this.It=e,this.yt=t}}function uL(n){return oi(n.integerValue||n.doubleValue)}function dL(n){return qw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yw{constructor(e,t){this.field=e,this.transform=t}}class P4{constructor(e,t){this.version=e,this.transformResults=t}}class jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class fI{}function hL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new m_(n.key,jr.none()):new p_(n.key,n.data,jr.none());{const t=n.data,r=Es.empty();let i=new yr(ii.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?r.delete(a):r.set(a,u),i=i.add(a)}return new Rd(n.key,r,new Va(i.toArray()),jr.none())}}function M4(n,e,t){n instanceof p_?function(r,i,a){const u=r.value.clone(),m=mL(r.fieldTransforms,i,a.transformResults);u.setAll(m),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Rd?function(r,i,a){if(!hI(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=mL(r.fieldTransforms,i,a.transformResults),m=i.data;m.setAll(pL(r)),m.setAll(u),i.convertToFoundDocument(a.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Qw(n,e,t,r){return n instanceof p_?function(i,a,u,m){if(!hI(i.precondition,a))return u;const y=i.value.clone(),E=gL(i.fieldTransforms,m,a);return y.setAll(E),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Rd?function(i,a,u,m){if(!hI(i.precondition,a))return u;const y=gL(i.fieldTransforms,m,a),E=a.data;return E.setAll(pL(i)),E.setAll(y),a.convertToFoundDocument(a.version,E).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(F=>F.field))}(n,e,t,r):(u=t,hI(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function k4(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=aL(r.transform,i||null);null!=a&&(null===t&&(t=Es.empty()),t.set(r.field,a))}return t||null}function fL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&o_(t,r,(i,a)=>function x4(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Vm&&r instanceof Vm||t instanceof Bm&&r instanceof Bm?o_(t.elements,r.elements,_u):t instanceof f_&&r instanceof f_?_u(t.yt,r.yt):t instanceof h_&&r instanceof h_);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class p_ extends fI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Rd extends fI{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function mL(n,e,t){const r=new Map;sn(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,m=e.data.field(a.field);r.set(a.field,D4(u,m,t[i]))}return r}function gL(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,A4(a,u,e))}return r}class m_ extends fI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QP extends fI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class O4{constructor(e){this.count=e}}var Si,Zn;function yL(n){switch(n){default:return Dt();case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0}}function _L(n){if(void 0===n)return di("GRPC error has no .code"),Ge.UNKNOWN;switch(n){case Si.OK:return Ge.OK;case Si.CANCELLED:return Ge.CANCELLED;case Si.UNKNOWN:return Ge.UNKNOWN;case Si.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case Si.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case Si.INTERNAL:return Ge.INTERNAL;case Si.UNAVAILABLE:return Ge.UNAVAILABLE;case Si.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case Si.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case Si.NOT_FOUND:return Ge.NOT_FOUND;case Si.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case Si.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case Si.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case Si.ABORTED:return Ge.ABORTED;case Si.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case Si.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case Si.DATA_LOSS:return Ge.DATA_LOSS;default:return Dt()}}(Zn=Si||(Si={}))[Zn.OK=0]="OK",Zn[Zn.CANCELLED=1]="CANCELLED",Zn[Zn.UNKNOWN=2]="UNKNOWN",Zn[Zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zn[Zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zn[Zn.NOT_FOUND=5]="NOT_FOUND",Zn[Zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zn[Zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zn[Zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zn[Zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zn[Zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zn[Zn.ABORTED=10]="ABORTED",Zn[Zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zn[Zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zn[Zn.INTERNAL=13]="INTERNAL",Zn[Zn.UNAVAILABLE=14]="UNAVAILABLE",Zn[Zn.DATA_LOSS=15]="DATA_LOSS";class gf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Om(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return FF(this.inner)}size(){return this.innerSize}}const R4=new si(gt.comparator);function sa(){return R4}const vL=new si(gt.comparator);function Jw(...n){let e=vL;for(const t of n)e=e.insert(t.key,t);return e}function wL(n){let e=vL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vu(){return Xw()}function bL(){return Xw()}function Xw(){return new gf(n=>n.toString(),(n,e)=>n.isEqual(e))}const N4=new si(gt.comparator),F4=new yr(gt.comparator);function Tn(...n){let e=F4;for(const t of n)e=e.add(t);return e}const L4=new yr(yn);function pI(){return L4}class eb{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,tb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new eb(on.min(),i,pI(),sa(),Tn())}}class tb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new tb(r,t,Tn(),Tn(),Tn())}}class mI{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class CL{constructor(e,t){this.targetId=e,this.At=t}}class EL{constructor(e,t,r=Vi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class SL{constructor(){this.Rt=0,this.bt=IL(),this.Pt=Vi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Tn(),t=Tn(),r=Tn();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Dt()}}),new tb(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=IL()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class V4{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=sa(),this.qt=TL(),this.Kt=new yr(yn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(lI(a))if(0===r){const u=new gt(a.path);this.jt(t,u,Dr.newNoDocument(u,on.min()))}else sn(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const m=this.Xt(u);if(m){if(a.current&&lI(m.target)){const y=new gt(m.target.path);null!==this.Ut.get(y)||this.ee(u,y)||this.jt(u,y,Dr.newNoDocument(y,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let r=Tn();this.qt.forEach((a,u)=>{let m=!0;u.forEachWhile(y=>{const E=this.Xt(y);return!E||2===E.purpose||(m=!1,!1)}),m&&(r=r.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const i=new eb(e,t,this.Kt,this.Ut,r);return this.Ut=sa(),this.qt=TL(),this.Kt=new yr(yn),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new SL,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new yr(yn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||nt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new SL),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function TL(){return new si(gt.comparator)}function IL(){return new si(gt.comparator)}const B4={asc:"ASCENDING",desc:"DESCENDING"},U4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class H4{constructor(e,t){this.databaseId=e,this.gt=t}}function nb(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AL(n,e){return n.gt?e.toBase64():e.toUint8Array()}function j4(n,e){return nb(n,e.toTimestamp())}function Xi(n){return sn(!!n),on.fromTimestamp(function(e){const t=df(e);return new Hr(t.seconds,t.nanos)}(n))}function JP(n,e){return(t=n,new Wn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function DL(n){const e=Wn.fromString(n);return sn(FL(e)),e}function rb(n,e){return JP(n.databaseId,e.path)}function wu(n,e){const t=DL(e);if(t.get(1)!==n.databaseId.projectId)throw new tt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new tt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new gt(PL(t))}function XP(n,e){return JP(n.databaseId,e)}function xL(n){const e=DL(n);return 4===e.length?Wn.emptyPath():PL(e)}function ib(n){return new Wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PL(n){return sn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ML(n,e,t){return{name:rb(n,e),fields:t.value.mapValue.fields}}function kL(n,e,t){const r=wu(n,e.name),i=Xi(e.updateTime),a=new Es({mapValue:{fields:e.fields}}),u=Dr.newFoundDocument(r,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function sb(n,e){let t;if(e instanceof p_)t={update:ML(n,e.key,e.value)};else if(e instanceof m_)t={delete:rb(n,e.key)};else if(e instanceof Rd)t={update:ML(n,e.key,e.data),updateMask:Q4(e.fieldMask)};else{if(!(e instanceof QP))return Dt();t={verify:rb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof h_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Vm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Bm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof f_)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw Dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:j4(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Dt()),t;var i}function eM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?jr.updateTime(Xi(i.updateTime)):void 0!==i.exists?jr.exists(i.exists):jr.none():jr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let m=null;"setToServerValue"in u?(sn("REQUEST_TIME"===u.setToServerValue),m=new h_):"appendMissingElements"in u?m=new Vm(u.appendMissingElements.values||[]):"removeAllFromArray"in u?m=new Bm(u.removeAllFromArray.values||[]):"increment"in u?m=new f_(a,u.increment):Dt();const y=ii.fromServerFormat(u.fieldPath);return new Yw(y,m)}(n,i)):[];var i;if(e.update){const i=wu(n,e.update.name),a=new Es({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Va((e.updateMask.fieldPaths||[]).map(E=>ii.fromServerFormat(E)));return new Rd(i,a,u,t,r)}return new p_(i,a,t,r)}if(e.delete){const i=wu(n,e.delete);return new m_(i,t)}if(e.verify){const i=wu(n,e.verify);return new QP(i,t)}return Dt()}function OL(n,e){return{documents:[XP(n,e.path)]}}function tM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=XP(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=XP(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const E=y.map(F=>function(q){if("=="===q.op){if(jF(q.value))return{unaryFilter:{field:g_(q.field),op:"IS_NAN"}};if(HF(q.value))return{unaryFilter:{field:g_(q.field),op:"IS_NULL"}}}else if("!="===q.op){if(jF(q.value))return{unaryFilter:{field:g_(q.field),op:"IS_NOT_NAN"}};if(HF(q.value))return{unaryFilter:{field:g_(q.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:g_(q.field),op:Z4(q.op),value:q.value}}}(F));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(E=>{return{field:g_((F=E).field),direction:W4(F.dir)};var F})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(E=e.limit,n.gt||Gw(E)?E:{value:E});var E,m,y;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function RL(n){let e=xL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){sn(1===r);const F=t.from[0];F.allDescendants?i=F.collectionId:e=e.child(F.collectionId)}let a=[];t.where&&(a=NL(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(F=>{return new c_(y_((q=F).field),function(oe){switch(oe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction));var q}));let m=null;t.limit&&(m=function(F){let q;return q="object"==typeof F?F.value:F,Gw(q)?null:q}(t.limit));let y=null;var F;t.startAt&&(y=new mf((F=t.startAt).values||[],!!F.before));let E=null;return t.endAt&&(E=function(F){return new mf(F.values||[],!F.before)}(t.endAt)),XF(e,i,u,a,m,"F",y,E)}function NL(n){return n?void 0!==n.unaryFilter?[Y4(n)]:void 0!==n.fieldFilter?[K4(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>NL(e)).reduce((e,t)=>e.concat(t)):Dt():[]}function W4(n){return B4[n]}function Z4(n){return U4[n]}function g_(n){return{fieldPath:n.canonicalString()}}function y_(n){return ii.fromServerFormat(n.fieldPath)}function K4(n){return Ss.create(y_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Y4(n){switch(n.unaryFilter.op){case"IS_NAN":const e=y_(n.unaryFilter.field);return Ss.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=y_(n.unaryFilter.field);return Ss.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=y_(n.unaryFilter.field);return Ss.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=y_(n.unaryFilter.field);return Ss.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}function Q4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function FL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function go(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=LL(e)),e=J4(n.get(t),e);return LL(e)}function J4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function LL(n){return n+"\x01\x01"}function bu(n){const e=n.length;if(sn(e>=2),2===e)return sn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Wn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&Dt(),n.charAt(u+1)){case"\x01":const m=n.substring(a,u);let y;0===i.length?y=m:(i+=m,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:Dt()}a=u+2}return new Wn(r)}const VL=["userId","batchId"];function gI(n,e){return[n,go(e)]}function BL(n,e,t){return[n,go(e),t]}const X4={},ej=["prefixPath","collectionGroup","readTime","documentId"],tj=["prefixPath","collectionGroup","documentId"],nj=["collectionGroup","readTime","prefixPath","documentId"],rj=["canonicalId","targetId"],ij=["targetId","path"],sj=["path","targetId"],oj=["collectionId","parent"],aj=["indexId","uid"],lj=["uid","sequenceNumber"],cj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uj=["indexId","uid","orderedDocumentKey"],dj=["userId","collectionPath","documentId"],hj=["userId","collectionPath","largestBatchId"],fj=["userId","collectionGroup","largestBatchId"],UL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pj=[...UL,"documentOverlays"],HL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jL=HL,mj=[...jL,"indexConfiguration","indexState","indexEntries"];class nM extends OF{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function es(n,e){const t=vt(n);return Sc.M(t.ie,e)}class rM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&M4(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Qw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=bL();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let m=this.applyToLocalView(u,a.mutatedFields);m=t.has(i.key)?null:m;const y=hL(u,m);null!==y&&r.set(i.key,y),u.isValidDocument()||u.convertToNoDocument(on.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tn())}isEqual(e){return this.batchId===e.batchId&&o_(this.mutations,e.mutations,(t,r)=>fL(t,r))&&o_(this.baseMutations,e.baseMutations,(t,r)=>fL(t,r))}}class iM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){sn(e.mutations.length===r.length);let i=N4;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new iM(e,t,r,i)}}class sM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yf{constructor(e,t,r,i,a=on.min(),u=on.min(),m=Vi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m}withSequenceNumber(e){return new yf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new yf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new yf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class GL{constructor(e){this.re=e}}function $L(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:rb(i=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:nb(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Um(e.version)};else{if(!e.isUnknownDocument())return Dt();r.unknownDocument={path:t.path.toArray(),version:Um(e.version)}}var i,a;return r}function yI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Um(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Hm(n){const e=new Hr(n.seconds,n.nanoseconds);return on.fromTimestamp(e)}function jm(n,e){const t=(e.baseMutations||[]).map(a=>eM(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>eM(n.re,a)),i=Hr.fromMillis(e.localWriteTimeMs);return new rM(e.batchId,i,t,r)}function ab(n){const e=Hm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Hm(n.lastLimboFreeSnapshotVersion):on.min();let r;var i;return void 0!==n.query.documents?(sn(1===(i=n.query).documents.length),r=mo(u_(xL(i.documents[0])))):r=mo(RL(n.query)),new yf(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Vi.fromBase64String(n.resumeToken))}function zL(n,e){const t=Um(e.snapshotVersion),r=Um(e.lastLimboFreeSnapshotVersion);let i;i=lI(e.target)?OL(n.re,e.target):tM(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lm(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function oM(n){const e=RL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?uI(e,e.limit,"L"):e}function aM(n,e){return new sM(e.largestBatchId,eM(n.re,e.overlayMutation))}function qL(n,e){const t=e.path.lastSegment();return[n,go(e.path.popLast()),t]}function WL(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Um(r.readTime),documentKey:go(r.documentKey.path),largestBatchId:r.largestBatchId}}class yj{getBundleMetadata(e,t){return ZL(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Hm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return ZL(e).put({bundleId:(r=t).id,createTime:Um(Xi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return KL(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:oM(i.bundledQuery),readTime:Hm(i.readTime)};var i})}saveNamedQuery(e,t){return KL(e).put({name:(r=t).name,readTime:Um(Xi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ZL(n){return es(n,"bundles")}function KL(n){return es(n,"namedQueries")}class _I{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new _I(e,t.uid||"")}getOverlay(e,t){return lb(e).get(qL(this.userId,t)).next(r=>r?aM(this.It,r):null)}getOverlays(e,t){const r=vu();return Ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const m=new sM(t,u);i.push(this.ue(e,m))}),Ue.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(go(u.getCollectionPath())));const a=[];return i.forEach(u=>{const m=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(lb(e).Y("collectionPathOverlayIndex",m))}),Ue.waitFor(a)}getOverlaysForCollection(e,t,r){const i=vu(),a=go(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return lb(e).W("collectionPathOverlayIndex",u).next(m=>{for(const y of m){const E=aM(this.It,y);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=vu();let u;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return lb(e).Z({index:"collectionGroupOverlayIndex",range:m},(y,E,F)=>{const q=aM(this.It,E);a.size()<i||q.largestBatchId===u?(a.set(q.getKey(),q),u=q.largestBatchId):F.done()}).next(()=>a)}ue(e,t){return lb(e).put(function(r,i,a){const[u,m,y]=qL(i,a.mutation.key);return{userId:i,collectionPath:m,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:sb(r.re,a.mutation)}}(this.It,this.userId,t))}}function lb(n){return es(n,"documentOverlays")}class Gm{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(oi(e.integerValue));else if("doubleValue"in e){const r=oi(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),$w(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Rm(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?GF(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Dt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),gt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function _j(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function YL(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=_j(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Gm.Te=new Gm;class vj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=YL(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=YL(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class wj{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class bj{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class cb{constructor(){this.Be=new vj,this.Le=new wj(this.Be),this.Ue=new bj(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class $m{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new $m(this.indexId,this.documentKey,this.arrayValue,r)}}function zm(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=QL(n.arrayValue,e.arrayValue),0!==t?t:(t=QL(n.directionalValue,e.directionalValue),0!==t?t:gt.comparator(n.documentKey,e.documentKey)))}function QL(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Cj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=BP(e);if(void 0!==t&&!this.ze(t))return!1;const r=Mm(e);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const u=r[i];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Ej{constructor(){this.Ye=new lM}addToCollectionParentIndex(e,t){return this.Ye.add(t),Ue.resolve()}getCollectionParents(e,t){return Ue.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Ue.resolve()}deleteFieldIndex(e,t){return Ue.resolve()}getDocumentsMatchingTarget(e,t){return Ue.resolve(null)}getIndexType(e,t){return Ue.resolve(0)}getFieldIndexes(e,t){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,t){return Ue.resolve(La.min())}getMinOffsetFromCollectionGroup(e,t){return Ue.resolve(La.min())}updateCollectionGroup(e,t,r){return Ue.resolve()}updateIndexEntries(e,t){return Ue.resolve()}}class lM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yr(Wn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yr(Wn.comparator)).toArray()}}const vI=new Uint8Array(0);class Sj{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new lM,this.Ze=new gf(r=>Lm(r),(r,i)=>Zw(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:go(i)};return JL(e).put(a)}return Ue.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[xF(t),""],!1,!0);return JL(e).W(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(bu(u.parent))}return r})}addFieldIndex(e,t){const r=wI(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var u;delete i.indexId;const a=r.add(i);if(t.indexState){const u=db(e);return a.next(m=>{u.put(WL(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=wI(e),i=db(e),a=ub(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=ub(e);let i=!0;const a=new Map;return Ue.forEach(this.tn(t),u=>this.en(e,u).next(m=>{i&&(i=!!m),a.set(u,m)})).next(()=>{if(i){let u=Tn();const m=[];return Ue.forEach(a,(y,E)=>{var F;nt("IndexedDbIndexManager",`Using index ${F=y,`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(ht=>`${ht.fieldPath}:${ht.kind}`).join(",")}`} to execute ${Lm(t)}`);const q=function(ht,pt){const Vt=BP(pt);if(void 0===Vt)return null;for(const Ht of cI(ht,Vt.fieldPath))switch(Ht.op){case"array-contains-any":return Ht.value.arrayValue.values||[];case"array-contains":return[Ht.value]}return null}(E,y),oe=function(ht,pt){const Vt=new Map;for(const Ht of Mm(pt))for(const Fn of cI(ht,Ht.fieldPath))switch(Fn.op){case"==":case"in":Vt.set(Ht.fieldPath.canonicalString(),Fn.value);break;case"not-in":case"!=":return Vt.set(Ht.fieldPath.canonicalString(),Fn.value),Array.from(Vt.values())}return null}(E,y),pe=function(ht,pt){const Vt=[];let Ht=!0;for(const Fn of Mm(pt)){const pi=0===Fn.kind?ZF(ht,Fn.fieldPath,ht.startAt):KF(ht,Fn.fieldPath,ht.startAt);Vt.push(pi.value),Ht&&(Ht=pi.inclusive)}return new mf(Vt,Ht)}(E,y),we=function(ht,pt){const Vt=[];let Ht=!0;for(const Fn of Mm(pt)){const pi=0===Fn.kind?KF(ht,Fn.fieldPath,ht.endAt):ZF(ht,Fn.fieldPath,ht.endAt);Vt.push(pi.value),Ht&&(Ht=pi.inclusive)}return new mf(Vt,Ht)}(E,y),Me=this.nn(y,E,pe),Ve=this.nn(y,E,we),rt=this.sn(y,E,oe),dt=this.rn(y.indexId,q,Me,pe.inclusive,Ve,we.inclusive,rt);return Ue.forEach(dt,ht=>r.J(ht,t.limit).next(pt=>{pt.forEach(Vt=>{const Ht=gt.fromSegments(Vt.documentKey);u.has(Ht)||(u=u.add(Ht),m.push(Ht))})}))}).next(()=>m)}return Ue.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,a,u,m){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),E=y/(null!=t?t.length:1),F=[];for(let q=0;q<y;++q){const oe=t?this.on(t[q/E]):vI,pe=this.un(e,oe,r[q%E],i),we=this.cn(e,oe,a[q%E],u),Me=m.map(Ve=>this.un(e,oe,Ve,!0));F.push(...this.createRange(pe,we,Me))}return F}un(e,t,r,i){const a=new $m(e,gt.empty(),t,r);return i?a:a.Ke()}cn(e,t,r,i){const a=new $m(e,gt.empty(),t,r);return i?a.Ke():a}en(e,t){const r=new Cj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const m of a)r.We(m)&&(!u||m.fields.length>u.fields.length)&&(u=m);return u})}getIndexType(e,t){let r=2;return Ue.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==r&&a.fields.length<function(u){let m=new yr(ii.comparator),y=!1;for(const E of u.filters){const F=E;F.field.isKeyField()||("array-contains"===F.op||"array-contains-any"===F.op?y=!0:m=m.add(F.field))}for(const E of u.orderBy)E.field.isKeyField()||(m=m.add(E.field));return m.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new cb;for(const i of Mm(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.qe(i.kind);Gm.Te.ce(a,u)}return r.$e()}on(e){const t=new cb;return Gm.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new cb;return Gm.Te.ce(Fm(this.databaseId,t),r.qe(function(i){const a=Mm(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new cb);let a=0;for(const u of Mm(e)){const m=r[a++];for(const y of i)if(this.ln(t,u.fieldPath)&&qw(m))i=this.fn(i,u,m);else{const E=y.qe(u.kind);Gm.Te.ce(m,E)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const m of i){const y=new cb;y.seed(m.$e()),Gm.Te.ce(u,y.qe(t.kind)),a.push(y)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof Ss&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=wI(e),i=db(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const u=[];return Ue.forEach(a,m=>i.get([m.indexId,this.uid]).next(y=>{u.push(function(E,F){const q=F?new Uw(F.sequenceNumber,new La(Hm(F.readTime),new gt(bu(F.documentKey)),F.largestBatchId)):Uw.empty(),oe=E.fields.map(([pe,we])=>new rI(ii.fromServerFormat(pe),we));return new nI(E.indexId,E.collectionGroup,oe,q)}(m,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:yn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=wI(e),a=db(e);return this._n(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Ue.forEach(m,y=>a.put(WL(y.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return Ue.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?Ue.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),Ue.forEach(m,y=>this.wn(e,i,y).next(E=>{const F=this.mn(a,y);return E.isEqual(F)?Ue.resolve():this.gn(e,a,y,E,F)}))))})}yn(e,t,r,i){return ub(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return ub(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=ub(e);let a=new yr(zm);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(u,m)=>{a=a.add(new $m(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>a)}mn(e,t){let r=new yr(zm);const i=this.an(t,e);if(null==i)return r;const a=BP(t);if(null!=a){const u=e.data.field(a.fieldPath);if(qw(u))for(const m of u.arrayValue.values||[])r=r.add(new $m(t.indexId,e.key,this.on(m),i))}else r=r.add(new $m(t.indexId,e.key,vI,i));return r}gn(e,t,r,i,a){nt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(m,y,E,F,q){const oe=m.getIterator(),pe=y.getIterator();let we=a_(oe),Me=a_(pe);for(;we||Me;){let Ve=!1,rt=!1;if(we&&Me){const dt=E(we,Me);dt<0?rt=!0:dt>0&&(Ve=!0)}else null!=we?rt=!0:Ve=!0;Ve?(F(Me),Me=a_(pe)):rt?(q(we),we=a_(oe)):(we=a_(oe),Me=a_(pe))}}(i,a,zm,m=>{u.push(this.yn(e,t,r,m))},m=>{u.push(this.pn(e,t,r,m))}),Ue.waitFor(u)}_n(e){let t=1;return db(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,m)=>zm(u,m)).filter((u,m,y)=>!m||0!==zm(u,y[m-1]));const i=[];i.push(e);for(const u of r){const m=zm(u,e),y=zm(u,t);if(0===m)i[0]=e.Ke();else if(m>0&&y<0)i.push(u),i.push(u.Ke());else if(y>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,vI,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,vI,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(XL)}getMinOffset(e,t){return Ue.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Dt())).next(XL)}}function JL(n){return es(n,"collectionParents")}function ub(n){return es(n,"indexEntries")}function wI(n){return es(n,"indexConfiguration")}function db(n){return es(n,"indexState")}function XL(n){sn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;UP(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new La(e.readTime,e.documentKey,t)}const e2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oa{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new oa(e,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function t2(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let m=0;const y=r.Z({range:u},(F,q,oe)=>(m++,oe.delete()));a.push(y.next(()=>{sn(1===m)}));const E=[];for(const F of t.mutations){const q=BL(e,F.key.path,t.batchId);a.push(i.delete(q)),E.push(F.key)}return Ue.waitFor(a).next(()=>E)}function bI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Dt();e=n.noDocument}return JSON.stringify(e).length}oa.DEFAULT_COLLECTION_PERCENTILE=10,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oa.DEFAULT=new oa(41943040,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oa.DISABLED=new oa(-1,0,0);class CI{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){sn(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new CI(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _f(e).Z({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=__(e),u=_f(e);return u.add({}).next(m=>{sn("number"==typeof m);const y=new rM(m,t,r,i),E=function(oe,pe,we){const Me=we.baseMutations.map(rt=>sb(oe.re,rt)),Ve=we.mutations.map(rt=>sb(oe.re,rt));return{userId:pe,batchId:we.batchId,localWriteTimeMs:we.localWriteTime.toMillis(),baseMutations:Me,mutations:Ve}}(this.It,this.userId,y),F=[];let q=new yr((oe,pe)=>yn(oe.canonicalString(),pe.canonicalString()));for(const oe of i){const pe=BL(this.userId,oe.key.path,m);q=q.add(oe.key.path.popLast()),F.push(u.put(E)),F.push(a.put(pe,X4))}return q.forEach(oe=>{F.push(this.indexManager.addToCollectionParentIndex(e,oe))}),e.addOnCommittedListener(()=>{this.In[m]=y.keys()}),Ue.waitFor(F).next(()=>y)})}lookupMutationBatch(e,t){return _f(e).get(t).next(r=>r?(sn(r.userId===this.userId),jm(this.It,r)):null)}Tn(e,t){return this.In[t]?Ue.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return _f(e).Z({index:"userMutationsIndex",range:i},(u,m,y)=>{m.userId===this.userId&&(sn(m.batchId>=r),a=jm(this.It,m)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _f(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _f(e).W("userMutationsIndex",t).next(r=>r.map(i=>jm(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=gI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return __(e).Z({range:i},(u,m,y)=>{const[E,F,q]=u,oe=bu(F);if(E===this.userId&&t.path.isEqual(oe))return _f(e).get(q).next(pe=>{if(!pe)throw Dt();sn(pe.userId===this.userId),a.push(jm(this.It,pe))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yr(yn);const i=[];return t.forEach(a=>{const u=gI(this.userId,a.path),m=IDBKeyRange.lowerBound(u),y=__(e).Z({range:m},(E,F,q)=>{const[oe,pe,we]=E,Me=bu(pe);oe===this.userId&&a.path.isEqual(Me)?r=r.add(we):q.done()});i.push(y)}),Ue.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=gI(this.userId,r),u=IDBKeyRange.lowerBound(a);let m=new yr(yn);return __(e).Z({range:u},(y,E,F)=>{const[q,oe,pe]=y,we=bu(oe);q===this.userId&&r.isPrefixOf(we)?we.length===i&&(m=m.add(pe)):F.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(_f(e).get(a).next(u=>{if(null===u)throw Dt();sn(u.userId===this.userId),r.push(jm(this.It,u))}))}),Ue.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return t2(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Ue.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return __(e).Z({range:r},(a,u,m)=>{if(a[0]===this.userId){const y=bu(a[1]);i.push(y)}else m.done()}).next(()=>{sn(0===i.length)})})}containsKey(e,t){return n2(e,this.userId,t)}Rn(e){return r2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function n2(n,e,t){const r=gI(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return __(n).Z({range:a,X:!0},(m,y,E)=>{const[F,q,oe]=m;F===e&&q===i&&(u=!0),E.done()}).next(()=>u)}function _f(n){return es(n,"mutations")}function __(n){return es(n,"documentMutations")}function r2(n){return es(n,"mutationQueues")}class qm{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new qm(0)}static vn(){return new qm(-1)}}class Tj{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new qm(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>on.fromTimestamp(new Hr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>v_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(sn(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return v_(e).Z((u,m)=>{const y=ab(m);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>Ue.waitFor(a)).next(()=>i)}forEachTarget(e,t){return v_(e).Z((r,i)=>{const a=ab(i);t(a)})}Vn(e){return i2(e).get("targetGlobalKey").next(t=>(sn(null!==t),t))}Sn(e,t){return i2(e).put("targetGlobalKey",t)}Dn(e,t){return v_(e).put(zL(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Lm(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return v_(e).Z({range:i,index:"queryTargetsIndex"},(u,m,y)=>{const E=ab(m);Zw(t,E.target)&&(a=E,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=vf(e);return t.forEach(u=>{const m=go(u.path);i.push(a.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,u))}),Ue.waitFor(i)}removeMatchingKeys(e,t,r){const i=vf(e);return Ue.forEach(t,a=>{const u=go(a.path);return Ue.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=vf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=vf(e);let a=Tn();return i.Z({range:r,X:!0},(u,m,y)=>{const E=bu(u[1]),F=new gt(E);a=a.add(F)}).next(()=>a)}containsKey(e,t){const r=go(t.path),i=IDBKeyRange.bound([r],[xF(r)],!1,!0);let a=0;return vf(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,m],y,E)=>{0!==u&&(a++,E.done())}).next(()=>a>0)}se(e,t){return v_(e).get(t).next(r=>r?ab(r):null)}}function v_(n){return es(n,"targets")}function i2(n){return es(n,"targetGlobal")}function vf(n){return es(n,"targetDocuments")}function s2([n,e],[t,r]){const i=yn(n,t);return 0===i?yn(e,r):i}class Ij{constructor(e){this.xn=e,this.buffer=new yr(s2),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();s2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Aj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;nt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,He.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){uf(r)?nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield cf(r)}yield t.Fn(3e5)}))}}class Dj{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ue.resolve(ia.at);const r=new Ij(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(e2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e2):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,a,u,m,y,E;const F=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(q=>(q>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${q}`),i=this.params.maximumSequenceNumbersToCollect):i=q,u=Date.now(),this.nthSequenceNumber(e,i))).next(q=>(r=q,m=Date.now(),this.removeTargets(e,r,t))).next(q=>(a=q,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(q=>(E=Date.now(),LP()<=ra.in.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-F}ms\n\tDetermined least recently used ${i} in `+(m-u)+`ms\n\tRemoved ${a} targets in `+(y-m)+`ms\n\tRemoved ${q} documents in `+(E-y)+`ms\nTotal Duration: ${E-F}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:q})))}}class xj{constructor(e,t){this.db=e,this.garbageCollector=new Dj(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return EI(e,r)}removeReference(e,t,r){return EI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return EI(e,t)}Gn(e,t){return function(r,i){let a=!1;return r2(r).tt(u=>n2(r,u,i).next(m=>(m&&(a=!0),Ue.resolve(!m)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(u,m)=>{if(m<=t){const y=this.Gn(e,u).next(E=>{if(!E)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,on.min()),vf(e).delete([0,go(u.path)])))});i.push(y)}}).next(()=>Ue.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return EI(e,t)}Kn(e,t){const r=vf(e);let i,a=ia.at;return r.Z({index:"documentTargetsIndex"},([u,m],{path:y,sequenceNumber:E})=>{0===u?(a!==ia.at&&t(new gt(bu(i)),a),a=E,i=y):a=ia.at}).next(()=>{a!==ia.at&&t(new gt(bu(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function EI(n,e){return vf(n).put((r=n.currentSequenceNumber,{targetId:0,path:go(e.path),sequenceNumber:r}));var r}class o2{constructor(){this.changes=new gf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pj{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Wm(e).put(r)}removeEntry(e,t,r){return Wm(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],yI(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Dr.newInvalidDocument(t);return Wm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(hb(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Dr.newInvalidDocument(t)};return Wm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(hb(t))},(i,a)=>{r={document:this.jn(t,a),size:bI(a)}}).next(()=>r)}getEntries(e,t){let r=sa();return this.zn(e,t,(i,a)=>{const u=this.jn(i,a);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=sa(),i=new si(gt.comparator);return this.zn(e,t,(a,u)=>{const m=this.jn(a,u);r=r.insert(a,m),i=i.insert(a,bI(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return Ue.resolve();let i=new yr(u2);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(hb(i.first()),hb(i.last())),u=i.getIterator();let m=u.getNext();return Wm(e).Z({index:"documentKeyIndex",range:a},(y,E,F)=>{const q=gt.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;m&&u2(m,q)<0;)r(m,null),m=u.getNext();m&&m.isEqual(q)&&(r(m,E),m=u.hasNext()?u.getNext():null),m?F.j(hb(m)):F.done()}).next(()=>{for(;m;)r(m,null),m=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),yI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wm(e).W(IDBKeyRange.bound(i,a,!0)).next(u=>{let m=sa();for(const y of u){const E=this.jn(gt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);m=m.insert(E.key,E)}return m})}getAllFromCollectionGroup(e,t,r,i){let a=sa();const u=c2(t,r),m=c2(t,La.max());return Wm(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,m,!0)},(y,E,F)=>{const q=this.jn(gt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);a=a.insert(q.key,q),a.size===i&&F.done()}).next(()=>a)}newChangeBuffer(e){return new Mj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return l2(e).get("remoteDocumentGlobalKey").next(t=>(sn(!!t),t))}Qn(e,t){return l2(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function gj(n,e){let t;if(e.document)t=kL(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=gt.fromSegments(e.noDocument.path),i=Hm(e.noDocument.readTime);t=Dr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dt();{const r=gt.fromSegments(e.unknownDocument.path),i=Hm(e.unknownDocument.version);t=Dr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Hr(r[0],r[1]);return on.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(on.min()))return r}return Dr.newInvalidDocument(e)}}function a2(n){return new Pj(n)}class Mj extends o2{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new gf(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new yr((a,u)=>yn(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const m=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,m.readTime)),u.isValidDocument()){const y=$L(this.Yn.It,u);i=i.add(a.path.popLast()),r+=bI(y)-m.size,t.push(this.Yn.addEntry(e,a,y))}else if(r-=m.size,this.trackRemovals){const y=$L(this.Yn.It,u.convertToNoDocument(on.min()));t.push(this.Yn.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),Ue.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function l2(n){return es(n,"remoteDocumentGlobal")}function Wm(n){return es(n,"remoteDocumentsV14")}function hb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function c2(n,e){const t=e.documentKey.path.toArray();return[n,yI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function u2(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=yn(t[a],r[a]),i)return i;return i=yn(t.length,r.length),i||(i=yn(t[t.length-2],r[r.length-2]),i||yn(t[t.length-1],r[r.length-1]))}class kj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class d2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Qw(r.mutation,i,Va.empty(),Hr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Tn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Tn()){const i=vu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=Jw();return a.forEach((m,y)=>{u=u.insert(m,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=vu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Tn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,m)=>{t.set(u,m)})})}computeViews(e,t,r,i){let a=sa();const u=Xw(),m=Xw();return t.forEach((y,E)=>{const F=r.get(E.key);i.has(E.key)&&(void 0===F||F.mutation instanceof Rd)?a=a.insert(E.key,E):void 0!==F&&(u.set(E.key,F.mutation.getFieldMask()),Qw(F.mutation,E,F.mutation.getFieldMask(),Hr.now()))}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((E,F)=>u.set(E,F)),t.forEach((E,F)=>{var q;return m.set(E,new kj(F,null!==(q=u.get(E))&&void 0!==q?q:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Xw();let i=new si((u,m)=>u-m),a=Tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const m of u)m.keys().forEach(y=>{const E=t.get(y);if(null===E)return;let F=r.get(y)||Va.empty();F=m.applyToLocalView(E,F),r.set(y,F);const q=(i.get(m.batchId)||Tn()).add(y);i=i.insert(m.batchId,q)})}).next(()=>{const u=[],m=i.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),E=y.key,F=y.value,q=bL();F.forEach(oe=>{if(!a.has(oe)){const pe=hL(t.get(oe),r.get(oe));null!==pe&&q.set(oe,pe),a=a.add(oe)}}),u.push(this.documentOverlayCache.saveOverlays(e,E,q))}return Ue.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return gt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ZP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Ue.resolve(vu());let m=-1,y=a;return u.next(E=>Ue.forEach(E,(F,q)=>(m<q.largestBatchId&&(m=q.largestBatchId),a.get(F)?Ue.resolve():this.getBaseDocument(e,F,q).next(oe=>{y=y.insert(F,oe)}))).next(()=>this.populateOverlays(e,E,a)).next(()=>this.computeViews(e,y,E,Tn())).next(F=>({batchId:m,changes:wL(F)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gt(t)).next(r=>{let i=Jw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Jw();return this.indexManager.getCollectionParents(e,i).next(u=>Ue.forEach(u,m=>{const y=(E=t,F=m.child(i),new Od(F,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,F;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(E=>{E.forEach((F,q)=>{a=a.insert(F,q)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((m,y)=>{const E=y.getKey();null===i.get(E)&&(i=i.insert(E,Dr.newInvalidDocument(E)))});let u=Jw();return i.forEach((m,y)=>{const E=a.get(m);void 0!==E&&Qw(E.mutation,y,Va.empty(),Hr.now()),YP(t,y)&&(u=u.insert(m,y))}),u})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ue.resolve(Dr.newInvalidDocument(t))}}class Oj{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ue.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Xi(r.createTime)}),Ue.resolve()}getNamedQuery(e,t){return Ue.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:oM(r.bundledQuery),readTime:Xi(r.readTime)}),Ue.resolve();var r}}class Rj{constructor(){this.overlays=new si(gt.comparator),this.es=new Map}getOverlay(e,t){return Ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=vu();return Ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ue(e,t,a)}),Ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),Ue.resolve()}getOverlaysForCollection(e,t,r){const i=vu(),a=t.length+1,u=new gt(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const y=m.getNext().value,E=y.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new si((E,F)=>E-F);const u=this.overlays.getIterator();for(;u.hasNext();){const E=u.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let F=a.get(E.largestBatchId);null===F&&(F=vu(),a=a.insert(E.largestBatchId,F)),F.set(E.getKey(),E)}}const m=vu(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,F)=>m.set(E,F)),!(m.size()>=i)););return Ue.resolve(m)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new sM(t,r));let a=this.es.get(t);void 0===a&&(a=Tn(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class cM{constructor(){this.ns=new yr(ts.ss),this.rs=new yr(ts.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new ts(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new ts(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new gt(new Wn([])),r=new ts(t,e),i=new ts(t,e+1),a=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new gt(new Wn([])),r=new ts(t,e),i=new ts(t,e+1);let a=Tn();return this.rs.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new ts(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ts{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return gt.comparator(e.key,t.key)||yn(e._s,t._s)}static os(e,t){return yn(e._s,t._s)||gt.comparator(e.key,t.key)}}class Nj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new yr(ts.ss)}checkEmpty(e){return Ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const u=new rM(a,t,r,i);this.mutationQueue.push(u);for(const m of i)this.gs=this.gs.add(new ts(m.key,a)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ue.resolve(u)}lookupMutationBatch(e,t){return Ue.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return Ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ts(t,0),i=new ts(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],u=>{const m=this.ys(u._s);a.push(m)}),Ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yr(yn);return t.forEach(i=>{const a=new ts(i,0),u=new ts(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],m=>{r=r.add(m._s)})}),Ue.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;gt.isDocumentKey(a)||(a=a.child(""));const u=new ts(new gt(a),0);let m=new yr(yn);return this.gs.forEachWhile(y=>{const E=y.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(m=m.add(y._s)),!0)},u),Ue.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){sn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Ue.forEach(t.mutations,i=>{const a=new ts(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new ts(t,0),i=this.gs.firstAfterOrEqual(r);return Ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ue.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fj{constructor(e){this.Es=e,this.docs=new si(gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ue.resolve(r?r.document.mutableCopy():Dr.newInvalidDocument(t))}getEntries(e,t){let r=sa();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Dr.newInvalidDocument(i))}),Ue.resolve(r)}getAllFromCollection(e,t,r){let i=sa();const a=new gt(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:m,value:{document:y}}=u.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||UP(MF(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return Ue.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Dt()}As(e,t){return Ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Lj(this)}getSize(e){return Ue.resolve(this.size)}}class Lj extends o2{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),Ue.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Vj{constructor(e){this.persistence=e,this.Rs=new gf(t=>Lm(t),Zw),this.lastRemoteSnapshotVersion=on.min(),this.highestTargetId=0,this.bs=0,this.Ps=new cM,this.targetCount=0,this.vs=qm.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Ue.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new qm(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ue.resolve()}updateTargetData(e,t){return this.Dn(t),Ue.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((u,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Ue.waitFor(a).next(()=>i)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Ue.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Ue.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),Ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Ue.resolve(r)}containsKey(e,t){return Ue.resolve(this.Ps.containsKey(t))}}class h2{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ia(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Vj(this),this.indexManager=new Ej,this.remoteDocumentCache=new Fj(r=>this.referenceDelegate.xs(r)),this.It=new GL(t),this.Ns=new Oj(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Nj(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){nt("MemoryPersistence","Starting transaction:",e);const i=new Bj(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return Ue.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Bj extends OF{constructor(e){super(),this.currentSequenceNumber=e}}class SI{constructor(e){this.persistence=e,this.Fs=new cM,this.$s=null}static Bs(e){return new SI(e)}get Ls(){if(this.$s)return this.$s;throw Dt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Ue.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ue.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.Ls,r=>{const i=gt.fromPath(r);return this.Us(e,i).next(a=>{a||t.removeEntry(i,on.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Ue.or([()=>Ue.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Uj{constructor(e){this.It=e}$(e,t,r,i){const a=new iI("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VL,{unique:!0}),m.createObjectStore("documentMutations"),f2(e),function(m){m.createObjectStore("remoteDocuments")}(e));let u=Ue.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),f2(e)),u=u.next(()=>function(m){const y=m.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:on.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",E)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(m,y){return y.store("mutations").W().next(E=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VL,{unique:!0});const F=y.store("mutations"),q=E.map(oe=>F.put(oe));return Ue.waitFor(q)})}(e,a))),u=u.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.qs(a))),r<6&&i>=6&&(u=u.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(a))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(a))),r<11&&i>=11&&(u=u.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(m){const y=m.createObjectStore("documentOverlays",{keyPath:dj});y.createIndex("collectionPathOverlayIndex",hj,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",fj,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(m){const y=m.createObjectStore("remoteDocumentsV14",{keyPath:ej});y.createIndex("documentKeyIndex",tj),y.createIndex("collectionGroupIndex",nj)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,a))),r<15&&i>=15&&(u=u.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:aj}).createIndex("sequenceNumberIndex",lj,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:cj}).createIndex("documentKeyIndex",uj,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=bI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>Ue.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(m=>Ue.forEach(m,y=>{sn(y.userId===a.userId);const E=jm(this.It,y);return t2(e,a.userId,E).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((u,m)=>{const y=new Wn(u),E=[0,go(y)];a.push(t.get(E).next(F=>F?Ue.resolve():t.put({targetId:0,path:go(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ue.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:oj});const r=t.store("collectionParents"),i=new lM,a=u=>{if(i.add(u)){const m=u.lastSegment(),y=u.popLast();return r.put({collectionId:m,parent:go(y)})}};return t.store("remoteDocuments").Z({X:!0},(u,m)=>{const y=new Wn(u);return a(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,m,y],E)=>{const F=bu(m);return a(F.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=ab(i),u=zL(this.It,a);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,u)=>{const m=t.store("remoteDocumentsV14"),y=(E=u,E.document?new gt(Wn.fromString(E.document.name).popFirst(5)):E.noDocument?gt.fromSegments(E.noDocument.path):E.unknownDocument?gt.fromSegments(E.unknownDocument.path):Dt()).path.toArray();var E;const F={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(m.put(F))}).next(()=>Ue.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=a2(this.It),a=new h2(SI.Bs,this.It.re);return r.W().next(u=>{const m=new Map;return u.forEach(y=>{var E;let F=null!==(E=m.get(y.userId))&&void 0!==E?E:Tn();jm(this.It,y).keys().forEach(q=>F=F.add(q)),m.set(y.userId,F)}),Ue.forEach(m,(y,E)=>{const F=new Ji(E),q=_I.oe(this.It,F),oe=a.getIndexManager(F),pe=CI.oe(F,this.It,oe,a.referenceDelegate);return new d2(i,pe,q,oe).recalculateAndSaveOverlaysForDocumentKeys(new nM(t,ia.at),y).next()})})}}function f2(n){n.createObjectStore("targetDocuments",{keyPath:ij}).createIndex("documentTargetsIndex",sj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rj,{unique:!0}),n.createObjectStore("targetGlobal")}const uM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dM{constructor(e,t,r,i,a,u,m,y,E,F,q=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=u,this.document=m,this.Js=E,this.Ys=F,this.Xs=q,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=oe=>Promise.resolve(),!dM.C())throw new tt(Ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xj(this,i),this.ii=t+"main",this.It=new GL(y),this.ri=new Sc(this.ii,this.Xs,new Uj(this.It)),this.Cs=new Tj(this.referenceDelegate,this.It),this.remoteDocumentCache=a2(this.It),this.Ns=new yj,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===F&&di("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(Ge.FAILED_PRECONDITION,uM);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ia(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,He.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,He.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,He.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>TI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(uf(e))return nt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return fb(e).get("owner").next(t=>Ue.resolve(this.mi(t)))}gi(e){return TI(e).delete(this.clientId)}yi(){var e=this;return(0,He.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=es(r,"clientMetadata");return i.W().next(a=>{const u=e.Ii(a,18e5),m=a.filter(y=>-1===u.indexOf(y));return Ue.forEach(m,y=>i.delete(y.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ue.resolve(!0):fb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new tt(Ge.FAILED_PRECONDITION,uM);return!1}}return!(!this.networkEnabled||!this.inForeground)||TI(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&nt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,He.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new nM(t,ia.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>TI(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return CI.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Sj(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return _I.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){nt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?mj:14===u?jL:13===u?HL:12===u?pj:11===u?UL:void Dt();var u;let m;return this.ri.runTransaction(e,i,a,y=>(m=new nM(y,this.Ss?this.Ss.next():ia.at),"readwrite-primary"===t?this.fi(m).next(E=>!!E||this.di(m)).next(E=>{if(!E)throw di(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new tt(Ge.FAILED_PRECONDITION,kF);return r(m)}).next(E=>this.wi(m).next(()=>E)):this.Vi(m).next(()=>r(m)))).then(y=>(m.raiseOnCommittedEvent(),y))}Vi(e){return fb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new tt(Ge.FAILED_PRECONDITION,uM)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fb(e).put("owner",t)}static C(){return Sc.C()}_i(e){const t=fb(e);return t.get("owner").next(r=>this.mi(r)?(nt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ue.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(di(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,fe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return nt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return di("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){di("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fb(n){return es(n,"owner")}function TI(n){return es(n,"clientMetadata")}function hM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class fM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Tn(),i=Tn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new fM(e,t.fromCache,r,i)}}class p2{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(eL(t))return Ue.resolve(null);let r=mo(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=uI(t,null,"F"),r=mo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Tn(...a);return this.Ni.getDocuments(e,u).next(m=>this.indexManager.getMinOffset(e,r).next(y=>{const E=this.Fi(t,m);return this.$i(t,E,u,y.readTime)?this.ki(e,uI(t,null,"F")):this.Bi(e,E,t,y)}))})))}Oi(e,t,r,i){return eL(t)||i.isEqual(on.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,r,i)?this.Mi(e,t):(LP()<=ra.in.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),KP(t)),this.Bi(e,u,t,PF(i,-1)))})}Fi(e,t){let r=new yr(rL(e));return t.forEach((i,a)=>{YP(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return LP()<=ra.in.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",KP(t)),this.Ni.getDocumentsMatchingQuery(e,t,La.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class Hj{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new si(yn),this.qi=new gf(a=>Lm(a),Zw),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d2(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function m2(n,e,t,r){return new Hj(n,e,t,r)}function g2(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,He.Z)(function*(n,e){const t=vt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],m=[];let y=Tn();for(const E of i){u.push(E.batchId);for(const F of E.mutations)y=y.add(F.key)}for(const E of a){m.push(E.batchId);for(const F of E.mutations)y=y.add(F.key)}return t.localDocuments.getDocuments(r,y).next(E=>({ji:E,removedBatchIds:u,addedBatchIds:m}))})})}),pM.apply(this,arguments)}function jj(n,e){const t=vt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,m,y,E){const F=y.batch,q=F.keys();let oe=Ue.resolve();return q.forEach(pe=>{oe=oe.next(()=>E.getEntry(m,pe)).next(we=>{const Me=y.docVersions.get(pe);sn(null!==Me),we.version.compareTo(Me)<0&&(F.applyToRemoteDocument(we,y),we.isValidDocument()&&(we.setReadTime(y.commitVersion),E.addEntry(we)))})}),oe.next(()=>u.mutationQueue.removeMutationBatch(m,F))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let m=Tn();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(m=m.add(u.batch.mutations[y].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function y2(n){const e=vt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Gj(n,e){const t=vt(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const m=[];e.targetChanges.forEach((F,q)=>{const oe=i.get(q);if(!oe)return;m.push(t.Cs.removeMatchingKeys(a,F.removedDocuments,q).next(()=>t.Cs.addMatchingKeys(a,F.addedDocuments,q)));let pe=oe.withSequenceNumber(a.currentSequenceNumber);var we,Me,Ve;e.targetMismatches.has(q)?pe=pe.withResumeToken(Vi.EMPTY_BYTE_STRING,on.min()).withLastLimboFreeSnapshotVersion(on.min()):F.resumeToken.approximateByteSize()>0&&(pe=pe.withResumeToken(F.resumeToken,r)),i=i.insert(q,pe),Me=pe,Ve=F,(0===(we=oe).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-we.snapshotVersion.toMicroseconds()>=3e8||Ve.addedDocuments.size+Ve.modifiedDocuments.size+Ve.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(a,pe))});let y=sa(),E=Tn();if(e.documentUpdates.forEach(F=>{e.resolvedLimboDocuments.has(F)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(a,F))}),m.push(_2(a,u,e.documentUpdates).next(F=>{y=F.Wi,E=F.zi})),!r.isEqual(on.min())){const F=t.Cs.getLastRemoteSnapshotVersion(a).next(q=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));m.push(F)}return Ue.waitFor(m).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,E)).next(()=>y)}).then(a=>(t.Ui=i,a))}function _2(n,e,t){let r=Tn(),i=Tn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=sa();return t.forEach((m,y)=>{const E=a.get(m);y.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(m)),y.isNoDocument()&&y.version.isEqual(on.min())?(e.removeEntry(m,y.readTime),u=u.insert(m,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),u=u.insert(m,y)):nt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",E.version," Watch version:",y.version)}),{Wi:u,zi:i}})}function $j(n,e){const t=vt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function w_(n,e){const t=vt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,Ue.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new yf(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function b_(n,e,t){return mM.apply(this,arguments)}function mM(){return mM=(0,He.Z)(function*(n,e,t){const r=vt(n),i=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!uf(u))throw u;nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),mM.apply(this,arguments)}function II(n,e,t){const r=vt(n);let i=on.min(),a=Tn();return r.persistence.runTransaction("Execute query","readonly",u=>function(m,y,E){const F=vt(m),q=F.qi.get(E);return void 0!==q?Ue.resolve(F.Ui.get(q)):F.Cs.getTargetData(y,E)}(r,u,mo(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,m.targetId).next(y=>{a=y})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:on.min(),t?a:Tn())).next(m=>(b2(r,nL(e),m),{documents:m,Hi:a})))}function v2(n,e){const t=vt(n),r=vt(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(u=>u?u.target:null))}function w2(n,e){const t=vt(n),r=t.Ki.get(e)||on.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,PF(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(b2(t,e,i),i))}function b2(n,e,t){let r=n.Ki.get(e)||on.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function gM(){return gM=(0,He.Z)(function*(n,e,t,r){const i=vt(n);let a=Tn(),u=sa();for(const E of t){const F=e.Ji(E.metadata.name);E.document&&(a=a.add(F));const q=e.Yi(E);q.setReadTime(e.Xi(E.metadata.readTime)),u=u.insert(F,q)}const m=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield w_(i,(E=r,mo(u_(Wn.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>_2(E,m,u).next(F=>(m.apply(E),F)).next(F=>i.Cs.removeMatchingKeysForTargetId(E,y.targetId).next(()=>i.Cs.addMatchingKeys(E,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,F.Wi,F.zi)).next(()=>F.Wi)))}),gM.apply(this,arguments)}function qj(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,He.Z)(function*(n,e,t=Tn()){const r=yield w_(n,mo(oM(e.bundledQuery))),i=vt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=Xi(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(a,e);const m=r.withResumeToken(Vi.EMPTY_BYTE_STRING,u);return i.Ui=i.Ui.insert(m.targetId,m),i.Cs.updateTargetData(a,m).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),yM.apply(this,arguments)}function C2(n,e){return`firestore_clients_${n}_${e}`}function E2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function _M(n,e){return`firestore_targets_${n}_${e}`}class AI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new tt(i.error.code,i.error.message))),u?new AI(e,t,i.state,a):(di("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new tt(r.error.code,r.error.message))),a?new pb(e,r.state,i):(di("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class DI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=pI();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=BF(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new DI(e,a):(di("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class vM{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vM(t.clientId,t.onlineState):(di("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wM{constructor(){this.activeTargetIds=pI()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bM{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new si(yn),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=C2(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new wM),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,He.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(C2(e.persistenceKey,i));if(a){const u=DI.Zi(i,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(_M(this.persistenceKey,e));if(r){const i=pb.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_M(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return nt("SharedClientState","READ",e,t),t}setItem(e,t){nt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){nt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(nt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,He.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let u=ia.at;if(null!=a)try{const m=JSON.parse(a);sn("number"==typeof m),u=m}catch(m){di("SharedClientState","Failed to read sequence number from WebStorage",m)}return u}(r.newValue);i!==ia.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new AI(this.currentUser,e,t,r),a=E2(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=E2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=_M(this.persistenceKey,e),a=new pb(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return DI.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return AI.Zi(new Ji(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return pb.Zi(i,t)}yr(e){return vM.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,He.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);nt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),u=[],m=[];return a.forEach(y=>{i.has(y)||u.push(y)}),i.forEach(y=>{a.has(y)||m.push(y)}),this.syncEngine.Br(u,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=pI();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class S2{constructor(){this.Lr=new wM,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new wM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wj{qr(e){}shutdown(){}}class T2{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Zj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kj{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Yj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const u=this.ho(e,t);nt("RestConnection","Sending: ",u,r);const m={};return this.lo(m,i,a),this.fo(e,u,m,r).then(y=>(nt("RestConnection","Received: ",y),y),y=>{throw Pm("RestConnection",`${e} failed with error: `,y,"url: ",u,"request:",r),y})}_o(e,t,r,i,a,u){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+s_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Zj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,u)=>{const m=new ZH;m.setWithCredentials(!0),m.listenOnce(zH.COMPLETE,()=>{var E;try{switch(m.getLastErrorCode()){case FP.NO_ERROR:const F=m.getResponseJson();nt("Connection","XHR received:",JSON.stringify(F)),a(F);break;case FP.TIMEOUT:nt("Connection",'RPC "'+e+'" timed out'),u(new tt(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case FP.HTTP_ERROR:const q=m.getStatus();if(nt("Connection",'RPC "'+e+'" failed with status:',q,"response text:",m.getResponseText()),q>0){let oe=m.getResponseJson();Array.isArray(oe)&&(oe=oe[0]);const pe=null===(E=oe)||void 0===E?void 0:E.error;if(pe&&pe.status&&pe.message){const we=function(Me){const Ve=Me.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(Ve)>=0?Ve:Ge.UNKNOWN}(pe.status);u(new tt(we,pe.message))}else u(new tt(Ge.UNKNOWN,"Server responded with status "+m.getStatus()))}else u(new tt(Ge.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{nt("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);m.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=GH(),u=$H(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new WH({})),this.lo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const y=i.join("");nt("Connection","Creating WebChannel: "+y,m);const E=a.createWebChannel(y,m);let F=!1,q=!1;const oe=new Kj({Hr:we=>{q?nt("Connection","Not sending because WebChannel is closed:",we):(F||(nt("Connection","Opening WebChannel transport."),E.open(),F=!0),nt("Connection","WebChannel sending:",we),E.send(we))},Jr:()=>E.close()}),pe=(we,Me,Ve)=>{we.listen(Me,rt=>{try{Ve(rt)}catch(dt){setTimeout(()=>{throw dt},0)}})};return pe(E,tI.EventType.OPEN,()=>{q||nt("Connection","WebChannel transport opened.")}),pe(E,tI.EventType.CLOSE,()=>{q||(q=!0,nt("Connection","WebChannel transport closed"),oe.io())}),pe(E,tI.EventType.ERROR,we=>{q||(q=!0,Pm("Connection","WebChannel transport errored:",we),oe.io(new tt(Ge.UNAVAILABLE,"The operation could not be completed")))}),pe(E,tI.EventType.MESSAGE,we=>{var Me;if(!q){const Ve=we.data[0];sn(!!Ve);const rt=Ve,dt=rt.error||(null===(Me=rt[0])||void 0===Me?void 0:Me.error);if(dt){nt("Connection","WebChannel received error:",dt);const ht=dt.status;let pt=function(Ht){const Fn=Si[Ht];if(void 0!==Fn)return _L(Fn)}(ht),Vt=dt.message;void 0===pt&&(pt=Ge.INTERNAL,Vt="Unknown error status: "+ht+" with message "+dt.message),q=!0,oe.io(new tt(pt,Vt)),E.close()}else nt("Connection","WebChannel received:",Ve),oe.ro(Ve)}}),pe(u,qH.STAT_EVENT,we=>{we.stat===SF.PROXY?nt("Connection","Detected buffering proxy"):we.stat===SF.NOPROXY&&nt("Connection","Detected no buffering proxy")}),setTimeout(()=>{oe.so()},0),oe}}function I2(){return typeof window<"u"?window:null}function xI(){return typeof document<"u"?document:null}function mb(n){return new H4(n,!0)}class CM{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&nt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class A2{constructor(e,t,r,i,a,u,m,y){this.Hs=e,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new CM(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,He.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,He.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,He.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Ge.RESOURCE_EXHAUSTED?(di(t.toString()),di("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===Ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new tt(Ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,He.Z)(function*(){e.state=0,e.start()}))}Qo(e){return nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qj extends A2{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.It=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function $4(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Dt(),i=e.targetChange.targetIds||[],a=function(y,E){return y.gt?(sn(void 0===E||"string"==typeof E),Vi.fromBase64String(E||"")):(sn(void 0===E||E instanceof Uint8Array),Vi.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&function(y){const E=void 0===y.code?Ge.UNKNOWN:_L(y.code);return new tt(E,y.message||"")}(u);t=new EL(r,i,a,m||null)}else if("documentChange"in e){const r=e.documentChange,i=wu(n,r.document.name),a=Xi(r.document.updateTime),u=new Es({mapValue:{fields:r.document.fields}}),m=Dr.newFoundDocument(i,a,u);t=new mI(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=wu(n,r.document),a=r.readTime?Xi(r.readTime):on.min(),u=Dr.newNoDocument(i,a);t=new mI([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=wu(n,r.document);t=new mI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Dt();{const r=e.filter,a=new O4(r.count||0);t=new CL(r.targetId,a)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return on.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?on.min():a.readTime?Xi(a.readTime):on.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=ib(this.It),t.addTarget=function(i,a){let u;const m=a.target;return u=lI(m)?{documents:OL(i,m)}:{query:tM(i,m)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=AL(i,a.resumeToken):a.snapshotVersion.compareTo(on.min())>0&&(u.readTime=nb(i,a.snapshotVersion.toTimestamp())),u}(this.It,e);const r=function q4(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=ib(this.It),t.removeTarget=e,this.Bo(t)}}class Jj extends A2{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function z4(n,e){return n&&n.length>0?(sn(void 0!==e),n.map(t=>function(r,i){let a=Xi(r.updateTime?r.updateTime:i);return a.isEqual(on.min())&&(a=Xi(i)),new P4(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.Zo(r,t)}return sn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ib(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>sb(this.It,r))};this.Bo(t)}}class Xj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new tt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new tt(Ge.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection._o(e,t,r,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(Ge.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class tG{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(di(t),this.ou=!1):nt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class nG{constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(m=>{r.enqueueAndForget((0,He.Z)(function*(){var y;Nd(u)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,He.Z)(function*(E){const F=vt(E);F._u.add(4),yield C_(F),F.gu.set("Unknown"),F._u.delete(4),yield gb(F)}),function(E){return y.apply(this,arguments)})(u))}))}),this.gu=new tG(r,i)}}function gb(n){return SM.apply(this,arguments)}function SM(){return SM=(0,He.Z)(function*(n){if(Nd(n))for(const e of n.wu)yield e(!0)}),SM.apply(this,arguments)}function C_(n){return TM.apply(this,arguments)}function TM(){return TM=(0,He.Z)(function*(n){for(const e of n.wu)yield e(!1)}),TM.apply(this,arguments)}function PI(n,e){const t=vt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),DM(t)?AM(t):S_(t).ko()&&IM(t,e))}function yb(n,e){const t=vt(n),r=S_(t);t.du.delete(e),r.ko()&&D2(t,e),0===t.du.size&&(r.ko()?r.Fo():Nd(t)&&t.gu.set("Unknown"))}function IM(n,e){n.yu.Mt(e.targetId),S_(n).zo(e)}function D2(n,e){n.yu.Mt(e),S_(n).Ho(e)}function AM(n){n.yu=new V4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),S_(n).start(),n.gu.uu()}function DM(n){return Nd(n)&&!S_(n).No()&&n.du.size>0}function Nd(n){return 0===vt(n)._u.size}function x2(n){n.yu=void 0}function rG(n){return xM.apply(this,arguments)}function xM(){return xM=(0,He.Z)(function*(n){n.du.forEach((e,t)=>{IM(n,e)})}),xM.apply(this,arguments)}function iG(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,He.Z)(function*(n,e){x2(n),DM(n)?(n.gu.hu(e),AM(n)):n.gu.set("Unknown")}),PM.apply(this,arguments)}function sG(n,e,t){return MM.apply(this,arguments)}function MM(){return MM=(0,He.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof EL&&2===e.state&&e.cause)try{yield(r=(0,He.Z)(function*(i,a){const u=a.cause;for(const m of a.targetIds)i.du.has(m)&&(yield i.remoteSyncer.rejectListen(m,u),i.du.delete(m),i.yu.removeTarget(m))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield MI(n,r)}else if(e instanceof mI?n.yu.Gt(e):e instanceof CL?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(on.min()))try{const r=yield y2(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.yu.te(a);return u.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const E=i.du.get(y);E&&i.du.set(y,E.withResumeToken(m.resumeToken,a))}}),u.targetMismatches.forEach(m=>{const y=i.du.get(m);if(!y)return;i.du.set(m,y.withResumeToken(Vi.EMPTY_BYTE_STRING,y.snapshotVersion)),D2(i,m);const E=new yf(y.target,m,1,y.sequenceNumber);IM(i,E)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){nt("RemoteStore","Failed to raise snapshot:",r),yield MI(n,r)}var r}),MM.apply(this,arguments)}function MI(n,e,t){return kM.apply(this,arguments)}function kM(){return kM=(0,He.Z)(function*(n,e,t){if(!uf(e))throw e;n._u.add(1),yield C_(n),n.gu.set("Offline"),t||(t=()=>y2(n.localStore)),n.asyncQueue.enqueueRetryable((0,He.Z)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield gb(n)}))}),kM.apply(this,arguments)}function P2(n,e){return e().catch(t=>MI(n,t,e))}function E_(n){return OM.apply(this,arguments)}function OM(){return OM=(0,He.Z)(function*(n){const e=vt(n),t=wf(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;oG(e);)try{const i=yield $j(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,aG(e,i)}catch(i){yield MI(e,i)}M2(e)&&k2(e)}),OM.apply(this,arguments)}function oG(n){return Nd(n)&&n.fu.length<10}function aG(n,e){n.fu.push(e);const t=wf(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function M2(n){return Nd(n)&&!wf(n).No()&&n.fu.length>0}function k2(n){wf(n).start()}function lG(n){return RM.apply(this,arguments)}function RM(){return RM=(0,He.Z)(function*(n){wf(n).eu()}),RM.apply(this,arguments)}function cG(n){return NM.apply(this,arguments)}function NM(){return NM=(0,He.Z)(function*(n){const e=wf(n);for(const t of n.fu)e.Xo(t.mutations)}),NM.apply(this,arguments)}function uG(n,e,t){return FM.apply(this,arguments)}function FM(){return FM=(0,He.Z)(function*(n,e,t){const r=n.fu.shift(),i=iM.from(r,e,t);yield P2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield E_(n)}),FM.apply(this,arguments)}function dG(n,e){return LM.apply(this,arguments)}function LM(){return LM=(0,He.Z)(function*(n,e){var t;e&&wf(n).Yo&&(yield(t=(0,He.Z)(function*(r,i){if(yL(a=i.code)&&a!==Ge.ABORTED){const u=r.fu.shift();wf(r).Mo(),yield P2(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield E_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),M2(n)&&k2(n)}),LM.apply(this,arguments)}function O2(n,e){return VM.apply(this,arguments)}function VM(){return VM=(0,He.Z)(function*(n,e){const t=vt(n);t.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const r=Nd(t);t._u.add(3),yield C_(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield gb(t)}),VM.apply(this,arguments)}function BM(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,He.Z)(function*(n,e){const t=vt(n);e?(t._u.delete(2),yield gb(t)):e||(t._u.add(2),yield C_(t),t.gu.set("Unknown"))}),UM.apply(this,arguments)}function S_(n){return n.pu||(n.pu=function(e,t,r){const i=vt(e);return i.su(),new Qj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:rG.bind(null,n),Zr:iG.bind(null,n),Wo:sG.bind(null,n)}),n.wu.push(function(){var e=(0,He.Z)(function*(t){t?(n.pu.Mo(),DM(n)?AM(n):n.gu.set("Unknown")):(yield n.pu.stop(),x2(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function wf(n){return n.Iu||(n.Iu=function(e,t,r){const i=vt(e);return i.su(),new Jj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:lG.bind(null,n),Zr:dG.bind(null,n),tu:cG.bind(null,n),Zo:uG.bind(null,n)}),n.wu.push(function(){var e=(0,He.Z)(function*(t){t?(n.Iu.Mo(),yield E_(n)):(yield n.Iu.stop(),n.fu.length>0&&(nt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class HM{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,m=new HM(e,t,u,i,a);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T_(n,e){if(di("AsyncQueue",`${e}: ${n}`),uf(n))return new tt(Ge.UNAVAILABLE,`${e}: ${n}`);throw n}class I_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||gt.comparator(t.key,r.key):(t,r)=>gt.comparator(t.key,r.key),this.keyedMap=Jw(),this.sortedSet=new si(this.comparator)}static emptySet(e){return new I_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof I_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new I_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class R2{constructor(){this.Tu=new si(gt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Dt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class A_{constructor(e,t,r,i,a,u,m,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new A_(e,t,I_.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class hG{constructor(){this.Au=void 0,this.listeners=[]}}class fG{constructor(){this.queries=new gf(e=>tL(e),Kw),this.onlineState="Unknown",this.Ru=new Set}}function jM(n,e){return GM.apply(this,arguments)}function GM(){return GM=(0,He.Z)(function*(n,e){const t=vt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new hG),i)try{a.Au=yield t.onListen(r)}catch(u){const m=T_(u,`Initialization of query '${KP(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&qM(t)}),GM.apply(this,arguments)}function $M(n,e){return zM.apply(this,arguments)}function zM(){return zM=(0,He.Z)(function*(n,e){const t=vt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),zM.apply(this,arguments)}function pG(n,e){const t=vt(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const m of u.listeners)m.Pu(i)&&(r=!0);u.Au=i}}r&&qM(t)}function mG(n,e,t){const r=vt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function qM(n){n.Ru.forEach(e=>{e.next()})}class WM{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new A_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=A_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class gG{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class N2{constructor(e){this.It=e}Ji(e){return wu(this.It,e)}Yi(e){return e.metadata.exists?kL(this.It,e.document,!1):Dr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Xi(e)}}class yG{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=F2(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Wn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new N2(this.It);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const m=(t.get(u)||Tn()).add(a);t.set(u,m)}}return t}complete(){var e=this;return(0,He.Z)(function*(){const t=yield function zj(n,e,t,r){return gM.apply(this,arguments)}(e.localStore,new N2(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield qj(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function F2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class L2{constructor(e){this.key=e}}class V2{constructor(e){this.key=e}}class B2{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Tn(),this.mutatedKeys=Tn(),this.Gu=rL(e),this.Qu=new I_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new R2,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,m=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((F,q)=>{const oe=i.get(F),pe=YP(this.query,q)?q:null,we=!!oe&&this.mutatedKeys.has(oe.key),Me=!!pe&&(pe.hasLocalMutations||this.mutatedKeys.has(pe.key)&&pe.hasCommittedMutations);let Ve=!1;oe&&pe?oe.data.isEqual(pe.data)?we!==Me&&(r.track({type:3,doc:pe}),Ve=!0):this.Hu(oe,pe)||(r.track({type:2,doc:pe}),Ve=!0,(y&&this.Gu(pe,y)>0||E&&this.Gu(pe,E)<0)&&(m=!0)):!oe&&pe?(r.track({type:0,doc:pe}),Ve=!0):oe&&!pe&&(r.track({type:1,doc:oe}),Ve=!0,(y||E)&&(m=!0)),Ve&&(pe?(u=u.add(pe),a=Me?a.add(F):a.delete(F)):(u=u.delete(F),a=a.delete(F)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const F="F"===this.query.limitType?u.last():u.first();u=u.delete(F.key),a=a.delete(F.key),r.track({type:1,doc:F})}return{Qu:u,zu:r,$i:m,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((E,F)=>function(q,oe){const pe=we=>{switch(we){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return pe(q)-pe(oe)}(E.type,F.type)||this.Gu(E.doc,F.doc)),this.Ju(r);const u=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,y=m!==this.qu;return this.qu=m,0!==a.length||y?{snapshot:new A_(this.query,e.Qu,i,a,e.mutatedKeys,0===m,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new R2,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Tn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new V2(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new L2(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Tn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return A_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class _G{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class vG{constructor(e){this.key=e,this.nc=!1}}class wG{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new gf(m=>tL(m),Kw),this.rc=new Map,this.oc=new Set,this.uc=new si(gt.comparator),this.cc=new Map,this.ac=new cM,this.hc={},this.lc=new Map,this.fc=qm.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function bG(n,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,He.Z)(function*(n,e){const t=yk(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const u=yield w_(t.localStore,mo(e));t.isPrimaryClient&&PI(t.remoteStore,u);const m=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield KM(t,e,r,"current"===m,u.resumeToken)}return i}),ZM.apply(this,arguments)}function KM(n,e,t,r,i){return YM.apply(this,arguments)}function YM(){return YM=(0,He.Z)(function*(n,e,t,r,i){n._c=(q,oe,pe)=>{return(we=(0,He.Z)(function*(Me,Ve,rt,dt){let ht=Ve.view.Wu(rt);ht.$i&&(ht=yield II(Me.localStore,Ve.query,!1).then(({documents:Ht})=>Ve.view.Wu(Ht,ht)));const pt=dt&&dt.targetChanges.get(Ve.targetId),Vt=Ve.view.applyChanges(ht,Me.isPrimaryClient,pt);return ok(Me,Ve.targetId,Vt.Xu),Vt.snapshot}),function(Me,Ve,rt,dt){return we.apply(this,arguments)})(n,q,oe,pe);var we};const a=yield II(n.localStore,e,!0),u=new B2(e,a.Hi),m=u.Wu(a.documents),y=tb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),E=u.applyChanges(m,n.isPrimaryClient,y);ok(n,t,E.Xu);const F=new _G(e,t,u);return n.ic.set(e,F),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),E.snapshot}),YM.apply(this,arguments)}function CG(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,He.Z)(function*(n,e){const t=vt(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!Kw(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield b_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),yb(t.remoteStore,r.targetId),D_(t,r.targetId)}).catch(cf))):(D_(t,r.targetId),yield b_(t.localStore,r.targetId,!0))}),QM.apply(this,arguments)}function JM(){return JM=(0,He.Z)(function*(n,e,t){const r=_k(n);try{const i=yield function(a,u){const m=vt(a),y=Hr.now(),E=u.reduce((oe,pe)=>oe.add(pe.key),Tn());let F,q;return m.persistence.runTransaction("Locally write mutations","readwrite",oe=>{let pe=sa(),we=Tn();return m.Gi.getEntries(oe,E).next(Me=>{pe=Me,pe.forEach((Ve,rt)=>{rt.isValidDocument()||(we=we.add(Ve))})}).next(()=>m.localDocuments.getOverlayedDocuments(oe,pe)).next(Me=>{F=Me;const Ve=[];for(const rt of u){const dt=k4(rt,F.get(rt.key).overlayedDocument);null!=dt&&Ve.push(new Rd(rt.key,dt,qF(dt.value.mapValue),jr.exists(!0)))}return m.mutationQueue.addMutationBatch(oe,y,Ve,u)}).next(Me=>{q=Me;const Ve=Me.applyToLocalDocumentSet(F,we);return m.documentOverlayCache.saveOverlays(oe,Me.batchId,Ve)})}).then(()=>({batchId:q.batchId,changes:wL(F)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,m){let y=a.hc[a.currentUser.toKey()];y||(y=new si(yn)),y=y.insert(u,m),a.hc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield Fd(r,i.changes),yield E_(r.remoteStore)}catch(i){const a=T_(i,"Failed to persist write");t.reject(a)}}),JM.apply(this,arguments)}function U2(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,He.Z)(function*(n,e){const t=vt(n);try{const r=yield Gj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.cc.get(a);u&&(sn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?sn(u.nc):i.removedDocuments.size>0&&(sn(u.nc),u.nc=!1))}),yield Fd(t,r,e)}catch(r){yield cf(r)}}),XM.apply(this,arguments)}function H2(n,e,t){const r=vt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,u)=>{const m=u.view.bu(e);m.snapshot&&i.push(m.snapshot)}),function(a,u){const m=vt(a);m.onlineState=u;let y=!1;m.queries.forEach((E,F)=>{for(const q of F.listeners)q.bu(u)&&(y=!0)}),y&&qM(m)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function SG(n,e,t){return ek.apply(this,arguments)}function ek(){return ek=(0,He.Z)(function*(n,e,t){const r=vt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let u=new si(gt.comparator);u=u.insert(a,Dr.newNoDocument(a,on.min()));const m=Tn().add(a),y=new eb(on.min(),new Map,new yr(yn),u,m);yield U2(r,y),r.uc=r.uc.remove(a),r.cc.delete(e),ak(r)}else yield b_(r.localStore,e,!1).then(()=>D_(r,e,t)).catch(cf)}),ek.apply(this,arguments)}function TG(n,e){return tk.apply(this,arguments)}function tk(){return tk=(0,He.Z)(function*(n,e){const t=vt(n),r=e.batch.batchId;try{const i=yield jj(t.localStore,e);sk(t,r,null),ik(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fd(t,i)}catch(i){yield cf(i)}}),tk.apply(this,arguments)}function IG(n,e,t){return nk.apply(this,arguments)}function nk(){return nk=(0,He.Z)(function*(n,e,t){const r=vt(n);try{const i=yield function(a,u){const m=vt(a);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return m.mutationQueue.lookupMutationBatch(y,u).next(F=>(sn(null!==F),E=F.keys(),m.mutationQueue.removeMutationBatch(y,F))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,E,u)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>m.localDocuments.getDocuments(y,E))})}(r.localStore,e);sk(r,e,t),ik(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fd(r,i)}catch(i){yield cf(i)}}),nk.apply(this,arguments)}function rk(){return rk=(0,He.Z)(function*(n,e){const t=vt(n);Nd(t.remoteStore)||nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=vt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>u.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=T_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),rk.apply(this,arguments)}function ik(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function sk(n,e,t){const r=vt(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function D_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||j2(n,r)})}function j2(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(yb(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),ak(n))}function ok(n,e,t){for(const r of t)r instanceof L2?(n.ac.addReference(r.key,e),DG(n,r)):r instanceof V2?(nt("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||j2(n,r.key)):Dt()}function DG(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(nt("SyncEngine","New document in limbo: "+t),n.oc.add(r),ak(n))}function ak(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new gt(Wn.fromString(e)),r=n.fc.next();n.cc.set(r,new vG(t)),n.uc=n.uc.insert(t,r),PI(n.remoteStore,new yf(mo(u_(t.path)),r,2,ia.at))}}function Fd(n,e,t){return lk.apply(this,arguments)}function lk(){return lk=(0,He.Z)(function*(n,e,t){const r=vt(n),i=[],a=[],u=[];var m;r.ic.isEmpty()||(r.ic.forEach((m,y)=>{u.push(r._c(y,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,E?.fromCache?"not-current":"current"),E){i.push(E);const F=fM.Ci(y.targetId,E);a.push(F)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(m=(0,He.Z)(function*(y,E){const F=vt(y);try{yield F.persistence.runTransaction("notifyLocalViewChanges","readwrite",q=>Ue.forEach(E,oe=>Ue.forEach(oe.Si,pe=>F.persistence.referenceDelegate.addReference(q,oe.targetId,pe)).next(()=>Ue.forEach(oe.Di,pe=>F.persistence.referenceDelegate.removeReference(q,oe.targetId,pe)))))}catch(q){if(!uf(q))throw q;nt("LocalStore","Failed to update sequence numbers: "+q)}for(const q of E){const oe=q.targetId;if(!q.fromCache){const pe=F.Ui.get(oe),Me=pe.withLastLimboFreeSnapshotVersion(pe.snapshotVersion);F.Ui=F.Ui.insert(oe,Me)}}}),function(y,E){return m.apply(this,arguments)})(r.localStore,a))}),lk.apply(this,arguments)}function xG(n,e){return ck.apply(this,arguments)}function ck(){return ck=(0,He.Z)(function*(n,e){const t=vt(n);if(!t.currentUser.isEqual(e)){nt("SyncEngine","User change. New user:",e.toKey());const r=yield g2(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(m=>{m.reject(new tt(Ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fd(t,r.ji)}var i}),ck.apply(this,arguments)}function PG(n,e){const t=vt(n),r=t.cc.get(e);if(r&&r.nc)return Tn().add(r.key);{let i=Tn();const a=t.rc.get(e);if(!a)return i;for(const u of a){const m=t.ic.get(u);i=i.unionWith(m.view.ju)}return i}}function MG(n,e){return uk.apply(this,arguments)}function uk(){return uk=(0,He.Z)(function*(n,e){const t=vt(n),r=yield II(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&ok(t,e.targetId,i.Xu),i}),uk.apply(this,arguments)}function kG(n,e){return dk.apply(this,arguments)}function dk(){return dk=(0,He.Z)(function*(n,e){const t=vt(n);return w2(t.localStore,e).then(r=>Fd(t,r))}),dk.apply(this,arguments)}function OG(n,e,t,r){return hk.apply(this,arguments)}function hk(){return hk=(0,He.Z)(function*(n,e,t,r){const i=vt(n),a=yield function(u,m){const y=vt(u),E=vt(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",F=>E.Tn(F,m).next(q=>q?y.localDocuments.getDocuments(F,q):Ue.resolve(null)))}(i.localStore,e);var m;null!==a?("pending"===t?yield E_(i.remoteStore):"acknowledged"===t||"rejected"===t?(sk(i,e,r||null),ik(i,e),m=e,vt(vt(i.localStore).mutationQueue).An(m)):Dt(),yield Fd(i,a)):nt("SyncEngine","Cannot apply mutation batch with id: "+e)}),hk.apply(this,arguments)}function fk(){return fk=(0,He.Z)(function*(n,e){const t=vt(n);if(yk(t),_k(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield G2(t,r.toArray());t.dc=!0,yield BM(t.remoteStore,!0);for(const a of i)PI(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(D_(t,u),b_(t.localStore,u,!0))),yb(t.remoteStore,u)}),yield i,yield G2(t,r),function(a){const u=vt(a);u.cc.forEach((m,y)=>{yb(u.remoteStore,y)}),u.ac.fs(),u.cc=new Map,u.uc=new si(gt.comparator)}(t),t.dc=!1,yield BM(t.remoteStore,!1)}}),fk.apply(this,arguments)}function G2(n,e,t){return pk.apply(this,arguments)}function pk(){return pk=(0,He.Z)(function*(n,e,t){const r=vt(n),i=[],a=[];for(const u of e){let m;const y=r.rc.get(u);if(y&&0!==y.length){m=yield w_(r.localStore,mo(y[0]));for(const E of y){const F=r.ic.get(E),q=yield MG(r,F);q.snapshot&&a.push(q.snapshot)}}else{const E=yield v2(r.localStore,u);m=yield w_(r.localStore,E),yield KM(r,$2(E),u,!1,m.resumeToken)}i.push(m)}return r.sc.Wo(a),i}),pk.apply(this,arguments)}function $2(n){return XF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function NG(n){const e=vt(n);return vt(vt(e.localStore).persistence).vi()}function FG(n,e,t,r){return mk.apply(this,arguments)}function mk(){return mk=(0,He.Z)(function*(n,e,t,r){const i=vt(n);if(i.dc)return void nt("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield w2(i.localStore,nL(a[0])),m=eb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Vi.EMPTY_BYTE_STRING);yield Fd(i,u,m);break}case"rejected":yield b_(i.localStore,e,!0),D_(i,e,r);break;default:Dt()}}),mk.apply(this,arguments)}function LG(n,e,t){return gk.apply(this,arguments)}function gk(){return gk=(0,He.Z)(function*(n,e,t){const r=yk(n);if(r.dc){for(const i of e){if(r.rc.has(i)){nt("SyncEngine","Adding an already active target "+i);continue}const a=yield v2(r.localStore,i),u=yield w_(r.localStore,a);yield KM(r,$2(a),u.targetId,!1,u.resumeToken),PI(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield b_(r.localStore,i,!1).then(()=>{yb(r.remoteStore,i),D_(r,i)}).catch(cf))}}),gk.apply(this,arguments)}function yk(n){const e=vt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=U2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SG.bind(null,e),e.sc.Wo=pG.bind(null,e.eventManager),e.sc.wc=mG.bind(null,e.eventManager),e}function _k(n){const e=vt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IG.bind(null,e),e}class z2{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,He.Z)(function*(){t.It=mb(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return m2(this.persistence,new p2,e.initialUser,this.It)}yc(e){return new h2(SI.Bs,this.It)}gc(e){return new S2}terminate(){var e=this;return(0,He.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class q2 extends z2{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,He.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield _k(r.Ac.syncEngine),yield E_(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return m2(this.persistence,new p2,e.initialUser,this.It)}Tc(e,t){return new Aj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new u4(t,this.persistence);return new c4(e.asyncQueue,r)}yc(e){const t=hM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?oa.withCacheSize(this.cacheSizeBytes):oa.DEFAULT;return new dM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,I2(),xI(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new S2}}class BG extends q2{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,He.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof bM&&(r.sharedClientState.syncEngine={Fr:OG.bind(null,i),$r:FG.bind(null,i),Br:LG.bind(null,i),vi:NG.bind(null,i),Mr:kG.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,He.Z)(function*(u){yield function RG(n,e){return fk.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}gc(e){const t=I2();if(!bM.C(t))throw new tt(Ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=hM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class vk{initialize(e,t){var r=this;return(0,He.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>H2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=xG.bind(null,r.syncEngine),yield BM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fG}createDatastore(e){const t=mb(e.databaseInfo.databaseId),r=new Yj(e.databaseInfo);return new Xj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=m=>H2(this.syncEngine,m,0),u=T2.C()?new T2:new Wj,new nG(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,m,y,E){const F=new wG(r,i,a,u,m,y);return E&&(F.dc=!0),F}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,He.Z)(function*(t){const r=vt(t);nt("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield C_(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function wk(n,e,t){if(!t)throw new tt(Ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function W2(n,e,t,r){if(!0===e&&!0===r)throw new tt(Ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z2(n){if(!gt.isDocumentKey(n))throw new tt(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K2(n){if(gt.isDocumentKey(n))throw new tt(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Dt()}function Gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new tt(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kI(n);throw new tt(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Y2(n,e){if(e<=0)throw new tt(Ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const Q2=new Map;class J2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,W2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _b{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new QH;switch(t.type){case"gapi":return new t4(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new tt(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Q2.get(e);t&&(nt("ComponentProvider","Removing Datastore"),Q2.delete(e),t.terminate())}(this),Promise.resolve()}}class Rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}}class js{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class Cu extends js{constructor(e,t,r){super(e,t,u_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new gt(e))}withConverter(e){return new Cu(this.firestore,e,this._path)}}function eV(n,e,...t){if(n=(0,fe.m9)(n),wk("collection","path",e),n instanceof _b){const r=Wn.fromString(e,...t);return K2(r),new Cu(n,null,r)}{if(!(n instanceof Rr||n instanceof Cu))throw new tt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wn.fromString(e,...t));return K2(r),new Cu(n.firestore,null,r)}}function OI(n,e,...t){if(n=(0,fe.m9)(n),1===arguments.length&&(e=DF.R()),wk("doc","path",e),n instanceof _b){const r=Wn.fromString(e,...t);return Z2(r),new Rr(n,null,new gt(r))}{if(!(n instanceof Rr||n instanceof Cu))throw new tt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wn.fromString(e,...t));return Z2(r),new Rr(n.firestore,n instanceof Cu?n.converter:null,new gt(r))}}function tV(n,e){return n=(0,fe.m9)(n),e=(0,fe.m9)(e),(n instanceof Rr||n instanceof Cu)&&(e instanceof Rr||e instanceof Cu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function bk(n,e){return n=(0,fe.m9)(n),e=(0,fe.m9)(e),n instanceof js&&e instanceof js&&n.firestore===e.firestore&&Kw(n._query,e._query)&&n.converter===e.converter}function nV(n,e=10240){let t=0;return{read:()=>(0,He.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,He.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class RI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class HG{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Li,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,He.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,He.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,He.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new gG(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,He.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,He.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,He.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class $G{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,He.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new tt(Ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,He.Z)(function*(a,u){const m=vt(a),y=ib(m.It)+"/documents",E={documents:u.map(pe=>rb(m.It,pe))},F=yield m._o("BatchGetDocuments",y,E,u.length),q=new Map;F.forEach(pe=>{const we=function G4(n,e){return"found"in e?function(t,r){sn(!!r.found);const i=wu(t,r.found.name),a=Xi(r.found.updateTime),u=new Es({mapValue:{fields:r.found.fields}});return Dr.newFoundDocument(i,a,u)}(n,e):"missing"in e?function(t,r){sn(!!r.missing),sn(!!r.readTime);const i=wu(t,r.missing),a=Xi(r.readTime);return Dr.newNoDocument(i,a)}(n,e):Dt()}(m.It,pe);q.set(we.key.toString(),we)});const oe=[];return u.forEach(pe=>{const we=q.get(pe.toString());sn(!!we),oe.push(we)}),oe}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new m_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,He.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=gt.fromPath(i);e.mutations.push(new QP(a,e.precondition(a)))}),yield(r=(0,He.Z)(function*(i,a){const u=vt(i),m=ib(u.It)+"/documents",y={writes:a.map(E=>sb(u.It,E))};yield u.ao("Commit",m,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dt();t=on.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new tt(Ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(on.min())?jr.exists(!1):jr.updateTime(t):jr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(on.min()))throw new tt(Ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jr.updateTime(t)}return jr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zG{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new CM(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,He.Z)(function*(){const t=new $G(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Gw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yL(t)}return!1}}class qG{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ji.UNAUTHENTICATED,this.clientId=DF.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,He.Z)(function*(m){nt("FirestoreClient","Received user=",m.uid),yield a.authCredentialListener(m),a.user=m});return function(m){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(nt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,He.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=T_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function rV(n,e){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,He.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,He.Z)(function*(a){r.isEqual(a)||(yield g2(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Ck.apply(this,arguments)}function iV(n,e){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,He.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Sk(n);nt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>O2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>O2(e.remoteStore,a)),n.onlineComponents=e}),Ek.apply(this,arguments)}function Sk(n){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,He.Z)(function*(n){return n.offlineComponents||(nt("FirestoreClient","Using default OfflineComponentProvider"),yield rV(n,new z2)),n.offlineComponents}),Tk.apply(this,arguments)}function NI(n){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,He.Z)(function*(n){return n.onlineComponents||(nt("FirestoreClient","Using default OnlineComponentProvider"),yield iV(n,new vk)),n.onlineComponents}),Ik.apply(this,arguments)}function sV(n){return Sk(n).then(e=>e.persistence)}function FI(n){return Sk(n).then(e=>e.localStore)}function Ak(n){return NI(n).then(e=>e.remoteStore)}function Dk(n){return NI(n).then(e=>e.syncEngine)}function x_(n){return xk.apply(this,arguments)}function xk(){return xk=(0,He.Z)(function*(n){const e=yield NI(n),t=e.eventManager;return t.onListen=bG.bind(null,e.syncEngine),t.onUnlisten=CG.bind(null,e.syncEngine),t}),xk.apply(this,arguments)}function aV(n,e,t={}){const r=new Li;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function(i,a,u,m,y){const E=new RI({next:q=>{a.enqueueAndForget(()=>$M(i,F));const oe=q.docs.has(u);!oe&&q.fromCache?y.reject(new tt(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):oe&&q.fromCache&&m&&"server"===m.source?y.reject(new tt(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(q)},error:q=>y.reject(q)}),F=new WM(u_(u.path),E,{includeMetadataChanges:!0,Nu:!0});return jM(i,F)}(yield x_(n),n.asyncQueue,e,t,r)})),r.promise}function lV(n,e,t={}){const r=new Li;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function(i,a,u,m,y){const E=new RI({next:q=>{a.enqueueAndForget(()=>$M(i,F)),q.fromCache&&"server"===m.source?y.reject(new tt(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(q)},error:q=>y.reject(q)}),F=new WM(u,E,{includeMetadataChanges:!0,Nu:!0});return jM(i,F)}(yield x_(n),n.asyncQueue,e,t,r)})),r.promise}class e6{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new CM(this,"async_queue_retry"),this.Wc=()=>{const t=xI();t&&nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=xI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=xI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Li;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,He.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!uf(t))throw t;nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,di("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=HM.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.qc.push(i),i}zc(){this.Kc&&Dt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,He.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Pk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class t6{constructor(){this._progressObserver={},this._taskCompletionResolver=new Li,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Nr extends _b{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new e6,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cV(this),this._firestoreClient.terminate()}}function hi(n){return n._firestoreClient||cV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cV(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new f4(n._databaseId,a,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var a,m;n._firestoreClient=new qG(n._authCredentials,n._appCheckCredentials,n._queue,r)}function uV(n,e,t){const r=new Li;return n.asyncQueue.enqueue((0,He.Z)(function*(){try{yield rV(n,t),yield iV(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(u=a).name?u.code===Ge.FAILED_PRECONDITION||u.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;Pm("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var u})).then(()=>r.promise)}function dV(n){if(n._initialized||n._terminated)throw new tt(Ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eu(Vi.fromBase64String(e))}catch(t){throw new tt(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Eu(Vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ld{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tt(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zm{constructor(e){this._methodName=e}}class LI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tt(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tt(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yn(this._lat,e._lat)||yn(this._long,e._long)}}const d6=/^__.*__$/;class h6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Rd(e,this.data,this.fieldMask,t,this.fieldTransforms):new p_(e,this.data,t,this.fieldTransforms)}}class hV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Rd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class VI{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new VI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return HI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(fV(this.sa)&&d6.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class f6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||mb(e)}da(e,t,r,i=!1){return new VI({sa:e,methodName:t,fa:r,path:ii.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Km(n){const e=n._freezeSettings(),t=mb(n._databaseId);return new f6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BI(n,e,t,r,i,a={}){const u=n.da(a.merge||a.mergeFields?2:0,e,t,i);Rk("Data must be an object, but it was:",u,r);const m=gV(r,u);let y,E;if(a.merge)y=new Va(u.fieldMask),E=u.fieldTransforms;else if(a.mergeFields){const F=[];for(const q of a.mergeFields){const oe=Nk(e,q,t);if(!u.contains(oe))throw new tt(Ge.INVALID_ARGUMENT,`Field '${oe}' is specified in your field mask but missing from your input data.`);_V(F,oe)||F.push(oe)}y=new Va(F),E=u.fieldTransforms.filter(q=>y.covers(q.field))}else y=null,E=u.fieldTransforms;return new h6(new Es(m),y,E)}class vb extends Zm{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vb}}function pV(n,e,t){return new VI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Mk extends Zm{_toFieldTransform(e){return new Yw(e.path,new h_)}isEqual(e){return e instanceof Mk}}class p6 extends Zm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=pV(this,e,!0),r=this._a.map(a=>Ym(a,t)),i=new Vm(r);return new Yw(e.path,i)}isEqual(e){return this===e}}class m6 extends Zm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=pV(this,e,!0),r=this._a.map(a=>Ym(a,t)),i=new Bm(r);return new Yw(e.path,i)}isEqual(e){return this===e}}class g6 extends Zm{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new f_(e.It,oL(e.It,this.wa));return new Yw(e.path,t)}isEqual(e){return this===e}}function kk(n,e,t,r){const i=n.da(1,e,t);Rk("Data must be an object, but it was:",i,r);const a=[],u=Es.empty();Om(r,(y,E)=>{const F=UI(e,y,t);E=(0,fe.m9)(E);const q=i.ca(F);if(E instanceof vb)a.push(F);else{const oe=Ym(E,q);null!=oe&&(a.push(F),u.set(F,oe))}});const m=new Va(a);return new hV(u,m,i.fieldTransforms)}function Ok(n,e,t,r,i,a){const u=n.da(1,e,t),m=[Nk(e,r,t)],y=[i];if(a.length%2!=0)throw new tt(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let oe=0;oe<a.length;oe+=2)m.push(Nk(e,a[oe])),y.push(a[oe+1]);const E=[],F=Es.empty();for(let oe=m.length-1;oe>=0;--oe)if(!_V(E,m[oe])){const pe=m[oe];let we=y[oe];we=(0,fe.m9)(we);const Me=u.ca(pe);if(we instanceof vb)E.push(pe);else{const Ve=Ym(we,Me);null!=Ve&&(E.push(pe),F.set(pe,Ve))}}const q=new Va(E);return new hV(F,q,u.fieldTransforms)}function mV(n,e,t,r=!1){return Ym(t,n.da(r?4:3,e))}function Ym(n,e){if(yV(n=(0,fe.m9)(n)))return Rk("Unsupported field value:",e,n),gV(n,e);if(n instanceof Zm)return function(t,r){if(!fV(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let m=Ym(u,r.aa(a));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return oL(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Hr.fromDate(t);return{timestampValue:nb(r.It,i)}}if(t instanceof Hr){const i=new Hr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:nb(r.It,i)}}if(t instanceof LI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Eu)return{bytesValue:AL(r.It,t._byteString)};if(t instanceof Rr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:JP(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${kI(t)}`)}(n,e)}function gV(n,e){const t={};return FF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Om(n,(r,i)=>{const a=Ym(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function yV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Hr||n instanceof LI||n instanceof Eu||n instanceof Rr||n instanceof Zm)}function Rk(n,e,t){if(!yV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=kI(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function Nk(n,e,t){if((e=(0,fe.m9)(e))instanceof Ld)return e._internalPath;if("string"==typeof e)return UI(n,e);throw HI("Field path arguments must be of type string or ",n,!1,void 0,t)}const y6=new RegExp("[~\\*/\\[\\]]");function UI(n,e,t){if(e.search(y6)>=0)throw HI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ld(...e.split("."))._internalPath}catch{throw HI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function HI(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(a||u)&&(y+=" (found",a&&(y+=` in field ${r}`),u&&(y+=` in document ${i}`),y+=")"),new tt(Ge.INVALID_ARGUMENT,m+n+y)}function _V(n,e){return n.some(t=>t.isEqual(e))}class wb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _6 extends wb{data(){return super.data()}}function jI(n,e){return"string"==typeof e?UI(n,e):e instanceof Ld?e._internalPath:e._delegate._internalPath}function vV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new tt(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bb{}function bf(n,...e){for(const t of e)n=t._apply(n);return n}class v6 extends bb{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Km(e.firestore),r=function(i,a,u,m,y,E,F){let q;if(y.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new tt(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){TV(F,E);const pe=[];for(const we of F)pe.push(SV(m,i,we));q={arrayValue:{values:pe}}}else q=SV(m,i,F)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||TV(F,E),q=mV(u,"where",F,"in"===E||"not-in"===E);const oe=Ss.create(y,E,q);return function(pe,we){if(we.dt()){const Ve=WP(pe);if(null!==Ve&&!Ve.isEqual(we.field))throw new tt(Ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ve.toString()}' and '${we.field.toString()}'`);const rt=qP(pe);null!==rt&&IV(0,we.field,rt)}const Me=function(Ve,rt){for(const dt of Ve.filters)if(rt.indexOf(dt.op)>=0)return dt.op;return null}(pe,function(Ve){switch(Ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(we.op));if(null!==Me)throw new tt(Ge.INVALID_ARGUMENT,Me===we.op?`Invalid query. You cannot use more than one '${we.op.toString()}' filter.`:`Invalid query. You cannot use '${we.op.toString()}' filters with '${Me.toString()}' filters.`)}(i,oe),oe}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new js(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new Od(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class b6 extends bb{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new tt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new tt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new c_(i,a);return function(m,y){if(null===qP(m)){const E=WP(m);null!==E&&IV(0,E,y.field)}}(r,u),u}(e._query,this.ma,this.pa);return new js(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Od(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class wV extends bb{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new js(e.firestore,e.converter,uI(e._query,this.Ia,this.Ta))}}class bV extends bb{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=EV(e,this.type,this.Ea,this.Aa);return new js(e.firestore,e.converter,(i=t,new Od((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class CV extends bb{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=EV(e,this.type,this.Ea,this.Aa);return new js(e.firestore,e.converter,(i=t,new Od((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function EV(n,e,t,r){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof wb)return function(i,a,u,m,y){if(!m)throw new tt(Ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const E=[];for(const F of d_(i))if(F.field.isKeyField())E.push(Fm(a,m.key));else{const q=m.data.field(F.field);if(GP(q))throw new tt(Ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+F.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===q){const oe=F.field.canonicalString();throw new tt(Ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${oe}' (used as the orderBy) does not exist.`)}E.push(q)}return new mf(E,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Km(n.firestore);return function(a,u,m,y,E,F){const q=a.explicitOrderBy;if(E.length>q.length)throw new tt(Ge.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const oe=[];for(let pe=0;pe<E.length;pe++){const we=E[pe];if(q[pe].field.isKeyField()){if("string"!=typeof we)throw new tt(Ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof we}`);if(!ZP(a)&&-1!==we.indexOf("/"))throw new tt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${we}' contains a slash.`);const Me=a.path.child(Wn.fromString(we));if(!gt.isDocumentKey(Me))throw new tt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const Ve=new gt(Me);oe.push(Fm(u,Ve))}else{const Me=mV(m,y,we);oe.push(Me)}}return new mf(oe,F)}(n._query,n.firestore._databaseId,i,e,t,r)}}function SV(n,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new tt(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZP(e)&&-1!==t.indexOf("/"))throw new tt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wn.fromString(t));if(!gt.isDocumentKey(r))throw new tt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fm(n,new gt(r))}if(t instanceof Rr)return Fm(n,t._key);throw new tt(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kI(t)}.`)}function TV(n,e){if(!Array.isArray(n)||0===n.length)throw new tt(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new tt(Ge.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function IV(n,e,t){if(!t.isEqual(e))throw new tt(Ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Fk{convertValue(e,t="none"){switch(Nm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dt()}}convertObject(e,t){const r={};return Om(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new LI(oi(e.latitude),oi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=VF(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(jw(e));default:return null}}convertTimestamp(e){const t=df(e);return new Hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wn.fromString(e);sn(FL(r));const i=new hf(r.get(1),r.get(3)),a=new gt(r.popFirst(5));return i.isEqual(t)||di(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function GI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class x6 extends Fk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,t)}}class Qm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vd extends wb{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Cb extends Vd{data(e={}){return super.data(e)}}class Cf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cb(this._firestore,this._userDataWriter,r.key,r,new Qm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tt(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Cb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Qm(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const m=new Cb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Qm(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,E=-1;return 0!==u.type&&(y=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),E=a.indexOf(u.doc.key)),{type:P6(u.type),doc:m,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function P6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function AV(n,e){return n instanceof Vd&&e instanceof Vd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Cf&&e instanceof Cf&&n._firestore===e._firestore&&bk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ef extends Fk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,t)}}function DV(n,e,t){n=Gn(n,Rr);const r=Gn(n.firestore,Nr),i=GI(n.converter,e,t);return P_(r,[BI(Km(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,jr.none())])}function xV(n,e,t,...r){n=Gn(n,Rr);const i=Gn(n.firestore,Nr),a=Km(i);let u;return u="string"==typeof(e=(0,fe.m9)(e))||e instanceof Ld?Ok(a,"updateDoc",n._key,e,t,r):kk(a,"updateDoc",n._key,e),P_(i,[u.toMutation(n._key,jr.exists(!0))])}function PV(n,...e){var t,r,i;n=(0,fe.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Pk(e[u])||(a=e[u],u++);const m={includeMetadataChanges:a.includeMetadataChanges};if(Pk(e[u])){const q=e[u];e[u]=null===(t=q.next)||void 0===t?void 0:t.bind(q),e[u+1]=null===(r=q.error)||void 0===r?void 0:r.bind(q),e[u+2]=null===(i=q.complete)||void 0===i?void 0:i.bind(q)}let y,E,F;if(n instanceof Rr)E=Gn(n.firestore,Nr),F=u_(n._key.path),y={next:q=>{e[u]&&e[u](Lk(E,n,q))},error:e[u+1],complete:e[u+2]};else{const q=Gn(n,js);E=Gn(q.firestore,Nr),F=q._query;const oe=new Ef(E);y={next:pe=>{e[u]&&e[u](new Cf(E,oe,q,pe))},error:e[u+1],complete:e[u+2]},vV(n._query)}return function(q,oe,pe,we){const Me=new RI(we),Ve=new WM(oe,Me,pe);return q.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return jM(yield x_(q),Ve)})),()=>{Me.bc(),q.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return $M(yield x_(q),Ve)}))}}(hi(E),F,m,y)}function P_(n,e){return function(t,r){const i=new Li;return t.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function EG(n,e,t){return JM.apply(this,arguments)}(yield Dk(t),r,i)})),i.promise}(hi(n),e)}function Lk(n,e,t){const r=t.docs.get(e._key),i=new Ef(n);return new Vd(n,i,e._key,r,new Qm(t.hasPendingWrites,t.fromCache),e.converter)}const U6={maxAttempts:5};class MV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Km(e)}set(e,t,r){this._verifyNotCommitted();const i=Sf(e,this._firestore),a=GI(i.converter,t,r),u=BI(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,jr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Sf(e,this._firestore);let u;return u="string"==typeof(t=(0,fe.m9)(t))||t instanceof Ld?Ok(this._dataReader,"WriteBatch.update",a._key,t,r,i):kk(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sf(e,this._firestore);return this._mutations=this._mutations.concat(new m_(t._key,jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(Ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sf(n,e){if((n=(0,fe.m9)(n)).firestore!==e)throw new tt(Ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class H6 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Km(e)}get(e){const t=Sf(e,this._firestore),r=new x6(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Dt();const a=i[0];if(a.isFoundDocument())return new wb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new wb(this._firestore,r,t._key,null,t.converter);throw Dt()})}set(e,t,r){const i=Sf(e,this._firestore),a=GI(i.converter,t,r),u=BI(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=Sf(e,this._firestore);let u;return u="string"==typeof(t=(0,fe.m9)(t))||t instanceof Ld?Ok(this._dataReader,"Transaction.update",a._key,t,r,i):kk(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Sf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sf(e,this._firestore),r=new Ef(this._firestore);return super.get(e).then(i=>new Vd(this._firestore,r,t._key,i._document,new Qm(!1,!1),t.converter))}}function Vk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new tt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function OV(){if(typeof Uint8Array>"u")throw new tt("unimplemented","Uint8Arrays are not available in this environment.")}function RV(){if(!function d4(){return typeof atob<"u"}())throw new tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){s_=bs.SDK_VERSION,(0,bs._registerComponent)(new Oa.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),u=new Nr(new XH(t.getProvider("auth-internal")),new n4(t.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new tt(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hf(m.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,bs.registerVersion)(TF,"3.7.3",n),(0,bs.registerVersion)(TF,"3.7.3","esm2017")}();class Eb{constructor(e){this._delegate=e}static fromBase64String(e){return RV(),new Eb(Eu.fromBase64String(e))}static fromUint8Array(e){return OV(),new Eb(Eu.fromUint8Array(e))}toBase64(){return RV(),this._delegate.toBase64()}toUint8Array(){return OV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Bk(n){return function Y6(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Q6{enableIndexedDbPersistence(e,t){return function r6(n,e){dV(n=Gn(n,Nr));const t=hi(n),r=n._freezeSettings(),i=new vk;return uV(t,i,new q2(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function i6(n){dV(n=Gn(n,Nr));const e=hi(n),t=n._freezeSettings(),r=new vk;return uV(e,r,new BG(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function s6(n){if(n._initialized&&!n._terminated)throw new tt(Ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Li;return n._queue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{yield(t=(0,He.Z)(function*(r){if(!Sc.C())return Promise.resolve();const i=r+"main";yield Sc.delete(i)}),function(r){return t.apply(this,arguments)})(hM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class NV{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof hf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Pm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function X2(n,e,t,r={}){var i;const a=(n=Gn(n,_b))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Pm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,m;if("string"==typeof r.mockUserToken)u=r.mockUserToken,m=Ji.MOCK_USER;else{u=(0,fe.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new tt(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ji(y)}n._authCredentials=new JH(new IF(u,m))}}(this._delegate,e,t,r)}enableNetwork(){return function a6(n){return function WG(n){return n.asyncQueue.enqueue((0,He.Z)(function*(){const e=yield sV(n),t=yield Ak(n);return e.setNetworkEnabled(!0),function(r){const i=vt(r);return i._u.delete(0),gb(i)}(t)}))}(hi(n=Gn(n,Nr)))}(this._delegate)}disableNetwork(){return function l6(n){return function ZG(n){return n.asyncQueue.enqueue((0,He.Z)(function*(){const e=yield sV(n),t=yield Ak(n);return e.setNetworkEnabled(!1),(r=(0,He.Z)(function*(i){const a=vt(i);a._u.add(0),yield C_(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(hi(n=Gn(n,Nr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,W2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function o6(n){return function(e){const t=new Li;return e.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function AG(n,e){return rk.apply(this,arguments)}(yield Dk(e),t)})),t.promise}(hi(n=Gn(n,Nr)))}(this._delegate)}onSnapshotsInSync(e){return function B6(n,e){return function QG(n,e){const t=new RI(e);return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return r=yield x_(n),i=t,vt(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return r=yield x_(n),i=t,void vt(r).Ru.delete(i);var r,i}))}}(hi(n=Gn(n,Nr)),Pk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new M_(this,eV(this._delegate,e))}catch(t){throw yo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Nl(this,OI(this._delegate,e))}catch(t){throw yo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new _o(this,function UG(n,e){if(n=Gn(n,_b),wk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tt(Ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new js(n,null,(t=e,new Od(Wn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw yo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function j6(n,e,t){n=Gn(n,Nr);const r=Object.assign(Object.assign({},U6),t);return function(i){if(i.maxAttempts<1)throw new tt(Ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,u){const m=new Li;return i.asyncQueue.enqueueAndForget((0,He.Z)(function*(){const y=yield function oV(n){return NI(n).then(e=>e.datastore)}(i);new zG(i.asyncQueue,y,u,a,m).run()})),m.promise}(hi(n),i=>e(new H6(n,i)),r)}(this._delegate,t=>e(new FV(this,t)))}batch(){return hi(this._delegate),new LV(new MV(this._delegate,e=>P_(this._delegate,e)))}loadBundle(e){return function c6(n,e){const t=hi(n=Gn(n,Nr)),r=new t6;return function JG(n,e,t,r){const i=function(a,u){let m;return m="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,E){if(y instanceof Uint8Array)return nV(y,E);if(y instanceof ArrayBuffer)return nV(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new HG(y,u);var y}(t,mb(e));n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){!function VG(n,e,t){const r=vt(n);var i;(i=(0,He.Z)(function*(a,u,m){try{const y=yield u.getMetadata();if(yield function(oe,pe){const we=vt(oe),Me=Xi(pe.createTime);return we.persistence.runTransaction("hasNewerBundle","readonly",Ve=>we.Ns.getBundleMetadata(Ve,pe.id)).then(Ve=>!!Ve&&Ve.createTime.compareTo(Me)>=0)}(a.localStore,y))return yield u.close(),m._completeWith({taskState:"Success",documentsLoaded:(oe=y).totalDocuments,bytesLoaded:oe.totalBytes,totalDocuments:oe.totalDocuments,totalBytes:oe.totalBytes}),Promise.resolve(new Set);m._updateProgress(F2(y));const E=new yG(y,a.localStore,u.It);let F=yield u.mc();for(;F;){const oe=yield E.Fu(F);oe&&m._updateProgress(oe),F=yield u.mc()}const q=yield E.complete();return yield Fd(a,q.Lu,void 0),yield function(oe,pe){const we=vt(oe);return we.persistence.runTransaction("Save bundle","readwrite",Me=>we.Ns.saveBundleMetadata(Me,pe))}(a.localStore,y),m._completeWith(q.progress),Promise.resolve(q.Bu)}catch(y){return Pm("SyncEngine",`Loading bundle failed with ${y}`),m._failWith(y),Promise.resolve(new Set)}var oe}),function(a,u,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Dk(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function u6(n,e){return function XG(n,e){return n.asyncQueue.enqueue((0,He.Z)(function*(){return function(t,r){const i=vt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield FI(n),e)}))}(hi(n=Gn(n,Nr)),e).then(t=>t?new js(n,null,t.query):null)}(this._delegate,e).then(t=>t?new _o(this,t):null)}}class $I extends Fk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eb(new Eu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Nl.forKey(t,this.firestore,null)}}class FV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $I(e)}get(e){const t=Xm(e);return this._delegate.get(t).then(r=>new Sb(this._firestore,new Vd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Xm(e);return r?(Vk("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Xm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Xm(e);return this._delegate.delete(t),this}}class LV{constructor(e){this._delegate=e}set(e,t,r){const i=Xm(e);return r?(Vk("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Xm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Xm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Cb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Tb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Jm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Jm(e,new $I(e),t),i.set(t,a)),a}}Jm.INSTANCES=new WeakMap;class Nl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $I(e)}static forPath(e,t,r){if(e.length%2!=0)throw new tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Nl(t,new Rr(t._delegate,r,new gt(e)))}static forKey(e,t,r){return new Nl(t,new Rr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new M_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new M_(this.firestore,eV(this._delegate,e))}catch(t){throw yo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,fe.m9)(e))instanceof Rr&&tV(this._delegate,e)}set(e,t){t=Vk("DocumentReference.set",t);try{return t?DV(this._delegate,e,t):DV(this._delegate,e)}catch(r){throw yo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?xV(this._delegate,e):xV(this._delegate,e,t,...r)}catch(i){throw yo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function L6(n){return P_(Gn(n.firestore,Nr),[new m_(n._key,jr.none())])}(this._delegate)}onSnapshot(...e){const t=VV(e),r=BV(e,i=>new Sb(this.firestore,new Vd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return PV(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function k6(n){n=Gn(n,Rr);const e=Gn(n.firestore,Nr),t=hi(e),r=new Ef(e);return function KG(n,e){const t=new Li;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return(r=(0,He.Z)(function*(i,a,u){try{const m=yield function(y,E){const F=vt(y);return F.persistence.runTransaction("read document","readonly",q=>F.localDocuments.getDocument(q,E))}(i,a);m.isFoundDocument()?u.resolve(m):m.isNoDocument()?u.resolve(null):u.reject(new tt(Ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const y=T_(m,`Failed to get document '${a} from cache`);u.reject(y)}}),function(i,a,u){return r.apply(this,arguments)})(yield FI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Vd(e,r,n._key,i,new Qm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function O6(n){n=Gn(n,Rr);const e=Gn(n.firestore,Nr);return aV(hi(e),n._key,{source:"server"}).then(t=>Lk(e,n,t))}(this._delegate):function M6(n){n=Gn(n,Rr);const e=Gn(n.firestore,Nr);return aV(hi(e),n._key).then(t=>Lk(e,n,t))}(this._delegate),t.then(r=>new Sb(this.firestore,new Vd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Nl(this.firestore,this._delegate.withConverter(e?Jm.getInstance(this.firestore,e):null))}}function yo(n,e,t){return n.message=n.message.replace(e,t),n}function VV(n){for(const e of n)if("object"==typeof e&&!Bk(e))return e;return{}}function BV(n,e){var t,r;let i;return i=Bk(n[0])?n[0]:Bk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Sb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Nl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AV(this._delegate,e._delegate)}}class Tb extends Sb{data(e){const t=this._delegate.data(e);return function YH(n,e){n||Dt()}(void 0!==t),t}}class _o{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $I(e)}where(e,t,r){try{return new _o(this.firestore,bf(this._delegate,function w6(n,e,t){const r=e,i=jI("where",n);return new v6(i,r,t)}(e,t,r)))}catch(i){throw yo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new _o(this.firestore,bf(this._delegate,function C6(n,e="asc"){const t=e,r=jI("orderBy",n);return new b6(r,t)}(e,t)))}catch(r){throw yo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new _o(this.firestore,bf(this._delegate,function E6(n){return Y2("limit",n),new wV("limit",n,"F")}(e)))}catch(t){throw yo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new _o(this.firestore,bf(this._delegate,function S6(n){return Y2("limitToLast",n),new wV("limitToLast",n,"L")}(e)))}catch(t){throw yo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new _o(this.firestore,bf(this._delegate,function T6(...n){return new bV("startAt",n,!0)}(...e)))}catch(t){throw yo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new _o(this.firestore,bf(this._delegate,function I6(...n){return new bV("startAfter",n,!1)}(...e)))}catch(t){throw yo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new _o(this.firestore,bf(this._delegate,function A6(...n){return new CV("endBefore",n,!1)}(...e)))}catch(t){throw yo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new _o(this.firestore,bf(this._delegate,function D6(...n){return new CV("endAt",n,!0)}(...e)))}catch(t){throw yo(t,"endAt()","Query.endAt()")}}isEqual(e){return bk(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function N6(n){n=Gn(n,js);const e=Gn(n.firestore,Nr),t=hi(e),r=new Ef(e);return function YG(n,e){const t=new Li;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return(r=(0,He.Z)(function*(i,a,u){try{const m=yield II(i,a,!0),y=new B2(a,m.Hi),E=y.Wu(m.documents),F=y.applyChanges(E,!1);u.resolve(F.snapshot)}catch(m){const y=T_(m,`Failed to execute query '${a} against cache`);u.reject(y)}}),function(i,a,u){return r.apply(this,arguments)})(yield FI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Cf(e,r,n,i))}(this._delegate):"server"===e?.source?function F6(n){n=Gn(n,js);const e=Gn(n.firestore,Nr),t=hi(e),r=new Ef(e);return lV(t,n._query,{source:"server"}).then(i=>new Cf(e,r,n,i))}(this._delegate):function R6(n){n=Gn(n,js);const e=Gn(n.firestore,Nr),t=hi(e),r=new Ef(e);return vV(n._query),lV(t,n._query).then(i=>new Cf(e,r,n,i))}(this._delegate),t.then(r=>new Uk(this.firestore,new Cf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=VV(e),r=BV(e,i=>new Uk(this.firestore,new Cf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return PV(this._delegate,t,r)}withConverter(e){return new _o(this.firestore,this._delegate.withConverter(e?Jm.getInstance(this.firestore,e):null))}}class X6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Tb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Uk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new _o(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Tb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new X6(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Tb(this._firestore,r))})}isEqual(e){return AV(this._delegate,e._delegate)}}class M_ extends _o{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Nl(this.firestore,e):null}doc(e){try{return new Nl(this.firestore,void 0===e?OI(this._delegate):OI(this._delegate,e))}catch(t){throw yo(t,"doc()","CollectionReference.doc()")}}add(e){return function V6(n,e){const t=Gn(n.firestore,Nr),r=OI(n),i=GI(n.converter,e);return P_(t,[BI(Km(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,jr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Nl(this.firestore,t))}isEqual(e){return tV(this._delegate,e._delegate)}withConverter(e){return new M_(this.firestore,this._delegate.withConverter(e?Jm.getInstance(this.firestore,e):null))}}function Xm(n){return Gn(n,Rr)}class Hk{constructor(...e){this._delegate=new Ld(...e)}static documentId(){return new Hk(ii.keyField().canonicalString())}isEqual(e){return(e=(0,fe.m9)(e))instanceof Ld&&this._delegate._internalPath.isEqual(e._internalPath)}}class eg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $6(){return new Mk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new eg(e)}static delete(){const e=function G6(){return new vb("deleteField")}();return e._methodName="FieldValue.delete",new eg(e)}static arrayUnion(...e){const t=function z6(...n){return new p6("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new eg(t)}static arrayRemove(...e){const t=function q6(...n){return new m6("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new eg(t)}static increment(e){const t=function W6(n){return new g6("increment",n)}(e);return t._methodName="FieldValue.increment",new eg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const e$={Firestore:NV,GeoPoint:LI,Timestamp:Hr,Blob:Eb,Transaction:FV,WriteBatch:LV,DocumentReference:Nl,DocumentSnapshot:Sb,Query:_o,QueryDocumentSnapshot:Tb,QuerySnapshot:Uk,CollectionReference:M_,FieldPath:Hk,FieldValue:eg,setLogLevel:function J6(n){!function KH(n){lf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function n$(n){(function t$(n,e){n.INTERNAL.registerComponent(new Oa.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},e$)))})(n,(e,t)=>new NV(e,t,new Q6)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(mT.Z);var jk=p(6451),zI=p(5363),r$=p(6063);class i$ extends ou.x{constructor(e=1/0,t=1/0,r=r$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let m=0;for(let y=1;y<r.length&&r[y]<=u;y+=2)m=y;m&&r.splice(0,m+1)}}}var UV=p(3099);function HV(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,UV.B)({connector:()=>new i$(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function jV(n,e){return(0,cy.m)(e)?Ir(()=>n,e):Ir(()=>n)}var Gk=p(9468);p(5867);const zk=new Map,$V={activated:!1,tokenObservers:[]},c$={initialized:!1,enabled:!1};function Ts(n){return zk.get(n)||Object.assign({},$V)}function WI(){return c$}class m${constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,He.Z)(function*(){t.stop();try{t.pending=new fe.BH,yield function g$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vo=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qV(n){if(!Ts(n).activated)throw vo.create("use-before-activation",{appName:n.name})}function Zk(n,e){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,He.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const pe=yield u.getHeartbeatsHeader();pe&&(a["X-Firebase-Client"]=pe)}const m={method:"POST",body:JSON.stringify(e),headers:a};let y,E;try{y=yield fetch(n,m)}catch(pe){throw vo.create("fetch-network-error",{originalErrorMessage:null===(r=pe)||void 0===r?void 0:r.message})}if(200!==y.status)throw vo.create("fetch-status-error",{httpStatus:y.status});try{E=yield y.json()}catch(pe){throw vo.create("fetch-parse-error",{originalErrorMessage:null===(i=pe)||void 0===i?void 0:i.message})}const F=E.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw vo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const q=1e3*Number(F[1]),oe=Date.now();return{token:E.token,expireTimeMillis:oe+q,issuedAtTimeMillis:oe}}),Kk.apply(this,arguments)}function w$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ib="firebase-app-check-store";let YI=null;function ZV(){return YI||(YI=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(vo.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ib,{keyPath:"compositeKey"})}}catch(r){e(vo.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),YI)}function Yk(){return Yk=(0,He.Z)(function*(n,e){const r=(yield ZV()).transaction(Ib,"readwrite"),a=r.objectStore(Ib).put({compositeKey:n,value:e});return new Promise((u,m)=>{a.onsuccess=y=>{u()},r.onerror=y=>{var E;m(vo.create("storage-set",{originalErrorMessage:null===(E=y.target.error)||void 0===E?void 0:E.message}))}})}),Yk.apply(this,arguments)}const Ab=new ra.Yd("@firebase/app-check");function Xk(n,e){return(0,fe.hl)()?function S$(n,e){return function KV(n,e){return Yk.apply(this,arguments)}(function QV(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ab.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function JV(){return WI().enabled}function XV(){return tO.apply(this,arguments)}function tO(){return tO=(0,He.Z)(function*(){const n=WI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),tO.apply(this,arguments)}const P$={error:"UNKNOWN_ERROR"};function M$(n){return fe.US.encodeString(JSON.stringify(n),!1)}function QI(n){return nO.apply(this,arguments)}function nO(){return nO=(0,He.Z)(function*(n,e=!1){const t=n.app;qV(t);const r=Ts(t);let a,i=r.token;if(i&&!k_(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(k_(y)?i=y:yield Xk(t,void 0))}if(!e&&i&&k_(i))return{token:i.token};let m,u=!1;if(JV()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Zk(w$(t,yield XV()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const y=yield r.exchangeTokenPromise;return yield Xk(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield Ts(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Ab.warn(y.message):Ab.error(y),a=y}return i?a?m=k_(i)?{token:i.token,internalError:a}:nB(a):(m={token:i.token},r.token=i,yield Xk(t,i)):m=nB(a),u&&tB(t,m),m}),nO.apply(this,arguments)}function iO(n,e){const t=Ts(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function eB(n){const{app:e}=n,t=Ts(e);let r=t.tokenRefresher;r||(r=function k$(n){const{app:e}=n;return new m$((0,He.Z)(function*(){let r;if(r=Ts(e).token?yield QI(n,!0):yield QI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ts(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function tB(n,e){const t=Ts(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function k_(n){return n.expireTimeMillis-Date.now()>0}function nB(n){return{token:M$(P$),error:n}}class O${constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ts(this.app);for(const t of e)iO(this.app,t.next);return Promise.resolve()}}const uB="app-check-internal";!function W$(){(0,bs._registerComponent)(new Oa.wA("app-check",n=>function R$(n,e){return new O$(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(uB).initialize()})),(0,bs._registerComponent)(new Oa.wA(uB,n=>function N$(n){return{getToken:e=>QI(n,e),addTokenListener:e=>function rO(n,e,t,r){const{app:i}=n,a=Ts(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&k_(a.token)){const m=a.token;Promise.resolve().then(()=>{t({token:m.token}),eB(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>eB(n))}(n,"INTERNAL",e),removeTokenListener:e=>iO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,bs.registerVersion)("@firebase/app-check","0.5.17")}();class Db{constructor(){return(0,qn.vb)("app-check")}}typeof window<"u"&&window;var XI=p(127);const cO=new s.OlP("angularfire2.auth.use-emulator"),uO=new s.OlP("angularfire2.auth.settings"),dO=new s.OlP("angularfire2.auth.tenant-id"),hO=new s.OlP("angularfire2.auth.langugage-code"),fO=new s.OlP("angularfire2.auth.use-device-language"),pO=new s.OlP("angularfire.auth.persistence"),mO=(n,e,t,r,i,a,u,m)=>(0,Ur.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),u)for(const[E,F]of Object.entries(u))y.settings[E]=F;return m&&y.setPersistence(m),y},[t,r,i,a,u,m]);let xb=(()=>{class n{constructor(t,r,i,a,u,m,y,E,F,q,oe,pe){const we=new ou.x,Me=Pt(void 0).pipe((0,zI.Q)(u.outsideAngular),Ir(()=>a.runOutsideAngular(()=>Promise.resolve().then(p.bind(p,5881)))),(0,Zt.U)(()=>(0,Ur.on)(t,a,r)),(0,Zt.U)(Ve=>mO(Ve,a,m,E,F,q,y,oe)),HV({bufferSize:1,refCount:!1}));if(xo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Pt(null);else{Me.pipe(yc()).subscribe();const rt=Me.pipe(Ir(pt=>pt.getRedirectResult().then(Vt=>Vt,()=>null)),qn.iC,HV({bufferSize:1,refCount:!1})),dt=Me.pipe(Ir(pt=>new Il.y(Vt=>({unsubscribe:a.runOutsideAngular(()=>pt.onAuthStateChanged(Ht=>Vt.next(Ht),Ht=>Vt.error(Ht),()=>Vt.complete()))})))),ht=Me.pipe(Ir(pt=>new Il.y(Vt=>({unsubscribe:a.runOutsideAngular(()=>pt.onIdTokenChanged(Ht=>Vt.next(Ht),Ht=>Vt.error(Ht),()=>Vt.complete()))}))));this.authState=rt.pipe(jV(dt),(0,Gk.R)(u.outsideAngular),(0,zI.Q)(u.insideAngular)),this.user=rt.pipe(jV(ht),(0,Gk.R)(u.outsideAngular),(0,zI.Q)(u.insideAngular)),this.idToken=this.user.pipe(Ir(pt=>pt?(0,er.D)(pt.getIdToken()):Pt(null))),this.idTokenResult=this.user.pipe(Ir(pt=>pt?(0,er.D)(pt.getIdTokenResult()):Pt(null))),this.credential=(0,jk.T)(rt,we,this.authState.pipe(co(pt=>!pt))).pipe((0,Zt.U)(pt=>pt?.user?pt:null),(0,Gk.R)(u.outsideAngular),(0,zI.Q)(u.insideAngular))}return(0,Ur.pX)(this,Me,a,{spy:{apply:(Ve,rt,dt)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&dt.then(ht=>we.next(ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ur.Dh),s.LFG(Ur.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(qn.HU),s.LFG(cO,8),s.LFG(uO,8),s.LFG(dO,8),s.LFG(hO,8),s.LFG(fO,8),s.LFG(pO,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),X$=(()=>{class n{constructor(){XI.Z.registerVersion("angularfire",qn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xb]}),n})();function hB(n,e){return function ez(n,e=sw.z){return new Il.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function gO(n,e){return hB(n,e).pipe((0,Zt.U)(t=>({payload:t,type:"query"})))}function e1(n,e){return gO(n,e).pipe(uy(void 0),hm(),(0,Zt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,m)=>{const y=i.find(F=>F.doc.ref.isEqual(u.ref)),E=t?.payload.docs.find(F=>F.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&E&&JSON.stringify(E.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:u}})}),a}))}function fB(n,e,t){return e1(n,t).pipe(_d((r,i)=>function nz(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function rz(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return yO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return yO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),ow(),(0,Zt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function yO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function pB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class mB{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=e1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Zt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(uy(void 0),hm(),co(([r,i])=>i.length>0||!r),(0,Zt.U)(([r,i])=>i),qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(_d((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=pB(e);return fB(this.query,t,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return gO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Zt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),qn.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(qn.iC)}add(e){return this.ref.add(e)}doc(e){return new gB(this.ref.doc(e),this.afs)}}class gB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=vB(r,t);return new mB(i,a,this.afs)}snapshotChanges(){return function tz(n,e){return hB(n,e).pipe(uy(void 0),hm(),(0,Zt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Zt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,er.D)(this.ref.get(e)).pipe(qn.iC)}}class iz{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?e1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Zt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),co(t=>t.length>0),qn.iC):e1(this.query,this.afs.schedulers.outsideAngular).pipe(qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(_d((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=pB(e);return fB(this.query,t,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return gO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Zt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),qn.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(qn.iC)}}const yB=new s.OlP("angularfire2.enableFirestorePersistence"),_B=new s.OlP("angularfire2.firestore.persistenceSettings"),sz=new s.OlP("angularfire2.firestore.settings"),oz=new s.OlP("angularfire2.firestore.use-emulator");function vB(n,e=(t=>t)){return{query:e(n),ref:n}}let wB=(()=>{class n{constructor(t,r,i,a,u,m,y,E,F,q,oe,pe,we,Me,Ve,rt,dt){this.schedulers=y;const ht=(0,Ur.on)(t,m,r),pt=F;q&&mO(ht,m,oe,we,Me,Ve,pe,rt),[this.firestore,this.persistenceEnabled$]=(0,Ur.cc)(`${ht.name}.firestore`,"AngularFirestore",ht.name,()=>{const Vt=m.runOutsideAngular(()=>ht.firestore());if(a&&Vt.settings(a),pt&&Vt.useEmulator(...pt),i&&!xo(u)){const Ht=()=>{try{return(0,er.D)(Vt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(Fn){return typeof console<"u"&&console.warn(Fn),Pt(!1)}};return[Vt,m.runOutsideAngular(Ht)]}return[Vt,Pt(!1)]},[a,pt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=vB(i,r),m=this.schedulers.ngZone.run(()=>a);return new mB(m,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new iz(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new gB(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ur.Dh),s.LFG(Ur.xv,8),s.LFG(yB,8),s.LFG(sz,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(qn.HU),s.LFG(_B,8),s.LFG(oz,8),s.LFG(xb,8),s.LFG(cO,8),s.LFG(uO,8),s.LFG(dO,8),s.LFG(hO,8),s.LFG(fO,8),s.LFG(pO,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),az=(()=>{class n{constructor(){XI.Z.registerVersion("angularfire",qn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:yB,useValue:!0},{provide:_B,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[wB]}),n})(),Bd=(()=>{class n{constructor(t,r,i,a){this.afs=t,this.afAuth=r,this.router=i,this.ngZone=a,this.afAuth.authState.subscribe(u=>{u?(this.userData=u,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,r){var i=this;return(0,He.Z)(function*(){return i.afAuth.signInWithEmailAndPassword(t,r).then(a=>{i.SetUserData(a.user),i.afAuth.authState.subscribe(u=>{u&&i.router.navigate(["Home"])})}).catch(a=>{Or().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:a.message})})})()}SignUp(t,r){var i=this;return(0,He.Z)(function*(){return i.afAuth.createUserWithEmailAndPassword(t,r).then(a=>{i.SendVerificationMail(),i.SetUserData(a.user)}).catch(a=>{Or().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:a.message})})})()}SendVerificationMail(){var t=this;return(0,He.Z)(function*(){return t.afAuth.currentUser.then(r=>r.sendEmailVerification()).then(()=>{t.router.navigate(["verify-email-address"])})})()}ForgotPassword(t){var r=this;return(0,He.Z)(function*(){return r.afAuth.sendPasswordResetEmail(t).then(()=>{Or().fire("Good job!","Password reset email sent, check your inbox.","success")}).catch(i=>{Or().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:i.message})})})()}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}GoogleAuth(){var t=this;return(0,He.Z)(function*(){return t.AuthLogin(new nP.Q).then(r=>{t.router.navigate(["Home"])})})()}AuthLogin(t){var r=this;return(0,He.Z)(function*(){return r.afAuth.signInWithPopup(t).then(i=>{r.router.navigate(["Home"]),r.SetUserData(i.user)}).catch(i=>{Or().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:i.message})})})()}SetUserData(t){var r=this;return(0,He.Z)(function*(){return r.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})})()}SignOut(){var t=this;return(0,He.Z)(function*(){return t.afAuth.signOut().then(()=>{localStorage.removeItem("user"),t.router.navigate(["sign-in"])})})()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(wB),s.LFG(xb),s.LFG(ui),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _O=function(){return["active"]},vO=function(){return{exact:!0}},lz=function(){return["Orders"]},cz=function(){return["Favorites"]},uz=function(){return["Info"]};let dz=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}logOut(){Or().fire({title:"Are you sure?",text:"You will be logged out!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, please!"}).then(t=>{t.isConfirmed&&(Or().fire("Logged out!","Thank you for visiting us","success"),this.authService.SignOut())})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Bd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sidebar"]],decls:15,vars:18,consts:[[1,"continer"],[1,"sidebar"],[1,"unordered-list"],[1,"list-item",3,"routerLinkActive","routerLinkActiveOptions","routerLink"],[1,"basket-icon"],["src","https://cdn.lordicon.com/qzwudxpy.json","trigger","hover",2,"width","70px","height","40px"],[1,"star-icon"],["src","https://cdn.lordicon.com/hqrgkqvs.json","trigger","hover",2,"width","70px","height","40px"],[1,"account-icon"],["src","https://cdn.lordicon.com/vusrdugn.json","trigger","hover",2,"width","70px","height","40px"],[1,"list-item",3,"click"],[1,"log-out-icon"],["src","https://cdn.lordicon.com/vsgcujbd.json","trigger","hover",2,"width","70px","height","40px"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"nav",1)(2,"ul",2)(3,"li",3)(4,"div",4),s._UZ(5,"lord-icon",5),s.qZA()(),s.TgZ(6,"li",3)(7,"div",6),s._UZ(8,"lord-icon",7),s.qZA()(),s.TgZ(9,"li",3)(10,"div",8),s._UZ(11,"lord-icon",9),s.qZA()(),s.TgZ(12,"li",10),s.NdJ("click",function(){return r.logOut()}),s.TgZ(13,"div",11),s._UZ(14,"lord-icon",12),s.qZA()()()()()),2&t&&(s.xp6(3),s.Q6J("routerLinkActive",s.DdM(9,_O))("routerLinkActiveOptions",s.DdM(10,vO))("routerLink",s.DdM(11,lz)),s.xp6(3),s.Q6J("routerLinkActive",s.DdM(12,_O))("routerLinkActiveOptions",s.DdM(13,vO))("routerLink",s.DdM(14,cz)),s.xp6(3),s.Q6J("routerLinkActive",s.DdM(15,_O))("routerLinkActiveOptions",s.DdM(16,vO))("routerLink",s.DdM(17,uz)))},dependencies:[fu,G0],styles:['.container[_ngcontent-%COMP%]{width:10%}.sidebar[_ngcontent-%COMP%]{float:left;position:relative;top:0;left:0;background:transparent;padding:100px 0}.unordered-list[_ngcontent-%COMP%]{text-align:center}.list-item[_ngcontent-%COMP%]{list-style:none}.list-item[_ngcontent-%COMP%]:nth-child(1){position:relative;width:70px;cursor:pointer;background:white;transition:all .4s ease-out;border-top:2px solid #ff613a;border-right:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(2){position:relative;width:70px;cursor:pointer;background:white;transition:all .4s ease-out;border-right:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(3){position:relative;width:70px;cursor:pointer;background:white;transition:all .4s ease-out;border-right:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(4){position:relative;width:70px;cursor:pointer;background:white;transition:all .4s ease-out;border-right:2px solid #ff613a;border-bottom:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:after{position:absolute;background:#ff613a;color:#fff;top:0;left:70px;width:70px;height:100%;opacity:.5;transform:perspective(400px) rotateY(90deg);transform-origin:0 100%;transition:all .4s ease-out}.list-item[_ngcontent-%COMP%]:nth-child(1):after{content:"Orders";line-height:88px;border-right:2px solid #ff613a;border-top:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(2):after{content:"Favorites";line-height:88px;border-right:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(3):after{content:"Infos";line-height:88px;border-right:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(4):after{content:"Log-out";line-height:88px;border-right:2px solid #ff613a;border-bottom:2px solid #ff613a}.list-item.active[_ngcontent-%COMP%]{transform:translate(-70px)}.list-item.active[_ngcontent-%COMP%]:after{opacity:1;transform:perspective(400px) rotateY(0) scale(1)}.list-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;padding:25px 0}.list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}@media only screen and (max-width: 800px){.unordered-list[_ngcontent-%COMP%]{align-self:center;display:flex;position:relative;background:transparent}.list-item[_ngcontent-%COMP%]{list-style:none}.list-item[_ngcontent-%COMP%]:after{transform:none}.list-item[_ngcontent-%COMP%]:nth-child(1){position:relative;width:70px;cursor:pointer;background:white;border:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(2){position:relative;width:70px;cursor:pointer;background:white;border-right:2px solid #ff613a;border-top:2px solid #ff613a;border-bottom:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(3){position:relative;width:70px;cursor:pointer;background:white;border-right:2px solid #ff613a;border-top:2px solid #ff613a;border-bottom:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(4){position:relative;width:70px;cursor:pointer;background:white;border-top:2px solid #ff613a;border-bottom:2px solid #ff613a}.list-item[_ngcontent-%COMP%]:nth-child(1):after{content:none}.list-item[_ngcontent-%COMP%]:nth-child(2):after{content:none}.list-item[_ngcontent-%COMP%]:nth-child(3):after{content:none}.list-item[_ngcontent-%COMP%]:nth-child(4):after{content:none}.list-item.active[_ngcontent-%COMP%]{transform:none}.list-item.active[_ngcontent-%COMP%]:after{opacity:0;transform:none}lord-icon[_ngcontent-%COMP%]{width:50px;height:50px}}']}),n})(),hz=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-account"]],decls:3,vars:0,consts:[[1,"wrapper"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"app-sidebar")(2,"router-outlet"),s.qZA())},dependencies:[Kp,dz],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;cursor:default;margin-top:10px;font-family:Dosis,sans-serif;font-size:14px;line-height:1.4}@media only screen and (max-width: 800px){.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}}"]}),n})();const fz=function(){return["/Shop"]};function pz(n,e){1&n&&(s.TgZ(0,"div",3)(1,"p"),s._uU(2,"Your have not ordered any products, yet"),s.qZA(),s.TgZ(3,"p"),s._uU(4,"Let's have a look at our collection!"),s.qZA(),s.TgZ(5,"a",4),s._uU(6,"Shop"),s.qZA()()),2&n&&(s.xp6(5),s.Q6J("routerLink",s.DdM(1,fz)))}function mz(n,e){if(1&n&&(s.TgZ(0,"h1"),s._uU(1," You ordered: ( "),s.TgZ(2,"span"),s._uU(3),s.qZA(),s._uU(4," ) items "),s.qZA()),2&n){const t=s.oxw(2);s.xp6(3),s.hij(" ",t.totalQuantity.length," ")}}function gz(n,e){if(1&n&&(s.TgZ(0,"h1"),s._uU(1," You ordered: ( "),s.TgZ(2,"span"),s._uU(3),s.qZA(),s._uU(4," ) item "),s.qZA()),2&n){const t=s.oxw(2);s.xp6(3),s.hij(" ",t.totalQuantity.length," ")}}function yz(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"li")(1,"a",4),s._UZ(2,"img",16),s.qZA(),s.TgZ(3,"div",17)(4,"a",4)(5,"p",18),s._uU(6),s.qZA()(),s.TgZ(7,"div",19),s._uU(8,"Size: "),s.TgZ(9,"span"),s._uU(10),s.qZA()(),s.TgZ(11,"div",20),s._uU(12,"Price: "),s.TgZ(13,"span"),s._uU(14),s.qZA()(),s.TgZ(15,"div",21),s._uU(16,"Ordered quantity: "),s.TgZ(17,"span"),s._uU(18),s.qZA()(),s.TgZ(19,"div",22),s._uU(20,"Total price: "),s.TgZ(21,"span"),s._uU(22),s.qZA()()(),s.TgZ(23,"lord-icon",23),s.NdJ("click",function(){const a=s.CHM(t).$implicit,u=s.oxw(2);return s.KtG(u.removeItem(a))}),s.qZA()()}if(2&n){const t=e.$implicit;s.xp6(1),s.MGl("routerLink","/Shop/Product/",t.id,""),s.xp6(1),s.s9C("src",t.image,s.LSH),s.s9C("alt",t.name),s.xp6(2),s.MGl("routerLink","/Shop/Product/",t.id,""),s.xp6(2),s.Oqu(t.name),s.xp6(4),s.Oqu(t.size),s.xp6(4),s.hij("\u20ac ",t.price,""),s.xp6(4),s.Oqu(t.quantity),s.xp6(4),s.hij("\u20ac ",t.price*t.quantity.toFixed(2),"")}}function _z(n,e){1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n&&(s.xp6(1),s.hij(" ","(free shipping on orders over \u20ac100)"," "))}function vz(n,e){1&n&&(s.TgZ(0,"div"),s._uU(1," FREE "),s.qZA())}function wz(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij(" \u20ac ",t.shippingPrice," ")}}function bz(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij(" \u20ac ",t.totalPrice.toFixed(2)," ")}}function Cz(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("\u20ac ",(t.totalPrice+t.shippingPrice).toFixed(2),"")}}function Ez(n,e){if(1&n&&(s.TgZ(0,"ul"),s.YNc(1,mz,5,1,"h1",5),s.YNc(2,gz,5,1,"ng-template",null,6,s.W1O),s.TgZ(4,"div",7),s.YNc(5,yz,24,9,"li",8),s.qZA(),s.TgZ(6,"div",9)(7,"h3"),s._uU(8,"ORDER TOTAL"),s.qZA(),s.TgZ(9,"div",10)(10,"p"),s._uU(11,"Subtotal"),s.qZA(),s.TgZ(12,"div"),s._uU(13),s.qZA()(),s.TgZ(14,"div",11)(15,"p"),s._uU(16,"Shipping "),s.YNc(17,_z,2,1,"span",12),s.qZA(),s.YNc(18,vz,2,0,"div",5),s.YNc(19,wz,2,1,"ng-template",null,13,s.W1O),s.qZA(),s.TgZ(21,"div",14)(22,"p"),s._uU(23,"Total (VAT included)"),s.qZA(),s.YNc(24,bz,2,1,"div",5),s.YNc(25,Cz,2,1,"ng-template",null,15,s.W1O),s.qZA()()()),2&n){const t=s.MAs(3),r=s.MAs(20),i=s.MAs(26),a=s.oxw();s.xp6(1),s.Q6J("ngIf",a.orderedProducts.length>1)("ngIfElse",t),s.xp6(4),s.Q6J("ngForOf",a.orderedProducts),s.xp6(8),s.hij("\u20ac ",a.totalPrice.toFixed(2),""),s.xp6(4),s.Q6J("ngIf",a.totalPrice<=100),s.xp6(1),s.Q6J("ngIf",a.totalPrice>100)("ngIfElse",r),s.xp6(6),s.Q6J("ngIf",a.totalPrice>100)("ngIfElse",i)}}let Sz=(()=>{class n{constructor(t,r){this.service=t,this.service2=r,this.LOCAL_STORAGE_ORDERED_ITEMS_LIST="ordered-items.list",this.LOCAL_STORAGE_TOTAL_QUANTITY="totalQuantity",this.LOCAL_STORAGE_TOTAL_PRICE="totalPrice",this.orderedProducts=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_ORDERED_ITEMS_LIST)),this.totalQuantity=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_QUANTITY)),this.totalPrice=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_TOTAL_PRICE)),this.shippingPrice=20}ngOnInit(){this.orderedProducts=this.service.orderedItems,this.totalQuantity=this.service.totalQuantity,this.totalPrice=this.service.totalPrice}removeItem(t){Or().fire({title:"Are you sure?",text:"Your ordered item will be COMPLETELY removed!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(r=>{r.isConfirmed?(Or().fire("Deleted!",`${t.name} </br>was removed from your order`,"success"),this.service.removeItem(t),this.service2.addItemQuantityToStock(t),this.totalQuantity.splice(this.totalQuantity.length-t.quantity,t.quantity),this.totalPrice-=t.quantity*t.price,this.saveInLocalStorageData()):r.dismiss===Or().DismissReason.cancel&&Or().fire("Cancelled","Your ordered item is safe :)","error")})}saveInLocalStorageData(){localStorage.setItem(this.LOCAL_STORAGE_ORDERED_ITEMS_LIST,JSON.stringify(this.orderedProducts)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_QUANTITY,JSON.stringify(this.totalQuantity)),localStorage.setItem(this.LOCAL_STORAGE_TOTAL_PRICE,JSON.stringify(this.totalPrice))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(dm),s.Y36(wc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-orders"]],decls:4,vars:2,consts:[[1,"order-cart"],["class","empty-cart",4,"ngIf","ngIfElse"],["orderedItems",""],[1,"empty-cart"],[3,"routerLink"],[4,"ngIf","ngIfElse"],["onlyOne",""],[1,"card-container"],[4,"ngFor","ngForOf"],[1,"total-price"],[1,"sub-total"],[1,"shipping"],[4,"ngIf"],["shipping",""],[1,"total"],["shippingAdded",""],[3,"src","alt"],[1,"description"],[1,"name"],[1,"size"],[1,"price"],[1,"quantity"],[1,"totalPrice"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","hover",2,"width","25px","height","25px",3,"click"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0),s.YNc(1,pz,7,2,"div",1),s.YNc(2,Ez,27,9,"ng-template",null,2,s.W1O),s.qZA()),2&t){const i=s.MAs(3);s.xp6(1),s.Q6J("ngIf",0==r.orderedProducts.length)("ngIfElse",i)}},dependencies:[gi,jn,fo],styles:[".order-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:2rem;margin-top:10px;font-family:Dosis,sans-serif;padding:2rem}.empty-cart[_ngcontent-%COMP%]{align-self:center;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;background-color:#f7f7f7;margin-top:30px;padding:4rem;gap:1rem;font-size:1.2rem;border-radius:4px;box-shadow:#0000002f 0 5px 5px;width:23rem}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1rem;text-decoration:none;color:#fff;background:#ff613a;width:10rem;padding:.5rem 1rem;text-align:center;transition:.4s;border-radius:6px}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ff8567}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;list-style:none;gap:1rem;padding:2rem 0rem;margin-left:40px}h1[_ngcontent-%COMP%]{font-size:2rem;align-self:center}span[_ngcontent-%COMP%]{color:#dc143c}.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;padding:2rem}li[_ngcontent-%COMP%]{box-shadow:#0000002f 0 5px 5px;box-sizing:border-box;padding:1rem 2rem;display:flex;width:90%;align-items:center;justify-content:space-between;gap:1rem;background-color:#f7f7f7;font-weight:200;border-radius:4px}.description[_ngcontent-%COMP%]{display:flex;gap:.3rem;flex-direction:column;flex:1}li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:5rem;width:5rem;background-color:#fff;padding:1rem;object-fit:contain}.name[_ngcontent-%COMP%]{max-width:10rem}lord-icon[_ngcontent-%COMP%]{cursor:pointer;align-self:flex-start}.size[_ngcontent-%COMP%], .price[_ngcontent-%COMP%], .quantity[_ngcontent-%COMP%], .totalPrice[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-size:.8rem;min-width:-moz-fit-content;min-width:fit-content}.total-price[_ngcontent-%COMP%]{align-self:center;box-sizing:border-box;background-color:#f7f7f7;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;width:50%;padding:2rem;box-shadow:#0000002f 0 5px 5px;border-radius:4px}.total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{align-self:flex-start;margin-bottom:1rem;border-bottom:1px solid grey;width:100%}.sub-total[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;font-weight:800;margin-top:.5rem}.total[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#dc143c}@media only screen and (max-width: 1100px){.order-cart[_ngcontent-%COMP%]{padding:1rem}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media only screen and (max-width: 750px){.order-cart[_ngcontent-%COMP%]{padding:1rem}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),n})();const Tz=function(){return["/Shop"]};function Iz(n,e){1&n&&(s.TgZ(0,"div",3)(1,"p"),s._uU(2,"Your have not liked any products, yet"),s.qZA(),s.TgZ(3,"p"),s._uU(4,"Let's create a wishlist for you with our collection!"),s.qZA(),s.TgZ(5,"a",4),s._uU(6,"Shop"),s.qZA()()),2&n&&(s.xp6(5),s.Q6J("routerLink",s.DdM(1,Tz)))}function Az(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",6)(1,"a",4)(2,"div",7)(3,"img",8),s.NdJ("mouseover",function(){const a=s.CHM(t).$implicit;return s.KtG(a.src=a.image2)})("mouseout",function(){const a=s.CHM(t).$implicit;return s.KtG(a.src=a.image1)}),s.qZA()(),s.TgZ(4,"p",9),s._uU(5),s.qZA()(),s.TgZ(6,"div",10)(7,"lord-icon",11),s.NdJ("click",function(){const a=s.CHM(t).$implicit,u=s.oxw(2);return s.KtG(u.removeItem(a))}),s.qZA(),s.TgZ(8,"p",12),s._uU(9,"Remove from favorites!"),s.qZA()()()}if(2&n){const t=e.$implicit;s.xp6(1),s.MGl("routerLink","/Shop/Product/",t.id,""),s.xp6(2),s.s9C("alt",t.name),s.Q6J("src",t.src||t.image1,s.LSH),s.xp6(2),s.Oqu(t.name)}}function Dz(n,e){if(1&n&&s.YNc(0,Az,10,4,"div",5),2&n){const t=s.oxw();s.Q6J("ngForOf",t.favoriteItems)}}let xz=(()=>{class n{constructor(t,r){this.service=t,this.service2=r}ngOnInit(){this.favoriteItems=this.service.items}removeItem(t){Or().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&(Or().fire("Deleted!",`${t.name} </br>was removed from your favorites`,"success"),this.service.removeFromFavorites(t),this.service2.removeItemFromFavs(t))})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Y0),s.Y36(wc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-favorites"]],decls:4,vars:2,consts:[[1,"cards"],["class","empty-cart",4,"ngIf","ngIfElse"],["favoriteProducts",""],[1,"empty-cart"],[3,"routerLink"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"image-container"],[3,"src","alt","mouseover","mouseout"],[1,"name"],[1,"favorite"],["src","https://cdn.lordicon.com/iwaotjbp.json","trigger","hover",2,"width","40px","height","40px",3,"click"],[1,"red-span"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0),s.YNc(1,Iz,7,2,"div",1),s.YNc(2,Dz,1,1,"ng-template",null,2,s.W1O),s.qZA()),2&t){const i=s.MAs(3);s.xp6(1),s.Q6J("ngIf",0==r.favoriteItems.length)("ngIfElse",i)}},dependencies:[gi,jn,fo],styles:[".cards[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:2rem;padding:2rem;margin-top:10px;font-family:Dosis,sans-serif}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column}.empty-cart[_ngcontent-%COMP%]{align-self:center;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;background-color:#f7f7f7;margin-top:30px;padding:4rem;gap:1rem;font-size:1.2rem;border-radius:4px;box-shadow:#0000002f 0 5px 5px;width:23rem}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1rem;text-decoration:none;color:#fff;background:#ff613a;width:10rem;padding:.5rem 1rem;text-align:center;transition:.4s;border-radius:6px;cursor:pointer}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ff8567}lord-icon[_ngcontent-%COMP%]{align-self:flex-start;cursor:pointer}.favorite[_ngcontent-%COMP%]{display:flex;gap:1rem}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.image-container[_ngcontent-%COMP%]{position:relative;background-color:#f7f7f7;height:15rem;width:15rem;padding:.5rem;margin-bottom:.5rem;display:flex;align-items:center;justify-content:center}img[_ngcontent-%COMP%]{object-position:center;max-height:100%;max-width:100%;object-fit:cover;transition:1s}.image-container[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(.95)}p[_ngcontent-%COMP%]{max-width:15rem;justify-self:flex-start;align-self:flex-start;margin:0;font-weight:300}.name[_ngcontent-%COMP%]{height:2.5rem}.red-span[_ngcontent-%COMP%]{display:none;color:#ff1493;align-self:center}.favorite[_ngcontent-%COMP%]:hover > .red-span[_ngcontent-%COMP%]{display:inline}@media only screen and (max-width: 750px){.cards[_ngcontent-%COMP%]{padding:1rem}}"]}),n})(),Pz=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Bd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-in"]],decls:29,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"formGroup"],["type","text","placeholder","Username","required","",1,"formControl"],["userName",""],["type","password","placeholder","Password","required","",1,"formControl"],["userPassword",""],["type","button","value","Log in",1,"btn","btnPrimary",3,"click"],[1,"or"],[1,"orInner"],["type","button",1,"btn","googleBtn",3,"click"],[1,"forgotPassword"],["routerLink","/forgot-password"],[1,"redirectToLogin"],["routerLink","/register-user",1,"redirect"],["src","../../../assets/dashboard.webp","alt","signin-image"]],template:function(t,r){if(1&t){const i=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),s._uU(4,"Sign In"),s.qZA(),s.TgZ(5,"div",3),s._UZ(6,"input",4,5),s.qZA(),s.TgZ(8,"div",3),s._UZ(9,"input",6,7),s.qZA(),s.TgZ(11,"div",3)(12,"input",8),s.NdJ("click",function(){s.CHM(i);const u=s.MAs(7),m=s.MAs(10);return s.KtG(r.authService.SignIn(u.value,m.value))}),s.qZA()(),s.TgZ(13,"div",3)(14,"span",9)(15,"span",10),s._uU(16,"Or"),s.qZA()()(),s.TgZ(17,"div",3)(18,"button",11),s.NdJ("click",function(){return r.authService.GoogleAuth()}),s._uU(19," Log in with Google "),s.qZA()(),s.TgZ(20,"div",12)(21,"span",13),s._uU(22,"Forgot Password?"),s.qZA()(),s.TgZ(23,"div",14)(24,"span"),s._uU(25,"Don't have an account? "),s.TgZ(26,"span",15),s._uU(27," Sign Up"),s.qZA()()()()(),s._UZ(28,"img",16),s.qZA()}},dependencies:[fu],styles:['.displayTable[_ngcontent-%COMP%]{position:relative;display:table;width:100%;height:100%}.displayTableCell[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;width:100%;height:100%}.authBlock[_ngcontent-%COMP%]{margin:85px auto;max-width:400px;background:white;padding:30px 40px 10px;overflow:hidden;box-shadow:0 0 4px #0000000a;-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.04)}h3[_ngcontent-%COMP%]{text-align:center;font-size:22px;margin:0 0 20px}.formGroup[_ngcontent-%COMP%]{margin-bottom:20px;float:left;width:100%}.formControl[_ngcontent-%COMP%]{width:100%;display:block;padding:15px 15px 14px;border:2px solid #e7e7e7;outline:none;font-size:15px;color:#444;background:#fcfcfc}.formControl[_ngcontent-%COMP%]:focus{border:2px solid #d3d3d6}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#bbb}input[_ngcontent-%COMP%]::-moz-placeholder{color:#bbb}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#bbb}input[_ngcontent-%COMP%]:-moz-placeholder{color:#bbb}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;border:none;font-size:16px;font-weight:600;padding:15px 0;background:#f96ea8;color:#fff;cursor:pointer;outline:none}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:.88}.displayTable[_ngcontent-%COMP%]   .googleBtn[_ngcontent-%COMP%]{background:#4dd5fe}.or[_ngcontent-%COMP%]{text-align:center;display:block;color:#a0a0a0;background:white;position:relative;margin:5px 0 0}.orInner[_ngcontent-%COMP%]{background:white;display:inline-block;z-index:4;position:relative;padding:0 12px}.or[_ngcontent-%COMP%]:before{position:absolute;content:"";left:0;top:11px;width:100%;height:1px;background:#e2e2e2}.forgotPassword[_ngcontent-%COMP%]{text-align:center;margin:-12px 0 15px;float:left;width:100%}.forgotPassword[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#4dd5fe;font-size:14px;font-weight:400;cursor:pointer;display:inline-block;padding-top:20px}.redirectToLogin[_ngcontent-%COMP%]{padding:15px 0 0;text-align:center;font-size:14px;font-weight:400;display:block;color:#000}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]{cursor:pointer;color:#00f;text-decoration:underline}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]:hover{color:#f96ea8}img[_ngcontent-%COMP%]{position:absolute;object-fit:fill;top:0;left:0;height:100%;width:100%;transform:scale(1.05);transition:transform 1s;z-index:-1}.displayTable[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(1)}']}),n})(),Mz=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Bd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-up"]],decls:29,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["userEmail",""],["type","password","placeholder","Password","required","",1,"formControl"],["userPwd",""],["type","button","value","Sign Up",1,"btn","btnPrimary",3,"click"],[1,"or"],[1,"orInner"],["type","button",1,"btn","googleBtn",3,"click"],[1,"empty-div"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],["src","../../../assets/dashboard.webp","alt","signup-image"]],template:function(t,r){if(1&t){const i=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),s._uU(4,"Sign Up"),s.qZA(),s.TgZ(5,"div",3),s._UZ(6,"input",4,5),s.qZA(),s.TgZ(8,"div",3),s._UZ(9,"input",6,7),s.qZA(),s.TgZ(11,"div",3)(12,"input",8),s.NdJ("click",function(){s.CHM(i);const u=s.MAs(7),m=s.MAs(10);return s.KtG(r.authService.SignUp(u.value,m.value))}),s.qZA()(),s.TgZ(13,"div",3)(14,"span",9)(15,"span",10),s._uU(16,"Or"),s.qZA()()(),s.TgZ(17,"div",3)(18,"button",11),s.NdJ("click",function(){return r.authService.GoogleAuth()}),s._uU(19," Continue with Google "),s.qZA()(),s.TgZ(20,"div",12)(21,"span"),s._uU(22,"empty"),s.qZA()(),s.TgZ(23,"div",13)(24,"span"),s._uU(25,"Already have an account? "),s.TgZ(26,"span",14),s._uU(27,"Log In"),s.qZA()()()()(),s._UZ(28,"img",15),s.qZA()}},dependencies:[fu],styles:['.displayTable[_ngcontent-%COMP%]{position:relative;display:table;width:100%;height:100%}.displayTableCell[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;width:100%;height:100%}h3[_ngcontent-%COMP%]{text-align:center;font-size:22px;margin:0 0 20px}.authBlock[_ngcontent-%COMP%]{margin:85px auto;max-width:400px;background:white;padding:30px 40px 10px;overflow:hidden;box-shadow:0 0 4px #0000000a;-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.04)}.formGroup[_ngcontent-%COMP%]{margin-bottom:20px;float:left;width:100%}.formControl[_ngcontent-%COMP%]{width:100%;display:block;padding:15px 15px 14px;border:2px solid #e7e7e7;outline:none;font-size:15px;color:#444;background:#fcfcfc}.formControl[_ngcontent-%COMP%]:focus{border:2px solid #d3d3d6}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#bbb}input[_ngcontent-%COMP%]::-moz-placeholder{color:#bbb}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#bbb}input[_ngcontent-%COMP%]:-moz-placeholder{color:#bbb}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;border:none;font-size:16px;font-weight:600;padding:15px 0;background:#f96ea8;color:#fff;cursor:pointer;outline:none}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:.88}.displayTable[_ngcontent-%COMP%]   .googleBtn[_ngcontent-%COMP%]{background:#4dd5fe}.or[_ngcontent-%COMP%]{text-align:center;display:block;color:#a0a0a0;background:white;position:relative;margin:5px 0 0}.orInner[_ngcontent-%COMP%]{background:white;display:inline-block;z-index:4;position:relative;padding:0 12px}.or[_ngcontent-%COMP%]:before{position:absolute;content:"";left:0;top:11px;width:100%;height:1px;background:#e2e2e2}empty-div[_ngcontent-%COMP%]{text-align:center;margin:-12px 0 15px;float:left;width:100%}.empty-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:14px;display:inline-block;padding-top:20px}.redirectToLogin[_ngcontent-%COMP%]{padding:15px 0 0;text-align:center;font-size:14px;font-weight:400;display:block;color:#000}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]{cursor:pointer;color:#00f;text-decoration:underline}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]:hover{color:#f96ea8}img[_ngcontent-%COMP%]{position:absolute;object-fit:fill;top:0;left:0;height:100%;width:100%;transform:scale(1.05);transition:transform 1s;z-index:-1}.displayTable[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(1)}']}),n})();function kz(n,e){if(1&n&&(s.TgZ(0,"div",4),s._UZ(1,"img",5),s.TgZ(2,"div",6)(3,"p"),s._uU(4,"User Name: "),s.TgZ(5,"strong"),s._uU(6),s.qZA()(),s.TgZ(7,"p"),s._uU(8,"User ID: "),s.TgZ(9,"strong"),s._uU(10),s.qZA()(),s.TgZ(11,"p"),s._uU(12,"Email: "),s.TgZ(13,"strong"),s._uU(14),s.qZA()(),s.TgZ(15,"p"),s._uU(16,"Email Verified: "),s.TgZ(17,"strong"),s._uU(18),s.qZA()()()()),2&n){const t=e.ngIf;s.xp6(1),s.s9C("src",t.photoURL?t.photoURL:"assets/dummy-user.png",s.LSH),s.s9C("alt",t.displayName),s.xp6(5),s.Oqu(t.displayName?t.displayName:"User"),s.xp6(4),s.Oqu(t.uid),s.xp6(4),s.Oqu(t.email),s.xp6(4),s.Oqu(t.emailVerified)}}let Oz=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Bd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-dashboard"]],decls:5,vars:1,consts:[[1,"info-container"],[1,"info-card"],[1,"h2"],["class","user-div",4,"ngIf"],[1,"user-div"],[3,"src","alt"],[1,"media-body"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"YOUR PROFILE"),s.qZA(),s.YNc(4,kz,19,6,"div",3),s.qZA()()),2&t&&(s.xp6(4),s.Q6J("ngIf",r.authService.userData))},dependencies:[jn],styles:[".info-container[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:10px;font-family:Dosis,sans-serif}.info-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#f7f7f7;margin-top:30px;padding:3rem;gap:2rem;font-size:1rem;border-radius:4px;box-shadow:#0000002f 0 5px 5px;width:28rem}.user-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2rem}.media-body[_ngcontent-%COMP%]{align-self:flex-start}img[_ngcontent-%COMP%]{height:8rem;width:8rem;border-radius:50%;border:1px solid crimson}p[_ngcontent-%COMP%]{font-size:1.2rem}strong[_ngcontent-%COMP%]{color:#dc143c}@media only screen and (max-width: 750px){.info-card[_ngcontent-%COMP%]{padding:1rem;width:18rem}p[_ngcontent-%COMP%]{font-size:.8rem}}"]}),n})(),Rz=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Bd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-forgot-password"]],decls:18,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"text-center"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["type","submit","value","Reset Password",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],["src","../../../assets/dashboard.webp","alt","forgot-pass-image"]],template:function(t,r){if(1&t){const i=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),s._uU(4,"Reset Password"),s.qZA(),s.TgZ(5,"p",3),s._uU(6,"Please enter your email address to request a password reset."),s.qZA(),s.TgZ(7,"div",4),s._UZ(8,"input",5,6),s.qZA(),s.TgZ(10,"div",4)(11,"input",7),s.NdJ("click",function(){s.CHM(i);const u=s.MAs(9);return s.KtG(r.authService.ForgotPassword(u.value))}),s.qZA()(),s.TgZ(12,"div",8)(13,"span"),s._uU(14,"Go back to ? "),s.TgZ(15,"span",9),s._uU(16,"Log In"),s.qZA()()()()(),s._UZ(17,"img",10),s.qZA()}},dependencies:[fu],styles:[".displayTable[_ngcontent-%COMP%]{position:relative;display:table;width:100%;height:100%}.displayTableCell[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;width:100%;height:100%}h3[_ngcontent-%COMP%]{text-align:center;font-size:22px;margin:0 0 20px}.authBlock[_ngcontent-%COMP%]{margin:165px auto;max-width:400px;background:white;padding:30px 40px 10px;overflow:hidden;box-shadow:0 0 4px #0000000a;-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.04)}.text-center[_ngcontent-%COMP%]{padding-bottom:20px}.formGroup[_ngcontent-%COMP%]{margin-bottom:20px;float:left;width:100%}.formControl[_ngcontent-%COMP%]{width:100%;display:block;padding:15px 15px 14px;border:2px solid #e7e7e7;outline:none;font-size:15px;color:#444;background:#fcfcfc}.formControl[_ngcontent-%COMP%]:focus{border:2px solid #d3d3d6}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#bbb}input[_ngcontent-%COMP%]::-moz-placeholder{color:#bbb}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#bbb}input[_ngcontent-%COMP%]:-moz-placeholder{color:#bbb}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;border:none;font-size:16px;font-weight:600;padding:15px 0;background:#f96ea8;color:#fff;cursor:pointer;outline:none}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:.88}.displayTable[_ngcontent-%COMP%]   .googleBtn[_ngcontent-%COMP%]{background:#4dd5fe}.redirectToLogin[_ngcontent-%COMP%]{padding:15px 0 0;text-align:center;font-size:14px;font-weight:400;display:block;color:#000}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]{cursor:pointer;color:#00f;text-decoration:underline}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]:hover{color:#f96ea8}img[_ngcontent-%COMP%]{position:absolute;object-fit:fill;top:0;left:0;height:100%;width:100%;transform:scale(1.05);transition:transform 1s;z-index:-1}.displayTable[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(1)}"]}),n})();function Nz(n,e){if(1&n&&(s.TgZ(0,"div",4)(1,"p",9),s._uU(2,"We have sent a confirmation email to "),s.TgZ(3,"strong"),s._uU(4),s.qZA(),s._uU(5,"."),s.qZA(),s.TgZ(6,"p",9),s._uU(7,"Please check your email and click on the link to verify your email address."),s.qZA()()),2&n){const t=e.ngIf;s.xp6(4),s.Oqu(t.email)}}let Fz=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Bd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-verify-email"]],decls:15,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"formGroup"],["type","button",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],["src","../../../assets/dashboard.webp","alt","verify-image"],[1,"text-center"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),s._uU(4,"Thank You for Registering"),s.qZA(),s.YNc(5,Nz,8,1,"div",3),s.TgZ(6,"div",4)(7,"button",5),s.NdJ("click",function(){return r.authService.SendVerificationMail()}),s._uU(8," Resend Verification Email "),s.qZA()(),s.TgZ(9,"div",6)(10,"span"),s._uU(11,"Go back to?"),s.TgZ(12,"span",7),s._uU(13," Sign in"),s.qZA()()()()(),s._UZ(14,"img",8),s.qZA()),2&t&&(s.xp6(5),s.Q6J("ngIf",r.authService.userData))},dependencies:[jn,fu],styles:[".displayTable[_ngcontent-%COMP%]{position:relative;display:table;width:100%;height:100%}.displayTableCell[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;width:100%;height:100%}h3[_ngcontent-%COMP%]{text-align:center;font-size:22px;margin:0 0 20px}.authBlock[_ngcontent-%COMP%]{margin:185px auto;max-width:400px;background:white;padding:30px 40px 10px;overflow:hidden;box-shadow:0 0 4px #0000000a;-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.04)}.formGroup[_ngcontent-%COMP%]{margin-bottom:20px;float:left;width:100%}.text-center[_ngcontent-%COMP%]:nth-of-type(1){padding-bottom:20px}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;border:none;font-size:16px;font-weight:600;padding:15px 0;background:#f96ea8;color:#fff;cursor:pointer;outline:none}.displayTable[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:.88}.redirectToLogin[_ngcontent-%COMP%]{padding:15px 0 0;text-align:center;font-size:14px;font-weight:400;display:block;color:#000}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]{cursor:pointer;color:#00f;text-decoration:underline}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]:hover{color:#f96ea8}img[_ngcontent-%COMP%]{position:absolute;object-fit:fill;top:0;left:0;height:100%;width:100%;transform:scale(1.05);transition:transform 1s;z-index:-1}.displayTable[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transform:scale(1)}"]}),n})(),t1=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return!0!==this.authService.isLoggedIn&&this.router.navigate(["sign-in"]),!0}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Bd),s.LFG(ui))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lz(n,e){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const t=e.ngIf;s.xp6(1),s.Oqu(t.displayName?t.displayName:"User")}}const Vz=[{path:"",redirectTo:"/sign-in",pathMatch:"full"},{path:"sign-in",component:Pz},{path:"register-user",component:Mz},{path:"forgot-password",component:Rz},{path:"verify-email-address",component:Fz},{path:"Home",component:GS},{path:"Shop",component:ew,canActivate:[t1]},{path:"About",component:K0},{path:"ShoppingCart",component:hT,canActivate:[t1]},{path:"ErrorPage",component:US},{path:"Shop/Product/:id",component:$x,canActivate:[t1]},{path:"Account",component:hz,canActivate:[t1],children:[{path:"Welcome",component:(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Bd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-welcome"]],decls:14,vars:1,consts:[[1,"container"],[1,"welcome-message"],[4,"ngIf"],[1,"welcome"],["src","../../../assets/welcome.jpg","alt","welcome-image"],[1,"copy-right"],["href","https://vecteezy.com","target","_blank"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h3"),s._uU(3,"Hello "),s.YNc(4,Lz,2,1,"span",2),s.qZA(),s.TgZ(5,"p",3),s._uU(6,"Welcome to "),s.TgZ(7,"span"),s._uU(8," FashionGuru"),s.qZA()()(),s._UZ(9,"img",4),s.TgZ(10,"p",5),s._uU(11,"welcome image design by "),s.TgZ(12,"a",6),s._uU(13," vecteezy"),s.qZA()()()),2&t&&(s.xp6(4),s.Q6J("ngIf",r.authService.userData))},dependencies:[jn],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.welcome-message[_ngcontent-%COMP%]{font-size:2rem;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;padding:1rem}.welcome[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.welcome[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Monoton,cursive;font-size:3rem;color:#ff613a}img[_ngcontent-%COMP%]{width:60%;height:auto}a[href="https://vecteezy.com"][_ngcontent-%COMP%]{color:#ff8c00;text-decoration:none}a[href="https://vecteezy.com"][_ngcontent-%COMP%]:link, a[href="https://vecteezy.com"][_ngcontent-%COMP%]:visited{text-decoration:none}a[href="https://vecteezy.com"][_ngcontent-%COMP%]:hover{text-decoration:none;color:#4bc9c9c3}a[href="https://vecteezy.com"][_ngcontent-%COMP%]:active{text-decoration:none}']}),n})()},{path:"Orders",component:Sz},{path:"Favorites",component:xz},{path:"Info",component:Oz}]},{path:"**",component:VS}];let Bz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Z0.forRoot(Vz),Z0]}),n})();const wO=new s.OlP("@sweetalert2/ngx-sweetalert2#swalProvider"),bB=new s.OlP("@sweetalert2/ngx-sweetalert2#fireOnInit"),CB=new s.OlP("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let EB=(()=>{class n{constructor(t){this.swalProvider=t}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const t=function r(a){return"function"==typeof a&&void 0===a.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=t.then(a=>function i(a){return"function"==typeof a}(a)?a:a.default)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(wO))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Uz(){return p.e(226).then(p.t.bind(p,5226,19))}let Hz=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[EB,{provide:wO,useValue:t.provideSwal||Uz},{provide:bB,useValue:t.fireOnInit||!1},{provide:CB,useValue:t.dismissOnDestroy||!0}]}}static forChild(t={}){return{ngModule:n,providers:[...t.provideSwal?[EB,{provide:wO,useValue:t.provideSwal}]:[],...void 0!==t.fireOnInit?[{provide:bB,useValue:t.fireOnInit}]:[],...void 0!==t.dismissOnDestroy?[{provide:CB,useValue:t.dismissOnDestroy}]:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$l]}),n})();const SB="firebasestorage.googleapis.com",TB="storageBucket";class Kr extends fe.ZR{constructor(e,t,r=0){super(bO(e),`Firebase Storage: ${t} (${bO(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function bO(n){return"storage/"+n}function CO(){return new Kr("unknown","An unknown error occurred, please check the error payload for server response.")}function IB(){return new Kr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function AB(){return new Kr("canceled","User canceled the upload/download.")}function DB(){return new Kr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function O_(n){return new Kr("invalid-argument",n)}function xB(){return new Kr("app-deleted","The Firebase app was deleted.")}function PB(n){return new Kr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pb(n,e){return new Kr("invalid-format","String does not match format '"+n+"': "+e)}function Mb(n){throw new Kr("internal-error","Internal error: "+n)}class Gs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Gs.makeFromUrl(e,t)}catch{return new Gs(e,"")}if(""===r.path)return r;throw function Jz(n){return new Kr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+i+"(/(.*))?$","i");function E(pt){pt.path_=decodeURIComponent(pt.path)}const q=t.replace(/[.]/g,"\\."),ht=[{regex:m,indices:{bucket:1,path:3},postModify:function a(pt){"/"===pt.path.charAt(pt.path.length-1)&&(pt.path_=pt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${q}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${t===SB?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let pt=0;pt<ht.length;pt++){const Vt=ht[pt],Ht=Vt.regex.exec(e);if(Ht){let pi=Ht[Vt.indices.path];pi||(pi=""),r=new Gs(Ht[Vt.indices.bucket],pi),Vt.postModify(r);break}}if(null==r)throw function Qz(n){return new Kr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class r5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function n1(n){return"string"==typeof n||n instanceof String}function MB(n){return EO()&&n instanceof Blob}function EO(){return typeof Blob<"u"&&!(0,fe.UG)()}function SO(n,e,t,r){if(r<e)throw O_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw O_(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ud(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function kB(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Tf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Tf||(Tf={})),Tf))();function OB(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class c5{constructor(e,t,r,i,a,u,m,y,E,F,q,oe=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=y,this.timeout_=E,this.progressCallback_=F,this.connectionFactory_=q,this.retry=oe,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((pe,we)=>{this.resolve_=pe,this.reject_=we,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,u=this.reject_,m=i.connection;if(i.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());!function o5(n){return void 0!==n}(y)?a():a(y)}catch(y){u(y)}else if(null!==m){const y=CO();y.serverResponse=m.getErrorText(),u(this.errorCallback_?this.errorCallback_(m,y):y)}else u(i.canceled?this.appDelete_?xB():AB():IB())};this.canceled_?t(0,new r1(!1,null,!0)):this.backoffId_=function i5(n,e,t){let r=1,i=null,a=null,u=!1,m=0;function y(){return 2===m}let E=!1;function F(...Ve){E||(E=!0,e.apply(null,Ve))}function q(Ve){i=setTimeout(()=>{i=null,n(pe,y())},Ve)}function oe(){a&&clearTimeout(a)}function pe(Ve,...rt){if(E)return void oe();if(Ve)return oe(),void F.call(null,Ve,...rt);if(y()||u)return oe(),void F.call(null,Ve,...rt);let ht;r<64&&(r*=2),1===m?(m=2,ht=0):ht=1e3*(r+Math.random()),q(ht)}let we=!1;function Me(Ve){we||(we=!0,oe(),!E&&(null!==i?(Ve||(m=2),clearTimeout(i),q(0)):Ve||(m=1)))}return q(0),a=setTimeout(()=>{u=!0,Me(!0)},t),Me}((r,i)=>{if(i)return void r(!1,new r1(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const m=a.getErrorCode()===Tf.NO_ERROR,y=a.getStatus();if((!m||OB(y,this.additionalRetryCodes_))&&this.retry){const F=a.getErrorCode()===Tf.ABORT;return void r(!1,new r1(!1,null,F))}const E=-1!==this.successCodes_.indexOf(y);r(!0,new r1(E,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function s5(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class r1{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function g5(...n){const e=function m5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(EO())return new Blob(n);throw new Kr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ba={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class TO{constructor(e,t){this.data=e,this.contentType=t||null}}function IO(n,e){switch(n){case Ba.RAW:return new TO(RB(e));case Ba.BASE64:case Ba.BASE64URL:return new TO(NB(n,e));case Ba.DATA_URL:return new TO(function w5(n){const e=new FB(n);return e.base64?NB(Ba.BASE64,e.rest):function v5(n){let e;try{e=decodeURIComponent(n)}catch{throw Pb(Ba.DATA_URL,"Malformed data URL.")}return RB(e)}(e.rest)}(e),function b5(n){return new FB(n).contentType}(e))}throw CO()}function RB(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function NB(n,e){switch(n){case Ba.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw Pb(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ba.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw Pb(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function _5(n){if(typeof atob>"u")throw function n5(n){return new Kr("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Pb(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class FB{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Pb(Ba.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function C5(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Su{constructor(e,t){let r=0,i="";MB(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(MB(this.data_)){const i=function y5(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Su(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Su(r,!0)}}static getBlob(...e){if(EO()){const t=e.map(r=>r instanceof Su?r.data_:r);return new Su(g5.apply(null,t))}{const t=e.map(u=>n1(u)?IO(Ba.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let m=0;m<u.length;m++)i[a++]=u[m]}),new Su(i,!0)}}uploadData(){return this.data_}}function AO(n){let e;try{e=JSON.parse(n)}catch{return null}return function l5(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function LB(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function T5(n,e){return e}class wo{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||T5}}let s1=null;function kb(){if(s1)return s1;const n=[];n.push(new wo("bucket")),n.push(new wo("generation")),n.push(new wo("metageneration")),n.push(new wo("name","fullPath",!0));const t=new wo("name");t.xform=function e(a,u){return function I5(n){return!n1(n)||n.length<2?n:LB(n)}(u)},n.push(t);const i=new wo("size");return i.xform=function r(a,u){return void 0!==u?Number(u):u},n.push(i),n.push(new wo("timeCreated")),n.push(new wo("updated")),n.push(new wo("md5Hash",null,!0)),n.push(new wo("cacheControl",null,!0)),n.push(new wo("contentDisposition",null,!0)),n.push(new wo("contentEncoding",null,!0)),n.push(new wo("contentLanguage",null,!0)),n.push(new wo("contentType",null,!0)),n.push(new wo("metadata","customMetadata",!0)),s1=n,s1}function VB(n,e,t){const r=AO(e);return null===r?null:function D5(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return function A5(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Gs(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function DO(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const BB="prefixes";class Tu{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Iu(n){if(!n)throw CO()}function o1(n,e){return function t(r,i){const a=VB(n,i,e);return Iu(null!==a),a}}function R_(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Kz(){return new Kr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Zz(){return new Kr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Wz(n){return new Kr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Yz(n){return new Kr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Ob(n){const e=R_(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function qz(n){return new Kr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function HB(n,e,t){const i=Ud(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,m=new Tu(i,"GET",o1(n,t),u);return m.errorHandler=Ob(e),m}function R5(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const m=Ud(e.bucketOnlyServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,F=new Tu(m,"GET",function k5(n,e){return function t(r,i){const a=function M5(n,e,t){const r=AO(t);return null===r?null:function P5(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[BB])for(const i of t[BB]){const a=i.replace(/\/$/,""),u=n._makeStorageReference(new Gs(e,a));r.prefixes.push(u)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new Gs(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return Iu(null!==a),a}}(n,e.bucket),E);return F.urlParams=a,F.errorHandler=R_(e),F}function GB(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function V5(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class a1{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function xO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Iu(!1)}return Iu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const j5={STATE_CHANGED:"state_changed"},bo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function PO(n){switch(n){case"running":case"pausing":case"canceling":return bo.RUNNING;case"paused":return bo.PAUSED;case"success":return bo.SUCCESS;case"canceled":return bo.CANCELED;default:return bo.ERROR}}class G5{constructor(e,t,r){if(function a5(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function N_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class z5 extends class $5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Tf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Tf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Mb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Tc(){return new z5}class WB{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=kb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(OB(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=IB()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function B5(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u=GB(e,r,i),m={name:u.fullPath},y=Ud(a,n.host,n._protocol),F={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},q=DO(u,t),we=new Tu(y,"POST",function pe(Me){let Ve;xO(Me);try{Ve=Me.getResponseHeader("X-Goog-Upload-URL")}catch{Iu(!1)}return Iu(n1(Ve)),Ve},n.maxUploadRetryTime);return we.urlParams=m,we.headers=F,we.body=q,we.errorHandler=R_(e),we}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Tc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function U5(n,e,t,r){const y=new Tu(t,"POST",function a(E){const F=xO(E,["active","final"]);let q=null;try{q=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Iu(!1)}q||Iu(!1);const oe=Number(q);return Iu(!isNaN(oe)),new a1(oe,r.size(),"final"===F)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=R_(e),y}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,Tc,t,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new a1(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let u;try{u=function H5(n,e,t,r,i,a,u,m){const y=new a1(0,0);if(u?(y.current=u.current,y.total=u.total):(y.current=0,y.total=r.size()),r.size()!==y.total)throw function e5(){return new Kr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const E=y.total-y.current;let F=E;i>0&&(F=Math.min(F,i));const q=y.current;let pe="";pe=0===F?"finalize":E===F?"upload, finalize":"upload";const we={"X-Goog-Upload-Command":pe,"X-Goog-Upload-Offset":`${y.current}`},Me=r.slice(q,q+F);if(null===Me)throw DB();const ht=new Tu(t,"POST",function Ve(pt,Vt){const Ht=xO(pt,["active","final"]),Fn=y.current+F,pi=r.size();let $a;return $a="final"===Ht?o1(e,a)(pt,Vt):null,new a1(Fn,pi,"final"===Ht,$a)},e.maxUploadRetryTime);return ht.headers=we,ht.body=Me.uploadData(),ht.progressCallback=m||null,ht.errorHandler=R_(n),ht}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const m=this._ref.storage._makeRequest(u,Tc,i,a,!1);this._request=m,m.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=HB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Tc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function $B(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},y=function m(){let ht="";for(let pt=0;pt<2;pt++)ht+=Math.random().toString().slice(2);return ht}();u["Content-Type"]="multipart/related; boundary="+y;const E=GB(e,r,i),F=DO(E,t),pe=Su.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+F+"\r\n--"+y+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===pe)throw DB();const we={name:E.fullPath},Me=Ud(a,n.host,n._protocol),rt=n.maxUploadRetryTime,dt=new Tu(Me,"POST",o1(n,t),rt);return dt.urlParams=we,dt.headers=u,dt.body=pe.uploadData(),dt.errorHandler=R_(e),dt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Tc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=AB(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=PO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new G5(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(PO(this._state)){case bo.SUCCESS:N_(this._resolve.bind(null,this.snapshot))();break;case bo.CANCELED:case bo.ERROR:N_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(PO(this._state)){case bo.RUNNING:case bo.PAUSED:e.next&&N_(e.next.bind(e,this.snapshot))();break;case bo.SUCCESS:e.complete&&N_(e.complete.bind(e))();break;default:e.error&&N_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class tg{constructor(e,t){this._service=e,this._location=t instanceof Gs?t:Gs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new tg(e,t)}get root(){const e=new Gs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LB(this._location.path)}get storage(){return this._service}get parent(){const e=function E5(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Gs(this._location.bucket,e);return new tg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw PB(e)}}function KB(n,e,t){return MO.apply(this,arguments)}function MO(){return MO=(0,He.Z)(function*(n,e,t){const i=yield YB(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield KB(n,e,i.nextPageToken))}),MO.apply(this,arguments)}function YB(n,e){null!=e&&"number"==typeof e.maxResults&&SO("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=R5(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Tc)}function rq(n){n._throwIfRoot("getDownloadURL");const e=function N5(n,e,t){const i=Ud(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,m=new Tu(i,"GET",function O5(n,e){return function t(r,i){const a=VB(n,i,e);return Iu(null!==a),function x5(n,e,t,r){const i=AO(e);if(null===i||!n1(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(E=>{const q=n.fullPath;return Ud("/b/"+u(n.bucket)+"/o/"+u(q),t,r)+kB({alt:"media",token:E})})[0]}(a,i,n.host,n._protocol)}}(n,t),u);return m.errorHandler=Ob(e),m}(n.storage,n._location,kb());return n.storage.makeRequestWithTokens(e,Tc).then(t=>{if(null===t)throw function t5(){return new Kr("no-download-url","The given file does not have any download URLs.")}();return t})}function QB(n,e){const t=function S5(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Gs(n._location.bucket,t);return new tg(n.storage,r)}function JB(n,e){if(n instanceof kO){const t=n;if(null==t._bucket)throw function Xz(){return new Kr("no-default-bucket","No default bucket found. Did you set the '"+TB+"' property when initializing the app?")}();const r=new tg(t,t._bucket);return null!=e?JB(r,e):r}return void 0!==e?QB(n,e):n}function aq(n,e){if(e&&function sq(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof kO)return function oq(n,e){return new tg(n,e)}(n,e);throw O_("To use ref(service, url), the first argument must be a Storage instance.")}return JB(n,e)}function XB(n,e){const t=e?.[TB];return null==t?null:Gs.makeFromBucketSpec(t,n)}class kO{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=SB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Gs.makeFromBucketSpec(i,this._host):XB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Gs.makeFromBucketSpec(this._url,e):XB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,He.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,He.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tg(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new r5(xB());{const u=function p5(n,e,t,r,i,a,u=!0){const m=kB(n.urlParams),y=n.url+m,E=Object.assign({},n.headers);return function h5(n,e){e&&(n["X-Firebase-GMPID"]=e)}(E,e),function u5(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(E,t),function d5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(E,a),function f5(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(E,r),new c5(y,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,He.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const eU="@firebase/storage";function rU(n,e){return aq(n=(0,fe.m9)(n),e)}function yq(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new kO(t,r,i,e,bs.SDK_VERSION)}!function _q(){(0,bs._registerComponent)(new Oa.wA("storage",yq,"PUBLIC").setMultipleInstances(!0)),(0,bs.registerVersion)(eU,"0.9.14",""),(0,bs.registerVersion)(eU,"0.9.14","esm2017")}();class l1{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class sU{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new l1(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new l1(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?u=>t(new l1(u,this,this._ref)):{next:t.next?u=>t.next(new l1(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class oU{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Hd(e,this._service))}get items(){return this._delegate.items.map(e=>new Hd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Hd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function gq(n,e){return QB(n,e)}(this._delegate,e);return new Hd(t,this.storage)}get root(){return new Hd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Hd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new sU(function cq(n,e,t){return function J5(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new WB(n,new Su(e),t)}(n=(0,fe.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ba.RAW,r){this._throwIfRoot("putString");const i=IO(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new sU(new WB(this._delegate,new Su(i.data,!0),a),this)}listAll(){return function fq(n){return function eq(n){const e={prefixes:[],items:[]};return KB(n,e).then(()=>e)}(n=(0,fe.m9)(n))}(this._delegate).then(e=>new oU(e,this.storage))}list(e){return function hq(n,e){return YB(n=(0,fe.m9)(n),e)}(this._delegate,e||void 0).then(t=>new oU(t,this.storage))}getMetadata(){return function uq(n){return function tq(n){n._throwIfRoot("getMetadata");const e=HB(n.storage,n._location,kb());return n.storage.makeRequestWithTokens(e,Tc)}(n=(0,fe.m9)(n))}(this._delegate)}updateMetadata(e){return function dq(n,e){return function nq(n,e){n._throwIfRoot("updateMetadata");const t=function F5(n,e,t,r){const a=Ud(e.fullServerUrl(),n.host,n._protocol),m=DO(t,r),E=n.maxOperationRetryTime,F=new Tu(a,"PATCH",o1(n,r),E);return F.headers={"Content-Type":"application/json; charset=utf-8"},F.body=m,F.errorHandler=Ob(e),F}(n.storage,n._location,e,kb());return n.storage.makeRequestWithTokens(t,Tc)}(n=(0,fe.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function pq(n){return rq(n=(0,fe.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function mq(n){return function iq(n){n._throwIfRoot("deleteObject");const e=function L5(n,e){const r=Ud(e.fullServerUrl(),n.host,n._protocol),m=new Tu(r,"DELETE",function u(y,E){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=Ob(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Tc)}(n=(0,fe.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw PB(e)}}class aU{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(lU(e))throw O_("ref() expected a child path but got a URL, use refFromURL instead.");return new Hd(rU(this._delegate,e),this)}refFromURL(e){if(!lU(e))throw O_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Gs.makeFromUrl(e,this._delegate.host)}catch{throw O_("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hd(rU(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function iU(n,e,t,r={}){!function lq(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,fe.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function lU(n){return/^[A-Za-z]+:\/\//.test(n)}function Cq(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new aU(t,r)}function cU(n){const e=function Sq(n){return new Il.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(function jz(n,e=sw.z){return(0,ni.e)((t,r)=>{let i=null,a=null,u=null;const m=()=>{if(i){i.unsubscribe(),i=null;const E=a;a=null,r.next(E)}};function y(){const E=u+n,F=e.now();if(F<E)return i=this.schedule(void 0,E-F),void r.add(i);m()}t.subscribe((0,ti.x)(r,E=>{a=E,u=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{m(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Zt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function c1(n){return{getDownloadURL:()=>Pt(void 0).pipe(qn.fc,Ir(()=>n.getDownloadURL()),qn.iC),getMetadata:()=>Pt(void 0).pipe(qn.fc,Ir(()=>n.getMetadata()),qn.iC),delete:()=>(0,er.D)(n.delete()),child:e=>c1(n.child(e)),updateMetadata:e=>(0,er.D)(n.updateMetadata(e)),put:(e,t)=>cU(n.put(e,t)),putString:(e,t,r)=>cU(n.putString(e,t,r)),list:e=>(0,er.D)(n.list(e)),listAll:()=>(0,er.D)(n.listAll())}}!function Eq(n){const e={TaskState:bo,TaskEvent:j5,StringFormat:Ba,Storage:aU,Reference:Hd};n.INTERNAL.registerComponent(new Oa.wA("storage-compat",Cq,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.22")}(mT.Z);const Tq=new s.OlP("angularfire2.storageBucket"),Iq=new s.OlP("angularfire2.storage.maxUploadRetryTime"),Aq=new s.OlP("angularfire2.storage.maxOperationRetryTime"),Dq=new s.OlP("angularfire2.storage.use-emulator");let xq=(()=>{class n{constructor(t,r,i,a,u,m,y,E,F,q){const oe=(0,Ur.on)(t,u,r);this.storage=(0,Ur.cc)(`${oe.name}.storage.${i}`,"AngularFireStorage",oe.name,()=>{const pe=u.runOutsideAngular(()=>oe.storage(i||void 0)),we=F;return we&&pe.useEmulator(...we),y&&pe.setMaxUploadRetryTime(y),E&&pe.setMaxOperationRetryTime(E),pe},[y,E])}ref(t){return c1(this.storage.ref(t))}refFromURL(t){return c1(this.storage.refFromURL(t))}upload(t,r,i){return c1(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ur.Dh),s.LFG(Ur.xv,8),s.LFG(Tq,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(qn.HU),s.LFG(Iq,8),s.LFG(Aq,8),s.LFG(Dq,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Pq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Mq=(()=>{class n{constructor(){XI.Z.registerVersion("angularfire",qn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xq],imports:[Pq]}),n})();var kq=p(5032);const uU="@firebase/database",dU="0.13.10";let OO="";function hU(n){OO=n}class Nq{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,fe.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,fe.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Fq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,fe.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const fU=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Nq(e)}}catch{}return new Fq},ng=fU("localStorage"),RO=fU("sessionStorage"),F_=new ra.Yd("@firebase/database"),pU=function(){let n=1;return function(){return n++}}(),mU=function(n){const e=(0,fe.dS)(n),t=new fe.gQ;t.update(e);const r=t.digest();return fe.US.encodeByteArray(r)},Rb=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Rb.apply(null,r):e+="object"==typeof r?(0,fe.Wl)(r):r,e+=" "}return e};let rg=null,gU=!0;const yU=function(n,e){(0,fe.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(F_.logLevel=ra.in.VERBOSE,rg=F_.log.bind(F_),e&&RO.set("logging_enabled",!0)):"function"==typeof n?rg=n:(rg=null,RO.remove("logging_enabled"))},ns=function(...n){if(!0===gU&&(gU=!1,null===rg&&!0===RO.get("logging_enabled")&&yU(!0)),rg){const e=Rb.apply(null,n);rg(e)}},Nb=function(n){return function(...e){ns(n,...e)}},NO=function(...n){const e="FIREBASE INTERNAL ERROR: "+Rb(...n);F_.error(e)},Au=function(...n){const e=`FIREBASE FATAL ERROR: ${Rb(...n)}`;throw F_.error(e),new Error(e)},$s=function(...n){const e="FIREBASE WARNING: "+Rb(...n);F_.warn(e)},u1=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},jd="[MIN_NAME]",Du="[MAX_NAME]",ig=function(n,e){if(n===e)return 0;if(n===jd||e===Du)return-1;if(e===jd||n===Du)return 1;{const t=d1(n),r=d1(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Bq=function(n,e){return n===e?0:n<e?-1:1},Fb=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,fe.Wl)(e))},FO=function(n){if("object"!=typeof n||null===n)return(0,fe.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,fe.Wl)(e[r]),t+=":",t+=FO(n[e[r]]);return t+="}",t},_U=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function rs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const vU=function(n){(0,fe.hu)(!u1(n),"Invalid JSON number");const r=1023;let i,a,u,m,y;0===n?(a=0,u=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=m+r,u=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(a=0,u=Math.round(n/Math.pow(2,-1074))));const E=[];for(y=52;y;y-=1)E.push(u%2?1:0),u=Math.floor(u/2);for(y=11;y;y-=1)E.push(a%2?1:0),a=Math.floor(a/2);E.push(i?1:0),E.reverse();const F=E.join("");let q="";for(y=0;y<64;y+=8){let oe=parseInt(F.substr(y,8),2).toString(16);1===oe.length&&(oe="0"+oe),q+=oe}return q.toLowerCase()},Gq=new RegExp("^-?(0*)\\d{1,10}$"),wU=-2147483648,LO=2147483647,d1=function(n){if(Gq.test(n)){const e=Number(n);if(e>=wU&&e<=LO)return e}return null},L_=function(n){try{n()}catch(e){setTimeout(()=>{throw $s("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Lb=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class zq{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){$s(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qq{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(ns("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$s(e)}}let Vb=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const TU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DU="websocket",xU="long_polling";class BO{constructor(e,t,r,i,a=!1,u="",m=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=u,this.includeNamespaceInQueryParams=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ng.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ng.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function PU(n,e,t){let r;if((0,fe.hu)("string"==typeof e,"typeof type must == string"),(0,fe.hu)("object"==typeof t,"typeof params must == object"),e===DU)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==xU)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Wq(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return rs(t,(a,u)=>{i.push(a+"="+u)}),r+i.join("&")}class Zq{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,fe.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,fe.p$)(this.counters_)}}const UO={},HO={};function jO(n){const e=n.toString();return UO[e]||(UO[e]=new Zq),UO[e]}class Yq{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&L_(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class If{constructor(e,t,r,i,a,u,m){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=u,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nb(e),this.stats_=jO(t),this.urlFn=y=>(this.appCheckToken&&(y.ac=this.appCheckToken),PU(t,xU,y))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Yq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,fe.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new GO((...a)=>{const[u,m,y,E,F]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=m,this.password=y;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[u,m]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(u,m)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&TU.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){If.forceAllow_=!0}static forceDisallow(){If.forceDisallow_=!0}static isAvailable(){return!((0,fe.Yr)()||!If.forceAllow_&&(If.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,fe.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,fe.h$)(t),i=_U(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,fe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,fe.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class GO{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,fe.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=pU(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=GO.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(m){ns("frame writing exception"),m.stack&&ns(m.stack),ns(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ns("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const u=this.pendingSegs.shift();r=r+"&seg"+i+"="+u.seg+"&ts"+i+"="+u.ts+"&d"+i+"="+u.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,fe.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{ns("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let f1=null;typeof MozWebSocket<"u"?f1=MozWebSocket:typeof WebSocket<"u"&&(f1=WebSocket);let V_=(()=>{class n{constructor(t,r,i,a,u,m,y){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nb(this.connId),this.stats_=jO(r),this.connURL=n.connectionURL_(r,m,y,a,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,a,u){const m={v:"5"};return!(0,fe.Yr)()&&typeof location<"u"&&location.hostname&&TU.test(location.hostname)&&(m.r="f"),r&&(m.s=r),i&&(m.ls=i),a&&(m.ac=a),u&&(m.p=u),PU(t,DU,m)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ng.set("previous_websocket_failure",!0);try{let i;if((0,fe.Yr)()){i={headers:{"User-Agent":`Firebase/5/${OO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,m=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;m&&(i.proxy={origin:m})}this.mySock=new f1(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==f1&&!n.forceDisallow_}static previouslyFailed(){return ng.isInMemoryStorage||!0===ng.get("previous_websocket_failure")}markConnectionHealthy(){ng.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,fe.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,fe.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,fe.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=_U(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),LU=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[If,V_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=V_&&V_.isAvailable();let i=r&&!V_.previouslyFailed();if(t.webSocketOnly&&(r||$s("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[V_];else{const a=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class $U{constructor(e,t,r,i,a,u,m,y,E,F){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=u,this.onReady_=m,this.onDisconnect_=y,this.onKill_=E,this.lastSessionId=F,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nb("c:"+this.id+":"),this.transportManager_=new LU(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Lb(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Fb("t",e),r=Fb("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Fb("t",e),r=Fb("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Fb("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?NO("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):NO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&$s("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Lb(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Lb(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ng.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class zU{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class qU{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,fe.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(e){(0,fe.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class p1 extends qU{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,fe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new p1}getInitialEvent(e){return(0,fe.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class dr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function tr(){return new dr("")}function Rn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Af(n){return n.pieces_.length-n.pieceNum_}function wr(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new dr(n.pieces_,e)}function zO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Bb(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function KU(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new dr(e,0)}function Gr(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof dr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new dr(t,0)}function Nn(n){return n.pieceNum_>=n.pieces_.length}function Co(n,e){const t=Rn(n),r=Rn(e);if(null===t)return e;if(t===r)return Co(wr(n),wr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function _W(n,e){const t=Bb(n,0),r=Bb(e,0);for(let i=0;i<t.length&&i<r.length;i++){const a=ig(t[i],r[i]);if(0!==a)return a}return t.length===r.length?0:t.length<r.length?-1:1}function qO(n,e){if(Af(n)!==Af(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Fl(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Af(n)>Af(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class vW{constructor(e,t){this.errorPrefix_=t,this.parts_=Bb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,fe.ug)(this.parts_[r]);YU(this)}}function YU(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sg(n))}function sg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class WO extends qU{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new WO}getInitialEvent(e){return(0,fe.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ub=1e3;let g1,og=(()=>{class n extends zU{constructor(t,r,i,a,u,m,y,E){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=u,this.authTokenProvider_=m,this.appCheckTokenProvider_=y,this.authOverride_=E,this.id=n.nextPersistentConnectionId_++,this.log_=Nb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ub,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,E&&!(0,fe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");WO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&p1.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const a=++this.requestNumber_,u={r:a,a:t,b:r};this.log_((0,fe.Wl)(u)),(0,fe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const r=new fe.BH,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:m=>{const y=m.d;"ok"===m.s?r.resolve(y):r.reject(y)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,a){this.initConnection_();const u=t._queryIdentifier,m=t._path.toString();this.log_("Listen called for "+m+" "+u),this.listens.has(m)||this.listens.set(m,new Map),(0,fe.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,fe.hu)(!this.listens.get(m).has(u),"listen() called twice for same path/queryId.");const y={onComplete:a,hashFn:r,query:t,tag:i};this.listens.get(m).set(u,y),this.connected_&&this.sendListen_(y)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const u={p:i};t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,y=>{const E=y.d,F=y.s;n.warnOnListenWarnings_(E,r),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",y),"ok"!==F&&this.removeListen_(i,a),t.onComplete&&t.onComplete(F,E))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,fe.r3)(t,"w")){const i=(0,fe.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();$s(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,fe.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,fe.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const u=a.s,m=a.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,fe.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,r)}sendUnlisten_(t,r,i,a){this.log_("Unlisten on "+t+" for "+r);const u={p:t};a&&(u.q=i,u.t=a),this.sendRequest("n",u)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,a){const u={p:r,d:i};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,m=>{a&&setTimeout(()=>{a(m.s,m.d)},Math.floor(0))})}put(t,r,i,a){this.putInternal("p",t,r,i,a)}merge(t,r,i,a){this.putInternal("m",t,r,i,a)}putInternal(t,r,i,a,u){this.initConnection_();const m={p:r,d:i};void 0!==u&&(m.h=u),this.outstandingPuts_.push({action:t,request:m,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,fe.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):NO("Unrecognized action received from server: "+(0,fe.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,fe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ub,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ub,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ub),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,He.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),a=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,m=t.lastSessionId;let y=!1,E=null;const F=function(){E?E.close():(y=!0,a())};t.realtime_={close:F,sendRequest:function(pe){(0,fe.hu)(E,"sendRequest call when we're not connected not allowed."),E.sendRequest(pe)}};const oe=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[pe,we]=yield Promise.all([t.authTokenProvider_.getToken(oe),t.appCheckTokenProvider_.getToken(oe)]);y?ns("getToken() completed but was canceled"):(ns("getToken() completed. Creating connection."),t.authToken_=pe&&pe.accessToken,t.appCheckToken_=we&&we.token,E=new $U(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,a,Me=>{$s(Me+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},m))}catch(pe){t.log_("Failed to get token: "+pe),y||(t.repoInfo_.nodeAdmin&&$s(pe),F())}}})()}interrupt(t){ns("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ns("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,fe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ub,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(u=>FO(u)).join("$"):"default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const i=new dr(t).toString();let a;if(this.listens.has(i)){const u=this.listens.get(i);a=u.get(r),u.delete(r),0===u.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,r){ns("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){ns("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,fe.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+OO.replace(/\./g,"-")]=1,(0,fe.uI)()?t["framework.cordova"]=1:(0,fe.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=p1.getInstance().currentlyOnline();return(0,fe.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Vn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Vn(e,t)}}class m1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Vn(jd,e),i=new Vn(jd,t);return 0!==this.compare(r,i)}minPost(){return Vn.MIN}}class XU extends m1{static get __EMPTY_NODE(){return g1}static set __EMPTY_NODE(e){g1=e}compare(e,t){return ig(e.name,t.name)}isDefinedOn(e){throw(0,fe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Vn.MIN}maxPost(){return new Vn(Du,g1)}makePost(e,t){return(0,fe.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Vn(e,g1)}toString(){return".key"}}const xu=new XU;class y1{constructor(e,t,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,i&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let KO,Ic=(()=>{class n{constructor(t,r,i,a,u){this.key=t,this.value=r,this.color=i??n.RED,this.left=a??aa.EMPTY_NODE,this.right=u??aa.EMPTY_NODE}copy(t,r,i,a,u){return new n(t??this.key,r??this.value,i??this.color,a??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let a=this;const u=i(t,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(t,r,i),null):0===u?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return aa.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,a;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return aa.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class aa{constructor(e,t=aa.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new aa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ic.BLACK,null,null))}remove(e){return new aa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ic.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new y1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new y1(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new y1(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new y1(this.root_,null,this.comparator_,!0,e)}}function AW(n,e){return ig(n.name,e.name)}function ZO(n,e){return ig(n,e)}aa.EMPTY_NODE=new class IW{copy(e,t,r,i,a){return this}insert(e,t,r){return new Ic(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const e3=function(n){return"number"==typeof n?"number:"+vU(n):"string:"+n},t3=function(n){if(n.isLeafNode()){const e=n.val();(0,fe.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,fe.r3)(e,".sv"),"Priority must be a string or number.")}else(0,fe.hu)(n===KO||n.isEmpty(),"priority of unexpected type.");(0,fe.hu)(n===KO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let n3,r3,i3,B_=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,fe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),t3(this.priorityNode_)}static set __childrenNodeConstructor(t){n3=t}static get __childrenNodeConstructor(){return n3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Nn(t)?this:".priority"===Rn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Rn(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,fe.hu)(".priority"!==i||1===Af(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(wr(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+e3(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?vU(this.value_):this.value_,this.lazyHash_=mU(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,fe.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(r),u=n.VALUE_TYPE_ORDER.indexOf(i);return(0,fe.hu)(a>=0,"Unknown leaf type: "+r),(0,fe.hu)(u>=0,"Unknown leaf type: "+i),a===u?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const xr=new class MW extends m1{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),a=r.compareTo(i);return 0===a?ig(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Vn.MIN}maxPost(){return new Vn(Du,new B_("[PRIORITY-POST]",i3))}makePost(e,t){const r=r3(e);return new Vn(t,new B_("[PRIORITY-POST]",r))}toString(){return".priority"}},kW=Math.log(2);class OW{constructor(e){this.count=parseInt(Math.log(e+1)/kW,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _1=function(n,e,t,r){n.sort(e);const i=function(y,E){const F=E-y;let q,oe;if(0===F)return null;if(1===F)return q=n[y],oe=t?t(q):q,new Ic(oe,q.node,Ic.BLACK,null,null);{const pe=parseInt(F/2,10)+y,we=i(y,pe),Me=i(pe+1,E);return q=n[pe],oe=t?t(q):q,new Ic(oe,q.node,Ic.BLACK,we,Me)}},m=function(y){let E=null,F=null,q=n.length;const oe=function(we,Me){const Ve=q-we,rt=q;q-=we;const dt=i(Ve+1,rt),ht=n[Ve],pt=t?t(ht):ht;pe(new Ic(pt,ht.node,Me,null,dt))},pe=function(we){E?(E.left=we,E=we):(F=we,E=we)};for(let we=0;we<y.count;++we){const Me=y.nextBitIsOne(),Ve=Math.pow(2,y.count-(we+1));Me?oe(Ve,Ic.BLACK):(oe(Ve,Ic.BLACK),oe(Ve,Ic.RED))}return F}(new OW(n.length));return new aa(r||e,m)};let YO;const U_={};class Gd{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,fe.hu)(U_&&xr,"ChildrenNode.ts has not been loaded"),YO=YO||new Gd({".priority":U_},{".priority":xr}),YO}get(e){const t=(0,fe.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof aa?t:null}hasIndex(e){return(0,fe.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,fe.hu)(e!==xu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=t.getIterator(Vn.Wrap);let m,u=a.getNext();for(;u;)i=i||e.isDefinedOn(u.node),r.push(u),u=a.getNext();m=i?_1(r,e.getCompare()):U_;const y=e.toString(),E=Object.assign({},this.indexSet_);E[y]=e;const F=Object.assign({},this.indexes_);return F[y]=m,new Gd(F,E)}addToIndexes(e,t){const r=(0,fe.UI)(this.indexes_,(i,a)=>{const u=(0,fe.DV)(this.indexSet_,a);if((0,fe.hu)(u,"Missing index implementation for "+a),i===U_){if(u.isDefinedOn(e.node)){const m=[],y=t.getIterator(Vn.Wrap);let E=y.getNext();for(;E;)E.name!==e.name&&m.push(E),E=y.getNext();return m.push(e),_1(m,u.getCompare())}return U_}{const m=t.get(e.name);let y=i;return m&&(y=y.remove(new Vn(e.name,m))),y.insert(e,e.node)}});return new Gd(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,fe.UI)(this.indexes_,i=>{if(i===U_)return i;{const a=t.get(e.name);return a?i.remove(new Vn(e.name,a)):i}});return new Gd(r,this.indexSet_)}}let Hb,Cn=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&t3(this.priorityNode_),this.children_.isEmpty()&&(0,fe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hb||(Hb=new n(new aa(ZO),null,Gd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hb}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Hb:r}}getChild(t){const r=Rn(t);return null===r?this:this.getImmediateChild(r).getChild(wr(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,fe.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Vn(t,r);let a,u;r.isEmpty()?(a=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(i,this.children_));const m=a.isEmpty()?Hb:this.priorityNode_;return new n(a,m,u)}}updateChild(t,r){const i=Rn(t);if(null===i)return r;{(0,fe.hu)(".priority"!==Rn(t)||1===Af(t),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(wr(t),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,a=0,u=!0;if(this.forEachChild(xr,(m,y)=>{r[m]=y.val(t),i++,u&&n.INTEGER_REGEXP_.test(m)?a=Math.max(a,Number(m)):u=!1}),!t&&u&&a<2*i){const m=[];for(const y in r)m[y]=r[y];return m}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+e3(this.getPriority().val())+":"),this.forEachChild(xr,(r,i)=>{const a=i.hash();""!==a&&(t+=":"+r+":"+a)}),this.lazyHash_=""===t?"":mU(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const a=this.resolveIndex_(i);if(a){const u=a.getPredecessorKey(new Vn(t,r));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Vn(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Vn(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,Vn.Wrap);let u=a.peek();for(;null!=u&&r.compare(u,t)<0;)a.getNext(),u=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,Vn.Wrap);let u=a.peek();for(;null!=u&&r.compare(u,t)>0;)a.getNext(),u=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===jb?-1:0}withIndex(t){if(t===xu||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===xu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(xr),a=r.getIterator(xr);let u=i.getNext(),m=a.getNext();for(;u&&m;){if(u.name!==m.name||!u.node.equals(m.node))return!1;u=i.getNext(),m=a.getNext()}return null===u&&null===m}return!1}return!1}}resolveIndex_(t){return t===xu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const jb=new class RW extends Cn{constructor(){super(new aa(ZO),Cn.EMPTY_NODE,Gd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Cn.EMPTY_NODE}isEmpty(){return!1}};function Yr(n,e=null){if(null===n)return Cn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,fe.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new B_(n,Yr(e));if(n instanceof Array){let t=Cn.EMPTY_NODE;return rs(n,(r,i)=>{if((0,fe.r3)(n,r)&&"."!==r.substring(0,1)){const a=Yr(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(r,a))}}),t.updatePriority(Yr(e))}{const t=[];let r=!1;if(rs(n,(u,m)=>{if("."!==u.substring(0,1)){const y=Yr(m);y.isEmpty()||(r=r||!y.getPriority().isEmpty(),t.push(new Vn(u,y)))}}),0===t.length)return Cn.EMPTY_NODE;const a=_1(t,AW,u=>u.name,ZO);if(r){const u=_1(t,xr.getCompare());return new Cn(a,Yr(e),new Gd({".priority":u},{".priority":xr}))}return new Cn(a,Yr(e),Gd.Default)}}Object.defineProperties(Vn,{MIN:{value:new Vn(jd,Cn.EMPTY_NODE)},MAX:{value:new Vn(Du,jb)}}),XU.__EMPTY_NODE=Cn.EMPTY_NODE,B_.__childrenNodeConstructor=Cn,function DW(n){KO=n}(jb),function PW(n){i3=n}(jb),function xW(n){r3=n}(Yr);class QO extends m1{constructor(e){super(),this.indexPath_=e,(0,fe.hu)(!Nn(e)&&".priority"!==Rn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),a=r.compareTo(i);return 0===a?ig(e.name,t.name):a}makePost(e,t){const r=Yr(e),i=Cn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Vn(t,i)}maxPost(){const e=Cn.EMPTY_NODE.updateChild(this.indexPath_,jb);return new Vn(Du,e)}toString(){return Bb(this.indexPath_,0).join("/")}}const JO=new class FW extends m1{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ig(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Vn.MIN}maxPost(){return Vn.MAX}makePost(e,t){const r=Yr(e);return new Vn(t,r)}toString(){return".value"}},H_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",LW=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const a=new Array(8);for(i=7;i>=0;i--)a[i]=H_.charAt(t%64),t=Math.floor(t/64);(0,fe.hu)(0===t,"Cannot push at time == 0");let u=a.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=H_.charAt(e[i]);return(0,fe.hu)(20===u.length,"nextPushId: Length should be 20."),u}}(),a3=function(n){if(n===""+LO)return"-";const e=d1(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let u=0;u<t.length;u++)t[u]=n.charAt(u);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return Du;const a=H_.charAt(H_.indexOf(t[r])+1);return t[r]=a,t.slice(0,r+1).join("")},l3=function(n){if(n===""+wU)return jd;const e=d1(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+LO:(delete t[t.length-1],t.join("")):(t[t.length-1]=H_.charAt(H_.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function c3(n){return{type:"value",snapshotNode:n}}function j_(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Gb(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function $b(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class eR{constructor(e){this.index_=e}updateChild(e,t,r,i,a,u){(0,fe.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(t);return m.getChild(i).equals(r.getChild(i))&&m.isEmpty()===r.isEmpty()||(null!=u&&(r.isEmpty()?e.hasChild(t)?u.trackChildChange(Gb(t,m)):(0,fe.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?u.trackChildChange(j_(t,r)):u.trackChildChange($b(t,r,m))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(xr,(i,a)=>{t.hasChild(i)||r.trackChildChange(Gb(i,a))}),t.isLeafNode()||t.forEachChild(xr,(i,a)=>{if(e.hasChild(i)){const u=e.getImmediateChild(i);u.equals(a)||r.trackChildChange($b(i,a,u))}else r.trackChildChange(j_(i,a))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Cn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zb{constructor(e){this.indexedFilter_=new eR(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zb.getStartPost_(e),this.endPost_=zb.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,a,u){return this.matches(new Vn(t,r))||(r=Cn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,a,u)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Cn.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Cn.EMPTY_NODE);const a=this;return t.forEachChild(xr,(u,m)=>{a.matches(new Vn(u,m))||(i=i.updateImmediateChild(u,Cn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class BW{constructor(e){this.rangedFilter_=new zb(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,a,u){return this.rangedFilter_.matches(new Vn(t,r))||(r=Cn.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,a,u):this.fullLimitUpdateChild_(e,t,r,a,u)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Cn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let a;i=Cn.EMPTY_NODE.withIndex(this.index_),a=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;a.hasNext()&&u<this.limit_;){const m=a.getNext();let y;if(y=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),m)<=0:this.index_.compare(m,this.rangedFilter_.getEndPost())<=0,!y)break;i=i.updateImmediateChild(m.name,m.node),u++}}else{let a,u,m,y;if(i=t.withIndex(this.index_),i=i.updatePriority(Cn.EMPTY_NODE),this.reverse_){y=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();const q=this.index_.getCompare();m=(oe,pe)=>q(pe,oe)}else y=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),m=this.index_.getCompare();let E=0,F=!1;for(;y.hasNext();){const q=y.getNext();!F&&m(a,q)<=0&&(F=!0),F&&E<this.limit_&&m(q,u)<=0?E++:i=i.updateImmediateChild(q.name,Cn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,a){let u;if(this.reverse_){const q=this.index_.getCompare();u=(oe,pe)=>q(pe,oe)}else u=this.index_.getCompare();const m=e;(0,fe.hu)(m.numChildren()===this.limit_,"");const y=new Vn(t,r),E=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),F=this.rangedFilter_.matches(y);if(m.hasChild(t)){const q=m.getImmediateChild(t);let oe=i.getChildAfterChild(this.index_,E,this.reverse_);for(;null!=oe&&(oe.name===t||m.hasChild(oe.name));)oe=i.getChildAfterChild(this.index_,oe,this.reverse_);const pe=null==oe?1:u(oe,y);if(F&&!r.isEmpty()&&pe>=0)return a?.trackChildChange($b(t,r,q)),m.updateImmediateChild(t,r);{a?.trackChildChange(Gb(t,q));const Me=m.updateImmediateChild(t,Cn.EMPTY_NODE);return null!=oe&&this.rangedFilter_.matches(oe)?(a?.trackChildChange(j_(oe.name,oe.node)),Me.updateImmediateChild(oe.name,oe.node)):Me}}return r.isEmpty()?e:F&&u(E,y)>=0?(null!=a&&(a.trackChildChange(Gb(E.name,E.node)),a.trackChildChange(j_(t,r))),m.updateImmediateChild(t,r).updateImmediateChild(E.name,Cn.EMPTY_NODE)):e}}class v1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,fe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,fe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,fe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,fe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Du}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,fe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xr}copy(){const e=new v1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tR(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function nR(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function w1(n,e){const t=n.copy();return t.index_=e,t}function u3(n){const e={};if(n.isDefault())return e;let t;return n.index_===xr?t="$priority":n.index_===JO?t="$value":n.index_===xu?t="$key":((0,fe.hu)(n.index_ instanceof QO,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,fe.Wl)(t),n.startSet_&&(e.startAt=(0,fe.Wl)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,fe.Wl)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,fe.Wl)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,fe.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function d3(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==xr&&(e.i=n.index_.toString()),e}class b1 extends zU{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Nb("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,fe.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const u=b1.getListenId_(e,r),m={};this.listens_[u]=m;const y=u3(e._queryParams);this.restRequest_(a+".json",y,(E,F)=>{let q=F;if(404===E&&(q=null,E=null),null===E&&this.onDataUpdate_(a,q,!1,r),(0,fe.DV)(this.listens_,u)===m){let oe;oe=E?401===E?"permission_denied":"rest_error:"+E:"ok",i(oe,null)}})}unlisten(e,t){const r=b1.getListenId_(e,t);delete this.listens_[r]}get(e){const t=u3(e._queryParams),r=e._path.toString(),i=new fe.BH;return this.restRequest_(r+".json",t,(a,u)=>{let m=u;404===a&&(m=null,a=null),null===a?(this.onDataUpdate_(r,m,!1,null),i.resolve(m)):i.reject(new Error(m))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,fe.xO)(t);this.log_("Sending REST request for "+u);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&4===m.readyState){this.log_("REST Response for "+u+" received. status:",m.status,"response:",m.responseText);let y=null;if(m.status>=200&&m.status<300){try{y=(0,fe.cI)(m.responseText)}catch{$s("Failed to parse JSON response for "+u+": "+m.responseText)}r(null,y)}else 401!==m.status&&404!==m.status&&$s("Got unsuccessful REST response for "+u+" Status: "+m.status),r(m.status);r=null}},m.open("GET",u,!0),m.send()})}}class zW{constructor(){this.rootNode_=Cn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function C1(){return{value:null,children:new Map}}function G_(n,e,t){if(Nn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Rn(e);n.children.has(r)||n.children.set(r,C1()),G_(n.children.get(r),e=wr(e),t)}}function rR(n,e){if(Nn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(xr,(r,i)=>{G_(n,new dr(r),i)}),rR(n,e)}}if(n.children.size>0){const t=Rn(e);return e=wr(e),n.children.has(t)&&rR(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function iR(n,e,t){null!==n.value?t(e,n.value):function qW(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{iR(i,new dr(e.toString()+"/"+r),t)})}class WW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&rs(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class YW{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new WW(e);const r=1e4+2e4*Math.random();Lb(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;rs(e,(i,a)=>{a>0&&(0,fe.r3)(this.statsToReport_,i)&&(t[i]=a,r=!0)}),r&&this.server_.reportStats(t),Lb(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ll=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ll||(Ll={})),Ll))();function aR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class E1{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Ll.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Nn(this.path)){if(null!=this.affectedTree.value)return(0,fe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new dr(e));return new E1(tr(),t,this.revert)}}return(0,fe.hu)(Rn(this.path)===e,"operationForChild called for unrelated child."),new E1(wr(this.path),this.affectedTree,this.revert)}}class qb{constructor(e,t){this.source=e,this.path=t,this.type=Ll.LISTEN_COMPLETE}operationForChild(e){return Nn(this.path)?new qb(this.source,tr()):new qb(this.source,wr(this.path))}}class ag{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Ll.OVERWRITE}operationForChild(e){return Nn(this.path)?new ag(this.source,tr(),this.snap.getImmediateChild(e)):new ag(this.source,wr(this.path),this.snap)}}class $_{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Ll.MERGE}operationForChild(e){if(Nn(this.path)){const t=this.children.subtree(new dr(e));return t.isEmpty()?null:t.value?new ag(this.source,tr(),t.value):new $_(this.source,tr(),t)}return(0,fe.hu)(Rn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $_(this.source,wr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Df{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Nn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Rn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class QW{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Wb(n,e,t,r,i,a){const u=r.filter(m=>m.type===t);u.sort((m,y)=>function e8(n,e,t){if(null==e.childName||null==t.childName)throw(0,fe.g5)("Should only compare child_ events.");const r=new Vn(e.childName,e.snapshotNode),i=new Vn(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,m,y)),u.forEach(m=>{const y=function XW(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,m,a);i.forEach(E=>{E.respondsTo(m.type)&&e.push(E.createEvent(y,n.query_))})})}function S1(n,e){return{eventCache:n,serverCache:e}}function Zb(n,e,t,r){return S1(new Df(e,t,r),n.serverCache)}function f3(n,e,t,r){return S1(n.eventCache,new Df(e,t,r))}function T1(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function lg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let lR;class Pr{constructor(e,t=(()=>(lR||(lR=new aa(Bq)),lR))()){this.value=e,this.children=t}static fromObject(e){let t=new Pr(null);return rs(e,(r,i)=>{t=t.set(new dr(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:tr(),value:this.value};if(Nn(e))return null;{const r=Rn(e),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(wr(e),t);return null!=a?{path:Gr(new dr(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Nn(e))return this;{const t=Rn(e),r=this.children.get(t);return null!==r?r.subtree(wr(e)):new Pr(null)}}set(e,t){if(Nn(e))return new Pr(t,this.children);{const r=Rn(e),a=(this.children.get(r)||new Pr(null)).set(wr(e),t),u=this.children.insert(r,a);return new Pr(this.value,u)}}remove(e){if(Nn(e))return this.children.isEmpty()?new Pr(null):new Pr(null,this.children);{const t=Rn(e),r=this.children.get(t);if(r){const i=r.remove(wr(e));let a;return a=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&a.isEmpty()?new Pr(null):new Pr(this.value,a)}return this}}get(e){if(Nn(e))return this.value;{const t=Rn(e),r=this.children.get(t);return r?r.get(wr(e)):null}}setTree(e,t){if(Nn(e))return t;{const r=Rn(e),a=(this.children.get(r)||new Pr(null)).setTree(wr(e),t);let u;return u=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new Pr(this.value,u)}}fold(e){return this.fold_(tr(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(Gr(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,tr(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Nn(e))return null;{const a=Rn(e),u=this.children.get(a);return u?u.findOnPath_(wr(e),Gr(t,a),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,tr(),t)}foreachOnPath_(e,t,r){if(Nn(e))return this;{this.value&&r(t,this.value);const i=Rn(e),a=this.children.get(i);return a?a.foreachOnPath_(wr(e),Gr(t,i),r):new Pr(null)}}foreach(e){this.foreach_(tr(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Gr(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Ac{constructor(e){this.writeTree_=e}static empty(){return new Ac(new Pr(null))}}function Kb(n,e,t){if(Nn(e))return new Ac(new Pr(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let a=r.value;const u=Co(i,e);return a=a.updateChild(u,t),new Ac(n.writeTree_.set(i,a))}{const i=new Pr(t),a=n.writeTree_.setTree(e,i);return new Ac(a)}}}function cR(n,e,t){let r=n;return rs(t,(i,a)=>{r=Kb(r,Gr(e,i),a)}),r}function p3(n,e){if(Nn(e))return Ac.empty();{const t=n.writeTree_.setTree(e,new Pr(null));return new Ac(t)}}function uR(n,e){return null!=cg(n,e)}function cg(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Co(t.path,e)):null}function m3(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(xr,(r,i)=>{e.push(new Vn(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Vn(r,i.value))}),e}function xf(n,e){if(Nn(e))return n;{const t=cg(n,e);return new Ac(null!=t?new Pr(t):n.writeTree_.subtree(e))}}function dR(n){return n.writeTree_.isEmpty()}function z_(n,e){return g3(tr(),n.writeTree_,e)}function g3(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{".priority"===i?((0,fe.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):t=g3(Gr(n,i),a,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Gr(n,".priority"),r)),t}}function I1(n,e){return b3(e,n)}function o8(n,e){if(n.snap)return Fl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Fl(Gr(n.path,t),e))return!0;return!1}function l8(n){return n.visible}function y3(n,e,t){let r=Ac.empty();for(let i=0;i<n.length;++i){const a=n[i];if(e(a)){const u=a.path;let m;if(a.snap)Fl(t,u)?(m=Co(t,u),r=Kb(r,m,a.snap)):Fl(u,t)&&(m=Co(u,t),r=Kb(r,tr(),a.snap.getChild(m)));else{if(!a.children)throw(0,fe.g5)("WriteRecord should have .snap or .children");if(Fl(t,u))m=Co(t,u),r=cR(r,m,a.children);else if(Fl(u,t))if(m=Co(u,t),Nn(m))r=cR(r,tr(),a.children);else{const y=(0,fe.DV)(a.children,Rn(m));if(y){const E=y.getChild(wr(m));r=Kb(r,tr(),E)}}}}}return r}function _3(n,e,t,r,i){if(r||i){const a=xf(n.visibleWrites,e);return!i&&dR(a)?t:i||null!=t||uR(a,tr())?z_(y3(n.allWrites,function(E){return(E.visible||i)&&(!r||!~r.indexOf(E.writeId))&&(Fl(E.path,e)||Fl(e,E.path))},e),t||Cn.EMPTY_NODE):null}{const a=cg(n.visibleWrites,e);if(null!=a)return a;{const u=xf(n.visibleWrites,e);return dR(u)?t:null!=t||uR(u,tr())?z_(u,t||Cn.EMPTY_NODE):null}}}function A1(n,e,t,r){return _3(n.writeTree,n.treePath,e,t,r)}function hR(n,e){return function c8(n,e,t){let r=Cn.EMPTY_NODE;const i=cg(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(xr,(a,u)=>{r=r.updateImmediateChild(a,u)}),r;if(t){const a=xf(n.visibleWrites,e);return t.forEachChild(xr,(u,m)=>{const y=z_(xf(a,new dr(u)),m);r=r.updateImmediateChild(u,y)}),m3(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}return m3(xf(n.visibleWrites,e)).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}(n.writeTree,n.treePath,e)}function v3(n,e,t,r){return function u8(n,e,t,r,i){(0,fe.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Gr(e,t);if(uR(n.visibleWrites,a))return null;{const u=xf(n.visibleWrites,a);return dR(u)?i.getChild(t):z_(u,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function D1(n,e){return function h8(n,e){return cg(n.visibleWrites,e)}(n.writeTree,Gr(n.treePath,e))}function fR(n,e,t){return function d8(n,e,t,r){const i=Gr(e,t),a=cg(n.visibleWrites,i);return null!=a?a:r.isCompleteForChild(t)?z_(xf(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function w3(n,e){return b3(Gr(n.treePath,e),n.writeTree)}function b3(n,e){return{treePath:n,writeTree:e}}class g8{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,fe.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,fe.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(r,$b(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(r,Gb(r,i.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(r,j_(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw(0,fe.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,$b(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const C3=new class y8{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class pR{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Df(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fR(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:lg(this.viewCache_),a=function m8(n,e,t,r,i,a){return function f8(n,e,t,r,i,a,u){let m;const y=xf(n.visibleWrites,e),E=cg(y,tr());if(null!=E)m=E;else{if(null==t)return[];m=z_(y,t)}if(m=m.withIndex(u),m.isEmpty()||m.isLeafNode())return[];{const F=[],q=u.getCompare(),oe=a?m.getReverseIteratorFrom(r,u):m.getIteratorFrom(r,u);let pe=oe.getNext();for(;pe&&F.length<i;)0!==q(pe,r)&&F.push(pe),pe=oe.getNext();return F}}(n.writeTree,n.treePath,e,t,r,i,a)}(this.writes_,i,t,1,r,e);return 0===a.length?null:a[0]}}function E3(n,e,t,r,i,a){const u=e.eventCache;if(null!=D1(r,t))return e;{let m,y;if(Nn(t))if((0,fe.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const E=lg(e),q=hR(r,E instanceof Cn?E:Cn.EMPTY_NODE);m=n.filter.updateFullNode(e.eventCache.getNode(),q,a)}else{const E=A1(r,lg(e));m=n.filter.updateFullNode(e.eventCache.getNode(),E,a)}else{const E=Rn(t);if(".priority"===E){(0,fe.hu)(1===Af(t),"Can't have a priority with additional path components");const F=u.getNode();y=e.serverCache.getNode();const q=v3(r,t,F,y);m=null!=q?n.filter.updatePriority(F,q):u.getNode()}else{const F=wr(t);let q;if(u.isCompleteForChild(E)){y=e.serverCache.getNode();const oe=v3(r,t,u.getNode(),y);q=null!=oe?u.getNode().getImmediateChild(E).updateChild(F,oe):u.getNode().getImmediateChild(E)}else q=fR(r,E,e.serverCache);m=null!=q?n.filter.updateChild(u.getNode(),E,q,F,i,a):u.getNode()}}return Zb(e,m,u.isFullyInitialized()||Nn(t),n.filter.filtersNodes())}}function x1(n,e,t,r,i,a,u,m){const y=e.serverCache;let E;const F=u?n.filter:n.filter.getIndexedFilter();if(Nn(t))E=F.updateFullNode(y.getNode(),r,null);else if(F.filtersNodes()&&!y.isFiltered()){const pe=y.getNode().updateChild(t,r);E=F.updateFullNode(y.getNode(),pe,null)}else{const pe=Rn(t);if(!y.isCompleteForPath(t)&&Af(t)>1)return e;const we=wr(t),Ve=y.getNode().getImmediateChild(pe).updateChild(we,r);E=".priority"===pe?F.updatePriority(y.getNode(),Ve):F.updateChild(y.getNode(),pe,Ve,we,C3,null)}const q=f3(e,E,y.isFullyInitialized()||Nn(t),F.filtersNodes());return E3(n,q,t,i,new pR(i,q,a),m)}function mR(n,e,t,r,i,a,u){const m=e.eventCache;let y,E;const F=new pR(i,e,a);if(Nn(t))E=n.filter.updateFullNode(e.eventCache.getNode(),r,u),y=Zb(e,E,!0,n.filter.filtersNodes());else{const q=Rn(t);if(".priority"===q)E=n.filter.updatePriority(e.eventCache.getNode(),r),y=Zb(e,E,m.isFullyInitialized(),m.isFiltered());else{const oe=wr(t),pe=m.getNode().getImmediateChild(q);let we;if(Nn(oe))we=r;else{const Me=F.getCompleteChild(q);we=null!=Me?".priority"===zO(oe)&&Me.getChild(KU(oe)).isEmpty()?Me:Me.updateChild(oe,r):Cn.EMPTY_NODE}y=pe.equals(we)?e:Zb(e,n.filter.updateChild(m.getNode(),q,we,oe,F,u),m.isFullyInitialized(),n.filter.filtersNodes())}}return y}function S3(n,e){return n.eventCache.isCompleteForChild(e)}function T3(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function gR(n,e,t,r,i,a,u,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let E,y=e;E=Nn(t)?r:new Pr(null).setTree(t,r);const F=e.serverCache.getNode();return E.children.inorderTraversal((q,oe)=>{if(F.hasChild(q)){const we=T3(0,e.serverCache.getNode().getImmediateChild(q),oe);y=x1(n,y,new dr(q),we,i,a,u,m)}}),E.children.inorderTraversal((q,oe)=>{const pe=!e.serverCache.isCompleteForChild(q)&&null===oe.value;if(!F.hasChild(q)&&!pe){const Me=T3(0,e.serverCache.getNode().getImmediateChild(q),oe);y=x1(n,y,new dr(q),Me,i,a,u,m)}}),y}class I8{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new eR(r.getIndex()),a=function UW(n){return n.loadsAllData()?new eR(n.getIndex()):n.hasLimit()?new BW(n):new zb(n)}(r);this.processor_=function _8(n){return{filter:n}}(a);const u=t.serverCache,m=t.eventCache,y=i.updateFullNode(Cn.EMPTY_NODE,u.getNode(),null),E=a.updateFullNode(Cn.EMPTY_NODE,m.getNode(),null),F=new Df(y,u.isFullyInitialized(),i.filtersNodes()),q=new Df(E,m.isFullyInitialized(),a.filtersNodes());this.viewCache_=S1(q,F),this.eventGenerator_=new QW(this.query_)}get query(){return this.query_}}function x8(n,e){const t=lg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Nn(e)&&!t.getImmediateChild(Rn(e)).isEmpty())?t.getChild(e):null}function I3(n){return 0===n.eventRegistrations_.length}function A3(n,e,t){const r=[];if(t){(0,fe.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(a=>{const u=a.createCancelEvent(t,i);u&&r.push(u)})}if(e){let i=[];for(let a=0;a<n.eventRegistrations_.length;++a){const u=n.eventRegistrations_[a];if(u.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(a+1));break}}else i.push(u)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function D3(n,e,t,r){e.type===Ll.MERGE&&null!==e.source.queryId&&((0,fe.hu)(lg(n.viewCache_),"We should always have a full cache before handling merges"),(0,fe.hu)(T1(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=function w8(n,e,t,r,i){const a=new g8;let u,m;if(t.type===Ll.OVERWRITE){const E=t;E.source.fromUser?u=mR(n,e,E.path,E.snap,r,i,a):((0,fe.hu)(E.source.fromServer,"Unknown source."),m=E.source.tagged||e.serverCache.isFiltered()&&!Nn(E.path),u=x1(n,e,E.path,E.snap,r,i,m,a))}else if(t.type===Ll.MERGE){const E=t;E.source.fromUser?u=function C8(n,e,t,r,i,a,u){let m=e;return r.foreach((y,E)=>{const F=Gr(t,y);S3(e,Rn(F))&&(m=mR(n,m,F,E,i,a,u))}),r.foreach((y,E)=>{const F=Gr(t,y);S3(e,Rn(F))||(m=mR(n,m,F,E,i,a,u))}),m}(n,e,E.path,E.children,r,i,a):((0,fe.hu)(E.source.fromServer,"Unknown source."),m=E.source.tagged||e.serverCache.isFiltered(),u=gR(n,e,E.path,E.children,r,i,m,a))}else if(t.type===Ll.ACK_USER_WRITE){const E=t;u=E.revert?function T8(n,e,t,r,i,a){let u;if(null!=D1(r,t))return e;{const m=new pR(r,e,i),y=e.eventCache.getNode();let E;if(Nn(t)||".priority"===Rn(t)){let F;if(e.serverCache.isFullyInitialized())F=A1(r,lg(e));else{const q=e.serverCache.getNode();(0,fe.hu)(q instanceof Cn,"serverChildren would be complete if leaf node"),F=hR(r,q)}E=n.filter.updateFullNode(y,F,a)}else{const F=Rn(t);let q=fR(r,F,e.serverCache);null==q&&e.serverCache.isCompleteForChild(F)&&(q=y.getImmediateChild(F)),E=null!=q?n.filter.updateChild(y,F,q,wr(t),m,a):e.eventCache.getNode().hasChild(F)?n.filter.updateChild(y,F,Cn.EMPTY_NODE,wr(t),m,a):y,E.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=A1(r,lg(e)),u.isLeafNode()&&(E=n.filter.updateFullNode(E,u,a)))}return u=e.serverCache.isFullyInitialized()||null!=D1(r,tr()),Zb(e,E,u,n.filter.filtersNodes())}}(n,e,E.path,r,i,a):function E8(n,e,t,r,i,a,u){if(null!=D1(i,t))return e;const m=e.serverCache.isFiltered(),y=e.serverCache;if(null!=r.value){if(Nn(t)&&y.isFullyInitialized()||y.isCompleteForPath(t))return x1(n,e,t,y.getNode().getChild(t),i,a,m,u);if(Nn(t)){let E=new Pr(null);return y.getNode().forEachChild(xu,(F,q)=>{E=E.set(new dr(F),q)}),gR(n,e,t,E,i,a,m,u)}return e}{let E=new Pr(null);return r.foreach((F,q)=>{const oe=Gr(t,F);y.isCompleteForPath(oe)&&(E=E.set(F,y.getNode().getChild(oe)))}),gR(n,e,t,E,i,a,m,u)}}(n,e,E.path,E.affectedTree,r,i,a)}else{if(t.type!==Ll.LISTEN_COMPLETE)throw(0,fe.g5)("Unknown operation type: "+t.type);u=function S8(n,e,t,r,i){const a=e.serverCache;return E3(n,f3(e,a.getNode(),a.isFullyInitialized()||Nn(t),a.isFiltered()),t,r,C3,i)}(n,e,t.path,r,a)}const y=a.getChanges();return function b8(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=T1(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&t.push(c3(T1(e)))}}(e,u,y),{viewCache:u,changes:y}}(n.processor_,i,e,t,r);return function v8(n,e){(0,fe.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,fe.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,fe.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,x3(n,a.changes,a.viewCache.eventCache.getNode(),null)}function x3(n,e,t,r){return function JW(n,e,t,r){const i=[],a=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&a.push(function VW(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),Wb(n,i,"child_removed",e,r,t),Wb(n,i,"child_added",e,r,t),Wb(n,i,"child_moved",a,r,t),Wb(n,i,"child_changed",e,r,t),Wb(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let P1,k1;class P3{constructor(){this.views=new Map}}function yR(n,e,t,r){const i=e.source.queryId;if(null!==i){const a=n.views.get(i);return(0,fe.hu)(null!=a,"SyncTree gave us an op for an invalid query."),D3(a,e,t,r)}{let a=[];for(const u of n.views.values())a=a.concat(D3(u,e,t,r));return a}}function M3(n,e,t,r,i){const u=n.views.get(e._queryIdentifier);if(!u){let m=A1(t,i?r:null),y=!1;m?y=!0:r instanceof Cn?(m=hR(t,r),y=!1):(m=Cn.EMPTY_NODE,y=!1);const E=S1(new Df(m,y,!1),new Df(r,i,!1));return new I8(e,E)}return u}function k3(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Pf(n,e){let t=null;for(const r of n.views.values())t=t||x8(r,e);return t}function O3(n,e){return e._queryParams.loadsAllData()?M1(n):n.views.get(e._queryIdentifier)}function R3(n,e){return null!=O3(n,e)}function Mf(n){return null!=M1(n)}function M1(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let B8=1;class N3{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pr(null),this.pendingWriteTree_=function p8(){return{visibleWrites:Ac.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _R(n,e,t,r,i){return function n8(n,e,t,r,i){(0,fe.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Kb(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?q_(n,new ag({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function kf(n,e,t=!1){const r=function i8(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function s8(n,e){const t=n.allWrites.findIndex(m=>m.writeId===e);(0,fe.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,a=!1,u=n.allWrites.length-1;for(;i&&u>=0;){const m=n.allWrites[u];m.visible&&(u>=t&&o8(m,r.path)?i=!1:Fl(r.path,m.path)&&(a=!0)),u--}return!!i&&(a?(function a8(n){n.visibleWrites=y3(n.allWrites,l8,tr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=p3(n.visibleWrites,r.path):rs(r.children,y=>{n.visibleWrites=p3(n.visibleWrites,Gr(r.path,y))}),!0))}(n.pendingWriteTree_,e)){let a=new Pr(null);return null!=r.snap?a=a.set(tr(),!0):rs(r.children,u=>{a=a.set(new dr(u),!0)}),q_(n,new E1(r.path,a,t))}return[]}function Yb(n,e,t){return q_(n,new ag({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function O1(n,e,t,r,i=!1){const a=e._path,u=n.syncPointTree_.get(a);let m=[];if(u&&("default"===e._queryIdentifier||R3(u,e))){const y=function F8(n,e,t,r){const i=e._queryIdentifier,a=[];let u=[];const m=Mf(n);if("default"===i)for(const[y,E]of n.views.entries())u=u.concat(A3(E,t,r)),I3(E)&&(n.views.delete(y),E.query._queryParams.loadsAllData()||a.push(E.query));else{const y=n.views.get(i);y&&(u=u.concat(A3(y,t,r)),I3(y)&&(n.views.delete(i),y.query._queryParams.loadsAllData()||a.push(y.query)))}return m&&!Mf(n)&&a.push(new(function O8(){return(0,fe.hu)(P1,"Reference.ts has not been loaded"),P1}())(e._repo,e._path)),{removed:a,events:u}}(u,e,t,r);(function R8(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const E=y.removed;if(m=y.events,!i){const F=-1!==E.findIndex(oe=>oe._queryParams.loadsAllData()),q=n.syncPointTree_.findOnPath(a,(oe,pe)=>Mf(pe));if(F&&!q){const oe=n.syncPointTree_.subtree(a);if(!oe.isEmpty()){const pe=function q8(n){return n.fold((e,t,r)=>{if(t&&Mf(t))return[M1(t)];{let i=[];return t&&(i=k3(t)),rs(r,(a,u)=>{i=i.concat(u)}),i}})}(oe);for(let we=0;we<pe.length;++we){const Me=pe[we],Ve=Me.query,rt=B3(n,Me);n.listenProvider_.startListening(Jb(Ve),Qb(n,Ve),rt.hashFn,rt.onComplete)}}}!q&&E.length>0&&!r&&(F?n.listenProvider_.stopListening(Jb(e),null):E.forEach(oe=>{const pe=n.queryToTagMap.get(N1(oe));n.listenProvider_.stopListening(Jb(oe),pe)}))}!function W8(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=N1(r),a=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(a)}}}(n,E)}return m}function F3(n,e,t,r){const i=wR(n,r);if(null!=i){const a=bR(i),u=a.path,m=a.queryId,y=Co(u,e);return CR(n,u,new ag(aR(m),y,t))}return[]}function vR(n,e,t,r=!1){const i=e._path;let a=null,u=!1;n.syncPointTree_.foreachOnPath(i,(oe,pe)=>{const we=Co(oe,i);a=a||Pf(pe,we),u=u||Mf(pe)});let y,m=n.syncPointTree_.get(i);m?(u=u||Mf(m),a=a||Pf(m,tr())):(m=new P3,n.syncPointTree_=n.syncPointTree_.set(i,m)),null!=a?y=!0:(y=!1,a=Cn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((pe,we)=>{const Me=Pf(we,tr());Me&&(a=a.updateImmediateChild(pe,Me))}));const E=R3(m,e);if(!E&&!e._queryParams.loadsAllData()){const oe=N1(e);(0,fe.hu)(!n.queryToTagMap.has(oe),"View does not exist, but we have a tag");const pe=function Z8(){return B8++}();n.queryToTagMap.set(oe,pe),n.tagToQueryMap.set(pe,oe)}let q=function N8(n,e,t,r,i,a){const u=M3(n,e,r,i,a);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function P8(n,e){n.eventRegistrations_.push(e)}(u,t),function M8(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(xr,(a,u)=>{r.push(j_(a,u))}),t.isFullyInitialized()&&r.push(c3(t.getNode())),x3(n,r,t.getNode(),e)}(u,t)}(m,e,t,I1(n.pendingWriteTree_,i),a,y);if(!E&&!u&&!r){const oe=O3(m,e);q=q.concat(function K8(n,e,t){const r=e._path,i=Qb(n,e),a=B3(n,t),u=n.listenProvider_.startListening(Jb(e),i,a.hashFn,a.onComplete),m=n.syncPointTree_.subtree(r);if(i)(0,fe.hu)(!Mf(m.value),"If we're adding a query, it shouldn't be shadowed");else{const y=m.fold((E,F,q)=>{if(!Nn(E)&&F&&Mf(F))return[M1(F).query];{let oe=[];return F&&(oe=oe.concat(k3(F).map(pe=>pe.query))),rs(q,(pe,we)=>{oe=oe.concat(we)}),oe}});for(let E=0;E<y.length;++E){const F=y[E];n.listenProvider_.stopListening(Jb(F),Qb(n,F))}}return u}(n,e,oe))}return q}function R1(n,e,t){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(u,m)=>{const E=Pf(m,Co(u,e));if(E)return E});return _3(i,e,a,t,!0)}function q_(n,e){return L3(e,n.syncPointTree_,null,I1(n.pendingWriteTree_,tr()))}function L3(n,e,t,r){if(Nn(n.path))return V3(n,e,t,r);{const i=e.get(tr());null==t&&null!=i&&(t=Pf(i,tr()));let a=[];const u=Rn(n.path),m=n.operationForChild(u),y=e.children.get(u);if(y&&m){const E=t?t.getImmediateChild(u):null,F=w3(r,u);a=a.concat(L3(m,y,E,F))}return i&&(a=a.concat(yR(i,n,r,t))),a}}function V3(n,e,t,r){const i=e.get(tr());null==t&&null!=i&&(t=Pf(i,tr()));let a=[];return e.children.inorderTraversal((u,m)=>{const y=t?t.getImmediateChild(u):null,E=w3(r,u),F=n.operationForChild(u);F&&(a=a.concat(V3(F,m,y,E)))}),i&&(a=a.concat(yR(i,n,r,t))),a}function B3(n,e){const t=e.query,r=Qb(n,t);return{hashFn:()=>(function A8(n){return n.viewCache_.serverCache.getNode()}(e)||Cn.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function G8(n,e,t){const r=wR(n,t);if(r){const i=bR(r),a=i.path,u=i.queryId,m=Co(a,e);return CR(n,a,new qb(aR(u),m))}return[]}(n,t._path,r):function j8(n,e){return q_(n,new qb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const a=function jq(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return O1(n,t,null,a)}}}}function Qb(n,e){const t=N1(e);return n.queryToTagMap.get(t)}function N1(n){return n._path.toString()+"$"+n._queryIdentifier}function wR(n,e){return n.tagToQueryMap.get(e)}function bR(n){const e=n.indexOf("$");return(0,fe.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new dr(n.substr(0,e))}}function CR(n,e,t){const r=n.syncPointTree_.get(e);return(0,fe.hu)(r,"Missing sync point for query tag that we're tracking"),yR(r,t,I1(n.pendingWriteTree_,e),null)}function Jb(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function V8(){return(0,fe.hu)(k1,"Reference.ts has not been loaded"),k1}())(n._repo,n._path):n}class ER{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ER(t)}node(){return this.node_}}class SR{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Gr(this.path_,e);return new SR(this.syncTree_,t)}node(){return R1(this.syncTree_,this.path_)}}const U3=function(n,e,t){return n&&"object"==typeof n?((0,fe.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Q8(n[".sv"],e,t):"object"==typeof n[".sv"]?J8(n[".sv"],e):void(0,fe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Q8=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,fe.hu)(!1,"Unexpected server value: "+n)},J8=function(n,e,t){n.hasOwnProperty("increment")||(0,fe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,fe.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,fe.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const u=i.getValue();return"number"!=typeof u?r:u+r},H3=function(n,e,t,r){return IR(e,new SR(t,n),r)},TR=function(n,e,t){return IR(n,new ER(e),t)};function IR(n,e,t){const r=n.getPriority().val(),i=U3(r,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const u=n,m=U3(u.getValue(),e,t);return m!==u.getValue()||i!==u.getPriority().val()?new B_(m,Yr(i)):n}{const u=n;return a=u,i!==u.getPriority().val()&&(a=a.updatePriority(new B_(i))),u.forEachChild(xr,(m,y)=>{const E=IR(y,e.getImmediateChild(m),t);E!==y&&(a=a.updateImmediateChild(m,E))}),a}}class AR{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function F1(n,e){let t=e instanceof dr?e:new dr(e),r=n,i=Rn(t);for(;null!==i;){const a=(0,fe.DV)(r.node.children,i)||{children:{},childCount:0};r=new AR(i,r,a),t=wr(t),i=Rn(t)}return r}function ug(n){return n.node.value}function DR(n,e){n.node.value=e,xR(n)}function j3(n){return n.node.childCount>0}function L1(n,e){rs(n.node.children,(t,r)=>{e(new AR(t,n,r))})}function G3(n,e,t,r){t&&!r&&e(n),L1(n,i=>{G3(i,e,!0,r)}),t&&r&&e(n)}function Xb(n){return new dr(null===n.parent?n.name:Xb(n.parent)+"/"+n.name)}function xR(n){null!==n.parent&&function tZ(n,e,t){const r=function X8(n){return void 0===ug(n)&&!j3(n)}(t),i=(0,fe.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,xR(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,xR(n))}(n.parent,n.name,n)}const nZ=/[\[\].#$\/\u0000-\u001F\u007F]/,rZ=/[\[\].#$\u0000-\u001F\u007F]/,PR=10485760,V1=function(n){return"string"==typeof n&&0!==n.length&&!nZ.test(n)},$3=function(n){return"string"==typeof n&&0!==n.length&&!rZ.test(n)},eC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!u1(n)||n&&"object"==typeof n&&(0,fe.r3)(n,".sv")},Pu=function(n,e,t,r){r&&void 0===e||tC((0,fe.gK)(n,"value"),e,t)},tC=function(n,e,t){const r=t instanceof dr?new vW(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+sg(r));if("function"==typeof e)throw new Error(n+"contains a function "+sg(r)+" with contents = "+e.toString());if(u1(e))throw new Error(n+"contains "+e.toString()+" "+sg(r));if("string"==typeof e&&e.length>PR/3&&(0,fe.ug)(e)>PR)throw new Error(n+"contains a string greater than "+PR+" utf8 bytes "+sg(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,a=!1;if(rs(e,(u,m)=>{if(".value"===u)i=!0;else if(".priority"!==u&&".sv"!==u&&(a=!0,!V1(u)))throw new Error(n+" contains an invalid key ("+u+") "+sg(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function wW(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,fe.ug)(e),YU(n)})(r,u),tC(n,m,r),function bW(n){const e=n.parts_.pop();n.byteLength_-=(0,fe.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&a)throw new Error(n+' contains ".value" child '+sg(r)+" in addition to actual children.")}},z3=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,fe.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const a=[];rs(e,(u,m)=>{const y=new dr(u);if(tC(i,m,Gr(t,y)),".priority"===zO(y)&&!eC(m))throw new Error(i+"contains an invalid value for '"+y.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(y)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const a=Bb(r);for(let u=0;u<a.length;u++)if((".priority"!==a[u]||u!==a.length-1)&&!V1(a[u]))throw new Error(n+"contains an invalid key ("+a[u]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(_W);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&Fl(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,a)},MR=function(n,e,t){if(!t||void 0!==e){if(u1(e))throw new Error((0,fe.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!eC(e))throw new Error((0,fe.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},nC=function(n,e,t,r){if(!(r&&void 0===t||V1(t)))throw new Error((0,fe.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},rC=function(n,e,t,r){if(!(r&&void 0===t||$3(t)))throw new Error((0,fe.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vl=function(n,e){if(".info"===Rn(e))throw new Error(n+" failed = Can't modify data under /.info/")},q3=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!V1(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$3(n)}(t))throw new Error((0,fe.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class aZ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function B1(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();null!==t&&!qO(a,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:a}),t.events.push(i)}t&&n.eventLists_.push(t)}function W3(n,e,t){B1(n,t),Z3(n,r=>qO(r,e))}function Ua(n,e,t){B1(n,t),Z3(n,r=>Fl(r,e)||Fl(e,r))}function Z3(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(lZ(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function lZ(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();rg&&ns("event: "+t.toString()),L_(r)}}}const K3="repo_interrupt";class uZ{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aZ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=C1(),this.transactionQueueTree_=new AR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Y3(n){const t=n.infoData_.getNode(new dr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function iC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Y3(n)})}function Q3(n,e,t,r,i){n.dataUpdateCount++;const a=new dr(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(i)if(r){const y=(0,fe.UI)(t,E=>Yr(E));u=function $8(n,e,t,r){const i=wR(n,r);if(i){const a=bR(i),u=a.path,m=a.queryId,y=Co(u,e),E=Pr.fromObject(t);return CR(n,u,new $_(aR(m),y,E))}return[]}(n.serverSyncTree_,a,y,i)}else{const y=Yr(t);u=F3(n.serverSyncTree_,a,y,i)}else if(r){const y=(0,fe.UI)(t,E=>Yr(E));u=function H8(n,e,t){const r=Pr.fromObject(t);return q_(n,new $_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,a,y)}else{const y=Yr(t);u=Yb(n.serverSyncTree_,a,y)}let m=a;u.length>0&&(m=Z_(n,a)),Ua(n.eventQueue_,m,u)}function J3(n,e){kR(n,"connected",e),!1===e&&function mZ(n){W_(n,"onDisconnectEvents");const e=iC(n),t=C1();iR(n.onDisconnect_,tr(),(i,a)=>{const u=H3(i,a,n.serverSyncTree_,e);G_(t,i,u)});let r=[];iR(t,tr(),(i,a)=>{r=r.concat(Yb(n.serverSyncTree_,i,a));const u=FR(n,i);Z_(n,u)}),n.onDisconnect_=C1(),Ua(n.eventQueue_,tr(),r)}(n)}function kR(n,e,t){const r=new dr("/.info/"+e),i=Yr(t);n.infoData_.updateSnapshot(r,i);const a=Yb(n.infoSyncTree_,r,i);Ua(n.eventQueue_,r,a)}function U1(n){return n.nextWriteId_++}function OR(n,e,t,r,i){W_(n,"set",{path:e.toString(),value:t,priority:r});const a=iC(n),u=Yr(t,r),m=R1(n.serverSyncTree_,e),y=TR(u,m,a),E=U1(n),F=_R(n.serverSyncTree_,e,y,E,!0);B1(n.eventQueue_,F),n.server_.put(e.toString(),u.val(!0),(oe,pe)=>{const we="ok"===oe;we||$s("set at "+e+" failed: "+oe);const Me=kf(n.serverSyncTree_,E,!we);Ua(n.eventQueue_,e,Me),Of(0,i,oe,pe)});const q=FR(n,e);Z_(n,q),Ua(n.eventQueue_,q,[])}function gZ(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&rR(n.onDisconnect_,e),Of(0,t,r,i)})}function X3(n,e,t,r){const i=Yr(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(a,u)=>{"ok"===a&&G_(n.onDisconnect_,e,i),Of(0,r,a,u)})}function RR(n,e,t){let r;r=".info"===Rn(e._path)?O1(n.infoSyncTree_,e,t):O1(n.serverSyncTree_,e,t),W3(n.eventQueue_,e._path,r)}function eH(n){n.persistentConnection_&&n.persistentConnection_.interrupt(K3)}function W_(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ns(t,...e)}function Of(n,e,t,r){e&&L_(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let a=i;r&&(a+=": "+r);const u=new Error(a);u.code=i,e(u)}})}function NR(n,e,t){return R1(n.serverSyncTree_,e,t)||Cn.EMPTY_NODE}function H1(n,e=n.transactionQueueTree_){if(e||j1(n,e),ug(e)){const t=nH(n,e);(0,fe.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function CZ(n,e,t){const r=t.map(E=>E.currentWriteId),i=NR(n,e,r);let a=i;const u=i.hash();for(let E=0;E<t.length;E++){const F=t[E];(0,fe.hu)(0===F.status,"tryToSendTransactionQueue_: items in queue should all be run."),F.status=1,F.retryCount++;const q=Co(e,F.path);a=a.updateChild(q,F.currentOutputSnapshotRaw)}const m=a.val(!0),y=e;n.server_.put(y.toString(),m,E=>{W_(n,"transaction put response",{path:y.toString(),status:E});let F=[];if("ok"===E){const q=[];for(let oe=0;oe<t.length;oe++)t[oe].status=2,F=F.concat(kf(n.serverSyncTree_,t[oe].currentWriteId)),t[oe].onComplete&&q.push(()=>t[oe].onComplete(null,!0,t[oe].currentOutputSnapshotResolved)),t[oe].unwatcher();j1(n,F1(n.transactionQueueTree_,e)),H1(n,n.transactionQueueTree_),Ua(n.eventQueue_,e,F);for(let oe=0;oe<q.length;oe++)L_(q[oe])}else{if("datastale"===E)for(let q=0;q<t.length;q++)t[q].status=3===t[q].status?4:0;else{$s("transaction at "+y.toString()+" failed: "+E);for(let q=0;q<t.length;q++)t[q].status=4,t[q].abortReason=E}Z_(n,e)}},u)}(n,Xb(e),t)}else j3(e)&&L1(e,t=>{H1(n,t)})}function Z_(n,e){const t=tH(n,e),r=Xb(t);return function EZ(n,e,t){if(0===e.length)return;const r=[];let i=[];const u=e.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const y=e[m],E=Co(t,y.path);let q,F=!1;if((0,fe.hu)(null!==E,"rerunTransactionsUnderNode_: relativePath should not be null."),4===y.status)F=!0,q=y.abortReason,i=i.concat(kf(n.serverSyncTree_,y.currentWriteId,!0));else if(0===y.status)if(y.retryCount>=25)F=!0,q="maxretry",i=i.concat(kf(n.serverSyncTree_,y.currentWriteId,!0));else{const oe=NR(n,y.path,u);y.currentInputSnapshot=oe;const pe=e[m].update(oe.val());if(void 0!==pe){tC("transaction failed: Data returned ",pe,y.path);let we=Yr(pe);"object"==typeof pe&&null!=pe&&(0,fe.r3)(pe,".priority")||(we=we.updatePriority(oe.getPriority()));const Ve=y.currentWriteId,rt=iC(n),dt=TR(we,oe,rt);y.currentOutputSnapshotRaw=we,y.currentOutputSnapshotResolved=dt,y.currentWriteId=U1(n),u.splice(u.indexOf(Ve),1),i=i.concat(_R(n.serverSyncTree_,y.path,dt,y.currentWriteId,y.applyLocally)),i=i.concat(kf(n.serverSyncTree_,Ve,!0))}else F=!0,q="nodata",i=i.concat(kf(n.serverSyncTree_,y.currentWriteId,!0))}Ua(n.eventQueue_,t,i),i=[],F&&(e[m].status=2,setTimeout(e[m].unwatcher,Math.floor(0)),e[m].onComplete&&r.push("nodata"===q?()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot):()=>e[m].onComplete(new Error(q),!1,null)))}j1(n,n.transactionQueueTree_);for(let m=0;m<r.length;m++)L_(r[m]);H1(n,n.transactionQueueTree_)}(n,nH(n,t),r),r}function tH(n,e){let t,r=n.transactionQueueTree_;for(t=Rn(e);null!==t&&void 0===ug(r);)r=F1(r,t),t=Rn(e=wr(e));return r}function nH(n,e){const t=[];return rH(n,e,t),t.sort((r,i)=>r.order-i.order),t}function rH(n,e,t){const r=ug(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);L1(e,i=>{rH(n,i,t)})}function j1(n,e){const t=ug(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,DR(e,t.length>0?t:void 0)}L1(e,r=>{j1(n,r)})}function FR(n,e){const t=Xb(tH(n,e)),r=F1(n.transactionQueueTree_,e);return function eZ(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{LR(n,i)}),LR(n,r),G3(r,i=>{LR(n,i)}),t}function LR(n,e){const t=ug(e);if(t){const r=[];let i=[],a=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,fe.hu)(a===u-1,"All SENT items should be at beginning of queue."),a=u,t[u].status=3,t[u].abortReason="set"):((0,fe.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),i=i.concat(kf(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&r.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===a?DR(e,void 0):t.length=a+1,Ua(n.eventQueue_,Xb(e),i);for(let u=0;u<r.length;u++)L_(r[u])}}const VR=function(n,e){const t=IZ(n),r=t.namespace;return"firebase.com"===t.domain&&Au(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Au("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&$s("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new BO(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new dr(t.pathString)}},IZ=function(n){let e="",t="",r="",i="",a="",u=!0,m="https",y=443;if("string"==typeof n){let E=n.indexOf("//");E>=0&&(m=n.substring(0,E-1),n=n.substring(E+2));let F=n.indexOf("/");-1===F&&(F=n.length);let q=n.indexOf("?");-1===q&&(q=n.length),e=n.substring(0,Math.min(F,q)),F<q&&(i=function SZ(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(F,q)));const oe=function TZ(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$s(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,q)));E=e.indexOf(":"),E>=0?(u="https"===m||"wss"===m,y=parseInt(e.substring(E+1),10)):E=e.length;const pe=e.slice(0,E);if("localhost"===pe.toLowerCase())t="localhost";else if(pe.split(".").length<=2)t=pe;else{const we=e.indexOf(".");r=e.substring(0,we).toLowerCase(),t=e.substring(we+1),a=r}"ns"in oe&&(a=oe.ns)}return{host:e,port:y,domain:t,subdomain:r,secure:u,scheme:m,pathString:i,namespace:a}};class iH{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,fe.Wl)(this.snapshot.exportVal())}}class sH{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class BR{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,fe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class oH{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new fe.BH;return gZ(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Vl("OnDisconnect.remove",this._path);const e=new fe.BH;return X3(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Vl("OnDisconnect.set",this._path),Pu("OnDisconnect.set",e,this._path,!1);const t=new fe.BH;return X3(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Vl("OnDisconnect.setWithPriority",this._path),Pu("OnDisconnect.setWithPriority",e,this._path,!1),MR("OnDisconnect.setWithPriority",t,!1);const r=new fe.BH;return function yZ(n,e,t,r,i){const a=Yr(t,r);n.server_.onDisconnectPut(e.toString(),a.val(!0),(u,m)=>{"ok"===u&&G_(n.onDisconnect_,e,a),Of(0,i,u,m)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){Vl("OnDisconnect.update",this._path),z3("OnDisconnect.update",e,this._path,!1);const t=new fe.BH;return function _Z(n,e,t,r){if((0,fe.xb)(t))return ns("onDisconnect().update() called with empty data.  Don't do anything."),void Of(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,a)=>{"ok"===i&&rs(t,(u,m)=>{const y=Yr(m);G_(n.onDisconnect_,Gr(e,u),y)}),Of(0,r,i,a)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class la{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Nn(this._path)?null:zO(this._path)}get ref(){return new Bl(this._repo,this._path)}get _queryIdentifier(){const e=d3(this._queryParams),t=FO(e);return"{}"===t?"default":t}get _queryObject(){return d3(this._queryParams)}isEqual(e){if(!((e=(0,fe.m9)(e))instanceof la))return!1;const t=this._repo===e._repo,r=qO(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function yW(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function G1(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Rf(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===xu){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==jd)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==Du)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===xr){if(null!=e&&!eC(e)||null!=t&&!eC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,fe.hu)(n.getIndex()instanceof QO||n.getIndex()===JO,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function $1(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Bl extends la{constructor(e,t){super(e,t,new v1,!1)}get parent(){const e=KU(this._path);return null===e?null:new Bl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class dg{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new dr(e),r=hg(this.ref,e);return new dg(this._node.getChild(t),r,xr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new dg(i,hg(this.ref,r),xr)))}hasChild(e){const t=new dr(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function aH(n,e){return(n=(0,fe.m9)(n))._checkNotDeleted("ref"),void 0!==e?hg(n._root,e):n._root}function lH(n,e){(n=(0,fe.m9)(n))._checkNotDeleted("refFromURL");const t=VR(e,n._repo.repoInfo_.nodeAdmin);q3("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Au("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),aH(n,t.path.toString())}function hg(n,e){return null===Rn((n=(0,fe.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rC("child","path",t,!1)):rC("child","path",e,!1),new Bl(n._repo,Gr(n._path,e));var t}function UR(n,e){n=(0,fe.m9)(n),Vl("set",n._path),Pu("set",e,n._path,!1);const t=new fe.BH;return OR(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function MZ(n,e){z3("update",e,n._path,!1);const t=new fe.BH;return function pZ(n,e,t,r){W_(n,"update",{path:e.toString(),value:t});let i=!0;const a=iC(n),u={};if(rs(t,(m,y)=>{i=!1,u[m]=H3(Gr(e,m),Yr(y),n.serverSyncTree_,a)}),i)ns("update() called with empty data.  Don't do anything."),Of(0,r,"ok",void 0);else{const m=U1(n),y=function U8(n,e,t,r){!function r8(n,e,t,r){(0,fe.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=cR(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=Pr.fromObject(t);return q_(n,new $_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,u,m);B1(n.eventQueue_,y),n.server_.merge(e.toString(),t,(E,F)=>{const q="ok"===E;q||$s("update at "+e+" failed: "+E);const oe=kf(n.serverSyncTree_,m,!q),pe=oe.length>0?Z_(n,e):e;Ua(n.eventQueue_,pe,oe),Of(0,r,E,F)}),rs(t,E=>{const F=FR(n,Gr(e,E));Z_(n,F)}),Ua(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function kZ(n){n=(0,fe.m9)(n);const e=new BR(()=>{}),t=new sC(e);return function fZ(n,e,t){const r=function z8(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(E,F)=>{const q=Co(E,t);r=r||Pf(F,q)});let i=n.syncPointTree_.get(t);i?r=r||Pf(i,tr()):(i=new P3,n.syncPointTree_=n.syncPointTree_.set(t,i));const a=null!=r,u=a?new Df(r,!0,!1):null;return function D8(n){return T1(n.viewCache_)}(M3(i,e,I1(n.pendingWriteTree_,e._path),a?u.getNode():Cn.EMPTY_NODE,a))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const a=Yr(i).withIndex(e._queryParams.getIndex());let u;if(vR(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())u=Yb(n.serverSyncTree_,e._path,a);else{const m=Qb(n.serverSyncTree_,e);u=F3(n.serverSyncTree_,e._path,a,m)}return Ua(n.eventQueue_,e._path,u),O1(n.serverSyncTree_,e,t,null,!0),a},i=>(W_(n,"get for query "+(0,fe.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new dg(r,new Bl(n._repo,n._path),n._queryParams.getIndex()))}class sC{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new iH("value",this,new dg(e.snapshotNode,new Bl(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new sH(this,e,t):null}matches(e){return e instanceof sC&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class z1{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new sH(this,e,t):null}createEvent(e,t){(0,fe.hu)(null!=e.childName,"Child events should have a childName.");const r=hg(new Bl(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new iH(e.type,this,new dg(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof z1&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function oC(n,e,t,r,i){let a;if("object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce){const y=t,E=(F,q)=>{RR(n._repo,n,m),y(F,q)};E.userCallback=t.userCallback,E.context=t.context,t=E}const u=new BR(t,a||void 0),m="value"===e?new sC(u):new z1(e,u);return function vZ(n,e,t){let r;r=".info"===Rn(e._path)?vR(n.infoSyncTree_,e,t):vR(n.serverSyncTree_,e,t),W3(n.eventQueue_,e._path,r)}(n._repo,n,m),()=>RR(n._repo,n,m)}function HR(n,e,t,r){return oC(n,"value",e,t,r)}function cH(n,e,t,r){return oC(n,"child_added",e,t,r)}function uH(n,e,t,r){return oC(n,"child_changed",e,t,r)}function dH(n,e,t,r){return oC(n,"child_moved",e,t,r)}function hH(n,e,t,r){return oC(n,"child_removed",e,t,r)}function fH(n,e,t){let r=null;const i=t?new BR(t):null;"value"===e?r=new sC(i):e&&(r=new z1(e,i)),RR(n._repo,n,r)}class Dc{}class pH extends Dc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Pu("endAt",this._value,e._path,!0);const t=nR(e._queryParams,this._value,this._key);if($1(t),Rf(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new la(e._repo,e._path,t,e._orderByCalled)}}class RZ extends Dc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Pu("endBefore",this._value,e._path,!1);const t=function $W(n,e,t){let r,i;return n.index_===xu?("string"==typeof e&&(e=l3(e)),i=nR(n,e,t)):(r=null==t?jd:l3(t),i=nR(n,e,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if($1(t),Rf(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new la(e._repo,e._path,t,e._orderByCalled)}}class mH extends Dc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Pu("startAt",this._value,e._path,!0);const t=tR(e._queryParams,this._value,this._key);if($1(t),Rf(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new la(e._repo,e._path,t,e._orderByCalled)}}class LZ extends Dc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Pu("startAfter",this._value,e._path,!1);const t=function GW(n,e,t){let r;if(n.index_===xu)"string"==typeof e&&(e=a3(e)),r=tR(n,e,t);else{let i;i=null==t?Du:a3(t),r=tR(n,e,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if($1(t),Rf(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new la(e._repo,e._path,t,e._orderByCalled)}}class BZ extends Dc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new la(e._repo,e._path,function HW(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class HZ extends Dc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new la(e._repo,e._path,function jW(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class GZ extends Dc{constructor(e){super(),this._path=e}_apply(e){G1(e,"orderByChild");const t=new dr(this._path);if(Nn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new QO(t),i=w1(e._queryParams,r);return Rf(i),new la(e._repo,e._path,i,!0)}}class zZ extends Dc{_apply(e){G1(e,"orderByKey");const t=w1(e._queryParams,xu);return Rf(t),new la(e._repo,e._path,t,!0)}}class WZ extends Dc{_apply(e){G1(e,"orderByPriority");const t=w1(e._queryParams,xr);return Rf(t),new la(e._repo,e._path,t,!0)}}class KZ extends Dc{_apply(e){G1(e,"orderByValue");const t=w1(e._queryParams,JO);return Rf(t),new la(e._repo,e._path,t,!0)}}class QZ extends Dc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Pu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new pH(this._value,this._key)._apply(new mH(this._value,this._key)._apply(e))}}function xc(n,...e){let t=(0,fe.m9)(n);for(const r of e)t=r._apply(t);return t}(function k8(n){(0,fe.hu)(!P1,"__referenceConstructor has already been defined"),P1=n})(Bl),function L8(n){(0,fe.hu)(!k1,"__referenceConstructor has already been defined"),k1=n}(Bl);const jR={};function yH(n,e,t,r,i){let a=r||n.options.databaseURL;void 0===a&&(n.options.projectId||Au("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ns("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let y,E,u=VR(a,i),m=u.repoInfo;typeof process<"u"&&process.env&&(E=process.env.FIREBASE_DATABASE_EMULATOR_HOST),E?(y=!0,a=`http://${E}?ns=${m.namespace}`,u=VR(a,i),m=u.repoInfo):y=!u.repoInfo.secure;const F=i&&y?new Vb(Vb.OWNER):new qq(n.name,n.options,e);q3("Invalid Firebase Database URL",u),Nn(u.path)||Au("Database URL must point to the root of a Firebase Database (not including a child path).");const q=function nK(n,e,t,r){let i=jR[e.name];i||(i={},jR[e.name]=i);let a=i[n.toURLString()];return a&&Au("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new uZ(n,false,t,r),i[n.toURLString()]=a,a}(m,n,F,new zq(n.name,t));return new iK(q,n)}class iK{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function dZ(n,e,t){if(n.stats_=jO(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new b1(n.repoInfo_,(r,i,a,u)=>{Q3(n,r,i,a,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>J3(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,fe.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new og(n.repoInfo_,e,(r,i,a,u)=>{Q3(n,r,i,a,u)},r=>{J3(n,r)},r=>{!function hZ(n,e){rs(e,(t,r)=>{kR(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Kq(n,e){const t=n.toString();return HO[t]||(HO[t]=e()),HO[t]}(n.repoInfo_,()=>new YW(n.stats_,n.server_)),n.infoData_=new zW,n.infoSyncTree_=new N3({startListening:(r,i,a,u)=>{let m=[];const y=n.infoData_.getNode(r._path);return y.isEmpty()||(m=Yb(n.infoSyncTree_,r._path,y),setTimeout(()=>{u("ok")},0)),m},stopListening:()=>{}}),kR(n,"connected",!1),n.serverSyncTree_=new N3({startListening:(r,i,a,u)=>(n.server_.listen(r,a,i,(m,y)=>{const E=u(m,y);Ua(n.eventQueue_,r._path,E)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bl(this._repo,tr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function tK(n,e){const t=jR[e];(!t||t[n.key]!==n)&&Au(`Database ${e}(${n.repoInfo_}) has already been deleted.`),eH(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Au("Cannot call "+e+" on a deleted database.")}}function _H(){LU.IS_TRANSPORT_INITIALIZED&&$s("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function sK(){_H(),If.forceDisallow()}function oK(){_H(),V_.forceDisallow(),If.forceAllow()}function cK(n,e){yU(n,e)}const dK={".sv":"timestamp"};class pK{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}og.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},og.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function uK(n){hU(bs.SDK_VERSION),(0,bs._registerComponent)(new Oa.wA("database",(e,{instanceIdentifier:t})=>yH(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,bs.registerVersion)(uU,dU,n),(0,bs.registerVersion)(uU,dU,"esm2017")}();const _K=new ra.Yd("@firebase/database-compat"),wH=function(n){_K.warn("FIREBASE WARNING: "+n)};class bK{constructor(e){this._delegate=e}cancel(e){(0,fe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,fe.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,fe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,fe.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,fe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,fe.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,fe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,fe.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),a=>r(a)),i}update(e,t){if((0,fe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let a=0;a<e.length;++a)i[""+a]=e[a];e=i,wH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,fe.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class CK{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,fe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Nf{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,fe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,fe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,fe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,fe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,fe.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),rC("DataSnapshot.child","path",e,!1),new Nf(this._database,this._delegate.child(e))}hasChild(e){return(0,fe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),rC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,fe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,fe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,fe.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Nf(this._database,t)))}hasChildren(){return(0,fe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,fe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,fe.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ha(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Is{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var a;(0,fe.Dv)("Query.on",2,4,arguments.length),(0,fe.Wj)("Query.on","callback",t,!1);const u=Is.getCancelAndContextArgs_("Query.on",r,i),m=(E,F)=>{t.call(u.context,new Nf(this.database,E),F)};m.userCallback=t,m.context=u.context;const y=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return HR(this._delegate,m,y),t;case"child_added":return cH(this._delegate,m,y),t;case"child_removed":return hH(this._delegate,m,y),t;case"child_changed":return uH(this._delegate,m,y),t;case"child_moved":return dH(this._delegate,m,y),t;default:throw new Error((0,fe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,fe.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,fe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,fe.Wj)("Query.off","callback",t,!0),(0,fe.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,fH(this._delegate,e,i)}else fH(this._delegate,e)}get(){return kZ(this._delegate).then(e=>new Nf(this.database,e))}once(e,t,r,i){(0,fe.Dv)("Query.once",1,4,arguments.length),(0,fe.Wj)("Query.once","callback",t,!0);const a=Is.getCancelAndContextArgs_("Query.once",r,i),u=new fe.BH,m=(E,F)=>{const q=new Nf(this.database,E);t&&t.call(a.context,q,F),u.resolve(q)};m.userCallback=t,m.context=a.context;const y=E=>{a.cancel&&a.cancel.call(a.context,E),u.reject(E)};switch(e){case"value":HR(this._delegate,m,y,{onlyOnce:!0});break;case"child_added":cH(this._delegate,m,y,{onlyOnce:!0});break;case"child_removed":hH(this._delegate,m,y,{onlyOnce:!0});break;case"child_changed":uH(this._delegate,m,y,{onlyOnce:!0});break;case"child_moved":dH(this._delegate,m,y,{onlyOnce:!0});break;default:throw new Error((0,fe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,fe.Dv)("Query.limitToFirst",1,1,arguments.length),new Is(this.database,xc(this._delegate,function UZ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new BZ(n)}(e)))}limitToLast(e){return(0,fe.Dv)("Query.limitToLast",1,1,arguments.length),new Is(this.database,xc(this._delegate,function jZ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new HZ(n)}(e)))}orderByChild(e){return(0,fe.Dv)("Query.orderByChild",1,1,arguments.length),new Is(this.database,xc(this._delegate,function $Z(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rC("orderByChild","path",n,!1),new GZ(n)}(e)))}orderByKey(){return(0,fe.Dv)("Query.orderByKey",0,0,arguments.length),new Is(this.database,xc(this._delegate,function qZ(){return new zZ}()))}orderByPriority(){return(0,fe.Dv)("Query.orderByPriority",0,0,arguments.length),new Is(this.database,xc(this._delegate,function ZZ(){return new WZ}()))}orderByValue(){return(0,fe.Dv)("Query.orderByValue",0,0,arguments.length),new Is(this.database,xc(this._delegate,function YZ(){return new KZ}()))}startAt(e=null,t){return(0,fe.Dv)("Query.startAt",0,2,arguments.length),new Is(this.database,xc(this._delegate,function FZ(n=null,e){return nC("startAt","key",e,!0),new mH(n,e)}(e,t)))}startAfter(e=null,t){return(0,fe.Dv)("Query.startAfter",0,2,arguments.length),new Is(this.database,xc(this._delegate,function VZ(n,e){return nC("startAfter","key",e,!0),new LZ(n,e)}(e,t)))}endAt(e=null,t){return(0,fe.Dv)("Query.endAt",0,2,arguments.length),new Is(this.database,xc(this._delegate,function OZ(n,e){return nC("endAt","key",e,!0),new pH(n,e)}(e,t)))}endBefore(e=null,t){return(0,fe.Dv)("Query.endBefore",0,2,arguments.length),new Is(this.database,xc(this._delegate,function NZ(n,e){return nC("endBefore","key",e,!0),new RZ(n,e)}(e,t)))}equalTo(e,t){return(0,fe.Dv)("Query.equalTo",1,2,arguments.length),new Is(this.database,xc(this._delegate,function JZ(n,e){return nC("equalTo","key",e,!0),new QZ(n,e)}(e,t)))}toString(){return(0,fe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,fe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,fe.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Is))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,fe.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,fe.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,fe.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new Ha(this.database,new Bl(this._delegate._repo,this._delegate._path))}}class Ha extends Is{constructor(e,t){super(e,new la(t._repo,t._path,new v1,!1)),this.database=e,this._delegate=t}getKey(){return(0,fe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,fe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ha(this.database,hg(this._delegate,e))}getParent(){(0,fe.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ha(this.database,e):null}getRoot(){return(0,fe.Dv)("Reference.root",0,0,arguments.length),new Ha(this.database,this._delegate.root)}set(e,t){(0,fe.Dv)("Reference.set",1,2,arguments.length),(0,fe.Wj)("Reference.set","onComplete",t,!0);const r=UR(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,fe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let a=0;a<e.length;++a)i[""+a]=e[a];e=i,wH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vl("Reference.update",this._delegate._path),(0,fe.Wj)("Reference.update","onComplete",t,!0);const r=MZ(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,fe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,fe.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function PZ(n,e,t){if(Vl("setWithPriority",n._path),Pu("setWithPriority",e,n._path,!1),MR("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new fe.BH;return OR(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),a=>r(a)),i}remove(e){(0,fe.Dv)("Reference.remove",0,1,arguments.length),(0,fe.Wj)("Reference.remove","onComplete",e,!0);const t=function DZ(n){return Vl("remove",n._path),UR(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,fe.Dv)("Reference.transaction",1,3,arguments.length),(0,fe.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,fe.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,fe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function mK(n,e,t){var r;if(n=(0,fe.m9)(n),Vl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=t?.applyLocally)||void 0===r||r,a=new fe.BH,m=HR(n,()=>{});return function bZ(n,e,t,r,i,a){W_(n,"transaction on "+e);const u={path:e,update:t,onComplete:r,status:null,order:pU(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=NR(n,e,void 0);u.currentInputSnapshot=m;const y=u.update(m.val());if(void 0===y)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{tC("transaction failed: Data returned ",y,u.path),u.status=0;const E=F1(n.transactionQueueTree_,e),F=ug(E)||[];let q;F.push(u),DR(E,F),"object"==typeof y&&null!==y&&(0,fe.r3)(y,".priority")?(q=(0,fe.DV)(y,".priority"),(0,fe.hu)(eC(q),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):q=(R1(n.serverSyncTree_,e)||Cn.EMPTY_NODE).getPriority().val();const oe=iC(n),pe=Yr(y,q),we=TR(pe,m,oe);u.currentOutputSnapshotRaw=pe,u.currentOutputSnapshotResolved=we,u.currentWriteId=U1(n);const Me=_R(n.serverSyncTree_,e,we,u.currentWriteId,u.applyLocally);Ua(n.eventQueue_,e,Me),H1(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(y,E,F)=>{let q=null;y?a.reject(y):(q=new dg(F,new Bl(n._repo,n._path),xr),a.resolve(new pK(E,q)))},m,i),a.promise}(this._delegate,e,{applyLocally:r}).then(a=>new CK(a.committed,new Nf(this.database,a.snapshot)));return t&&i.then(a=>t(null,a.committed,a.snapshot),a=>t(a,!1,null)),i}setPriority(e,t){(0,fe.Dv)("Reference.setPriority",1,2,arguments.length),(0,fe.Wj)("Reference.setPriority","onComplete",t,!0);const r=function xZ(n,e){n=(0,fe.m9)(n),Vl("setPriority",n._path),MR("setPriority",e,!1);const t=new fe.BH;return OR(n._repo,Gr(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,fe.Dv)("Reference.push",0,2,arguments.length),(0,fe.Wj)("Reference.push","onComplete",t,!0);const r=function AZ(n,e){n=(0,fe.m9)(n),Vl("push",n._path),Pu("push",e,n._path,!0);const t=Y3(n._repo),r=LW(t),i=hg(n,r),a=hg(n,r);let u;return u=null!=e?UR(a,e).then(()=>a):Promise.resolve(a),i.then=u.then.bind(u),i.catch=u.then.bind(u,void 0),i}(this._delegate,e),i=r.then(u=>new Ha(this.database,u));t&&i.then(()=>t(null),u=>t(u));const a=new Ha(this.database,r);return a.then=i.then.bind(i),a.catch=i.catch.bind(i,void 0),a}onDisconnect(){return Vl("Reference.onDisconnect",this._delegate._path),new bK(new oH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class aC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:sK,forceLongPolling:oK}}useEmulator(e,t,r={}){!function vH(n,e,t,r={}){(n=(0,fe.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Au("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Au('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Vb(Vb.OWNER);else if(r.mockUserToken){const u="string"==typeof r.mockUserToken?r.mockUserToken:(0,fe.Sg)(r.mockUserToken,n.app.options.projectId);a=new Vb(u)}!function eK(n,e,t,r){n.repoInfo_=new BO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,a)}(this._delegate,e,t,r)}ref(e){if((0,fe.Dv)("database.ref",0,1,arguments.length),e instanceof Ha){const t=lH(this._delegate,e.toString());return new Ha(this,t)}{const t=aH(this._delegate,e);return new Ha(this,t)}}refFromURL(e){(0,fe.Dv)("database.refFromURL",1,1,arguments.length);const r=lH(this._delegate,e);return new Ha(this,r)}goOffline(){return(0,fe.Dv)("database.goOffline",0,0,arguments.length),function aK(n){(n=(0,fe.m9)(n))._checkNotDeleted("goOffline"),eH(n._repo)}(this._delegate)}goOnline(){return(0,fe.Dv)("database.goOnline",0,0,arguments.length),function lK(n){(n=(0,fe.m9)(n))._checkNotDeleted("goOnline"),function wZ(n){n.persistentConnection_&&n.persistentConnection_.resume(K3)}(n._repo)}(this._delegate)}}aC.ServerValue={TIMESTAMP:function hK(){return dK}(),increment:n=>function fK(n){return{".sv":{increment:n}}}(n)};var SK=Object.freeze({__proto__:null,initStandalone:function EK({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:a=!1}){hU(t);const u=new Oa.zt("auth-internal",new Oa.H0("database-standalone"));return u.setComponent(new Oa.wA("auth-internal",()=>r,"PRIVATE")),{instance:new aC(yH(n,u,void 0,e,a),n),namespace:i}}});const TK=aC.ServerValue;function bH(n){return null==n}function CH(n){return"function"==typeof n.set}function EH(n,e){return CH(e)?e:n.ref(e)}function SH(n,e){if(function AK(n){return"string"==typeof n}(n))return e.stringCase();if(CH(n))return e.firebaseCase();if(function DK(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function lC(n,e,t="on",r=sw.z){return new Il.y(i=>{let a=null;return a=n[t](e,(u,m)=>{r.schedule(()=>{i.next({snapshot:u,prevKey:m})}),"once"===t&&r.schedule(()=>i.complete())},u=>{r.schedule(()=>i.error(u))}),"on"===t?{unsubscribe(){null!=a&&n.off(e,a)}}:{unsubscribe(){}}}).pipe((0,Zt.U)(i=>{const{snapshot:a,prevKey:u}=i;let m=null;return a.exists()&&(m=a.key),{type:e,payload:a,prevKey:u,key:m}}),(0,UV.B)())}function TH(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function MK(n,e){const{payload:t,prevKey:r,key:i}=e,a=TH(n,i),u=function PK(n,e){if(bH(e))return 0;{const t=TH(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let m=null;e.payload.forEach(y=>{const E={payload:y,type:"value",prevKey:m,key:y.key};return m=y.key,n=[...n,E],!1})}return n;case"child_added":if(a>-1){const m=n[a-1];(m&&m.key||null)!==r&&(n=n.filter(y=>y.payload.key!==t.key)).splice(u,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(m=>m.payload.key!==t.key);case"child_changed":return n.map(m=>m.payload.key===i?e:m);case"child_moved":if(a>-1){const m=n.splice(a,1)[0];return(n=n.slice()).splice(u,0,m),n}return n;default:return n}}function IH(n){return(bH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function AH(n,e,t){return function xK(n,e,t){return lC(n,"value","once",t).pipe(Ir(r=>{const i=[Pt(r)];return e.forEach(a=>i.push(lC(n,a,"on",t))),(0,jk.T)(...i).pipe(_d(MK,[]))}),ow())}(n,e=IH(e),t)}function DH(n,e,t){const r=(e=IH(e)).map(i=>lC(n,i,"on",t));return(0,jk.T)(...r)}function xH(n,e){return function(r,i){return SH(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function NK(n){return function(t){return t?SH(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function PH(n,e){return function(){return lC(n,"value","on",e)}}!function IK(n){n.INTERNAL.registerComponent(new Oa.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new aC(i,r)},"PUBLIC").setServiceProps({Reference:Ha,Query:Is,Database:aC,DataSnapshot:Nf,enableLogging:cK,INTERNAL:SK,ServerValue:TK}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(mT.Z);const VK=new s.OlP("angularfire2.realtimeDatabaseURL"),BK=new s.OlP("angularfire2.database.use-emulator");let UK=(()=>{class n{constructor(t,r,i,a,u,m,y,E,F,q,oe,pe,we,Me,Ve){this.schedulers=m;const rt=y,dt=(0,Ur.on)(t,u,r);E&&mO(dt,u,F,oe,pe,we,q,Me),this.database=(0,Ur.cc)(`${dt.name}.database.${i}`,"AngularFireDatabase",dt.name,()=>{const ht=u.runOutsideAngular(()=>dt.database(i||void 0));return rt&&ht.useEmulator(...rt),ht},[rt])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>EH(this.database,t));let a=i;return r&&(a=r(i)),function FK(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:xH(r,"update"),set:xH(r,"set"),push:i=>r.push(i),remove:NK(r),snapshotChanges:i=>AH(n,i,t).pipe(qn.iC),stateChanges:i=>DH(n,i,t).pipe(qn.iC),auditTrail:i=>function kK(n,e,t){return function RK(n,e,t){return function OK(n,e){return lC(n,"value","on",e).pipe((0,Zt.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function Oq(...n){const e=(0,ad.jO)(n);return(0,ni.e)((t,r)=>{const i=n.length,a=new Array(i);let u=n.map(()=>!1),m=!1;for(let y=0;y<i;y++)(0,vp.Xf)(n[y]).subscribe((0,ti.x)(r,E=>{a[y]=E,!m&&!u[y]&&(u[y]=!0,(m=u.every(Sh.y))&&(u=null))},kq.Z));t.subscribe((0,ti.x)(r,y=>{if(m){const E=[y,...a];r.next(e?e(...E):E)}}))})}(e),(0,Zt.U)(([i,a])=>{const u=i.lastKeyToLoad,m=a.map(y=>y.key);return{actions:a,lastKeyToLoad:u,loadedKeys:m}}),function Rq(n){return(0,ni.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,ti.x)(t,a=>(r||(r=!n(a,i++)))&&t.next(a)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,Zt.U)(i=>i.actions))}(n,DH(n,e).pipe(_d((i,a)=>[...i,a],[])),t)}(n,i,t).pipe(qn.iC),valueChanges:(i,a)=>AH(n,i,t).pipe((0,Zt.U)(m=>m.map(y=>a&&a.idField?Object.assign(Object.assign({},y.payload.val()),{[a.idField]:y.key}):y.payload.val())),qn.iC)}}(a,this)}object(t){return function LK(n,e){return{query:n,snapshotChanges:()=>PH(n,e.schedulers.outsideAngular)().pipe(qn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>PH(n,e.schedulers.outsideAngular)().pipe(qn.iC,(0,Zt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>EH(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ur.Dh),s.LFG(Ur.xv,8),s.LFG(VK,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(qn.HU),s.LFG(BK,8),s.LFG(xb,8),s.LFG(cO,8),s.LFG(uO,8),s.LFG(dO,8),s.LFG(hO,8),s.LFG(fO,8),s.LFG(pO,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HK=(()=>{class n{constructor(){XI.Z.registerVersion("angularfire",qn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[UK]}),n})();const GR={...GR,production:!0},GK={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function MH(n){return n.startsWith("#")?4===n.length?`#${n[1]}${n[1]}${n[2]}${n[2]}${n[3]}${n[3]}`:n:GK[n.toLowerCase()]||"#000000"}function kH(n){return n.split(",").filter(t=>t).map(t=>t.split(":")).filter(t=>2==t.length).reduce((t,r)=>(t[r[0].toLowerCase()]=MH(r[1]),t),{})}function $K(n){return JSON.parse(JSON.stringify(n))}function fi(n){return null==n}function $R(n){return null!==n&&"object"==typeof n}function K_(n,e,t){const r=Array.isArray(e)?e:e.split(".");let i=n;for(const a of r){if(!$R(i)||!(a in i))return t;i=i[a]}return void 0===i?t:i}function $d(n,e,t){let r=n;const i=Array.isArray(e)?e:e.split(".");for(let a=0;a<i.length;++a)a===i.length-1?r[i[a]]=t:r=r[i[a]]}const zK="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,OH=":host{position:relative;display:inline-block;width:32px;height:32px}:host(.current-color) svg path[fill]{fill:currentColor}:host(.current-color) svg path[stroke]{stroke:currentColor}:host(:not(.current-color)) svg .primary path[fill]{fill:var(--lord-icon-primary, var(--lord-icon-primary-base))}:host(:not(.current-color)) svg .primary path[stroke]{stroke:var(--lord-icon-primary, var(--lord-icon-primary-base))}:host(:not(.current-color)) svg .secondary path[fill]{fill:var(--lord-icon-secondary, var(--lord-icon-secondary-base))}:host(:not(.current-color)) svg .secondary path[stroke]{stroke:var(--lord-icon-secondary, var(--lord-icon-secondary-base))}svg{position:absolute;pointer-events:none;display:block}";let q1;const qK=["colors","src","icon","state","trigger","loading","target","stroke","scale","axis-x","axis-y"],ku=class extends HTMLElement{constructor(){super(...arguments),wn(this,"_root"),wn(this,"_isConnected",!1),wn(this,"_isReady",!1),wn(this,"_triggerInstance"),wn(this,"_assignedIconData"),wn(this,"_loadedIconData"),wn(this,"_player"),wn(this,"_intersectionObserver")}static get version(){return"4.0.0"}static get observedAttributes(){return qK}static setIconLoader(t){ku._iconLoader=t}static setPlayerFactory(t){ku._playerFactory=t}static defineTrigger(t,r){ku._definedTriggers.set(t,r)}attributeChangedCallback(t,r,i){switch(t){case"axis-x":this.axisXChanged();break;case"axis-y":this.axisYChanged();break;default:this[`${t}Changed`].call(this)}}connectedCallback(){this._root||this.createElements(),"lazy"===this.loading?(this._intersectionObserver=new IntersectionObserver((r,i)=>{r.forEach(a=>{a.isIntersecting&&this._intersectionObserver&&(this._intersectionObserver.unobserve(this),this._intersectionObserver=void 0,this.createPlayer())})}),this._intersectionObserver.observe(this)):this.createPlayer(),this._isConnected=!0}disconnectedCallback(){this._intersectionObserver&&(this._intersectionObserver.unobserve(this),this._intersectionObserver=void 0),this.destroyPlayer(),this._isConnected=!1}createElements(){if(this._root=this.attachShadow({mode:"open"}),zK)q1||(q1=new CSSStyleSheet,q1.replaceSync(OH)),this._root.adoptedStyleSheets=[q1];else{const r=document.createElement("style");r.innerHTML=OH,this._root.appendChild(r)}const t=document.createElement("div");t.classList.add("body"),this._root.appendChild(t)}createPlayer(){var t=this;return(0,He.Z)(function*(){if(!ku._playerFactory)throw new Error("Missing player loader!");if(t._intersectionObserver)return;const r=yield t.loadIconData();!r||(t._player=ku._playerFactory(t.animationContainer,r),t._player.connect(),(t.state||t.colors||t.stroke||t.scale||t.axisX||t.axisY)&&t.player.resetProperties({colors:kH(t.colors||""),stroke:t.stroke,scale:t.scale,state:t.state,axis:fi(t.axisX)&&fi(t.axisY)?null:{x:fi(t.axisX)?50:t.axisX,y:fi(t.axisY)?50:t.axisY}}),t._player.addEventListener("ready",()=>{t._triggerInstance&&t._triggerInstance.onReady&&t._triggerInstance.onReady()}),t._player.addEventListener("refresh",()=>{t.refresh(),t._triggerInstance&&t._triggerInstance.onRefresh&&t._triggerInstance.onRefresh()}),t._player.addEventListener("complete",()=>{t._triggerInstance&&t._triggerInstance.onComplete&&t._triggerInstance.onComplete()}),t._player.addEventListener("frame",()=>{t._triggerInstance&&t._triggerInstance.onFrame&&t._triggerInstance.onFrame()}),t.refresh(),t.triggerChanged(),yield new Promise((i,a)=>{t._player.isReady?i():t._player.addEventListener("ready",i)}),t._isReady=!0,t.dispatchEvent(new CustomEvent("ready")))})()}destroyPlayer(){this._isReady=!1,this._loadedIconData=void 0,this._triggerInstance&&(this._triggerInstance.onDisconnected&&this._triggerInstance.onDisconnected(),this._triggerInstance=void 0),this._player&&(this._player.disconnect(),this._player=void 0)}loadIconData(){var t=this;return(0,He.Z)(function*(){let r=t.iconData;if(!r)if(t.icon&&ku._iconLoader)t._loadedIconData=r=yield ku._iconLoader(t.icon);else if(t.src){const i=yield fetch(t.src);t._loadedIconData=r=yield i.json()}return r})()}refresh(){this.movePaletteToCssVariables()}movePaletteToCssVariables(){for(const[t,r]of Object.entries(this.player.colors||{}))this.animationContainer.style.setProperty(`--lord-icon-${t}-base`,r)}targetChanged(){this.triggerChanged()}loadingChanged(){}triggerChanged(){if(this._triggerInstance&&(this._triggerInstance.onDisconnected&&this._triggerInstance.onDisconnected(),this._triggerInstance=void 0),!this.trigger||!this._player)return;const t=ku._definedTriggers.get(this.trigger);if(!t)throw new Error("Can't use unregistered trigger!");const r=this.target?this.closest(this.target):null;this._triggerInstance=new t(this,r||this,this._player),this._triggerInstance.onConnected&&this._triggerInstance.onConnected(),this._player.isReady&&this._triggerInstance.onReady&&this._triggerInstance.onReady()}colorsChanged(){!this.player||(this.player.colors=kH(this.colors||""))}strokeChanged(){!this.player||(this.player.stroke=this.stroke)}stateChanged(){!this.player||(this.player.state=this.state)}scaleChanged(){!this.player||(this.player.scale=this.scale)}axisXChanged(){!this.player||(this.player.axis={x:fi(this.axisX)?50:this.axisX,y:fi(this.axisY)?50:this.axisX})}axisYChanged(){!this.player||(this.player.axis={x:fi(this.axisX)?50:this.axisX,y:fi(this.axisY)?50:this.axisY})}iconChanged(){!this._isConnected||(this.destroyPlayer(),this.createPlayer())}srcChanged(){!this._isConnected||(this.destroyPlayer(),this.createPlayer())}set icon(t){if(t&&$R(t))this._assignedIconData!==t&&(this._assignedIconData=t,this.hasAttribute("icon")?this.removeAttribute("icon"):this.iconChanged());else{const r=this._assignedIconData;this._assignedIconData=void 0,t&&"string"==typeof t?this.setAttribute("icon",t):(this.removeAttribute("icon"),r&&this.iconChanged())}}get icon(){return this._assignedIconData||this.getAttribute("icon")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get src(){return this.getAttribute("src")}set state(t){t?this.setAttribute("state",t):this.removeAttribute("state")}get state(){return this.getAttribute("state")}set colors(t){t?this.setAttribute("colors",t):this.removeAttribute("colors")}get colors(){return this.getAttribute("colors")}set trigger(t){t?this.setAttribute("trigger",t):this.removeAttribute("trigger")}get trigger(){return this.getAttribute("trigger")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get loading(){return this.getAttribute("loading")&&"lazy"===this.getAttribute("loading").toLowerCase()?"lazy":null}set target(t){t?this.setAttribute("target",t):this.removeAttribute("target")}get target(){return this.getAttribute("target")}set stroke(t){fi(t)?this.removeAttribute("stroke"):this.setAttribute("stroke",""+t)}get stroke(){return this.hasAttribute("stroke")?parseFloat(this.getAttribute("stroke")):null}set scale(t){fi(t)?this.removeAttribute("scale"):this.setAttribute("scale",""+t)}get scale(){return this.hasAttribute("scale")?parseFloat(this.getAttribute("scale")):null}set axisX(t){fi(t)?this.removeAttribute("axis-x"):this.setAttribute("axis-x",""+t)}get axisX(){return this.hasAttribute("axis-x")?parseFloat(this.getAttribute("axis-x")):null}set axisY(t){fi(t)?this.removeAttribute("axis-y"):this.setAttribute("axis-y",""+t)}get axisY(){return this.hasAttribute("axis-y")?parseFloat(this.getAttribute("axis-y")):null}get player(){return this._player}get isReady(){return this._isReady}get triggerInstance(){return this._triggerInstance}get animationContainer(){return this._root.lastElementChild}get iconData(){return this._assignedIconData||this._loadedIconData}};let ja=ku;function zR(n){const e=n.toString(16);return 1==e.length?"0"+e:e}function Q_(n){return Math.round(n/255*1e3)/1e3}function qR(n){return Math.round(255*n)}function KK(n){const{r:e,g:t,b:r}=function ZK(n){let e=parseInt("#"!=n[0]?n:n.substring(1),16);return{r:e>>16&255,g:e>>8&255,b:255&e}}(n);return[Q_(e),Q_(t),Q_(r)]}function YK(n){return function WK(n){return"#"+zR(n.r)+zR(n.g)+zR(n.b)}({r:qR(n[0]),g:qR(n[1]),b:qR(n[2])})}function Ul(n,e){for(const t of e)$d(n,t.path,t.value)}function Ga(n,e,t,{scale:r}={}){for(const i of e)if("color"===i.type)"object"==typeof t&&"r"in t&&"g"in t&&"b"in t?$d(n,i.path,[Q_(t.r),Q_(t.g),Q_(t.b)]):Array.isArray(t)?$d(n,i.path,t):"string"==typeof t&&$d(n,i.path,KK(MH(t)));else if("point"===i.type){let a=1;r&&(a=(i.value[0]+i.value[1])/2/r),"object"==typeof t&&"x"in t&&"y"in t?($d(n,i.path+".0",t.x*a),$d(n,i.path+".1",t.y*a)):Array.isArray(t)&&($d(n,i.path+".0",t[0]*a),$d(n,i.path+".1",t[1]*a))}else{let a=1;r&&(a=i.value/r),$d(n,i.path,t*a)}}wn(ja,"_iconLoader"),wn(ja,"_playerFactory"),wn(ja,"_definedTriggers",new Map);const zd="state-",JK={renderer:"svg",loop:!1,autoplay:!1,rendererSettings:{preserveAspectRatio:"xMidYMid meet",progressiveLoad:!0,hideOnTransparent:!0}};function XK(){return new Proxy(this,{set:(n,e,t,r)=>("string"==typeof e&&(t?Ga(this.lottie,this.rawProperties.filter(i=>"color"===i.type&&i.name===e.toLowerCase()),t):Ul(this.lottie,this.rawProperties.filter(i=>"color"===i.type&&i.name===e.toLowerCase())),n.refresh()),!0),get:(n,e,t)=>{for(const r of n.rawProperties)if("color"==r.type&&"string"==typeof e&&e.toLowerCase()==r.name)return YK(K_(this.lottie,r.path))},deleteProperty:(n,e)=>("string"==typeof e&&(Ul(this.lottie,this.rawProperties.filter(t=>"color"===t.type&&t.name===e.toLowerCase())),n.refresh()),!0),ownKeys:n=>n.rawProperties.filter(e=>"color"==e.type).map(e=>e.name),has:(n,e)=>{for(const t of n.rawProperties)if("color"==t.type&&"string"==typeof e&&e.toLowerCase()==t.name)return!0;return!1},getOwnPropertyDescriptor:n=>({enumerable:!0,configurable:!0})})}class e7{constructor(e,t,r,i){wn(this,"_animationLoader"),wn(this,"_container"),wn(this,"_iconData"),wn(this,"_options"),wn(this,"_lottie"),wn(this,"_isReady",!1),wn(this,"_colorsProxy"),wn(this,"_direction",1),wn(this,"_speed",1),wn(this,"_rawProperties"),wn(this,"_eventCallbacks",{}),this._animationLoader=e,this._container=t,this._iconData=r,this._options=i||JK}connect(){if(this._lottie)throw new Error("Already connected player!");this._lottie=this._animationLoader({...this._options,container:this._container,animationData:$K(this._iconData)}),this._lottie.addEventListener("complete",()=>{this.triggerEvent("complete")}),this._lottie.addEventListener("loopComplete",()=>{this.triggerEvent("complete")}),this._lottie.addEventListener("enterFrame",e=>{this.triggerEvent("frame")}),this._lottie.isLoaded?(this._isReady=!0,this.triggerEvent("ready")):this._lottie.addEventListener("config_ready",()=>{this._isReady=!0,this.triggerEvent("ready")})}disconnect(){if(!this._lottie)throw new Error("Not connected player!");this._isReady=!1,this._lottie.destroy(),this._lottie=void 0,this._colorsProxy=void 0,this._rawProperties=void 0}addEventListener(e,t){return this._eventCallbacks[e]||(this._eventCallbacks[e]=[]),this._eventCallbacks[e].push(t),()=>{this.removeEventListener(e,t)}}removeEventListener(e,t){if(t){if(this._eventCallbacks[e]){let r=0,i=this._eventCallbacks[e].length;for(;r<i;)this._eventCallbacks[e][r]===t&&(this._eventCallbacks[e].splice(r,1),r-=1,i-=1),r+=1;this._eventCallbacks[e].length||(this._eventCallbacks[e]=null)}}else this._eventCallbacks[e]=null}triggerEvent(e,t){if(this._eventCallbacks[e]){const r=this._eventCallbacks[e];for(let i=0;i<r.length;i+=1)r[i](t)}}refresh(){this._lottie?.renderer.renderFrame(null),this.triggerEvent("refresh")}play(){this._lottie.play()}playFromBegining(){this._lottie.goToAndPlay(0)}pause(){this._lottie.pause()}stop(){this._lottie.stop()}goToFrame(e){this._lottie.goToAndStop(e,!0)}goToFirstFrame(){this.goToFrame(0)}goToLastFrame(){this.goToFrame(Math.max(0,this._lottie.getDuration(!0)-1))}resetProperties(e={}){if(!e||"object"!=typeof e)return;const t=!!this._rawProperties;if(t&&Ul(this._lottie,this.rawProperties.filter(r=>"color"===r.type)),e.colors&&!fi(e.colors))for(const[r,i]of Object.entries(e.colors))Ga(this._lottie,this.rawProperties.filter(a=>"color"===a.type&&a.name===r.toLowerCase()),i);if(t&&Ul(this._lottie,this.rawProperties.filter(r=>r.name.startsWith(zd))),!fi(e.state)&&e.state){const r=`${zd}${e.state.toLowerCase()}`;Ga(this._lottie,this.rawProperties.filter(i=>i.name.startsWith(zd)),0),Ga(this._lottie,this.rawProperties.filter(i=>i.name===r),1)}fi(e.stroke)?t&&Ul(this._lottie,this.rawProperties.filter(r=>"stroke"===r.name)):Ga(this._lottie,this.rawProperties.filter(r=>"stroke"===r.name),e.stroke,{scale:50}),fi(e.scale)?t&&Ul(this._lottie,this.rawProperties.filter(r=>"scale"===r.name)):Ga(this._lottie,this.rawProperties.filter(r=>"scale"===r.name),e.scale,{scale:50}),fi(e.axis)?t&&Ul(this._lottie,this.rawProperties.filter(r=>"axis"===r.name)):Ga(this._lottie,this.rawProperties.filter(r=>"axis"===r.name),e.axis,{scale:50}),this.refresh()}set colors(e){if(Ul(this._lottie,this.rawProperties.filter(t=>"color"===t.type)),e)for(const[t,r]of Object.entries(e))Ga(this._lottie,this.rawProperties.filter(i=>"color"===i.type&&i.name===t.toLowerCase()),r);this.refresh()}get colors(){return this._colorsProxy||(this._colorsProxy=XK.call(this)),this._colorsProxy}set stroke(e){fi(e)?Ul(this._lottie,this.rawProperties.filter(t=>"stroke"===t.name)):Ga(this._lottie,this.rawProperties.filter(t=>"stroke"===t.name),e,{scale:50}),this.refresh()}get stroke(){const e=this.rawProperties.filter(t=>"stroke"===t.name)[0];return e?K_(this._lottie,e.path)*(50/e.value):null}set scale(e){fi(e)?Ul(this._lottie,this.rawProperties.filter(t=>"scale"===t.name)):Ga(this._lottie,this.rawProperties.filter(t=>"scale"===t.name),e,{scale:50}),this.refresh()}get scale(){const e=this.rawProperties.filter(t=>"scale"===t.name)[0];return e?K_(this._lottie,e.path)*(50/e.value):null}set state(e){if(fi(e))Ul(this._lottie,this.rawProperties.filter(t=>"scale"===t.name));else{const t=`${zd}${e.toLowerCase()}`;Ga(this._lottie,this.rawProperties.filter(r=>r.name.startsWith(zd)),0),Ga(this._lottie,this.rawProperties.filter(r=>r.name===t),1)}this.refresh()}get state(){for(const e of this.rawProperties.filter(t=>t.name.startsWith(zd)))if(K_(this._lottie,e.path))return e.name.substr(zd.length);return null}set axis(e){fi(e)?Ul(this._lottie,this.rawProperties.filter(t=>"axis"===t.name)):Ga(this._lottie,this.rawProperties.filter(t=>"axis"===t.name),e,{scale:50}),this.refresh()}get axis(){const e=this.rawProperties.filter(t=>"axis"===t.name)[0];return e?{x:K_(this._lottie,e.path+".0")*(50/e.value[0]),y:K_(this._lottie,e.path+".1")*(50/e.value[1])}:null}set speed(e){this._speed=e,this._lottie?.setSpeed(e)}get speed(){return this._speed}set direction(e){this._direction=e,this._lottie.setDirection(e)}get direction(){return this._direction}set loop(e){this._lottie.loop=e}get loop(){return!!this._lottie.loop}set frame(e){this.goToFrame(Math.max(0,Math.min(this.frames,e)))}get frame(){return this._lottie.currentFrame}get states(){return this.rawProperties.filter(e=>e.name.startsWith(zd)).map(e=>e.name.substr(zd.length))}get isPlaying(){return!this._lottie.isPaused}get isReady(){return this._isReady}get frames(){return this._lottie.getDuration(!0)-1}get duration(){return this._lottie.getDuration(!1)}get lottie(){return this._lottie}get rawProperties(){return!this._rawProperties&&this._iconData&&(this._rawProperties=function QK(n,e={}){const t=[],{lottieInstance:r}=e;return!n||!n.layers||n.layers.forEach((i,a)=>{!i.nm||!i.ef||!i.nm.toLowerCase().includes("change")||i.ef.forEach((u,m)=>{const y=u?.ef?.[0]?.v?.k;if(void 0===y)return;let E,F;if(E=r?`renderer.elements.${a}.effectsManager.effectElements.${m}.effectElements.0.p.v`:`layers.${a}.ef.${m}.ef.0.v.k`,"ADBE Color Control"===u.mn?F="color":"ADBE Slider Control"===u.mn?F="slider":"ADBE Point Control"===u.mn?F="point":"ADBE Checkbox Control"===u.mn&&(F="checkbox"),!F)return;const q=u.nm.toLowerCase();t.push({name:q,path:E,value:y,type:F})})}),t}(this._iconData,{lottieInstance:!0})),this._rawProperties||[]}}class t7{constructor(e,t,r){wn(this,"element"),wn(this,"targetElement"),wn(this,"player"),this.element=e,this.targetElement=t,this.player=r,this.onHover=this.onHover.bind(this)}onConnected(){this.targetElement.addEventListener("mouseenter",this.onHover)}onDisconnected(){this.targetElement.removeEventListener("mouseenter",this.onHover),this.player.direction=1}onComplete(){this.player.direction=-1,this.player.play()}onHover(){this.player.direction=1,this.player.play()}}const RH=[{name:"mousedown"},{name:"touchstart",options:{passive:!0}}];class n7{constructor(e,t,r){wn(this,"element"),wn(this,"targetElement"),wn(this,"player"),this.element=e,this.targetElement=t,this.player=r,this.onClick=this.onClick.bind(this)}onConnected(){for(const e of RH)this.targetElement.addEventListener(e.name,this.onClick,e.options)}onDisconnected(){for(const e of RH)this.targetElement.removeEventListener(e.name,this.onClick)}onClick(){this.player.isPlaying||this.player.playFromBegining()}}class r7{constructor(e,t,r){wn(this,"element"),wn(this,"targetElement"),wn(this,"player"),this.element=e,this.targetElement=t,this.player=r,this.onHover=this.onHover.bind(this)}onConnected(){this.targetElement.addEventListener("mouseenter",this.onHover)}onDisconnected(){this.targetElement.removeEventListener("mouseenter",this.onHover)}onHover(){this.player.isPlaying||this.player.playFromBegining()}}class i7{constructor(e,t,r){wn(this,"element"),wn(this,"targetElement"),wn(this,"player"),wn(this,"playTimeout",null),wn(this,"mouseIn",!1),this.element=e,this.targetElement=t,this.player=r,this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)}onConnected(){this.targetElement.addEventListener("mouseenter",this.onMouseEnter),this.targetElement.addEventListener("mouseleave",this.onMouseLeave)}onDisconnected(){this.targetElement.removeEventListener("mouseenter",this.onMouseEnter),this.targetElement.removeEventListener("mouseleave",this.onMouseLeave),this.resetPlayDelayTimer()}onMouseEnter(){this.mouseIn=!0,this.player.isPlaying||this.player.playFromBegining()}onMouseLeave(){this.mouseIn=!1}onComplete(){this.resetPlayDelayTimer(),this.mouseIn&&(this.delay>0?this.playTimeout=setTimeout(()=>{this.player.playFromBegining()},this.delay):this.player.playFromBegining())}resetPlayDelayTimer(){!this.playTimeout||(clearTimeout(this.playTimeout),this.playTimeout=null)}get delay(){const e=this.element.hasAttribute("delay")?+(this.element.getAttribute("delay")||0):0;return Math.max(e,0)}}class s7{constructor(e,t,r){wn(this,"element"),wn(this,"targetElement"),wn(this,"player"),wn(this,"playTimeout",null),this.element=e,this.targetElement=t,this.player=r}onReady(){this.player.play()}onDisconnected(){this.resetPlayDelayTimer()}onComplete(){this.resetPlayDelayTimer(),this.delay>0?this.playTimeout=setTimeout(()=>{this.player.playFromBegining()},this.delay):this.player.playFromBegining()}resetPlayDelayTimer(){!this.playTimeout||(clearTimeout(this.playTimeout),this.playTimeout=null)}get delay(){const e=this.element.hasAttribute("delay")?+(this.element.getAttribute("delay")||0):0;return Math.max(e,0)}}class o7{constructor(e,t,r){wn(this,"element"),wn(this,"targetElement"),wn(this,"player"),this.element=e,this.targetElement=t,this.player=r,this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)}onConnected(){this.targetElement.addEventListener("mouseenter",this.onMouseEnter),this.targetElement.addEventListener("mouseleave",this.onMouseLeave)}onDisconnected(){this.targetElement.removeEventListener("mouseenter",this.onMouseEnter),this.targetElement.removeEventListener("mouseleave",this.onMouseLeave),this.player.direction=1}onMouseEnter(){this.player.direction=1,this.player.play()}onMouseLeave(){this.player.direction=-1,this.player.play()}}var l7=p(4487),c7=p.n(l7);function u7(n,e){if(1&n&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Oqu(t.chosenItemsTotalQuantity.length)}}const W1=function(){return["active"]},d7=function(){return{exact:!0}},h7=function(){return["Home"]},f7=function(){return["About"]},p7=function(){return["Shop"]},m7=function(){return["Account/Welcome"]},g7=function(){return["ShoppingCart"]};let y7=(()=>{class n{constructor(t){this.service=t}ngOnInit(){this.chosenItemsTotalQuantity=this.service.totalQuantity,this.chosenItems=this.service.items}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ny))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:17,vars:21,consts:[[1,"left"],["routerLink","Home"],[1,"right"],[1,"shop",3,"routerLinkActive","routerLinkActiveOptions","routerLink"],[1,"about",3,"routerLinkActive","routerLink"],[1,"shop",3,"routerLinkActive","routerLink"],[1,"account",3,"routerLinkActive","routerLink"],[1,"cart",3,"routerLink"],["src","https://cdn.lordicon.com/slkvcfos.json","trigger","hover",2,"width","40px","height","40px"],[4,"ngIf"]],template:function(t,r){1&t&&(s.TgZ(0,"header")(1,"div",0)(2,"a",1)(3,"h1"),s._uU(4,"FashionGuru"),s.qZA()()(),s.TgZ(5,"div",2)(6,"a",3),s._uU(7," Home "),s.qZA(),s.TgZ(8,"a",4),s._uU(9," About "),s.qZA(),s.TgZ(10,"a",5),s._uU(11," Shop "),s.qZA(),s.TgZ(12,"a",6),s._uU(13," Account "),s.qZA(),s.TgZ(14,"a",7),s._UZ(15,"lord-icon",8),s.YNc(16,u7,2,1,"p",9),s.qZA()()()),2&t&&(s.xp6(6),s.Q6J("routerLinkActive",s.DdM(11,W1))("routerLinkActiveOptions",s.DdM(12,d7))("routerLink",s.DdM(13,h7)),s.xp6(2),s.Q6J("routerLinkActive",s.DdM(14,W1))("routerLink",s.DdM(15,f7)),s.xp6(2),s.Q6J("routerLinkActive",s.DdM(16,W1))("routerLink",s.DdM(17,p7)),s.xp6(2),s.Q6J("routerLinkActive",s.DdM(18,W1))("routerLink",s.DdM(19,m7)),s.xp6(2),s.Q6J("routerLink",s.DdM(20,g7)),s.xp6(2),s.Q6J("ngIf",r.chosenItemsTotalQuantity.length>0))},dependencies:[jn,fo,G0],styles:['header[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:65px;z-index:10;display:flex;justify-content:space-between;align-items:center;flex:1;top:0;left:0;right:0;padding:.5rem 1rem;position:sticky;background-color:#fff}a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:#000;background:none;border:none;font-size:1.5rem;letter-spacing:1px;transition:.3s}a[_ngcontent-%COMP%]:after{content:"";z-index:-1;position:absolute;width:100%;transform:scaleX(0);-webkit-transform:scaleX(0);height:8px;bottom:0;left:0;background-color:#ff613a;transform-origin:bottom left;transition:transform .3s ease}a[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);-webkit-transform:scaleX(1);transform-origin:bottom left}a[_ngcontent-%COMP%]:nth-of-type(5):after{display:none}h1[_ngcontent-%COMP%]{position:relative;margin:0;font-weight:400;letter-spacing:5px;transition:.5s ease-in-out;transition-delay:.1s;font-family:Monoton,cursive}h1[_ngcontent-%COMP%]:hover{color:gray}.left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{display:none}.right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem}.right[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{position:relative}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:BenchNine,sans-serif}.right[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#ff613a}.cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;position:absolute;margin:0;padding:.1rem;bottom:5px;right:-3px;background-color:#ff613a;border-radius:50%;min-width:1rem;min-height:1rem;font-family:BenchNine,sans-serif;font-size:.8rem;font-weight:800;color:#fff}@media only screen and (max-width: 680px){header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.4rem}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem}}@media only screen and (max-width: 450px){header[_ngcontent-%COMP%]{padding:0;flex-direction:column}}']}),n})();const _7=function(){return["/About"]};let v7=(()=>{class n{constructor(){this.enteredSearchValue=""}ngOnInit(){}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}subscribeToNewsletter(t){this.validateEmail(this.enteredSearchValue)?Or().fire("Thank you for subscribing!",`We will sent our weekly newsletter to </br> ${this.enteredSearchValue}`,"success"):Or().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Please provide a valid e-mail address!"}),t.target.previousElementSibling.value=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:25,vars:3,consts:[[1,"subscribe"],[1,"form"],["type","text","id","email","placeholder","Enter your email",3,"ngModel","ngModelChange"],[3,"click"],[1,"links-div"],[1,"fashionGuru"],[3,"routerLink"],[1,"contact"],[1,"links"],["href","mailto: fashionguru@gmail.com"],["href","http://github.com/hbilgil","target","_blank"]],template:function(t,r){1&t&&(s.TgZ(0,"footer")(1,"div",0)(2,"h2"),s._uU(3,"Join the FashionGuru Family"),s.qZA(),s.TgZ(4,"p"),s._uU(5,"Get your weekly FashionGuru newsletter to your mailbox"),s.qZA(),s.TgZ(6,"div",1)(7,"input",2),s.NdJ("ngModelChange",function(a){return r.enteredSearchValue=a}),s.qZA(),s.TgZ(8,"button",3),s.NdJ("click",function(a){return r.subscribeToNewsletter(a)}),s._uU(9,"Subscribe"),s.qZA()()(),s.TgZ(10,"div",4)(11,"div",5)(12,"h3"),s._uU(13,"FashionGuru"),s.qZA(),s.TgZ(14,"p")(15,"a",6),s._uU(16,"About Us"),s.qZA()()(),s.TgZ(17,"div",7)(18,"h3"),s._uU(19,"Contact"),s.qZA(),s.TgZ(20,"div",8)(21,"a",9),s._uU(22,"Email"),s.qZA(),s.TgZ(23,"a",10),s._uU(24,"Github"),s.qZA()()()()()),2&t&&(s.xp6(7),s.Q6J("ngModel",r.enteredSearchValue),s.xp6(8),s.Q6J("routerLink",s.DdM(2,_7)))},dependencies:[fo,wp,Sp,hd],styles:["footer[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;background:#f7f7f7;display:grid;grid-template-columns:repeat(4,1fr);cursor:default;font-family:BenchNine,sans-serif;padding:.5rem 2rem}.subscribe[_ngcontent-%COMP%]{grid-column:1 / 3}.subscribe[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:.5rem}.form[_ngcontent-%COMP%]{height:2.2rem;padding:0;display:flex}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:#aaaaaa solid 1px;outline:none;padding-left:.5rem}input[_ngcontent-%COMP%]::placeholder{opacity:.5}button[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;padding:.2rem 1rem;background:#ff613a;color:#fff;border:none;cursor:pointer}h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:800}h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:800}.links-div[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fashionGuru[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem;flex-direction:column;padding:0}p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{color:#646464;font-size:1rem;font-weight:100;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#ff613a}.links[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem;flex-direction:column;padding:0}@media only screen and (max-width: 640px){footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:auto;align-items:center}.subscribe[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:20px}.links-div[_ngcontent-%COMP%]{gap:9rem}}"]}),n})(),w7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-container"]],decls:2,vars:0,consts:[[1,"wrapper"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"router-outlet"),s.qZA())},dependencies:[Kp],styles:[".wrapper[_ngcontent-%COMP%]{margin:0 auto;box-sizing:border-box;min-height:78vh}"]}),n})(),b7=(()=>{class n{constructor(t,r){this.activatedRoute=t,this.service=r,this.title="e-shopping-angular-app"}ngOnInit(){this.productId=this.activatedRoute.snapshot.paramMap.get("id"),this.product=this.service.products.find(t=>t.id==this.productId)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Zr),s.Y36(wc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,r){1&t&&(s.TgZ(0,"div"),s._UZ(1,"app-header")(2,"app-container")(3,"app-footer"),s.qZA())},dependencies:[y7,v7,w7]}),n})(),C7=(()=>{class n{constructor(){!function a7(n){ja.setPlayerFactory((e,t)=>new e7(n,e,t)),ja.defineTrigger("click",n7),ja.defineTrigger("hover",r7),ja.defineTrigger("loop",s7),ja.defineTrigger("loop-on-hover",i7),ja.defineTrigger("morph",o7),ja.defineTrigger("boomerang",t7),(!customElements.get||!customElements.get("lord-icon"))&&customElements.define("lord-icon",ja)}(c7().loadAnimation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[b7]}),n.\u0275inj=s.cJS({providers:[wc,Ny,dm,Y0,jS,Bd,{provide:T,useValue:"/e-shopping-angular-app/"}],imports:[bi,_s,Cv,Bz,hD,Hz,Ur.hO.initializeApp(GR.firebase),X$,az,Mq,HK]}),n})();GR.production&&(0,s.G48)(),St().bootstrapModule(C7).catch(n=>console.error(n))},5867:(d,h,p)=>{"use strict";p.d(h,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=p(9681);(0,s.registerVersion)("firebase","9.14.0","app")},127:(d,h,p)=>{"use strict";p.d(h,{Z:()=>s.Z});var s=p(3942);s.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(d,h,p)=>{"use strict";p.r(h);var s=p(5861),_=p(3942),w=p(8247),P=p(2090),V=(p(9681),p(1877),p(4859));function z(){return window}function j(){return(j=(0,s.Z)(function*(Ce,le,ye){var Fe;const{BuildInfo:Qe}=z();(0,w.ap)(le.sessionId,"AuthEvent did not contain a session ID");const wt=yield T(le.sessionId),bt={};return(0,w.aq)()?bt.ibi=Qe.packageName:(0,w.ar)()?bt.apn=Qe.packageName:(0,w.as)(Ce,"operation-not-supported-in-this-environment"),Qe.displayName&&(bt.appDisplayName=Qe.displayName),bt.sessionId=wt,(0,w.at)(Ce,ye,le.type,void 0,null!==(Fe=le.eventId)&&void 0!==Fe?Fe:void 0,bt)})).apply(this,arguments)}function k(){return(k=(0,s.Z)(function*(Ce){const{BuildInfo:le}=z(),ye={};(0,w.aq)()?ye.iosBundleId=le.packageName:(0,w.ar)()?ye.androidPackageName=le.packageName:(0,w.as)(Ce,"operation-not-supported-in-this-environment"),yield(0,w.au)(Ce,ye)})).apply(this,arguments)}function N(){return(N=(0,s.Z)(function*(Ce,le,ye){const{cordova:Fe}=z();let Qe=()=>{};try{yield new Promise((wt,bt)=>{let We=null;function et(){var nn;wt();const Hn=null===(nn=Fe.plugins.browsertab)||void 0===nn?void 0:nn.close;"function"==typeof Hn&&Hn(),"function"==typeof ye?.close&&ye.close()}function Yt(){We||(We=window.setTimeout(()=>{bt((0,w.aw)(Ce,"redirect-cancelled-by-user"))},2e3))}function Un(){"visible"===document?.visibilityState&&Yt()}le.addPassiveListener(et),document.addEventListener("resume",Yt,!1),(0,w.ar)()&&document.addEventListener("visibilitychange",Un,!1),Qe=()=>{le.removePassiveListener(et),document.removeEventListener("resume",Yt,!1),document.removeEventListener("visibilitychange",Un,!1),We&&window.clearTimeout(We)}})}finally{Qe()}})).apply(this,arguments)}function T(Ce){return W.apply(this,arguments)}function W(){return(W=(0,s.Z)(function*(Ce){const le=J(Ce),ye=yield crypto.subtle.digest("SHA-256",le);return Array.from(new Uint8Array(ye)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function J(Ce){if((0,w.ap)(/[0-9a-zA-Z]+/.test(Ce),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Ce);const le=new ArrayBuffer(Ce.length),ye=new Uint8Array(le);for(let Fe=0;Fe<Ce.length;Fe++)ye[Fe]=Ce.charCodeAt(Fe);return ye}class re extends w.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(le=>{this.resolveInialized=le})}addPassiveListener(le){this.passiveListeners.add(le)}removePassiveListener(le){this.passiveListeners.delete(le)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(le){return this.resolveInialized(),this.passiveListeners.forEach(ye=>ye(le)),super.onEvent(le)}initialized(){var le=this;return(0,s.Z)(function*(){yield le.initPromise})()}}function _e(Ce){return ve.apply(this,arguments)}function ve(){return(ve=(0,s.Z)(function*(Ce){const le=yield de()._get(se(Ce));return le&&(yield de()._remove(se(Ce))),le})).apply(this,arguments)}function Ee(){const Ce=[],le="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ye=0;ye<20;ye++){const Fe=Math.floor(Math.random()*le.length);Ce.push(le.charAt(Fe))}return Ce.join("")}function de(){return(0,w.az)(w.b)}function se(Ce){return(0,w.aA)("authEvent",Ce.config.apiKey,Ce.name)}function ue(Ce){if(!Ce?.includes("?"))return{};const[le,...ye]=Ce.split("?");return(0,P.zd)(ye.join("?"))}function $e(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,w.aw)("no-auth-event")}}function At(){var Ce;return(null===(Ce=self?.location)||void 0===Ce?void 0:Ce.protocol)||null}function En(Ce=(0,P.z$)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!Ce.toLowerCase().match(/iphone|ipad|ipod|android/))}function or(){try{const Ce=self.localStorage,le=w.aI();if(Ce)return Ce.setItem(le,"1"),Ce.removeItem(le),!function _n(Ce=(0,P.z$)()){return function Dn(){return(0,P.w1)()&&11===document?.documentMode}()||function st(Ce=(0,P.z$)()){return/Edge\/\d+/.test(Ce)}(Ce)}()||(0,P.hl)()}catch{return zn()&&(0,P.hl)()}return!1}function zn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mn(){return(function Et(){return"http:"===At()||"https:"===At()}()||(0,P.ru)()||En())&&!function In(){return(0,P.b$)()||(0,P.UG)()}()&&or()&&!zn()}function Sn(){return En()&&typeof document<"u"}function at(){return(at=(0,s.Z)(function*(){return!!Sn()&&new Promise(Ce=>{const le=setTimeout(()=>{Ce(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(le),Ce(!0)})})})).apply(this,arguments)}const kn={LOCAL:"local",NONE:"none",SESSION:"session"},vn=w.ax,Ln="persistence";function $t(Ce){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(Ce){yield Ce._initializationPromise;const le=ct(),ye=w.aA(Ln,Ce.config.apiKey,Ce.name);le&&le.setItem(ye,Ce._getPersistence())})).apply(this,arguments)}function ct(){var Ce;try{return(null===(Ce=function Xt(){return typeof window<"u"?window:null}())||void 0===Ce?void 0:Ce.sessionStorage)||null}catch{return null}}const mt=w.ax;class zt{constructor(){this.browserResolver=w.az(w.k),this.cordovaResolver=w.az(class Oe{constructor(){this._redirectPersistence=w.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=w.aB,this._overrideRedirectResult=w.aC}_initialize(le){var ye=this;return(0,s.Z)(function*(){const Fe=le._key();let Qe=ye.eventManagers.get(Fe);return Qe||(Qe=new re(le),ye.eventManagers.set(Fe,Qe),ye.attachCallbackListeners(le,Qe)),Qe})()}_openPopup(le){(0,w.as)(le,"operation-not-supported-in-this-environment")}_openRedirect(le,ye,Fe,Qe){var wt=this;return(0,s.Z)(function*(){!function I(Ce){var le,ye,Fe,Qe,wt,bt,We,et,Yt,Un;const nn=z();(0,w.ax)("function"==typeof(null===(le=nn?.universalLinks)||void 0===le?void 0:le.subscribe),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,w.ax)(typeof(null===(ye=nn?.BuildInfo)||void 0===ye?void 0:ye.packageName)<"u",Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,w.ax)("function"==typeof(null===(wt=null===(Qe=null===(Fe=nn?.cordova)||void 0===Fe?void 0:Fe.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===wt?void 0:wt.openUrl),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,w.ax)("function"==typeof(null===(et=null===(We=null===(bt=nn?.cordova)||void 0===bt?void 0:bt.plugins)||void 0===We?void 0:We.browsertab)||void 0===et?void 0:et.isAvailable),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,w.ax)("function"==typeof(null===(Un=null===(Yt=nn?.cordova)||void 0===Yt?void 0:Yt.InAppBrowser)||void 0===Un?void 0:Un.open),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(le);const bt=yield wt._initialize(le);yield bt.initialized(),bt.resetRedirect(),(0,w.aD)(),yield wt._originValidation(le);const We=function me(Ce,le,ye=null){return{type:le,eventId:ye,urlResponse:null,sessionId:Ee(),postBody:null,tenantId:Ce.tenantId,error:(0,w.aw)(Ce,"no-auth-event")}}(le,Fe,Qe);yield function Pe(Ce,le){return de()._set(se(Ce),le)}(le,We);const et=yield function x(Ce,le,ye){return j.apply(this,arguments)}(le,We,ye),Yt=yield function Y(Ce){const{cordova:le}=z();return new Promise(ye=>{le.plugins.browsertab.isAvailable(Fe=>{let Qe=null;Fe?le.plugins.browsertab.openUrl(Ce):Qe=le.InAppBrowser.open(Ce,(0,w.av)()?"_blank":"_system","location=yes"),ye(Qe)})})}(et);return function A(Ce,le,ye){return N.apply(this,arguments)}(le,bt,Yt)})()}_isIframeWebStorageSupported(le,ye){throw new Error("Method not implemented.")}_originValidation(le){const ye=le._key();return this.originValidationPromises[ye]||(this.originValidationPromises[ye]=function G(Ce){return k.apply(this,arguments)}(le)),this.originValidationPromises[ye]}attachCallbackListeners(le,ye){const{universalLinks:Fe,handleOpenURL:Qe,BuildInfo:wt}=z(),bt=setTimeout((0,s.Z)(function*(){yield _e(le),ye.onEvent($e())}),500),We=function(){var Un=(0,s.Z)(function*(nn){clearTimeout(bt);const Hn=yield _e(le);let ss=null;Hn&&nn?.url&&(ss=function Ie(Ce,le){var ye,Fe;const Qe=function te(Ce){const le=ue(Ce),ye=le.link?decodeURIComponent(le.link):void 0,Fe=ue(ye).link,Qe=le.deep_link_id?decodeURIComponent(le.deep_link_id):void 0;return ue(Qe).link||Qe||Fe||ye||Ce}(le);if(Qe.includes("/__/auth/callback")){const wt=ue(Qe),bt=wt.firebaseError?function ee(Ce){try{return JSON.parse(Ce)}catch{return null}}(decodeURIComponent(wt.firebaseError)):null,We=null===(Fe=null===(ye=bt?.code)||void 0===ye?void 0:ye.split("auth/"))||void 0===Fe?void 0:Fe[1],et=We?(0,w.aw)(We):null;return et?{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,error:et,urlResponse:null,sessionId:null,postBody:null}:{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,sessionId:Ce.sessionId,urlResponse:Qe,postBody:null}}return null}(Hn,nn.url)),ye.onEvent(ss||$e())});return function(Hn){return Un.apply(this,arguments)}}();typeof Fe<"u"&&"function"==typeof Fe.subscribe&&Fe.subscribe(null,We);const et=Qe,Yt=`${wt.packageName.toLowerCase()}://`;z().handleOpenURL=function(){var Un=(0,s.Z)(function*(nn){if(nn.toLowerCase().startsWith(Yt)&&We({url:nn}),"function"==typeof et)try{et(nn)}catch(Hn){console.error(Hn)}});return function(nn){return Un.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=w.a,this._completeRedirectFn=w.aB,this._overrideRedirectResult=w.aC}_initialize(le){var ye=this;return(0,s.Z)(function*(){return yield ye.selectUnderlyingResolver(),ye.assertedUnderlyingResolver._initialize(le)})()}_openPopup(le,ye,Fe,Qe){var wt=this;return(0,s.Z)(function*(){return yield wt.selectUnderlyingResolver(),wt.assertedUnderlyingResolver._openPopup(le,ye,Fe,Qe)})()}_openRedirect(le,ye,Fe,Qe){var wt=this;return(0,s.Z)(function*(){return yield wt.selectUnderlyingResolver(),wt.assertedUnderlyingResolver._openRedirect(le,ye,Fe,Qe)})()}_isIframeWebStorageSupported(le,ye){this.assertedUnderlyingResolver._isIframeWebStorageSupported(le,ye)}_originValidation(le){return this.assertedUnderlyingResolver._originValidation(le)}get _shouldInitProactively(){return Sn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var le=this;return(0,s.Z)(function*(){if(le.underlyingResolver)return;const ye=yield function Bn(){return at.apply(this,arguments)}();le.underlyingResolver=ye?le.cordovaResolver:le.browserResolver})()}}function Mr(Ce){return Ce.unwrap()}function $r(Ce){return Fr(Ce)}function Fr(Ce){const{_tokenResponse:le}=Ce instanceof P.ZR?Ce.customData:Ce;if(!le)return null;if(!(Ce instanceof P.ZR)&&"temporaryProof"in le&&"phoneNumber"in le)return w.P.credentialFromResult(Ce);const ye=le.providerId;if(!ye||ye===w.o.PASSWORD)return null;let Fe;switch(ye){case w.o.GOOGLE:Fe=w.Q;break;case w.o.FACEBOOK:Fe=w.N;break;case w.o.GITHUB:Fe=w.T;break;case w.o.TWITTER:Fe=w.W;break;default:const{oauthIdToken:Qe,oauthAccessToken:wt,oauthTokenSecret:bt,pendingToken:We,nonce:et}=le;return wt||bt||Qe||We?We?ye.startsWith("saml.")?w.aL._create(ye,We):w.J._fromParams({providerId:ye,signInMethod:ye,pendingToken:We,idToken:Qe,accessToken:wt}):new w.U(ye).credential({idToken:Qe,accessToken:wt,rawNonce:et}):null}return Ce instanceof P.ZR?Fe.credentialFromError(Ce):Fe.credentialFromResult(Ce)}function Kt(Ce,le){return le.catch(ye=>{throw ye instanceof P.ZR&&function Ut(Ce,le){var ye,Fe;const Qe=null===(ye=le.customData)||void 0===ye?void 0:ye._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Fe=le)||void 0===Fe?void 0:Fe.code))le.resolver=new br(Ce,w.an(Ce,le));else if(Qe){const wt=Fr(le),bt=le;wt&&(bt.credential=wt,bt.tenantId=Qe.tenantId||void 0,bt.email=Qe.email||void 0,bt.phoneNumber=Qe.phoneNumber||void 0)}}(Ce,ye),ye}).then(ye=>{const Qe=ye.user;return{operationType:ye.operationType,credential:$r(ye),additionalUserInfo:w.al(ye),user:Jn.getOrCreate(Qe)}})}function ai(Ce,le){return pn.apply(this,arguments)}function pn(){return(pn=(0,s.Z)(function*(Ce,le){const ye=yield le;return{verificationId:ye.verificationId,confirm:Fe=>Kt(Ce,ye.confirm(Fe))}})).apply(this,arguments)}class br{constructor(le,ye){this.resolver=ye,this.auth=function xn(Ce){return Ce.wrapped()}(le)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(le){return Kt(Mr(this.auth),this.resolver.resolveSignIn(le))}}class Jn{constructor(le){this._delegate=le,this.multiFactor=w.ao(le)}static getOrCreate(le){return Jn.USER_MAP.has(le)||Jn.USER_MAP.set(le,new Jn(le)),Jn.USER_MAP.get(le)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(le){return this._delegate.getIdTokenResult(le)}getIdToken(le){return this._delegate.getIdToken(le)}linkAndRetrieveDataWithCredential(le){return this.linkWithCredential(le)}linkWithCredential(le){var ye=this;return(0,s.Z)(function*(){return Kt(ye.auth,w.Z(ye._delegate,le))})()}linkWithPhoneNumber(le,ye){var Fe=this;return(0,s.Z)(function*(){return ai(Fe.auth,w.l(Fe._delegate,le,ye))})()}linkWithPopup(le){var ye=this;return(0,s.Z)(function*(){return Kt(ye.auth,w.d(ye._delegate,le,zt))})()}linkWithRedirect(le){var ye=this;return(0,s.Z)(function*(){return yield $t(w.aE(ye.auth)),w.g(ye._delegate,le,zt)})()}reauthenticateAndRetrieveDataWithCredential(le){return this.reauthenticateWithCredential(le)}reauthenticateWithCredential(le){var ye=this;return(0,s.Z)(function*(){return Kt(ye.auth,w._(ye._delegate,le))})()}reauthenticateWithPhoneNumber(le,ye){return ai(this.auth,w.r(this._delegate,le,ye))}reauthenticateWithPopup(le){return Kt(this.auth,w.e(this._delegate,le,zt))}reauthenticateWithRedirect(le){var ye=this;return(0,s.Z)(function*(){return yield $t(w.aE(ye.auth)),w.h(ye._delegate,le,zt)})()}sendEmailVerification(le){return w.ab(this._delegate,le)}unlink(le){var ye=this;return(0,s.Z)(function*(){return yield w.ak(ye._delegate,le),ye})()}updateEmail(le){return w.ag(this._delegate,le)}updatePassword(le){return w.ah(this._delegate,le)}updatePhoneNumber(le){return w.u(this._delegate,le)}updateProfile(le){return w.af(this._delegate,le)}verifyBeforeUpdateEmail(le,ye){return w.ac(this._delegate,le,ye)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jn.USER_MAP=new WeakMap;const ft=w.ax;let qe=(()=>{class Ce{constructor(ye,Fe){if(this.app=ye,Fe.isInitialized())return this._delegate=Fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=ye.options;ft(Qe,"invalid-api-key",{appName:ye.name}),ft(Qe,"invalid-api-key",{appName:ye.name});const wt=typeof window<"u"?zt:void 0;this._delegate=Fe.initialize({options:{persistence:Rt(Qe,ye.name),popupRedirectResolver:wt}}),this._delegate._updateErrorMap(w.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ye){this._delegate.languageCode=ye}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ye){this._delegate.tenantId=ye}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ye,Fe){w.G(this._delegate,ye,Fe)}applyActionCode(ye){return w.a2(this._delegate,ye)}checkActionCode(ye){return w.a3(this._delegate,ye)}confirmPasswordReset(ye,Fe){return w.a1(this._delegate,ye,Fe)}createUserWithEmailAndPassword(ye,Fe){var Qe=this;return(0,s.Z)(function*(){return Kt(Qe._delegate,w.a5(Qe._delegate,ye,Fe))})()}fetchProvidersForEmail(ye){return this.fetchSignInMethodsForEmail(ye)}fetchSignInMethodsForEmail(ye){return w.aa(this._delegate,ye)}isSignInWithEmailLink(ye){return w.a8(this._delegate,ye)}getRedirectResult(){var ye=this;return(0,s.Z)(function*(){ft(Mn(),ye._delegate,"operation-not-supported-in-this-environment");const Fe=yield w.j(ye._delegate,zt);return Fe?Kt(ye._delegate,Promise.resolve(Fe)):{credential:null,user:null}})()}addFrameworkForLogging(ye){!function ot(Ce,le){(0,w.aE)(Ce)._logFramework(le)}(this._delegate,ye)}onAuthStateChanged(ye,Fe,Qe){const{next:wt,error:bt,complete:We}=_t(ye,Fe,Qe);return this._delegate.onAuthStateChanged(wt,bt,We)}onIdTokenChanged(ye,Fe,Qe){const{next:wt,error:bt,complete:We}=_t(ye,Fe,Qe);return this._delegate.onIdTokenChanged(wt,bt,We)}sendSignInLinkToEmail(ye,Fe){return w.a7(this._delegate,ye,Fe)}sendPasswordResetEmail(ye,Fe){return w.a0(this._delegate,ye,Fe||void 0)}setPersistence(ye){var Fe=this;return(0,s.Z)(function*(){let Qe;switch(function Gt(Ce,le){vn(Object.values(kn).includes(le),Ce,"invalid-persistence-type"),(0,P.b$)()?vn(le!==kn.SESSION,Ce,"unsupported-persistence-type"):(0,P.UG)()?vn(le===kn.NONE,Ce,"unsupported-persistence-type"):zn()?vn(le===kn.NONE||le===kn.LOCAL&&(0,P.hl)(),Ce,"unsupported-persistence-type"):vn(le===kn.NONE||or(),Ce,"unsupported-persistence-type")}(Fe._delegate,ye),ye){case kn.SESSION:Qe=w.a;break;case kn.LOCAL:Qe=(yield w.az(w.i)._isAvailable())?w.i:w.b;break;case kn.NONE:Qe=w.L;break;default:return w.as("argument-error",{appName:Fe._delegate.name})}return Fe._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(ye){return this.signInWithCredential(ye)}signInAnonymously(){return Kt(this._delegate,w.X(this._delegate))}signInWithCredential(ye){return Kt(this._delegate,w.Y(this._delegate,ye))}signInWithCustomToken(ye){return Kt(this._delegate,w.$(this._delegate,ye))}signInWithEmailAndPassword(ye,Fe){return Kt(this._delegate,w.a6(this._delegate,ye,Fe))}signInWithEmailLink(ye,Fe){return Kt(this._delegate,w.a9(this._delegate,ye,Fe))}signInWithPhoneNumber(ye,Fe){return ai(this._delegate,w.s(this._delegate,ye,Fe))}signInWithPopup(ye){var Fe=this;return(0,s.Z)(function*(){return ft(Mn(),Fe._delegate,"operation-not-supported-in-this-environment"),Kt(Fe._delegate,w.c(Fe._delegate,ye,zt))})()}signInWithRedirect(ye){var Fe=this;return(0,s.Z)(function*(){return ft(Mn(),Fe._delegate,"operation-not-supported-in-this-environment"),yield $t(Fe._delegate),w.f(Fe._delegate,ye,zt)})()}updateCurrentUser(ye){return this._delegate.updateCurrentUser(ye)}verifyPasswordResetCode(ye){return w.a4(this._delegate,ye)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ce.Persistence=kn,Ce})();function _t(Ce,le,ye){let Fe=Ce;"function"!=typeof Ce&&({next:Fe,error:le,complete:ye}=Ce);const Qe=Fe;return{next:bt=>Qe(bt&&Jn.getOrCreate(bt)),error:le,complete:ye}}function Rt(Ce,le){const ye=function dn(Ce,le){const ye=ct();if(!ye)return[];const Fe=w.aA(Ln,Ce,le);switch(ye.getItem(Fe)){case kn.NONE:return[w.L];case kn.LOCAL:return[w.i,w.a];case kn.SESSION:return[w.a];default:return[]}}(Ce,le);if(typeof self<"u"&&!ye.includes(w.i)&&ye.push(w.i),typeof window<"u")for(const Fe of[w.b,w.a])ye.includes(Fe)||ye.push(Fe);return ye.includes(w.L)||ye.push(w.L),ye}class Nt{constructor(){this.providerId="phone",this._delegate=new w.P(Mr(_.Z.auth()))}static credential(le,ye){return w.P.credential(le,ye)}verifyPhoneNumber(le,ye){return this._delegate.verifyPhoneNumber(le,ye)}unwrap(){return this._delegate}}Nt.PHONE_SIGN_IN_METHOD=w.P.PHONE_SIGN_IN_METHOD,Nt.PROVIDER_ID=w.P.PROVIDER_ID;const bn=w.ax;class Ae{constructor(le,ye,Fe=_.Z.app()){var Qe;bn(null===(Qe=Fe.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Fe.name}),this._delegate=new w.R(le,ye,Fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xe(Ce){Ce.INTERNAL.registerComponent(new V.wA("auth-compat",le=>{const ye=le.getProvider("app-compat").getImmediate(),Fe=le.getProvider("auth");return new qe(ye,Fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:w.A.EMAIL_SIGNIN,PASSWORD_RESET:w.A.PASSWORD_RESET,RECOVER_EMAIL:w.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:w.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:w.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:w.A.VERIFY_EMAIL}},EmailAuthProvider:w.M,FacebookAuthProvider:w.N,GithubAuthProvider:w.T,GoogleAuthProvider:w.Q,OAuthProvider:w.U,SAMLAuthProvider:w.V,PhoneAuthProvider:Nt,PhoneMultiFactorGenerator:w.m,RecaptchaVerifier:Ae,TwitterAuthProvider:w.W,Auth:qe,AuthCredential:w.H,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ce.registerVersion("@firebase/auth-compat","0.2.24")}(_.Z)},4487:function(module,exports,__webpack_require__){var h;typeof navigator<"u"&&(h=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(h){_useWebWorker=!!h},getWebWorker=function(){return _useWebWorker},setLocationHref=function(h){locationHref=h},getLocationHref=function(){return locationHref};function createTag(d){return document.createElement(d)}function extendPrototype(d,h){var p,_,s=d.length;for(p=0;p<s;p+=1)for(var w in _=d[p].prototype)Object.prototype.hasOwnProperty.call(_,w)&&(h.prototype[w]=_[w])}function getDescriptor(d,h){return Object.getOwnPropertyDescriptor(d,h)}function createProxyFunction(d){function h(){}return h.prototype=d,h}var audioControllerFactory=function(){function d(h){this.audios=[],this.audioFactory=h,this._volume=1,this._isMuted=!1}return d.prototype={addAudio:function(p){this.audios.push(p)},pause:function(){var p,s=this.audios.length;for(p=0;p<s;p+=1)this.audios[p].pause()},resume:function(){var p,s=this.audios.length;for(p=0;p<s;p+=1)this.audios[p].resume()},setRate:function(p){var s,_=this.audios.length;for(s=0;s<_;s+=1)this.audios[s].setRate(p)},createAudio:function(p){return this.audioFactory?this.audioFactory(p):window.Howl?new window.Howl({src:[p]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(p){this.audioFactory=p},setVolume:function(p){this._volume=p,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var p,s=this.audios.length;for(p=0;p<s;p+=1)this.audios[p].volume(this._volume*(this._isMuted?0:1))}},function(){return new d}}(),createTypedArray=function(){function d(p,s){var P,_=0,w=[];switch(p){case"int16":case"uint8c":P=1;break;default:P=1.1}for(_=0;_<s;_+=1)w.push(P);return w}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function h(p,s){return"float32"===p?new Float32Array(s):"int16"===p?new Int16Array(s):"uint8c"===p?new Uint8ClampedArray(s):d(p,s)}:d}();function createSizedArray(d){return Array.apply(null,{length:d})}function _typeof$6(d){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var h,d=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],p=d.length;for(h=0;h<p;h+=1)BMMath[d[h]]=Math[d[h]]}(),BMMath.random=Math.random,BMMath.abs=function(d){if("object"===_typeof$6(d)&&d.length){var s,p=createSizedArray(d.length),_=d.length;for(s=0;s<_;s+=1)p[s]=Math.abs(d[s]);return p}return Math.abs(d)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(d){_shouldRoundValues=!!d}function bmRnd(d){return _shouldRoundValues?Math.round(d):d}function styleDiv(d){d.style.position="absolute",d.style.top=0,d.style.left=0,d.style.display="block",d.style.transformOrigin="0 0",d.style.webkitTransformOrigin="0 0",d.style.backfaceVisibility="visible",d.style.webkitBackfaceVisibility="visible",d.style.transformStyle="preserve-3d",d.style.webkitTransformStyle="preserve-3d",d.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(d,h,p,s){this.type=d,this.currentTime=h,this.totalTime=p,this.direction=s<0?-1:1}function BMCompleteEvent(d,h){this.type=d,this.direction=h<0?-1:1}function BMCompleteLoopEvent(d,h,p,s){this.type=d,this.currentLoop=p,this.totalLoops=h,this.direction=s<0?-1:1}function BMSegmentStartEvent(d,h,p){this.type=d,this.firstFrame=h,this.totalFrames=p}function BMDestroyEvent(d,h){this.type=d,this.target=h}function BMRenderFrameErrorEvent(d,h){this.type="renderFrameError",this.nativeError=d,this.currentTime=h}function BMConfigErrorEvent(d){this.type="configError",this.nativeError=d}function BMAnimationConfigErrorEvent(d,h){this.type=d,this.nativeError=h}var createElementID=(d=0,function(){return idPrefix$1+"__lottie_element_"+(d+=1)}),d;function HSVtoRGB(d,h,p){var s,_,w,P,L,U,V,z;switch(U=p*(1-h),V=p*(1-(L=6*d-(P=Math.floor(6*d)))*h),z=p*(1-(1-L)*h),P%6){case 0:s=p,_=z,w=U;break;case 1:s=V,_=p,w=U;break;case 2:s=U,_=p,w=z;break;case 3:s=U,_=V,w=p;break;case 4:s=z,_=U,w=p;break;case 5:s=p,_=U,w=V}return[s,_,w]}function RGBtoHSV(d,h,p){var P,s=Math.max(d,h,p),_=Math.min(d,h,p),w=s-_,L=0===s?0:w/s,U=s/255;switch(s){case _:P=0;break;case d:P=h-p+w*(h<p?6:0),P/=6*w;break;case h:P=p-d+2*w,P/=6*w;break;case p:P=d-h+4*w,P/=6*w}return[P,L,U]}function addSaturationToRGB(d,h){var p=RGBtoHSV(255*d[0],255*d[1],255*d[2]);return p[1]+=h,p[1]>1?p[1]=1:p[1]<=0&&(p[1]=0),HSVtoRGB(p[0],p[1],p[2])}function addBrightnessToRGB(d,h){var p=RGBtoHSV(255*d[0],255*d[1],255*d[2]);return p[2]+=h,p[2]>1?p[2]=1:p[2]<0&&(p[2]=0),HSVtoRGB(p[0],p[1],p[2])}function addHueToRGB(d,h){var p=RGBtoHSV(255*d[0],255*d[1],255*d[2]);return p[0]+=h/360,p[0]>1?p[0]-=1:p[0]<0&&(p[0]+=1),HSVtoRGB(p[0],p[1],p[2])}var rgbToHex=function(){var h,p,d=[];for(h=0;h<256;h+=1)p=h.toString(16),d[h]=1===p.length?"0"+p:p;return function(s,_,w){return s<0&&(s=0),_<0&&(_=0),w<0&&(w=0),"#"+d[s]+d[_]+d[w]}}(),setSubframeEnabled=function(h){subframeEnabled=!!h},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(h){expressionsPlugin=h},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(h){defaultCurveSegments=h},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(h){idPrefix$1=h},getIdPrefix=function(){return idPrefix$1};function createNS(d){return document.createElementNS(svgNS,d)}function _typeof$5(d){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}var dataManager=function(){var p,s,d=1,h=[],_={onmessage:function(){},postMessage:function(j){p({data:j})}},w={postMessage:function(j){_.onmessage({data:j})}};function L(){s||((s=function P(x){if(window.Worker&&window.Blob&&getWebWorker()){var j=new Blob(["var _workerSelf = self; self.onmessage = ",x.toString()],{type:"text/javascript"}),G=URL.createObjectURL(j);return new Worker(G)}return p=x,_}(function(j){if(w.dataManager||(w.dataManager=function G(){function Y(de,se){var ee,te,Re,Oe,Ye,$e,ue=de.length;for(te=0;te<ue;te+=1)if("ks"in(ee=de[te])&&!ee.completed){if(ee.completed=!0,ee.tt&&(de[te-1].td=ee.tt),ee.hasMask){var ot=ee.masksProperties;for(Oe=ot.length,Re=0;Re<Oe;Re+=1)if(ot[Re].pt.k.i)W(ot[Re].pt.k);else for($e=ot[Re].pt.k.length,Ye=0;Ye<$e;Ye+=1)ot[Re].pt.k[Ye].s&&W(ot[Re].pt.k[Ye].s[0]),ot[Re].pt.k[Ye].e&&W(ot[Re].pt.k[Ye].e[0])}0===ee.ty?(ee.layers=I(ee.refId,se),Y(ee.layers,se)):4===ee.ty&&T(ee.shapes)}}function I(de,se){var ee=function N(de,se){for(var ee=0,te=se.length;ee<te;){if(se[ee].id===de)return se[ee];ee+=1}return null}(de,se);return ee?ee.layers.__used?JSON.parse(JSON.stringify(ee.layers)):(ee.layers.__used=!0,ee.layers):null}function T(de){var se,te,ue;for(se=de.length-1;se>=0;se-=1)if("sh"===de[se].ty)if(de[se].ks.k.i)W(de[se].ks.k);else for(ue=de[se].ks.k.length,te=0;te<ue;te+=1)de[se].ks.k[te].s&&W(de[se].ks.k[te].s[0]),de[se].ks.k[te].e&&W(de[se].ks.k[te].e[0]);else"gr"===de[se].ty&&T(de[se].it)}function W(de){var se,ee=de.i.length;for(se=0;se<ee;se+=1)de.i[se][0]+=de.v[se][0],de.i[se][1]+=de.v[se][1],de.o[se][0]+=de.v[se][0],de.o[se][1]+=de.v[se][1]}function J(de,se){var ee=se?se.split("."):[100,100,100];return de[0]>ee[0]||!(ee[0]>de[0])&&(de[1]>ee[1]||!(ee[1]>de[1])&&(de[2]>ee[2]||!(ee[2]>de[2])&&null))}var de,ne=function(){var de=[4,4,14];function se(te){te.t.d={k:[{s:te.t.d,t:0}]}}function ee(te){var ue,Re=te.length;for(ue=0;ue<Re;ue+=1)5===te[ue].ty&&se(te[ue])}return function(te){if(J(de,te.v)&&(ee(te.layers),te.assets)){var ue,Re=te.assets.length;for(ue=0;ue<Re;ue+=1)te.assets[ue].layers&&ee(te.assets[ue].layers)}}}(),re=(de=[4,7,99],function(se){if(se.chars&&!J(de,se.v)){var ee,te=se.chars.length;for(ee=0;ee<te;ee+=1){var ue=se.chars[ee];ue.data&&ue.data.shapes&&(T(ue.data.shapes),ue.data.ip=0,ue.data.op=99999,ue.data.st=0,ue.data.sr=1,ue.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},se.chars[ee].t||(ue.data.shapes.push({ty:"no"}),ue.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),me=function(){var de=[5,7,15];function se(te){var ue=te.t.p;"number"==typeof ue.a&&(ue.a={a:0,k:ue.a}),"number"==typeof ue.p&&(ue.p={a:0,k:ue.p}),"number"==typeof ue.r&&(ue.r={a:0,k:ue.r})}function ee(te){var ue,Re=te.length;for(ue=0;ue<Re;ue+=1)5===te[ue].ty&&se(te[ue])}return function(te){if(J(de,te.v)&&(ee(te.layers),te.assets)){var ue,Re=te.assets.length;for(ue=0;ue<Re;ue+=1)te.assets[ue].layers&&ee(te.assets[ue].layers)}}}(),Pe=function(){var de=[4,1,9];function se(te){var ue,Oe,Ye,Re=te.length;for(ue=0;ue<Re;ue+=1)if("gr"===te[ue].ty)se(te[ue].it);else if("fl"===te[ue].ty||"st"===te[ue].ty)if(te[ue].c.k&&te[ue].c.k[0].i)for(Ye=te[ue].c.k.length,Oe=0;Oe<Ye;Oe+=1)te[ue].c.k[Oe].s&&(te[ue].c.k[Oe].s[0]/=255,te[ue].c.k[Oe].s[1]/=255,te[ue].c.k[Oe].s[2]/=255,te[ue].c.k[Oe].s[3]/=255),te[ue].c.k[Oe].e&&(te[ue].c.k[Oe].e[0]/=255,te[ue].c.k[Oe].e[1]/=255,te[ue].c.k[Oe].e[2]/=255,te[ue].c.k[Oe].e[3]/=255);else te[ue].c.k[0]/=255,te[ue].c.k[1]/=255,te[ue].c.k[2]/=255,te[ue].c.k[3]/=255}function ee(te){var ue,Re=te.length;for(ue=0;ue<Re;ue+=1)4===te[ue].ty&&se(te[ue].shapes)}return function(te){if(J(de,te.v)&&(ee(te.layers),te.assets)){var ue,Re=te.assets.length;for(ue=0;ue<Re;ue+=1)te.assets[ue].layers&&ee(te.assets[ue].layers)}}}(),_e=function(){var de=[4,4,18];function se(te){var ue,Oe,Ye;for(ue=te.length-1;ue>=0;ue-=1)if("sh"===te[ue].ty)if(te[ue].ks.k.i)te[ue].ks.k.c=te[ue].closed;else for(Ye=te[ue].ks.k.length,Oe=0;Oe<Ye;Oe+=1)te[ue].ks.k[Oe].s&&(te[ue].ks.k[Oe].s[0].c=te[ue].closed),te[ue].ks.k[Oe].e&&(te[ue].ks.k[Oe].e[0].c=te[ue].closed);else"gr"===te[ue].ty&&se(te[ue].it)}function ee(te){var ue,Re,Ye,$e,ot,Ot,Oe=te.length;for(Re=0;Re<Oe;Re+=1){if((ue=te[Re]).hasMask){var yt=ue.masksProperties;for($e=yt.length,Ye=0;Ye<$e;Ye+=1)if(yt[Ye].pt.k.i)yt[Ye].pt.k.c=yt[Ye].cl;else for(Ot=yt[Ye].pt.k.length,ot=0;ot<Ot;ot+=1)yt[Ye].pt.k[ot].s&&(yt[Ye].pt.k[ot].s[0].c=yt[Ye].cl),yt[Ye].pt.k[ot].e&&(yt[Ye].pt.k[ot].e[0].c=yt[Ye].cl)}4===ue.ty&&se(ue.shapes)}}return function(te){if(J(de,te.v)&&(ee(te.layers),te.assets)){var ue,Re=te.assets.length;for(ue=0;ue<Re;ue+=1)te.assets[ue].layers&&ee(te.assets[ue].layers)}}}(),Ee={completeData:function ve(de){de.__complete||(Pe(de),ne(de),re(de),me(de),_e(de),Y(de.layers,de.assets),function A(de,se){if(de){var ee=0,te=de.length;for(ee=0;ee<te;ee+=1)1===de[ee].t&&(de[ee].data.layers=I(de[ee].data.refId,se),Y(de[ee].data.layers,se))}}(de.chars,de.assets),de.__complete=!0)}};return Ee.checkColors=Pe,Ee.checkChars=re,Ee.checkPathProperties=me,Ee.checkShapes=_e,Ee.completeLayers=Y,Ee}()),w.assetLoader||(w.assetLoader=function(){function Y(N){var I=N.getResponseHeader("content-type");return I&&"json"===N.responseType&&-1!==I.indexOf("json")||N.response&&"object"===_typeof$5(N.response)?N.response:N.response&&"string"==typeof N.response?JSON.parse(N.response):N.responseText?JSON.parse(N.responseText):null}return{load:function A(N,I,T,W){var J,ne=new XMLHttpRequest;try{ne.responseType="json"}catch{}ne.onreadystatechange=function(){if(4===ne.readyState)if(200===ne.status)J=Y(ne),T(J);else try{J=Y(ne),T(J)}catch(re){W&&W(re)}};try{ne.open("GET",N,!0)}catch{ne.open("GET",I+"/"+N,!0)}ne.send()}}}()),"loadAnimation"===j.data.type)w.assetLoader.load(j.data.path,j.data.fullPath,function(Y){w.dataManager.completeData(Y),w.postMessage({id:j.data.id,payload:Y,status:"success"})},function(){w.postMessage({id:j.data.id,status:"error"})});else if("complete"===j.data.type){var k=j.data.animation;w.dataManager.completeData(k),w.postMessage({id:j.data.id,payload:k,status:"success"})}else"loadData"===j.data.type&&w.assetLoader.load(j.data.path,j.data.fullPath,function(Y){w.postMessage({id:j.data.id,payload:Y,status:"success"})},function(){w.postMessage({id:j.data.id,status:"error"})})})).onmessage=function(x){var j=x.data,G=j.id,k=h[G];h[G]=null,"success"===j.status?k.onComplete(j.payload):k.onError&&k.onError()})}function U(x,j){var G="processId_"+(d+=1);return h[G]={onComplete:x,onError:j},G}return{loadAnimation:function V(x,j,G){L();var k=U(j,G);s.postMessage({type:"loadAnimation",path:x,fullPath:window.location.origin+window.location.pathname,id:k})},loadData:function z(x,j,G){L();var k=U(j,G);s.postMessage({type:"loadData",path:x,fullPath:window.location.origin+window.location.pathname,id:k})},completeAnimation:function Q(x,j,G){L();var k=U(j,G);s.postMessage({type:"complete",animation:x,id:k})}}}(),ImagePreloader=function(){var d=function(){var A=createTag("canvas");A.width=1,A.height=1;var N=A.getContext("2d");return N.fillStyle="rgba(0,0,0,0)",N.fillRect(0,0,1,1),A}();function h(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function p(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(A,N,I){var T="";if(A.e)T=A.p;else if(N){var W=A.p;-1!==W.indexOf("images/")&&(W=W.split("/")[1]),T=N+W}else T=I,T+=A.u?A.u:"",T+=A.p;return T}function _(A){var N=0,I=setInterval(function(){(A.getBBox().width||N>500)&&(this._imageLoaded(),clearInterval(I)),N+=1}.bind(this),50)}function L(A){var N={assetData:A},I=s(A,this.assetsPath,this.path);return dataManager.loadData(I,function(T){N.img=T,this._footageLoaded()}.bind(this),function(){N.img={},this._footageLoaded()}.bind(this)),N}function Y(){this._imageLoaded=h.bind(this),this._footageLoaded=p.bind(this),this.testImageLoaded=_.bind(this),this.createFootageData=L.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Y.prototype={loadAssets:function U(A,N){this.imagesLoadedCb=N;var I,T=A.length;for(I=0;I<T;I+=1)A[I].layers||(A[I].t&&"seq"!==A[I].t?3===A[I].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(A[I]))):(this.totalImages+=1,this.images.push(this._createImageData(A[I]))))},setAssetsPath:function z(A){this.assetsPath=A||""},setPath:function V(A){this.path=A||""},loadedImages:function j(){return this.totalImages===this.loadedAssets},loadedFootages:function G(){return this.totalFootages===this.loadedFootagesCount},destroy:function x(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function Q(A){for(var N=0,I=this.images.length;N<I;){if(this.images[N].assetData===A)return this.images[N].img;N+=1}return null},createImgData:function P(A){var N=s(A,this.assetsPath,this.path),I=createTag("img");I.crossOrigin="anonymous",I.addEventListener("load",this._imageLoaded,!1),I.addEventListener("error",function(){T.img=d,this._imageLoaded()}.bind(this),!1),I.src=N;var T={img:I,assetData:A};return T},createImageData:function w(A){var N=s(A,this.assetsPath,this.path),I=createNS("image");isSafari?this.testImageLoaded(I):I.addEventListener("load",this._imageLoaded,!1),I.addEventListener("error",function(){T.img=d,this._imageLoaded()}.bind(this),!1),I.setAttributeNS("http://www.w3.org/1999/xlink","href",N),this._elementHelper.append?this._elementHelper.append(I):this._elementHelper.appendChild(I);var T={img:I,assetData:A};return T},imageLoaded:h,footageLoaded:p,setCacheType:function k(A,N){"svg"===A?(this._elementHelper=N,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},Y}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(h,p){if(this._cbs[h])for(var s=this._cbs[h],_=0;_<s.length;_+=1)s[_](p)},addEventListener:function(h,p){return this._cbs[h]||(this._cbs[h]=[]),this._cbs[h].push(p),function(){this.removeEventListener(h,p)}.bind(this)},removeEventListener:function(h,p){if(p){if(this._cbs[h]){for(var s=0,_=this._cbs[h].length;s<_;)this._cbs[h][s]===p&&(this._cbs[h].splice(s,1),s-=1,_-=1),s+=1;this._cbs[h].length||(this._cbs[h]=null)}}else this._cbs[h]=null}};var markerParser=function(){function d(h){for(var _,p=h.split("\r\n"),s={},w=0,P=0;P<p.length;P+=1)2===(_=p[P].split(":")).length&&(s[_[0]]=_[1].trim(),w+=1);if(0===w)throw new Error;return s}return function(h){for(var p=[],s=0;s<h.length;s+=1){var _=h[s],w={time:_.tm,duration:_.dr};try{w.payload=JSON.parse(h[s].cm)}catch{try{w.payload=d(h[s].cm)}catch{w.payload={name:h[s].cm}}}p.push(w)}return p}}(),ProjectInterface=function(){function d(h){this.compositions.push(h)}return function(){function h(p){for(var s=0,_=this.compositions.length;s<_;){if(this.compositions[s].data&&this.compositions[s].data.nm===p)return this.compositions[s].prepareFrame&&this.compositions[s].data.xt&&this.compositions[s].prepareFrame(this.currentFrame),this.compositions[s].compInterface;s+=1}return null}return h.compositions=[],h.currentFrame=0,h.registerComposition=d,h}}(),renderers={},registerRenderer=function(h,p){renderers[h]=p};function getRenderer(d){return renderers[d]}function _typeof$4(d){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(d){(d.wrapper||d.container)&&(this.wrapper=d.wrapper||d.container);var h="svg";d.animType?h=d.animType:d.renderer&&(h=d.renderer);var p=getRenderer(h);this.renderer=new p(this,d.rendererSettings),this.imagePreloader.setCacheType(h,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=h,this.loop=""===d.loop||null==d.loop||!0===d.loop||!1!==d.loop&&parseInt(d.loop,10),this.autoplay=!("autoplay"in d)||d.autoplay,this.name=d.name?d.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(d,"autoloadSegments")||d.autoloadSegments,this.assetsPath=d.assetsPath,this.initialSegment=d.initialSegment,d.audioFactory&&this.audioController.setAudioFactory(d.audioFactory),d.animationData?this.setupAnimation(d.animationData):d.path&&(this.path=-1!==d.path.lastIndexOf("\\")?d.path.substr(0,d.path.lastIndexOf("\\")+1):d.path.substr(0,d.path.lastIndexOf("/")+1),this.fileName=d.path.substr(d.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(d.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(d){dataManager.completeAnimation(d,this.configAnimation)},AnimationItem.prototype.setData=function(d,h){h&&"object"!==_typeof$4(h)&&(h=JSON.parse(h));var p={wrapper:d,animationData:h},s=d.attributes;p.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",p.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:"canvas";var _=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";"false"===_?p.loop=!1:"true"===_?p.loop=!0:""!==_&&(p.loop=parseInt(_,10));var w=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:!s.getNamedItem("bm-autoplay")||s.getNamedItem("bm-autoplay").value;p.autoplay="false"!==w,p.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"","false"===(s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"")&&(p.prerender=!1),this.setParams(p)},AnimationItem.prototype.includeLayers=function(d){d.op>this.animationData.op&&(this.animationData.op=d.op,this.totalFrames=Math.floor(d.op-this.animationData.ip));var p,w,h=this.animationData.layers,s=h.length,_=d.layers,P=_.length;for(w=0;w<P;w+=1)for(p=0;p<s;){if(h[p].id===_[w].id){h[p]=_[w];break}p+=1}if((d.chars||d.fonts)&&(this.renderer.globalData.fontManager.addChars(d.chars),this.renderer.globalData.fontManager.addFonts(d.fonts,this.renderer.globalData.defs)),d.assets)for(s=d.assets.length,p=0;p<s;p+=1)this.animationData.assets.push(d.assets[p]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(d){this.animationData=d;var h=getExpressionsPlugin();h&&h.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var d=this.animationData.segments;if(!d||0===d.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var h=d.shift();this.timeCompleted=h.time*this.frameRate;var p=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(p,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(d){if(this.renderer)try{this.animationData=d,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(d),d.assets||(d.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(d.assets),this.markers=markerParser(d.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(h){this.triggerConfigError(h)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var d=getExpressionsPlugin();d&&d.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(d){this.isSubframeEnabled=!!d},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(d){this.triggerRenderFrameError(d)}},AnimationItem.prototype.play=function(d){d&&this.name!==d||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(d){d&&this.name!==d||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(d){d&&this.name!==d||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(d){d&&this.name!==d||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(d){for(var h,p=0;p<this.markers.length;p+=1)if((h=this.markers[p]).payload&&h.payload.name===d)return h;return null},AnimationItem.prototype.goToAndStop=function(d,h,p){if(!p||this.name===p){var s=Number(d);if(isNaN(s)){var _=this.getMarkerData(d);_&&this.goToAndStop(_.time,!0)}else this.setCurrentRawFrameValue(h?d:d*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(d,h,p){if(!p||this.name===p){var s=Number(d);if(isNaN(s)){var _=this.getMarkerData(d);_&&(_.duration?this.playSegments([_.time,_.time+_.duration],!0):this.goToAndStop(_.time,!0))}else this.goToAndStop(s,h,p);this.play()}},AnimationItem.prototype.advanceTime=function(d){if(!0!==this.isPaused&&!1!==this.isLoaded){var h=this.currentRawFrame+d*this.frameModifier,p=!1;h>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?h>=this.totalFrames?(this.playCount+=1,this.checkSegments(h%this.totalFrames)||(this.setCurrentRawFrameValue(h%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(h):this.checkSegments(h>this.totalFrames?h%this.totalFrames:0)||(p=!0,h=this.totalFrames-1):h<0?this.checkSegments(h%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(p=!0,h=0):(this.setCurrentRawFrameValue(this.totalFrames+h%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(h),p&&(this.setCurrentRawFrameValue(h),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(d,h){this.playCount=0,d[1]<d[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=d[0]-d[1],this.timeCompleted=this.totalFrames,this.firstFrame=d[1],this.setCurrentRawFrameValue(this.totalFrames-.001-h)):d[1]>d[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=d[1]-d[0],this.timeCompleted=this.totalFrames,this.firstFrame=d[0],this.setCurrentRawFrameValue(.001+h)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(d,h){var p=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<d?p=d:this.currentRawFrame+this.firstFrame>h&&(p=h-d)),this.firstFrame=d,this.totalFrames=h-d,this.timeCompleted=this.totalFrames,-1!==p&&this.goToAndStop(p,!0)},AnimationItem.prototype.playSegments=function(d,h){if(h&&(this.segments.length=0),"object"===_typeof$4(d[0])){var p,s=d.length;for(p=0;p<s;p+=1)this.segments.push(d[p])}else this.segments.push(d);this.segments.length&&h&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(d){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),d&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(d){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),d),!0)},AnimationItem.prototype.destroy=function(d){d&&this.name!==d||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(d){this.currentRawFrame=d,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(d){this.playSpeed=d,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(d){this.playDirection=d<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(d,h){h&&this.name!==h||this.audioController.setVolume(d)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(d){d&&this.name!==d||this.audioController.mute()},AnimationItem.prototype.unmute=function(d){d&&this.name!==d||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(d){var h="";if(d.e)h=d.p;else if(this.assetsPath){var p=d.p;-1!==p.indexOf("images/")&&(p=p.split("/")[1]),h=this.assetsPath+p}else h=this.path,h+=d.u?d.u:"",h+=d.p;return h},AnimationItem.prototype.getAssetData=function(d){for(var h=0,p=this.assets.length;h<p;){if(d===this.assets[h].id)return this.assets[h];h+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(d){return d?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(d,h,p){try{this.renderer.getElementByPath(d).updateDocumentData(h,p)}catch{}},AnimationItem.prototype.trigger=function(d){if(this._cbs&&this._cbs[d])switch(d){case"enterFrame":this.triggerEvent(d,new BMEnterFrameEvent(d,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(d,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(d,new BMCompleteLoopEvent(d,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(d,new BMCompleteEvent(d,this.frameMult));break;case"segmentStart":this.triggerEvent(d,new BMSegmentStartEvent(d,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(d,new BMDestroyEvent(d,this));break;default:this.triggerEvent(d)}"enterFrame"===d&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(d,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===d&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(d,this.loop,this.playCount,this.frameMult)),"complete"===d&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(d,this.frameMult)),"segmentStart"===d&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(d,this.firstFrame,this.totalFrames)),"destroy"===d&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(d,this))},AnimationItem.prototype.triggerRenderFrameError=function(d){var h=new BMRenderFrameErrorEvent(d,this.currentFrame);this.triggerEvent("error",h),this.onError&&this.onError.call(this,h)},AnimationItem.prototype.triggerConfigError=function(d){var h=new BMConfigErrorEvent(d,this.currentFrame);this.triggerEvent("error",h),this.onError&&this.onError.call(this,h)};var animationManager=function(){var d={},h=[],p=0,s=0,_=0,w=!0,P=!1;function L(se){for(var ee=0,te=se.target;ee<s;)h[ee].animation===te&&(h.splice(ee,1),ee-=1,s-=1,te.isPaused||Q()),ee+=1}function U(se,ee){if(!se)return null;for(var te=0;te<s;){if(h[te].elem===se&&null!==h[te].elem)return h[te].animation;te+=1}var ue=new AnimationItem;return x(ue,se),ue.setData(se,ee),ue}function z(){_+=1,Pe()}function Q(){_-=1}function x(se,ee){se.addEventListener("destroy",L),se.addEventListener("_active",z),se.addEventListener("_idle",Q),h.push({elem:ee,animation:se}),s+=1}function A(se){var te,ee=se-p;for(te=0;te<s;te+=1)h[te].animation.advanceTime(ee);p=se,_&&!P?window.requestAnimationFrame(A):w=!0}function N(se){p=se,window.requestAnimationFrame(A)}function Pe(){!P&&_&&w&&(window.requestAnimationFrame(N),w=!1)}return d.registerAnimation=U,d.loadAnimation=function j(se){var ee=new AnimationItem;return x(ee,null),ee.setParams(se),ee},d.setSpeed=function G(se,ee){var te;for(te=0;te<s;te+=1)h[te].animation.setSpeed(se,ee)},d.setDirection=function k(se,ee){var te;for(te=0;te<s;te+=1)h[te].animation.setDirection(se,ee)},d.play=function Y(se){var ee;for(ee=0;ee<s;ee+=1)h[ee].animation.play(se)},d.pause=function I(se){var ee;for(ee=0;ee<s;ee+=1)h[ee].animation.pause(se)},d.stop=function W(se){var ee;for(ee=0;ee<s;ee+=1)h[ee].animation.stop(se)},d.togglePause=function J(se){var ee;for(ee=0;ee<s;ee+=1)h[ee].animation.togglePause(se)},d.searchAnimations=function re(se,ee,te){var Re,ue=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Oe=ue.length;for(Re=0;Re<Oe;Re+=1)te&&ue[Re].setAttribute("data-bm-type",te),U(ue[Re],se);if(ee&&0===Oe){te||(te="svg");var Ye=document.getElementsByTagName("body")[0];Ye.innerText="";var $e=createTag("div");$e.style.width="100%",$e.style.height="100%",$e.setAttribute("data-bm-type",te),Ye.appendChild($e),U($e,se)}},d.resize=function me(){var se;for(se=0;se<s;se+=1)h[se].animation.resize()},d.goToAndStop=function T(se,ee,te){var ue;for(ue=0;ue<s;ue+=1)h[ue].animation.goToAndStop(se,ee,te)},d.destroy=function ne(se){var ee;for(ee=s-1;ee>=0;ee-=1)h[ee].animation.destroy(se)},d.freeze=function _e(){P=!0},d.unfreeze=function ve(){P=!1,Pe()},d.setVolume=function Ie(se,ee){var te;for(te=0;te<s;te+=1)h[te].animation.setVolume(se,ee)},d.mute=function Ee(se){var ee;for(ee=0;ee<s;ee+=1)h[ee].animation.mute(se)},d.unmute=function de(se){var ee;for(ee=0;ee<s;ee+=1)h[ee].animation.unmute(se)},d.getRegisteredAnimations=function V(){var se,ee=h.length,te=[];for(se=0;se<ee;se+=1)te.push(h[se].animation);return te},d}(),BezierFactory=function(){var d={getBezierEasing:function p(N,I,T,W,J){var ne=J||("bez_"+N+"_"+I+"_"+T+"_"+W).replace(/\./g,"p");if(h[ne])return h[ne];var re=new A([N,I,T,W]);return h[ne]=re,re}},h={},U=.1,V="function"==typeof Float32Array;function z(N,I){return 1-3*I+3*N}function Q(N,I){return 3*I-6*N}function x(N){return 3*N}function j(N,I,T){return((z(I,T)*N+Q(I,T))*N+x(I))*N}function G(N,I,T){return 3*z(I,T)*N*N+2*Q(I,T)*N+x(I)}function A(N){this._p=N,this._mSampleValues=V?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return A.prototype={get:function(I){var T=this._p[0],W=this._p[1],J=this._p[2],ne=this._p[3];return this._precomputed||this._precompute(),T===W&&J===ne?I:0===I?0:1===I?1:j(this._getTForX(I),W,ne)},_precompute:function(){var I=this._p[0],T=this._p[1],W=this._p[2],J=this._p[3];this._precomputed=!0,(I!==T||W!==J)&&this._calcSampleValues()},_calcSampleValues:function(){for(var I=this._p[0],T=this._p[2],W=0;W<11;++W)this._mSampleValues[W]=j(W*U,I,T)},_getTForX:function(I){for(var T=this._p[0],W=this._p[2],J=this._mSampleValues,ne=0,re=1;10!==re&&J[re]<=I;++re)ne+=U;var _e=ne+(I-J[--re])/(J[re+1]-J[re])*U,ve=G(_e,T,W);return ve>=.001?function Y(N,I,T,W){for(var J=0;J<4;++J){var ne=G(I,T,W);if(0===ne)return I;I-=(j(I,T,W)-N)/ne}return I}(I,_e,T,W):0===ve?_e:function k(N,I,T,W,J){var ne,re,me=0;do{(ne=j(re=I+(T-I)/2,W,J)-N)>0?T=re:I=re}while(Math.abs(ne)>1e-7&&++me<10);return re}(I,ne,ne+U,T,W)}},d}(),pooling={double:function d(h){return h.concat(createSizedArray(h.length))}},poolFactory=function(d,h,p){var s=0,_=d,w=createSizedArray(_);return{newElement:function L(){return s?w[s-=1]:h()},release:function U(V){s===_&&(w=pooling.double(w),_*=2),p&&p(V),w[s]=V,s+=1}}},bezierLengthPool=poolFactory(8,function d(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function d(){return{lengths:[],totalLength:0}},function h(p){var s,_=p.lengths.length;for(s=0;s<_;s+=1)bezierLengthPool.release(p.lengths[s]);p.lengths.length=0});function bezFunction(){var d=Math;function h(x,j,G,k,Y,A){var N=x*k+j*Y+G*A-Y*k-A*x-G*j;return N>-.001&&N<.001}var s=function(x,j,G,k){var A,N,I,T,W,ne,Y=getDefaultCurveSegments(),J=0,re=[],me=[],Pe=bezierLengthPool.newElement();for(I=G.length,A=0;A<Y;A+=1){for(W=A/(Y-1),ne=0,N=0;N<I;N+=1)T=bmPow(1-W,3)*x[N]+3*bmPow(1-W,2)*W*G[N]+3*(1-W)*bmPow(W,2)*k[N]+bmPow(W,3)*j[N],re[N]=T,null!==me[N]&&(ne+=bmPow(re[N]-me[N],2)),me[N]=re[N];ne&&(J+=ne=bmSqrt(ne)),Pe.percents[A]=W,Pe.lengths[A]=J}return Pe.addedLength=J,Pe};function w(x){this.segmentLength=0,this.points=new Array(x)}function P(x,j){this.partialLength=x,this.point=j}var x,L=(x={},function(j,G,k,Y){var A=(j[0]+"_"+j[1]+"_"+G[0]+"_"+G[1]+"_"+k[0]+"_"+k[1]+"_"+Y[0]+"_"+Y[1]).replace(/\./g,"p");if(!x[A]){var I,T,W,J,ne,me,Pe,N=getDefaultCurveSegments(),re=0,_e=null;2===j.length&&(j[0]!==G[0]||j[1]!==G[1])&&h(j[0],j[1],G[0],G[1],j[0]+k[0],j[1]+k[1])&&h(j[0],j[1],G[0],G[1],G[0]+Y[0],G[1]+Y[1])&&(N=2);var ve=new w(N);for(W=k.length,I=0;I<N;I+=1){for(Pe=createSizedArray(W),ne=I/(N-1),me=0,T=0;T<W;T+=1)J=bmPow(1-ne,3)*j[T]+3*bmPow(1-ne,2)*ne*(j[T]+k[T])+3*(1-ne)*bmPow(ne,2)*(G[T]+Y[T])+bmPow(ne,3)*G[T],Pe[T]=J,null!==_e&&(me+=bmPow(Pe[T]-_e[T],2));re+=me=bmSqrt(me),ve.points[I]=new P(me,Pe),_e=Pe}ve.segmentLength=re,x[A]=ve}return x[A]});function U(x,j){var G=j.percents,k=j.lengths,Y=G.length,A=bmFloor((Y-1)*x),N=x*j.addedLength,I=0;if(A===Y-1||0===A||N===k[A])return G[A];for(var T=k[A]>N?-1:1,W=!0;W;)if(k[A]<=N&&k[A+1]>N?(I=(N-k[A])/(k[A+1]-k[A]),W=!1):A+=T,A<0||A>=Y-1){if(A===Y-1)return G[A];W=!1}return G[A]+(G[A+1]-G[A])*I}var z=createTypedArray("float32",8);return{getSegmentsLength:function _(x){var N,j=segmentsLengthPool.newElement(),G=x.c,k=x.v,Y=x.o,A=x.i,I=x._length,T=j.lengths,W=0;for(N=0;N<I-1;N+=1)T[N]=s(k[N],k[N+1],Y[N],A[N+1]),W+=T[N].addedLength;return G&&I&&(T[N]=s(k[N],k[0],Y[N],A[0]),W+=T[N].addedLength),j.totalLength=W,j},getNewSegment:function Q(x,j,G,k,Y,A,N){Y<0?Y=0:Y>1&&(Y=1);var W,I=U(Y,N),T=U(A=A>1?1:A,N),J=x.length,ne=1-I,re=1-T,me=ne*ne*ne,Pe=I*ne*ne*3,_e=I*I*ne*3,ve=I*I*I,Ie=ne*ne*re,Ee=I*ne*re+ne*I*re+ne*ne*T,de=I*I*re+ne*I*T+I*ne*T,se=I*I*T,ee=ne*re*re,te=I*re*re+ne*T*re+ne*re*T,ue=I*T*re+ne*T*T+I*re*T,Re=I*T*T,Oe=re*re*re,Ye=T*re*re+re*T*re+re*re*T,$e=T*T*re+re*T*T+T*re*T,ot=T*T*T;for(W=0;W<J;W+=1)z[4*W]=d.round(1e3*(me*x[W]+Pe*G[W]+_e*k[W]+ve*j[W]))/1e3,z[4*W+1]=d.round(1e3*(Ie*x[W]+Ee*G[W]+de*k[W]+se*j[W]))/1e3,z[4*W+2]=d.round(1e3*(ee*x[W]+te*G[W]+ue*k[W]+Re*j[W]))/1e3,z[4*W+3]=d.round(1e3*(Oe*x[W]+Ye*G[W]+$e*k[W]+ot*j[W]))/1e3;return z},getPointInSegment:function V(x,j,G,k,Y,A){var N=U(Y,A),I=1-N;return[d.round(1e3*(I*I*I*x[0]+(N*I*I+I*N*I+I*I*N)*G[0]+(N*N*I+I*N*N+N*I*N)*k[0]+N*N*N*j[0]))/1e3,d.round(1e3*(I*I*I*x[1]+(N*I*I+I*N*I+I*I*N)*G[1]+(N*N*I+I*N*N+N*I*N)*k[1]+N*N*N*j[1]))/1e3]},buildBezierData:L,pointOnLine2D:h,pointOnLine3D:function p(x,j,G,k,Y,A,N,I,T){if(0===G&&0===A&&0===T)return h(x,j,k,Y,N,I);var re,W=d.sqrt(d.pow(k-x,2)+d.pow(Y-j,2)+d.pow(A-G,2)),J=d.sqrt(d.pow(N-x,2)+d.pow(I-j,2)+d.pow(T-G,2)),ne=d.sqrt(d.pow(N-k,2)+d.pow(I-Y,2)+d.pow(T-A,2));return(re=W>J?W>ne?W-J-ne:ne-J-W:ne>J?ne-J-W:J-W-ne)>-1e-4&&re<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var d=initialDefaultFrame,h=Math.abs;function p(Y,A){var I,N=this.offsetTime;"multidimensional"===this.propType&&(I=createTypedArray("float32",this.pv.length));for(var re,me,Pe,T=A.lastIndex,W=T,J=this.keyframes.length-1,ne=!0;ne;){if(re=this.keyframes[W],me=this.keyframes[W+1],W===J-1&&Y>=me.t-N){re.h&&(re=me),T=0;break}if(me.t-N>Y){T=W;break}W<J-1?W+=1:(T=0,ne=!1)}Pe=this.keyframesMetadata[W]||{};var _e,ve,Ie,Ee,de,se,ue,ee=me.t-N,te=re.t-N;if(re.to){Pe.bezierData||(Pe.bezierData=bez.buildBezierData(re.s,me.s||re.e,re.to,re.ti));var Re=Pe.bezierData;if(Y>=ee||Y<te){var Oe=Y>=ee?Re.points.length-1:0;for(ve=Re.points[Oe].point.length,_e=0;_e<ve;_e+=1)I[_e]=Re.points[Oe].point[_e]}else{Pe.__fnct?se=Pe.__fnct:(se=BezierFactory.getBezierEasing(re.o.x,re.o.y,re.i.x,re.i.y,re.n).get,Pe.__fnct=se),Ie=se((Y-te)/(ee-te));var $e,Ye=Re.segmentLength*Ie,ot=A.lastFrame<Y&&A._lastKeyframeIndex===W?A._lastAddedLength:0;for(de=A.lastFrame<Y&&A._lastKeyframeIndex===W?A._lastPoint:0,ne=!0,Ee=Re.points.length;ne;){if(ot+=Re.points[de].partialLength,0===Ye||0===Ie||de===Re.points.length-1){for(ve=Re.points[de].point.length,_e=0;_e<ve;_e+=1)I[_e]=Re.points[de].point[_e];break}if(Ye>=ot&&Ye<ot+Re.points[de+1].partialLength){for($e=(Ye-ot)/Re.points[de+1].partialLength,ve=Re.points[de].point.length,_e=0;_e<ve;_e+=1)I[_e]=Re.points[de].point[_e]+(Re.points[de+1].point[_e]-Re.points[de].point[_e])*$e;break}de<Ee-1?de+=1:ne=!1}A._lastPoint=de,A._lastAddedLength=ot-Re.points[de].partialLength,A._lastKeyframeIndex=W}}else{var Et;if(J=re.s.length,ue=me.s||re.e,this.sh&&1!==re.h)Y>=ee?(I[0]=ue[0],I[1]=ue[1],I[2]=ue[2]):Y<=te?(I[0]=re.s[0],I[1]=re.s[1],I[2]=re.s[2]):function _(Y,A){var N=A[0],I=A[1],T=A[2],W=A[3],J=Math.atan2(2*I*W-2*N*T,1-2*I*I-2*T*T),ne=Math.asin(2*N*I+2*T*W),re=Math.atan2(2*N*W-2*I*T,1-2*N*N-2*T*T);Y[0]=J/degToRads,Y[1]=ne/degToRads,Y[2]=re/degToRads}(I,function s(Y,A,N){var ve,Ie,Ee,de,se,I=[],T=Y[0],W=Y[1],J=Y[2],ne=Y[3],re=A[0],me=A[1],Pe=A[2],_e=A[3];return(Ie=T*re+W*me+J*Pe+ne*_e)<0&&(Ie=-Ie,re=-re,me=-me,Pe=-Pe,_e=-_e),1-Ie>1e-6?(ve=Math.acos(Ie),Ee=Math.sin(ve),de=Math.sin((1-N)*ve)/Ee,se=Math.sin(N*ve)/Ee):(de=1-N,se=N),I[0]=de*T+se*re,I[1]=de*W+se*me,I[2]=de*J+se*Pe,I[3]=de*ne+se*_e,I}(w(re.s),w(ue),(Y-te)/(ee-te)));else for(W=0;W<J;W+=1)1!==re.h&&(Y>=ee?Ie=1:Y<te?Ie=0:(re.o.x.constructor===Array?(Pe.__fnct||(Pe.__fnct=[]),Pe.__fnct[W]?se=Pe.__fnct[W]:(se=BezierFactory.getBezierEasing(void 0===re.o.x[W]?re.o.x[0]:re.o.x[W],void 0===re.o.y[W]?re.o.y[0]:re.o.y[W],void 0===re.i.x[W]?re.i.x[0]:re.i.x[W],void 0===re.i.y[W]?re.i.y[0]:re.i.y[W]).get,Pe.__fnct[W]=se)):Pe.__fnct?se=Pe.__fnct:(se=BezierFactory.getBezierEasing(re.o.x,re.o.y,re.i.x,re.i.y).get,re.keyframeMetadata=se),Ie=se((Y-te)/(ee-te)))),ue=me.s||re.e,Et=1===re.h?re.s[W]:re.s[W]+(ue[W]-re.s[W])*Ie,"multidimensional"===this.propType?I[W]=Et:I=Et}return A.lastIndex=T,I}function w(Y){var A=Y[0]*degToRads,N=Y[1]*degToRads,I=Y[2]*degToRads,T=Math.cos(A/2),W=Math.cos(N/2),J=Math.cos(I/2),ne=Math.sin(A/2),re=Math.sin(N/2),me=Math.sin(I/2);return[ne*re*J+T*W*me,ne*W*J+T*re*me,T*re*J-ne*W*me,T*W*J-ne*re*me]}function P(){var Y=this.comp.renderedFrame-this.offsetTime,A=this.keyframes[0].t-this.offsetTime,N=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Y===this._caching.lastFrame||this._caching.lastFrame!==d&&(this._caching.lastFrame>=N&&Y>=N||this._caching.lastFrame<A&&Y<A))){this._caching.lastFrame>=Y&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var I=this.interpolateValue(Y,this._caching);this.pv=I}return this._caching.lastFrame=Y,this.pv}function L(Y){var A;if("unidimensional"===this.propType)h(this.v-(A=Y*this.mult))>1e-5&&(this.v=A,this._mdf=!0);else for(var N=0,I=this.v.length;N<I;)h(this.v[N]-(A=Y[N]*this.mult))>1e-5&&(this.v[N]=A,this._mdf=!0),N+=1}function U(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var Y,A=this.effectsSequence.length,N=this.kf?this.pv:this.data.k;for(Y=0;Y<A;Y+=1)N=this.effectsSequence[Y](N);this.setVValue(N),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function V(Y){this.effectsSequence.push(Y),this.container.addDynamicProperty(this)}function z(Y,A,N,I){this.propType="unidimensional",this.mult=N||1,this.data=A,this.v=N?A.k*N:A.k,this.pv=A.k,this._mdf=!1,this.elem=Y,this.container=I,this.comp=Y.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=U,this.setVValue=L,this.addEffect=V}function Q(Y,A,N,I){this.propType="multidimensional",this.mult=N||1,this.data=A,this._mdf=!1,this.elem=Y,this.container=I,this.comp=Y.comp,this.k=!1,this.kf=!1,this.frameId=-1;var T,W=A.k.length;for(this.v=createTypedArray("float32",W),this.pv=createTypedArray("float32",W),this.vel=createTypedArray("float32",W),T=0;T<W;T+=1)this.v[T]=A.k[T]*this.mult,this.pv[T]=A.k[T];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=U,this.setVValue=L,this.addEffect=V}function x(Y,A,N,I){this.propType="unidimensional",this.keyframes=A.k,this.keyframesMetadata=[],this.offsetTime=Y.data.st,this.frameId=-1,this._caching={lastFrame:d,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=A,this.mult=N||1,this.elem=Y,this.container=I,this.comp=Y.comp,this.v=d,this.pv=d,this._isFirstFrame=!0,this.getValue=U,this.setVValue=L,this.interpolateValue=p,this.effectsSequence=[P.bind(this)],this.addEffect=V}function j(Y,A,N,I){this.propType="multidimensional";var T,J,ne,re,me,W=A.k.length;for(T=0;T<W-1;T+=1)A.k[T].to&&A.k[T].s&&A.k[T+1]&&A.k[T+1].s&&(ne=A.k[T+1].s,re=A.k[T].to,me=A.k[T].ti,(2===(J=A.k[T].s).length&&!(J[0]===ne[0]&&J[1]===ne[1])&&bez.pointOnLine2D(J[0],J[1],ne[0],ne[1],J[0]+re[0],J[1]+re[1])&&bez.pointOnLine2D(J[0],J[1],ne[0],ne[1],ne[0]+me[0],ne[1]+me[1])||3===J.length&&!(J[0]===ne[0]&&J[1]===ne[1]&&J[2]===ne[2])&&bez.pointOnLine3D(J[0],J[1],J[2],ne[0],ne[1],ne[2],J[0]+re[0],J[1]+re[1],J[2]+re[2])&&bez.pointOnLine3D(J[0],J[1],J[2],ne[0],ne[1],ne[2],ne[0]+me[0],ne[1]+me[1],ne[2]+me[2]))&&(A.k[T].to=null,A.k[T].ti=null),J[0]===ne[0]&&J[1]===ne[1]&&0===re[0]&&0===re[1]&&0===me[0]&&0===me[1]&&(2===J.length||J[2]===ne[2]&&0===re[2]&&0===me[2])&&(A.k[T].to=null,A.k[T].ti=null));this.effectsSequence=[P.bind(this)],this.data=A,this.keyframes=A.k,this.keyframesMetadata=[],this.offsetTime=Y.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=N||1,this.elem=Y,this.container=I,this.comp=Y.comp,this.getValue=U,this.setVValue=L,this.interpolateValue=p,this.frameId=-1;var Pe=A.k[0].s.length;for(this.v=createTypedArray("float32",Pe),this.pv=createTypedArray("float32",Pe),T=0;T<Pe;T+=1)this.v[T]=d,this.pv[T]=d;this._caching={lastFrame:d,lastIndex:0,value:createTypedArray("float32",Pe)},this.addEffect=V}return{getProp:function G(Y,A,N,I,T){var W;if(A.k.length)if("number"==typeof A.k[0])W=new Q(Y,A,I,T);else switch(N){case 0:W=new x(Y,A,I,T);break;case 1:W=new j(Y,A,I,T)}else W=new z(Y,A,I,T);return W.effectsSequence.length&&T.addDynamicProperty(W),W}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(h){-1===this.dynamicProperties.indexOf(h)&&(this.dynamicProperties.push(h),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var h,p=this.dynamicProperties.length;for(h=0;h<p;h+=1)this.dynamicProperties[h].getValue(),this.dynamicProperties[h]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(h){this.container=h,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function d(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(d,h){this.c=d,this.setLength(h);for(var p=0;p<h;)this.v[p]=pointPool.newElement(),this.o[p]=pointPool.newElement(),this.i[p]=pointPool.newElement(),p+=1},ShapePath.prototype.setLength=function(d){for(;this._maxLength<d;)this.doubleArrayLength();this._length=d},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(d,h,p,s,_){var w;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),p){case"v":w=this.v;break;case"i":w=this.i;break;case"o":w=this.o;break;default:w=[]}(!w[s]||w[s]&&!_)&&(w[s]=pointPool.newElement()),w[s][0]=d,w[s][1]=h},ShapePath.prototype.setTripleAt=function(d,h,p,s,_,w,P,L){this.setXYAt(d,h,"v",P,L),this.setXYAt(p,s,"o",P,L),this.setXYAt(_,w,"i",P,L)},ShapePath.prototype.reverse=function(){var d=new ShapePath;d.setPathData(this.c,this._length);var h=this.v,p=this.o,s=this.i,_=0;this.c&&(d.setTripleAt(h[0][0],h[0][1],s[0][0],s[0][1],p[0][0],p[0][1],0,!1),_=1);var L,w=this._length-1,P=this._length;for(L=_;L<P;L+=1)d.setTripleAt(h[w][0],h[w][1],s[w][0],s[w][1],p[w][0],p[w][1],L,!1),w-=1;return d};var shapePool=(s=poolFactory(4,function d(){return new ShapePath},function h(_){var P,w=_._length;for(P=0;P<w;P+=1)pointPool.release(_.v[P]),pointPool.release(_.i[P]),pointPool.release(_.o[P]),_.v[P]=null,_.i[P]=null,_.o[P]=null;_._length=0,_.c=!1}),s.clone=function p(_){var P,w=s.newElement(),L=void 0===_._length?_.v.length:_._length;for(w.setLength(L),w.c=_.c,P=0;P<L;P+=1)w.setTripleAt(_.v[P][0],_.v[P][1],_.o[P][0],_.o[P][1],_.i[P][0],_.i[P][1],P);return w},s),s;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(d){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=d,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var d;for(d=0;d<this._length;d+=1)shapePool.release(this.shapes[d]);this._length=0};var shapeCollectionPool=function(){var d={newShapeCollection:function _(){return h?s[h-=1]:new ShapeCollection},release:function w(P){var L,U=P._length;for(L=0;L<U;L+=1)shapePool.release(P.shapes[L]);P._length=0,h===p&&(s=pooling.double(s),p*=2),s[h]=P,h+=1}},h=0,p=4,s=createSizedArray(p);return d}(),ShapePropertyFactory=function(){var d=-999999;function h(A,N,I){var W,J,ne,re,me,Pe,_e,ve,T=I.lastIndex,Ee=this.keyframes;if(A<Ee[0].t-this.offsetTime)W=Ee[0].s[0],ne=!0,T=0;else if(A>=Ee[Ee.length-1].t-this.offsetTime)W=Ee[Ee.length-1].s?Ee[Ee.length-1].s[0]:Ee[Ee.length-2].e[0],ne=!0;else{for(var te,ue,Re,de=T,se=Ee.length-1,ee=!0;ee&&(te=Ee[de],!((ue=Ee[de+1]).t-this.offsetTime>A));)de<se-1?de+=1:ee=!1;if(Re=this.keyframesMetadata[de]||{},T=de,!(ne=1===te.h)){if(A>=ue.t-this.offsetTime)ve=1;else if(A<te.t-this.offsetTime)ve=0;else{var Oe;Re.__fnct?Oe=Re.__fnct:(Oe=BezierFactory.getBezierEasing(te.o.x,te.o.y,te.i.x,te.i.y).get,Re.__fnct=Oe),ve=Oe((A-(te.t-this.offsetTime))/(ue.t-this.offsetTime-(te.t-this.offsetTime)))}J=ue.s?ue.s[0]:te.e[0]}W=te.s[0]}for(Pe=N._length,_e=W.i[0].length,I.lastIndex=T,re=0;re<Pe;re+=1)for(me=0;me<_e;me+=1)N.i[re][me]=ne?W.i[re][me]:W.i[re][me]+(J.i[re][me]-W.i[re][me])*ve,N.o[re][me]=ne?W.o[re][me]:W.o[re][me]+(J.o[re][me]-W.o[re][me])*ve,N.v[re][me]=ne?W.v[re][me]:W.v[re][me]+(J.v[re][me]-W.v[re][me])*ve}function p(){var A=this.comp.renderedFrame-this.offsetTime,N=this.keyframes[0].t-this.offsetTime,I=this.keyframes[this.keyframes.length-1].t-this.offsetTime,T=this._caching.lastFrame;return T!==d&&(T<N&&A<N||T>I&&A>I)||(this._caching.lastIndex=T<A?this._caching.lastIndex:0,this.interpolateShape(A,this.pv,this._caching)),this._caching.lastFrame=A,this.pv}function s(){this.paths=this.localShapeCollection}function w(A){(function _(A,N){if(A._length!==N._length||A.c!==N.c)return!1;var I,T=A._length;for(I=0;I<T;I+=1)if(A.v[I][0]!==N.v[I][0]||A.v[I][1]!==N.v[I][1]||A.o[I][0]!==N.o[I][0]||A.o[I][1]!==N.o[I][1]||A.i[I][0]!==N.i[I][0]||A.i[I][1]!==N.i[I][1])return!1;return!0})(this.v,A)||(this.v=shapePool.clone(A),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function P(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length)return void(this._mdf=!1);if(this.lock)return void this.setVValue(this.pv);var A;this.lock=!0,this._mdf=!1,A=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var N,I=this.effectsSequence.length;for(N=0;N<I;N+=1)A=this.effectsSequence[N](A);this.setVValue(A),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function L(A,N,I){this.propType="shape",this.comp=A.comp,this.container=A,this.elem=A,this.data=N,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shapePool.clone(3===I?N.pt.k:N.ks.k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function U(A){this.effectsSequence.push(A),this.container.addDynamicProperty(this)}function V(A,N,I){this.propType="shape",this.comp=A.comp,this.elem=A,this.container=A,this.offsetTime=A.data.st,this.keyframes=3===I?N.pt.k:N.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var T=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,T),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=d,this.reset=s,this._caching={lastFrame:d,lastIndex:0},this.effectsSequence=[p.bind(this)]}L.prototype.interpolateShape=h,L.prototype.getValue=P,L.prototype.setVValue=w,L.prototype.addEffect=U,V.prototype.getValue=P,V.prototype.interpolateShape=h,V.prototype.setVValue=w,V.prototype.addEffect=U;var z=function(){var A=roundCorner;function N(I,T){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=T.d,this.elem=I,this.comp=I.comp,this.frameId=-1,this.initDynamicPropertyContainer(I),this.p=PropertyFactory.getProp(I,T.p,1,0,this),this.s=PropertyFactory.getProp(I,T.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return N.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var T=this.p.v[0],W=this.p.v[1],J=this.s.v[0]/2,ne=this.s.v[1]/2,re=3!==this.d,me=this.v;me.v[0][0]=T,me.v[0][1]=W-ne,me.v[1][0]=re?T+J:T-J,me.v[1][1]=W,me.v[2][0]=T,me.v[2][1]=W+ne,me.v[3][0]=re?T-J:T+J,me.v[3][1]=W,me.i[0][0]=re?T-J*A:T+J*A,me.i[0][1]=W-ne,me.i[1][0]=re?T+J:T-J,me.i[1][1]=W-ne*A,me.i[2][0]=re?T+J*A:T-J*A,me.i[2][1]=W+ne,me.i[3][0]=re?T-J:T+J,me.i[3][1]=W+ne*A,me.o[0][0]=re?T+J*A:T-J*A,me.o[0][1]=W-ne,me.o[1][0]=re?T+J:T-J,me.o[1][1]=W+ne*A,me.o[2][0]=re?T-J*A:T+J*A,me.o[2][1]=W+ne,me.o[3][0]=re?T-J:T+J,me.o[3][1]=W-ne*A}},extendPrototype([DynamicPropertyContainer],N),N}(),Q=function(){function A(N,I){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=N,this.comp=N.comp,this.data=I,this.frameId=-1,this.d=I.d,this.initDynamicPropertyContainer(N),1===I.sy?(this.ir=PropertyFactory.getProp(N,I.ir,0,0,this),this.is=PropertyFactory.getProp(N,I.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(N,I.pt,0,0,this),this.p=PropertyFactory.getProp(N,I.p,1,0,this),this.r=PropertyFactory.getProp(N,I.r,0,degToRads,this),this.or=PropertyFactory.getProp(N,I.or,0,0,this),this.os=PropertyFactory.getProp(N,I.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return A.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var ve,Ie,Ee,de,I=2*Math.floor(this.pt.v),T=2*Math.PI/I,W=!0,J=this.or.v,ne=this.ir.v,re=this.os.v,me=this.is.v,Pe=2*Math.PI*J/(2*I),_e=2*Math.PI*ne/(2*I),se=-Math.PI/2;se+=this.r.v;var ee=3===this.data.d?-1:1;for(this.v._length=0,ve=0;ve<I;ve+=1){Ee=W?re:me,de=W?Pe:_e;var te=(Ie=W?J:ne)*Math.cos(se),ue=Ie*Math.sin(se),Re=0===te&&0===ue?0:ue/Math.sqrt(te*te+ue*ue),Oe=0===te&&0===ue?0:-te/Math.sqrt(te*te+ue*ue);this.v.setTripleAt(te+=+this.p.v[0],ue+=+this.p.v[1],te-Re*de*Ee*ee,ue-Oe*de*Ee*ee,te+Re*de*Ee*ee,ue+Oe*de*Ee*ee,ve,!0),W=!W,se+=T*ee}},convertPolygonToPath:function(){var re,I=Math.floor(this.pt.v),T=2*Math.PI/I,W=this.or.v,J=this.os.v,ne=2*Math.PI*W/(4*I),me=.5*-Math.PI,Pe=3===this.data.d?-1:1;for(me+=this.r.v,this.v._length=0,re=0;re<I;re+=1){var _e=W*Math.cos(me),ve=W*Math.sin(me),Ie=0===_e&&0===ve?0:ve/Math.sqrt(_e*_e+ve*ve),Ee=0===_e&&0===ve?0:-_e/Math.sqrt(_e*_e+ve*ve);this.v.setTripleAt(_e+=+this.p.v[0],ve+=+this.p.v[1],_e-Ie*ne*J*Pe,ve-Ee*ne*J*Pe,_e+Ie*ne*J*Pe,ve+Ee*ne*J*Pe,re,!0),me+=T*Pe}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],A),A}(),x=function(){function A(N,I){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=N,this.comp=N.comp,this.frameId=-1,this.d=I.d,this.initDynamicPropertyContainer(N),this.p=PropertyFactory.getProp(N,I.p,1,0,this),this.s=PropertyFactory.getProp(N,I.s,1,0,this),this.r=PropertyFactory.getProp(N,I.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return A.prototype={convertRectToPath:function(){var I=this.p.v[0],T=this.p.v[1],W=this.s.v[0]/2,J=this.s.v[1]/2,ne=bmMin(W,J,this.r.v),re=ne*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(I+W,T-J+ne,I+W,T-J+ne,I+W,T-J+re,0,!0),this.v.setTripleAt(I+W,T+J-ne,I+W,T+J-re,I+W,T+J-ne,1,!0),0!==ne?(this.v.setTripleAt(I+W-ne,T+J,I+W-ne,T+J,I+W-re,T+J,2,!0),this.v.setTripleAt(I-W+ne,T+J,I-W+re,T+J,I-W+ne,T+J,3,!0),this.v.setTripleAt(I-W,T+J-ne,I-W,T+J-ne,I-W,T+J-re,4,!0),this.v.setTripleAt(I-W,T-J+ne,I-W,T-J+re,I-W,T-J+ne,5,!0),this.v.setTripleAt(I-W+ne,T-J,I-W+ne,T-J,I-W+re,T-J,6,!0),this.v.setTripleAt(I+W-ne,T-J,I+W-re,T-J,I+W-ne,T-J,7,!0)):(this.v.setTripleAt(I-W,T+J,I-W+re,T+J,I-W,T+J,2),this.v.setTripleAt(I-W,T-J,I-W,T-J+re,I-W,T-J,3))):(this.v.setTripleAt(I+W,T-J+ne,I+W,T-J+re,I+W,T-J+ne,0,!0),0!==ne?(this.v.setTripleAt(I+W-ne,T-J,I+W-ne,T-J,I+W-re,T-J,1,!0),this.v.setTripleAt(I-W+ne,T-J,I-W+re,T-J,I-W+ne,T-J,2,!0),this.v.setTripleAt(I-W,T-J+ne,I-W,T-J+ne,I-W,T-J+re,3,!0),this.v.setTripleAt(I-W,T+J-ne,I-W,T+J-re,I-W,T+J-ne,4,!0),this.v.setTripleAt(I-W+ne,T+J,I-W+ne,T+J,I-W+re,T+J,5,!0),this.v.setTripleAt(I+W-ne,T+J,I+W-re,T+J,I+W-ne,T+J,6,!0),this.v.setTripleAt(I+W,T+J-ne,I+W,T+J-ne,I+W,T+J-re,7,!0)):(this.v.setTripleAt(I-W,T-J,I-W+re,T-J,I-W,T-J,1,!0),this.v.setTripleAt(I-W,T+J,I-W,T+J-re,I-W,T+J,2,!0),this.v.setTripleAt(I+W,T+J,I+W-re,T+J,I+W,T+J,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],A),A}();return{getShapeProp:function j(A,N,I){var T;return 3===I||4===I?T=(3===I?N.pt:N.ks).k.length?new V(A,N,I):new L(A,N,I):5===I?T=new x(A,N):6===I?T=new z(A,N):7===I&&(T=new Q(A,N)),T.k&&A.addDynamicProperty(T),T},getConstructorFunction:function G(){return L},getKeyframedConstructorFunction:function k(){return V}}}(),Matrix=function(){var d=Math.cos,h=Math.sin,p=Math.tan,s=Math.round;function _(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function w(ee){if(0===ee)return this;var te=d(ee),ue=h(ee);return this._t(te,-ue,0,0,ue,te,0,0,0,0,1,0,0,0,0,1)}function P(ee){if(0===ee)return this;var te=d(ee),ue=h(ee);return this._t(1,0,0,0,0,te,-ue,0,0,ue,te,0,0,0,0,1)}function L(ee){if(0===ee)return this;var te=d(ee),ue=h(ee);return this._t(te,0,ue,0,0,1,0,0,-ue,0,te,0,0,0,0,1)}function U(ee){if(0===ee)return this;var te=d(ee),ue=h(ee);return this._t(te,-ue,0,0,ue,te,0,0,0,0,1,0,0,0,0,1)}function V(ee,te){return this._t(1,te,ee,1,0,0)}function z(ee,te){return this.shear(p(ee),p(te))}function Q(ee,te){var ue=d(te),Re=h(te);return this._t(ue,Re,0,0,-Re,ue,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,p(ee),1,0,0,0,0,1,0,0,0,0,1)._t(ue,-Re,0,0,Re,ue,0,0,0,0,1,0,0,0,0,1)}function x(ee,te,ue){return!ue&&0!==ue&&(ue=1),1===ee&&1===te&&1===ue?this:this._t(ee,0,0,0,0,te,0,0,0,0,ue,0,0,0,0,1)}function j(ee,te,ue,Re,Oe,Ye,$e,ot,Ot,yt,jt,At,Et,En,In,Dn){return this.props[0]=ee,this.props[1]=te,this.props[2]=ue,this.props[3]=Re,this.props[4]=Oe,this.props[5]=Ye,this.props[6]=$e,this.props[7]=ot,this.props[8]=Ot,this.props[9]=yt,this.props[10]=jt,this.props[11]=At,this.props[12]=Et,this.props[13]=En,this.props[14]=In,this.props[15]=Dn,this}function G(ee,te,ue){return ue=ue||0,0!==ee||0!==te||0!==ue?this._t(1,0,0,0,0,1,0,0,0,0,1,0,ee,te,ue,1):this}function k(ee,te,ue,Re,Oe,Ye,$e,ot,Ot,yt,jt,At,Et,En,In,Dn){var st=this.props;if(1===ee&&0===te&&0===ue&&0===Re&&0===Oe&&1===Ye&&0===$e&&0===ot&&0===Ot&&0===yt&&1===jt&&0===At)return st[12]=st[12]*ee+st[15]*Et,st[13]=st[13]*Ye+st[15]*En,st[14]=st[14]*jt+st[15]*In,st[15]*=Dn,this._identityCalculated=!1,this;var _n=st[0],or=st[1],zn=st[2],Mn=st[3],Sn=st[4],Bn=st[5],at=st[6],Xt=st[7],kn=st[8],vn=st[9],Ln=st[10],Gt=st[11],$t=st[12],ln=st[13],dn=st[14],ct=st[15];return st[0]=_n*ee+or*Oe+zn*Ot+Mn*Et,st[1]=_n*te+or*Ye+zn*yt+Mn*En,st[2]=_n*ue+or*$e+zn*jt+Mn*In,st[3]=_n*Re+or*ot+zn*At+Mn*Dn,st[4]=Sn*ee+Bn*Oe+at*Ot+Xt*Et,st[5]=Sn*te+Bn*Ye+at*yt+Xt*En,st[6]=Sn*ue+Bn*$e+at*jt+Xt*In,st[7]=Sn*Re+Bn*ot+at*At+Xt*Dn,st[8]=kn*ee+vn*Oe+Ln*Ot+Gt*Et,st[9]=kn*te+vn*Ye+Ln*yt+Gt*En,st[10]=kn*ue+vn*$e+Ln*jt+Gt*In,st[11]=kn*Re+vn*ot+Ln*At+Gt*Dn,st[12]=$t*ee+ln*Oe+dn*Ot+ct*Et,st[13]=$t*te+ln*Ye+dn*yt+ct*En,st[14]=$t*ue+ln*$e+dn*jt+ct*In,st[15]=$t*Re+ln*ot+dn*At+ct*Dn,this._identityCalculated=!1,this}function Y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function A(ee){for(var te=0;te<16;){if(ee.props[te]!==this.props[te])return!1;te+=1}return!0}function N(ee){var te;for(te=0;te<16;te+=1)ee.props[te]=this.props[te];return ee}function I(ee){var te;for(te=0;te<16;te+=1)this.props[te]=ee[te]}function T(ee,te,ue){return{x:ee*this.props[0]+te*this.props[4]+ue*this.props[8]+this.props[12],y:ee*this.props[1]+te*this.props[5]+ue*this.props[9]+this.props[13],z:ee*this.props[2]+te*this.props[6]+ue*this.props[10]+this.props[14]}}function W(ee,te,ue){return ee*this.props[0]+te*this.props[4]+ue*this.props[8]+this.props[12]}function J(ee,te,ue){return ee*this.props[1]+te*this.props[5]+ue*this.props[9]+this.props[13]}function ne(ee,te,ue){return ee*this.props[2]+te*this.props[6]+ue*this.props[10]+this.props[14]}function re(){var ee=this.props[0]*this.props[5]-this.props[1]*this.props[4],te=this.props[5]/ee,ue=-this.props[1]/ee,Re=-this.props[4]/ee,Oe=this.props[0]/ee,Ye=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/ee,$e=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/ee,ot=new Matrix;return ot.props[0]=te,ot.props[1]=ue,ot.props[4]=Re,ot.props[5]=Oe,ot.props[12]=Ye,ot.props[13]=$e,ot}function me(ee){return this.getInverseMatrix().applyToPointArray(ee[0],ee[1],ee[2]||0)}function Pe(ee){var te,ue=ee.length,Re=[];for(te=0;te<ue;te+=1)Re[te]=me(ee[te]);return Re}function _e(ee,te,ue){var Re=createTypedArray("float32",6);if(this.isIdentity())Re[0]=ee[0],Re[1]=ee[1],Re[2]=te[0],Re[3]=te[1],Re[4]=ue[0],Re[5]=ue[1];else{var Oe=this.props[0],Ye=this.props[1],$e=this.props[4],ot=this.props[5],Ot=this.props[12],yt=this.props[13];Re[0]=ee[0]*Oe+ee[1]*$e+Ot,Re[1]=ee[0]*Ye+ee[1]*ot+yt,Re[2]=te[0]*Oe+te[1]*$e+Ot,Re[3]=te[0]*Ye+te[1]*ot+yt,Re[4]=ue[0]*Oe+ue[1]*$e+Ot,Re[5]=ue[0]*Ye+ue[1]*ot+yt}return Re}function ve(ee,te,ue){return this.isIdentity()?[ee,te,ue]:[ee*this.props[0]+te*this.props[4]+ue*this.props[8]+this.props[12],ee*this.props[1]+te*this.props[5]+ue*this.props[9]+this.props[13],ee*this.props[2]+te*this.props[6]+ue*this.props[10]+this.props[14]]}function Ie(ee,te){if(this.isIdentity())return ee+","+te;var ue=this.props;return Math.round(100*(ee*ue[0]+te*ue[4]+ue[12]))/100+","+Math.round(100*(ee*ue[1]+te*ue[5]+ue[13]))/100}function Ee(){for(var ee=0,te=this.props,ue="matrix3d(";ee<16;)ue+=s(1e4*te[ee])/1e4,ue+=15===ee?")":",",ee+=1;return ue}function de(ee){return ee<1e-6&&ee>0||ee>-1e-6&&ee<0?s(1e4*ee)/1e4:ee}function se(){var ee=this.props;return"matrix("+de(ee[0])+","+de(ee[1])+","+de(ee[4])+","+de(ee[5])+","+de(ee[12])+","+de(ee[13])+")"}return function(){this.reset=_,this.rotate=w,this.rotateX=P,this.rotateY=L,this.rotateZ=U,this.skew=z,this.skewFromAxis=Q,this.shear=V,this.scale=x,this.setTransform=j,this.translate=G,this.transform=k,this.applyToPoint=T,this.applyToX=W,this.applyToY=J,this.applyToZ=ne,this.applyToPointArray=ve,this.applyToTriplePoints=_e,this.applyToPointStringified=Ie,this.toCSS=Ee,this.to2dCSS=se,this.clone=N,this.cloneFromProps=I,this.equals=A,this.inversePoints=Pe,this.inversePoint=me,this.getInverseMatrix=re,this._t=this.transform,this.isIdentity=Y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(d){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(d){setLocationHref(d)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(d){setSubframeEnabled(d)}function setPrefix(d){setIdPrefix(d)}function loadAnimation(d){return!0===standalone&&(d.animationData=JSON.parse(animationData)),animationManager.loadAnimation(d)}function setQuality(d){if("string"==typeof d)switch(d){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(d)&&d>1&&setDefaultCurveSegments(d);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator<"u"}function installPlugin(d,h){"expressions"===d&&setExpressionsPlugin(h)}function getFactory(d){switch(d){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(d){for(var h=queryString.split("&"),p=0;p<h.length;p+=1){var s=h[p].split("=");if(decodeURIComponent(s[0])==d)return decodeURIComponent(s[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.6";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)}catch(d){}var ShapeModifiers=function(){var d={},h={};return d.registerModifier=function p(_,w){h[_]||(h[_]=w)},d.getModifier=function s(_,w,P){return new h[_](w,P)},d}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(d){if(!this.closed){d.sh.container.addDynamicProperty(d.sh);var h={shape:d.sh,data:d,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(h),this.addShapeToModifier(h),this._isAnimated&&d.setAsAnimated()}},ShapeModifier.prototype.init=function(d,h){this.shapes=[],this.elem=d,this.initDynamicPropertyContainer(d),this.initModifierProperties(d,h),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(d,h){this.s=PropertyFactory.getProp(d,h.s,0,.01,this),this.e=PropertyFactory.getProp(d,h.e,0,.01,this),this.o=PropertyFactory.getProp(d,h.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=h.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(d){d.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(d,h,p,s,_){var w=[];h<=1?w.push({s:d,e:h}):d>=1?w.push({s:d-1,e:h-1}):(w.push({s:d,e:1}),w.push({s:0,e:h-1}));var L,V,P=[],U=w.length;for(L=0;L<U;L+=1)(V=w[L]).e*_<s||V.s*_>s+p||P.push([V.s*_<=s?0:(V.s*_-s)/p,V.e*_>=s+p?1:(V.e*_-s)/p]);return P.length||P.push([0,0]),P},TrimModifier.prototype.releasePathsData=function(d){var h,p=d.length;for(h=0;h<p;h+=1)segmentsLengthPool.release(d[h]);return d.length=0,d},TrimModifier.prototype.processShapes=function(d){var h,p;if(this._mdf||d){var s=this.o.v%360/360;if(s<0&&(s+=1),(h=this.s.v>1?1+s:this.s.v<0?0+s:this.s.v+s)>(p=this.e.v>1?1+s:this.e.v<0?0+s:this.e.v+s)){var _=h;h=p,p=_}h=1e-4*Math.round(1e4*h),p=1e-4*Math.round(1e4*p),this.sValue=h,this.eValue=p}else h=this.sValue,p=this.eValue;var w,P,U,V,z,Q,x,L=this.shapes.length,j=0;if(p===h)for(P=0;P<L;P+=1)this.shapes[P].localShapeCollection.releaseShapes(),this.shapes[P].shape._mdf=!0,this.shapes[P].shape.paths=this.shapes[P].localShapeCollection,this._mdf&&(this.shapes[P].pathsData.length=0);else if(1===p&&0===h||0===p&&1===h){if(this._mdf)for(P=0;P<L;P+=1)this.shapes[P].pathsData.length=0,this.shapes[P].shape._mdf=!0}else{var k,Y,G=[];for(P=0;P<L;P+=1)if((k=this.shapes[P]).shape._mdf||this._mdf||d||2===this.m){if(V=(w=k.shape.paths)._length,x=0,!k.shape._mdf&&k.pathsData.length)x=k.totalShapeLength;else{for(z=this.releasePathsData(k.pathsData),U=0;U<V;U+=1)Q=bez.getSegmentsLength(w.shapes[U]),z.push(Q),x+=Q.totalLength;k.totalShapeLength=x,k.pathsData=z}j+=x,k.shape._mdf=!0}else k.shape.paths=k.localShapeCollection;var T,A=h,N=p,I=0;for(P=L-1;P>=0;P-=1)if((k=this.shapes[P]).shape._mdf){for((Y=k.localShapeCollection).releaseShapes(),2===this.m&&L>1?(T=this.calculateShapeEdges(h,p,k.totalShapeLength,I,j),I+=k.totalShapeLength):T=[[A,N]],V=T.length,U=0;U<V;U+=1){A=T[U][0],N=T[U][1],G.length=0,N<=1?G.push({s:k.totalShapeLength*A,e:k.totalShapeLength*N}):A>=1?G.push({s:k.totalShapeLength*(A-1),e:k.totalShapeLength*(N-1)}):(G.push({s:k.totalShapeLength*A,e:k.totalShapeLength}),G.push({s:0,e:k.totalShapeLength*(N-1)}));var W=this.addShapes(k,G[0]);if(G[0].s!==G[0].e){if(G.length>1)if(k.shape.paths.shapes[k.shape.paths._length-1].c){var ne=W.pop();this.addPaths(W,Y),W=this.addShapes(k,G[1],ne)}else this.addPaths(W,Y),W=this.addShapes(k,G[1]);this.addPaths(W,Y)}}k.shape.paths=Y}}},TrimModifier.prototype.addPaths=function(d,h){var p,s=d.length;for(p=0;p<s;p+=1)h.addShape(d[p])},TrimModifier.prototype.addSegment=function(d,h,p,s,_,w,P){_.setXYAt(h[0],h[1],"o",w),_.setXYAt(p[0],p[1],"i",w+1),P&&_.setXYAt(d[0],d[1],"v",w),_.setXYAt(s[0],s[1],"v",w+1)},TrimModifier.prototype.addSegmentFromArray=function(d,h,p,s){h.setXYAt(d[1],d[5],"o",p),h.setXYAt(d[2],d[6],"i",p+1),s&&h.setXYAt(d[0],d[4],"v",p),h.setXYAt(d[3],d[7],"v",p+1)},TrimModifier.prototype.addShapes=function(d,h,p){var w,L,U,z,Q,x,j,k,s=d.pathsData,_=d.shape.paths.shapes,P=d.shape.paths._length,V=0,G=[],Y=!0;for(p?(Q=p._length,k=p._length):(p=shapePool.newElement(),Q=0,k=0),G.push(p),w=0;w<P;w+=1){for(x=s[w].lengths,p.c=_[w].c,U=_[w].c?x.length:x.length+1,L=1;L<U;L+=1)if(V+(z=x[L-1]).addedLength<h.s)V+=z.addedLength,p.c=!1;else{if(V>h.e){p.c=!1;break}h.s<=V&&h.e>=V+z.addedLength?(this.addSegment(_[w].v[L-1],_[w].o[L-1],_[w].i[L],_[w].v[L],p,Q,Y),Y=!1):(j=bez.getNewSegment(_[w].v[L-1],_[w].v[L],_[w].o[L-1],_[w].i[L],(h.s-V)/z.addedLength,(h.e-V)/z.addedLength,x[L-1]),this.addSegmentFromArray(j,p,Q,Y),Y=!1,p.c=!1),V+=z.addedLength,Q+=1}if(_[w].c&&x.length){if(z=x[L-1],V<=h.e){var A=x[L-1].addedLength;h.s<=V&&h.e>=V+A?(this.addSegment(_[w].v[L-1],_[w].o[L-1],_[w].i[0],_[w].v[0],p,Q,Y),Y=!1):(j=bez.getNewSegment(_[w].v[L-1],_[w].v[0],_[w].o[L-1],_[w].i[0],(h.s-V)/A,(h.e-V)/A,x[L-1]),this.addSegmentFromArray(j,p,Q,Y),Y=!1,p.c=!1)}else p.c=!1;V+=z.addedLength,Q+=1}if(p._length&&(p.setXYAt(p.v[k][0],p.v[k][1],"i",k),p.setXYAt(p.v[p._length-1][0],p.v[p._length-1][1],"o",p._length-1)),V>h.e)break;w<P-1&&(p=shapePool.newElement(),Y=!0,G.push(p),Q=0)}return G},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(d,h){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(d,h.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(d,h){var p=h/100,s=[0,0],_=d._length,w=0;for(w=0;w<_;w+=1)s[0]+=d.v[w][0],s[1]+=d.v[w][1];s[0]/=_,s[1]/=_;var P=shapePool.newElement();for(P.c=d.c,w=0;w<_;w+=1)P.setTripleAt(d.v[w][0]+(s[0]-d.v[w][0])*p,d.v[w][1]+(s[1]-d.v[w][1])*p,d.o[w][0]+(s[0]-d.o[w][0])*-p,d.o[w][1]+(s[1]-d.o[w][1])*-p,d.i[w][0]+(s[0]-d.i[w][0])*-p,d.i[w][1]+(s[1]-d.i[w][1])*-p,w);return P},PuckerAndBloatModifier.prototype.processShapes=function(d){var h,p,_,w,L,U,s=this.shapes.length,P=this.amount.v;if(0!==P)for(p=0;p<s;p+=1){if(U=(L=this.shapes[p]).localShapeCollection,L.shape._mdf||this._mdf||d)for(U.releaseShapes(),L.shape._mdf=!0,h=L.shape.paths.shapes,w=L.shape.paths._length,_=0;_<w;_+=1)U.addShape(this.processPath(h[_],P));L.shape.paths=L.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var d=[0,0];function P(U,V,z){if(this.elem=U,this.frameId=-1,this.propType="transform",this.data=V,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(z||U),V.p&&V.p.s?(this.px=PropertyFactory.getProp(U,V.p.x,0,0,this),this.py=PropertyFactory.getProp(U,V.p.y,0,0,this),V.p.z&&(this.pz=PropertyFactory.getProp(U,V.p.z,0,0,this))):this.p=PropertyFactory.getProp(U,V.p||{k:[0,0,0]},1,0,this),V.rx){if(this.rx=PropertyFactory.getProp(U,V.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(U,V.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(U,V.rz,0,degToRads,this),V.or.k[0].ti){var Q,x=V.or.k.length;for(Q=0;Q<x;Q+=1)V.or.k[Q].to=null,V.or.k[Q].ti=null}this.or=PropertyFactory.getProp(U,V.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(U,V.r||{k:0},0,degToRads,this);V.sk&&(this.sk=PropertyFactory.getProp(U,V.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(U,V.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(U,V.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(U,V.s||{k:[100,100,100]},1,.01,this),this.o=V.o?PropertyFactory.getProp(U,V.o,0,.01,U):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return P.prototype={applyToMatrix:function h(U){var V=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||V,this.a&&U.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&U.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&U.skewFromAxis(-this.sk.v,this.sa.v),this.r?U.rotate(-this.r.v):U.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?U.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):U.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function p(U){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||U){var V;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var z,Q;if(V=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(z=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/V,0),Q=this.p.getValueAtTime(this.p.keyframes[0].t/V,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(z=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/V,0),Q=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/V,0)):(z=this.p.pv,Q=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/V,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){z=[],Q=[];var x=this.px,j=this.py;x._caching.lastFrame+x.offsetTime<=x.keyframes[0].t?(z[0]=x.getValueAtTime((x.keyframes[0].t+.01)/V,0),z[1]=j.getValueAtTime((j.keyframes[0].t+.01)/V,0),Q[0]=x.getValueAtTime(x.keyframes[0].t/V,0),Q[1]=j.getValueAtTime(j.keyframes[0].t/V,0)):x._caching.lastFrame+x.offsetTime>=x.keyframes[x.keyframes.length-1].t?(z[0]=x.getValueAtTime(x.keyframes[x.keyframes.length-1].t/V,0),z[1]=j.getValueAtTime(j.keyframes[j.keyframes.length-1].t/V,0),Q[0]=x.getValueAtTime((x.keyframes[x.keyframes.length-1].t-.01)/V,0),Q[1]=j.getValueAtTime((j.keyframes[j.keyframes.length-1].t-.01)/V,0)):(z=[x.pv,j.pv],Q[0]=x.getValueAtTime((x._caching.lastFrame+x.offsetTime-.01)/V,x.offsetTime),Q[1]=j.getValueAtTime((j._caching.lastFrame+j.offsetTime-.01)/V,j.offsetTime))}else z=Q=d;this.v.rotate(-Math.atan2(z[1]-Q[1],z[0]-Q[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function s(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function _(){}},extendPrototype([DynamicPropertyContainer],P),P.prototype.addDynamicProperty=function w(U){this._addDynamicProperty(U),this.elem.addDynamicProperty(U),this._isDirty=!0},P.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function L(U,V,z){return new P(U,V,z)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function getFontProperties(d){for(var w,h=d.fStyle?d.fStyle.split(" "):[],p="normal",s="normal",_=h.length,P=0;P<_;P+=1)switch(w=h[P].toLowerCase(),w){case"italic":s="italic";break;case"bold":p="700";break;case"black":p="900";break;case"medium":p="500";break;case"regular":case"normal":p="400";break;case"light":case"thin":p="200"}return{style:s,weight:d.fWeight||p}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(d,h){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(d,h.c,0,null,this),this.o=PropertyFactory.getProp(d,h.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(d,h.tr,this),this.so=PropertyFactory.getProp(d,h.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(d,h.tr.eo,0,.01,this),this.data=h,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(d,h,p,s,_,w){var P=w?-1:1,L=s.s.v[0]+(1-s.s.v[0])*(1-_),U=s.s.v[1]+(1-s.s.v[1])*(1-_);d.translate(s.p.v[0]*P*_,s.p.v[1]*P*_,s.p.v[2]),h.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),h.rotate(-s.r.v*P*_),h.translate(s.a.v[0],s.a.v[1],s.a.v[2]),p.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),p.scale(w?1/L:L,w?1/U:U),p.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(d,h,p,s){for(this.elem=d,this.arr=h,this.pos=p,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(d),this.initModifierProperties(d,h[p]);p>0;)this._elements.unshift(h[p-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(d){var h,p=d.length;for(h=0;h<p;h+=1)d[h]._processed=!1,"gr"===d[h].ty&&this.resetElements(d[h].it)},RepeaterModifier.prototype.cloneElements=function(d){var h=JSON.parse(JSON.stringify(d));return this.resetElements(h),h},RepeaterModifier.prototype.changeGroupRender=function(d,h){var p,s=d.length;for(p=0;p<s;p+=1)d[p]._render=h,"gr"===d[p].ty&&this.changeGroupRender(d[p].it,h)},RepeaterModifier.prototype.processShapes=function(d){var h,p,s,_,w,P=!1;if(this._mdf||d){var V,L=Math.ceil(this.c.v);if(this._groups.length<L){for(;this._groups.length<L;){var U={it:this.cloneElements(this._elements),ty:"gr"};U.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,U),this._groups.splice(0,0,U),this._currentCopies+=1}this.elem.reloadShapes(),P=!0}for(w=0,s=0;s<=this._groups.length-1;s+=1){if(this._groups[s]._render=V=w<L,this.changeGroupRender(this._groups[s].it,V),!V){var z=this.elemsData[s].it,Q=z[z.length-1];0!==Q.transform.op.v?(Q.transform.op._mdf=!0,Q.transform.op.v=0):Q.transform.op._mdf=!1}w+=1}this._currentCopies=L;var x=this.o.v,j=x%1,G=x>0?Math.floor(x):Math.ceil(x),k=this.pMatrix.props,Y=this.rMatrix.props,A=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var I,T,N=0;if(x>0){for(;N<G;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),N+=1;j&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,j,!1),N+=j)}else if(x<0){for(;N>G;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),N-=1;j&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-j,!0),N-=j)}for(s=1===this.data.m?0:this._currentCopies-1,_=1===this.data.m?1:-1,w=this._currentCopies;w;){if(T=(p=(h=this.elemsData[s].it)[h.length-1].transform.mProps.v.props).length,h[h.length-1].transform.mProps._mdf=!0,h[h.length-1].transform.op._mdf=!0,h[h.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+s/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==N){for((0!==s&&1===_||s!==this._currentCopies-1&&-1===_)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],Y[8],Y[9],Y[10],Y[11],Y[12],Y[13],Y[14],Y[15]),this.matrix.transform(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8],A[9],A[10],A[11],A[12],A[13],A[14],A[15]),this.matrix.transform(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15]),I=0;I<T;I+=1)p[I]=this.matrix.props[I];this.matrix.reset()}else for(this.matrix.reset(),I=0;I<T;I+=1)p[I]=this.matrix.props[I];N+=1,w-=1,s+=_}}else for(w=this._currentCopies,s=0,_=1;w;)p=(h=this.elemsData[s].it)[h.length-1].transform.mProps.v.props,h[h.length-1].transform.mProps._mdf=!1,h[h.length-1].transform.op._mdf=!1,w-=1,s+=_;return P},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(d,h){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(d,h.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(d,h){var p=shapePool.newElement();p.c=d.c;var s,w,P,L,U,V,z,x,j,G,k,Y,A,_=d._length,Q=0;for(s=0;s<_;s+=1)P=d.i[s],(w=d.v[s])[0]===(L=d.o[s])[0]&&w[1]===L[1]&&w[0]===P[0]&&w[1]===P[1]?0!==s&&s!==_-1||d.c?(U=0===s?d.v[_-1]:d.v[s-1],z=(V=Math.sqrt(Math.pow(w[0]-U[0],2)+Math.pow(w[1]-U[1],2)))?Math.min(V/2,h)/V:0,p.setTripleAt(x=Y=w[0]+(U[0]-w[0])*z,j=A=w[1]-(w[1]-U[1])*z,x-(x-w[0])*roundCorner,j-(j-w[1])*roundCorner,Y,A,Q),Q+=1,U=s===_-1?d.v[0]:d.v[s+1],z=(V=Math.sqrt(Math.pow(w[0]-U[0],2)+Math.pow(w[1]-U[1],2)))?Math.min(V/2,h)/V:0,p.setTripleAt(x=G=w[0]+(U[0]-w[0])*z,j=k=w[1]+(U[1]-w[1])*z,G,k,Y=x-(x-w[0])*roundCorner,A=j-(j-w[1])*roundCorner,Q),Q+=1):(p.setTripleAt(w[0],w[1],L[0],L[1],P[0],P[1],Q),Q+=1):(p.setTripleAt(d.v[s][0],d.v[s][1],d.o[s][0],d.o[s][1],d.i[s][0],d.i[s][1],Q),Q+=1);return p},RoundCornersModifier.prototype.processShapes=function(d){var h,p,_,w,L,U,s=this.shapes.length,P=this.rd.v;if(0!==P)for(p=0;p<s;p+=1){if(U=(L=this.shapes[p]).localShapeCollection,L.shape._mdf||this._mdf||d)for(U.releaseShapes(),L.shape._mdf=!0,h=L.shape.paths.shapes,w=L.shape.paths._length,_=0;_<w;_+=1)U.addShape(this.processPath(h[_],P));L.shape.paths=L.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var h={w:0,size:0,shapes:[],data:{shapes:[]}},p=[];p=p.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],_=[65039,8205];function P(T,W){var J=createTag("span");J.setAttribute("aria-hidden",!0),J.style.fontFamily=W;var ne=createTag("span");ne.innerText="giItT1WQy@!-/#",J.style.position="absolute",J.style.left="-10000px",J.style.top="-10000px",J.style.fontSize="300px",J.style.fontVariant="normal",J.style.fontStyle="normal",J.style.fontWeight="normal",J.style.letterSpacing="0",J.appendChild(ne),document.body.appendChild(J);var re=ne.offsetWidth;return ne.style.fontFamily=function w(T){var J,W=T.split(","),ne=W.length,re=[];for(J=0;J<ne;J+=1)"sans-serif"!==W[J]&&"monospace"!==W[J]&&re.push(W[J]);return re.join(",")}(T)+", "+W,{node:ne,w:re,parent:J}}function U(T,W){var ne,J=document.body&&W?"svg":"canvas",re=getFontProperties(T);if("svg"===J){var me=createNS("text");me.style.fontSize="100px",me.setAttribute("font-family",T.fFamily),me.setAttribute("font-style",re.style),me.setAttribute("font-weight",re.weight),me.textContent="1",T.fClass?(me.style.fontFamily="inherit",me.setAttribute("class",T.fClass)):me.style.fontFamily=T.fFamily,W.appendChild(me),ne=me}else{var Pe=new OffscreenCanvas(500,500).getContext("2d");Pe.font=re.style+" "+re.weight+" 100px "+T.fFamily,ne=Pe}return{measureText:function _e(ve){return"svg"===J?(ne.textContent=ve,ne.getComputedTextLength()):ne.measureText(ve).width}}}var N=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return N.isModifier=function G(T,W){var J=T.toString(16)+W.toString(16);return-1!==s.indexOf(J)},N.isZeroWidthJoiner=function k(T,W){return W?T===_[0]&&W===_[1]:T===_[1]},N.isCombinedCharacter=function Y(T){return-1!==p.indexOf(T)},N.prototype={addChars:function z(T){if(T){this.chars||(this.chars=[]);var W,ne,me,J=T.length,re=this.chars.length;for(W=0;W<J;W+=1){for(ne=0,me=!1;ne<re;)this.chars[ne].style===T[W].style&&this.chars[ne].fFamily===T[W].fFamily&&this.chars[ne].ch===T[W].ch&&(me=!0),ne+=1;me||(this.chars.push(T[W]),re+=1)}}},addFonts:function V(T,W){if(T){if(this.chars)return this.isLoaded=!0,void(this.fonts=T.list);if(!document.body)return this.isLoaded=!0,T.list.forEach(function(se){se.helper=U(se),se.cache={}}),void(this.fonts=T.list);var ne,J=T.list,re=J.length,me=re;for(ne=0;ne<re;ne+=1){var _e,ve,Pe=!0;if(J[ne].loaded=!1,J[ne].monoCase=P(J[ne].fFamily,"monospace"),J[ne].sansCase=P(J[ne].fFamily,"sans-serif"),J[ne].fPath){if("p"===J[ne].fOrigin||3===J[ne].origin){if((_e=document.querySelectorAll('style[f-forigin="p"][f-family="'+J[ne].fFamily+'"], style[f-origin="3"][f-family="'+J[ne].fFamily+'"]')).length>0&&(Pe=!1),Pe){var Ie=createTag("style");Ie.setAttribute("f-forigin",J[ne].fOrigin),Ie.setAttribute("f-origin",J[ne].origin),Ie.setAttribute("f-family",J[ne].fFamily),Ie.type="text/css",Ie.innerText="@font-face {font-family: "+J[ne].fFamily+"; font-style: normal; src: url('"+J[ne].fPath+"');}",W.appendChild(Ie)}}else if("g"===J[ne].fOrigin||1===J[ne].origin){for(_e=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),ve=0;ve<_e.length;ve+=1)-1!==_e[ve].href.indexOf(J[ne].fPath)&&(Pe=!1);if(Pe){var Ee=createTag("link");Ee.setAttribute("f-forigin",J[ne].fOrigin),Ee.setAttribute("f-origin",J[ne].origin),Ee.type="text/css",Ee.rel="stylesheet",Ee.href=J[ne].fPath,document.body.appendChild(Ee)}}else if("t"===J[ne].fOrigin||2===J[ne].origin){for(_e=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),ve=0;ve<_e.length;ve+=1)J[ne].fPath===_e[ve].src&&(Pe=!1);if(Pe){var de=createTag("link");de.setAttribute("f-forigin",J[ne].fOrigin),de.setAttribute("f-origin",J[ne].origin),de.setAttribute("rel","stylesheet"),de.setAttribute("href",J[ne].fPath),W.appendChild(de)}}}else J[ne].loaded=!0,me-=1;J[ne].helper=U(J[ne],W),J[ne].cache={},this.fonts.push(J[ne])}0===me?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function Q(T,W,J){for(var ne=0,re=this.chars.length;ne<re;){if(this.chars[ne].ch===T&&this.chars[ne].style===W&&this.chars[ne].fFamily===J)return this.chars[ne];ne+=1}return("string"==typeof T&&13!==T.charCodeAt(0)||!T)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",T,W,J)),h},getFontByName:function j(T){for(var W=0,J=this.fonts.length;W<J;){if(this.fonts[W].fName===T)return this.fonts[W];W+=1}return this.fonts[0]},measureText:function x(T,W,J){var ne=this.getFontByName(W),re=T.charCodeAt(0);if(!ne.cache[re+1]){var me=ne.helper;if(" "===T){var Pe=me.measureText("|"+T+"|"),_e=me.measureText("||");ne.cache[re+1]=(Pe-_e)/100}else ne.cache[re+1]=me.measureText(T)/100}return ne.cache[re+1]*J},checkLoadedFonts:function L(){var T,W=this.fonts.length,re=W;for(T=0;T<W;T+=1)this.fonts[T].loaded?re-=1:"n"===this.fonts[T].fOrigin||0===this.fonts[T].origin?this.fonts[T].loaded=!0:((this.fonts[T].monoCase.node.offsetWidth!==this.fonts[T].monoCase.w||this.fonts[T].sansCase.node.offsetWidth!==this.fonts[T].sansCase.w)&&(re-=1,this.fonts[T].loaded=!0),this.fonts[T].loaded&&(this.fonts[T].sansCase.parent.parentNode.removeChild(this.fonts[T].sansCase.parent),this.fonts[T].monoCase.parent.parentNode.removeChild(this.fonts[T].monoCase.parent)));0!==re&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function A(){this.isLoaded=!0}},N}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(h){-1===this.renderableComponents.indexOf(h)&&this.renderableComponents.push(h)},removeRenderableComponent:function(h){-1!==this.renderableComponents.indexOf(h)&&this.renderableComponents.splice(this.renderableComponents.indexOf(h),1)},prepareRenderableFrame:function(h){this.checkLayerLimits(h)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(h){this.data.ip-this.data.st<=h&&this.data.op-this.data.st>h?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var h,p=this.renderableComponents.length;for(h=0;h<p;h+=1)this.renderableComponents[h].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function d(p,s){this._mask=p,this._data=s}return Object.defineProperty(d.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(d.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(s){var w,_=createSizedArray(s.viewData.length),P=s.viewData.length;for(w=0;w<P;w+=1)_[w]=new d(s.viewData[w],s.masksProperties[w]);return function(V){for(w=0;w<P;){if(s.masksProperties[w].nm===V)return _[w];w+=1}return null}}}(),ExpressionPropertyInterface=function(){var d={pv:0,v:0,mult:1},h={pv:[0,0,0],v:[0,0,0],mult:1};function p(P,L,U){Object.defineProperty(P,"velocity",{get:function(){return L.getVelocityAtTime(L.comp.currentFrame)}}),P.numKeys=L.keyframes?L.keyframes.length:0,P.key=function(V){if(!P.numKeys)return 0;var z;z="s"in L.keyframes[V-1]?L.keyframes[V-1].s:"e"in L.keyframes[V-2]?L.keyframes[V-2].e:L.keyframes[V-2].s;var Q="unidimensional"===U?new Number(z):Object.assign({},z);return Q.time=L.keyframes[V-1].t/L.elem.comp.globalData.frameRate,Q.value="unidimensional"===U?z[0]:z,Q},P.valueAtTime=L.getValueAtTime,P.speedAtTime=L.getSpeedAtTime,P.velocityAtTime=L.getVelocityAtTime,P.propertyGroup=L.propertyGroup}function w(){return d}return function(P){return P?"unidimensional"===P.propType?function s(P){(!P||!("pv"in P))&&(P=d);var L=1/P.mult,U=P.pv*L,V=new Number(U);return V.value=U,p(V,P,"unidimensional"),function(){return P.k&&P.getValue(),V.value!==(U=P.v*L)&&((V=new Number(U)).value=U,p(V,P,"unidimensional")),V}}(P):function _(P){(!P||!("pv"in P))&&(P=h);var L=1/P.mult,U=P.data&&P.data.l||P.pv.length,V=createTypedArray("float32",U),z=createTypedArray("float32",U);return V.value=z,p(V,P,"multidimensional"),function(){P.k&&P.getValue();for(var Q=0;Q<U;Q+=1)z[Q]=P.v[Q]*L,V[Q]=z[Q];return V}}(P):w}}(),TransformExpressionInterface=function(d){function h(P){switch(P){case"scale":case"Scale":case"ADBE Scale":case 6:return h.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return h.rotation;case"ADBE Rotate X":return h.xRotation;case"ADBE Rotate Y":return h.yRotation;case"position":case"Position":case"ADBE Position":case 2:return h.position;case"ADBE Position_0":return h.xPosition;case"ADBE Position_1":return h.yPosition;case"ADBE Position_2":return h.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return h.anchorPoint;case"opacity":case"Opacity":case 11:return h.opacity;default:return null}}var p,s,_,w;return Object.defineProperty(h,"rotation",{get:ExpressionPropertyInterface(d.r||d.rz)}),Object.defineProperty(h,"zRotation",{get:ExpressionPropertyInterface(d.rz||d.r)}),Object.defineProperty(h,"xRotation",{get:ExpressionPropertyInterface(d.rx)}),Object.defineProperty(h,"yRotation",{get:ExpressionPropertyInterface(d.ry)}),Object.defineProperty(h,"scale",{get:ExpressionPropertyInterface(d.s)}),d.p?w=ExpressionPropertyInterface(d.p):(p=ExpressionPropertyInterface(d.px),s=ExpressionPropertyInterface(d.py),d.pz&&(_=ExpressionPropertyInterface(d.pz))),Object.defineProperty(h,"position",{get:function(){return d.p?w():[p(),s(),_?_():0]}}),Object.defineProperty(h,"xPosition",{get:ExpressionPropertyInterface(d.px)}),Object.defineProperty(h,"yPosition",{get:ExpressionPropertyInterface(d.py)}),Object.defineProperty(h,"zPosition",{get:ExpressionPropertyInterface(d.pz)}),Object.defineProperty(h,"anchorPoint",{get:ExpressionPropertyInterface(d.a)}),Object.defineProperty(h,"opacity",{get:ExpressionPropertyInterface(d.o)}),Object.defineProperty(h,"skew",{get:ExpressionPropertyInterface(d.sk)}),Object.defineProperty(h,"skewAxis",{get:ExpressionPropertyInterface(d.sa)}),Object.defineProperty(h,"orientation",{get:ExpressionPropertyInterface(d.or)}),h},LayerExpressionInterface=function(){function d(V){var z=new Matrix;return void 0!==V?this._elem.finalTransform.mProp.getValueAtTime(V).clone(z):this._elem.finalTransform.mProp.applyToMatrix(z),z}function h(V,z){var Q=this.getMatrix(z);return Q.props[12]=0,Q.props[13]=0,Q.props[14]=0,this.applyPoint(Q,V)}function p(V,z){var Q=this.getMatrix(z);return this.applyPoint(Q,V)}function s(V,z){var Q=this.getMatrix(z);return Q.props[12]=0,Q.props[13]=0,Q.props[14]=0,this.invertPoint(Q,V)}function _(V,z){var Q=this.getMatrix(z);return this.invertPoint(Q,V)}function w(V,z){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Q,x=this._elem.hierarchy.length;for(Q=0;Q<x;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(V)}return V.applyToPointArray(z[0],z[1],z[2]||0)}function P(V,z){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Q,x=this._elem.hierarchy.length;for(Q=0;Q<x;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(V)}return V.inversePoint(z)}function L(V){var z=new Matrix;if(z.reset(),this._elem.finalTransform.mProp.applyToMatrix(z),this._elem.hierarchy&&this._elem.hierarchy.length){var Q,x=this._elem.hierarchy.length;for(Q=0;Q<x;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(z);return z.inversePoint(V)}return z.inversePoint(V)}function U(){return[1,1,1,1]}return function(V){var z;function j(k){switch(k){case"ADBE Root Vectors Group":case"Contents":case 2:return j.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return z;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return j.effect;case"ADBE Text Properties":return j.textInterface;default:return null}}j.getMatrix=d,j.invertPoint=P,j.applyPoint=w,j.toWorld=p,j.toWorldVec=h,j.fromWorld=_,j.fromWorldVec=s,j.toComp=p,j.fromComp=L,j.sampleImage=U,j.sourceRectAtTime=V.sourceRectAtTime.bind(V),j._elem=V;var G=getDescriptor(z=TransformExpressionInterface(V.finalTransform.mProp),"anchorPoint");return Object.defineProperties(j,{hasParent:{get:function(){return V.hierarchy.length}},parent:{get:function(){return V.hierarchy[0].layerInterface}},rotation:getDescriptor(z,"rotation"),scale:getDescriptor(z,"scale"),position:getDescriptor(z,"position"),opacity:getDescriptor(z,"opacity"),anchorPoint:G,anchor_point:G,transform:{get:function(){return z}},active:{get:function(){return V.isInRange}}}),j.startTime=V.data.st,j.index=V.data.ind,j.source=V.data.refId,j.height=0===V.data.ty?V.data.h:100,j.width=0===V.data.ty?V.data.w:100,j.inPoint=V.data.ip/V.comp.globalData.frameRate,j.outPoint=V.data.op/V.comp.globalData.frameRate,j._name=V.data.nm,j.registerMaskInterface=function Q(k){j.mask=new MaskManagerInterface(k,V)},j.registerEffectsInterface=function x(k){j.effect=k},j}}(),propertyGroupFactory=function(d,h){return function(p){return(p=void 0===p?1:p)<=0?d:h(p-1)}},PropertyInterface=function(d,h){var p={_name:d};return function s(_){return(_=void 0===_?1:_)<=0?p:h(_-1)}},EffectsExpressionInterface=function(){function p(_,w,P,L){function U(j){for(var G=_.ef,k=0,Y=G.length;k<Y;){if(j===G[k].nm||j===G[k].mn||j===G[k].ix)return 5===G[k].ty?z[k]:z[k]();k+=1}throw new Error}var Q,V=propertyGroupFactory(U,P),z=[],x=_.ef.length;for(Q=0;Q<x;Q+=1)z.push(5===_.ef[Q].ty?p(_.ef[Q],w.effectElements[Q],w.effectElements[Q].propertyGroup,L):s(w.effectElements[Q],_.ef[Q].ty,L,V));return"ADBE Color Control"===_.mn&&Object.defineProperty(U,"color",{get:function(){return z[0]()}}),Object.defineProperties(U,{numProperties:{get:function(){return _.np}},_name:{value:_.nm},propertyGroup:{value:V}}),U.active=U.enabled=0!==_.en,U}function s(_,w,P,L){var U=ExpressionPropertyInterface(_.p);return _.p.setGroupProperty&&_.p.setGroupProperty(PropertyInterface("",L)),function V(){return 10===w?P.comp.compInterface(_.p.v):U()}}return{createEffectsInterface:function h(_,w){if(_.effectsManager){var U,P=[],L=_.data.ef,V=_.effectsManager.effectElements.length;for(U=0;U<V;U+=1)P.push(p(L[U],_.effectsManager.effectElements[U],w,_));var z=_.data.ef||[],Q=function(j){for(U=0,V=z.length;U<V;){if(j===z[U].nm||j===z[U].mn||j===z[U].ix)return P[U];U+=1}return null};return Object.defineProperty(Q,"numProperties",{get:function(){return z.length}}),Q}return null}}}(),CompExpressionInterface=function(d){function h(p){for(var s=0,_=d.layers.length;s<_;){if(d.layers[s].nm===p||d.layers[s].ind===p)return d.elements[s].layerInterface;s+=1}return null}return Object.defineProperty(h,"_name",{value:d.data.nm}),h.layer=h,h.pixelAspect=1,h.height=d.data.h||d.globalData.compSize.h,h.width=d.data.w||d.globalData.compSize.w,h.pixelAspect=1,h.frameDuration=1/d.globalData.frameRate,h.displayStartTime=0,h.numLayers=d.layers.length,h},ShapePathInterface=function(h,p,s){var _=p.sh;function w(L){return"Shape"===L||"shape"===L||"Path"===L||"path"===L||"ADBE Vector Shape"===L||2===L?w.path:null}var P=propertyGroupFactory(w,s);return _.setGroupProperty(PropertyInterface("Path",P)),Object.defineProperties(w,{path:{get:function(){return _.k&&_.getValue(),_}},shape:{get:function(){return _.k&&_.getValue(),_}},_name:{value:h.nm},ix:{value:h.ix},propertyIndex:{value:h.ix},mn:{value:h.mn},propertyGroup:{value:s}}),w},ShapeExpressionInterface=function(){function d(G,k,Y){var N,A=[],I=G?G.length:0;for(N=0;N<I;N+=1)"gr"===G[N].ty?A.push(p(G[N],k[N],Y)):"fl"===G[N].ty?A.push(s(G[N],k[N],Y)):"st"===G[N].ty?A.push(P(G[N],k[N],Y)):"tm"===G[N].ty?A.push(L(G[N],k[N],Y)):"tr"===G[N].ty||A.push("el"===G[N].ty?V(G[N],k[N],Y):"sr"===G[N].ty?z(G[N],k[N],Y):"sh"===G[N].ty?ShapePathInterface(G[N],k[N],Y):"rc"===G[N].ty?Q(G[N],k[N],Y):"rd"===G[N].ty?x(G[N],k[N],Y):"rp"===G[N].ty?j(G[N],k[N],Y):"gf"===G[N].ty?_(G[N],k[N],Y):function G(){return null});return A}function p(G,k,Y){var A=function(W){switch(W){case"ADBE Vectors Group":case"Contents":case 2:return A.content;default:return A.transform}};A.propertyGroup=propertyGroupFactory(A,Y);var N=function h(G,k,Y){var A,N=function(W){for(var J=0,ne=A.length;J<ne;){if(A[J]._name===W||A[J].mn===W||A[J].propertyIndex===W||A[J].ix===W||A[J].ind===W)return A[J];J+=1}return"number"==typeof W?A[W-1]:null};N.propertyGroup=propertyGroupFactory(N,Y),A=d(G.it,k.it,N.propertyGroup),N.numProperties=A.length;var I=U(G.it[G.it.length-1],k.it[k.it.length-1],N.propertyGroup);return N.transform=I,N.propertyIndex=G.cix,N._name=G.nm,N}(G,k,A.propertyGroup),I=U(G.it[G.it.length-1],k.it[k.it.length-1],A.propertyGroup);return A.content=N,A.transform=I,Object.defineProperty(A,"_name",{get:function(){return G.nm}}),A.numProperties=G.np,A.propertyIndex=G.ix,A.nm=G.nm,A.mn=G.mn,A}function s(G,k,Y){function A(N){return"Color"===N||"color"===N?A.color:"Opacity"===N||"opacity"===N?A.opacity:null}return Object.defineProperties(A,{color:{get:ExpressionPropertyInterface(k.c)},opacity:{get:ExpressionPropertyInterface(k.o)},_name:{value:G.nm},mn:{value:G.mn}}),k.c.setGroupProperty(PropertyInterface("Color",Y)),k.o.setGroupProperty(PropertyInterface("Opacity",Y)),A}function _(G,k,Y){function A(N){return"Start Point"===N||"start point"===N?A.startPoint:"End Point"===N||"end point"===N?A.endPoint:"Opacity"===N||"opacity"===N?A.opacity:null}return Object.defineProperties(A,{startPoint:{get:ExpressionPropertyInterface(k.s)},endPoint:{get:ExpressionPropertyInterface(k.e)},opacity:{get:ExpressionPropertyInterface(k.o)},type:{get:function(){return"a"}},_name:{value:G.nm},mn:{value:G.mn}}),k.s.setGroupProperty(PropertyInterface("Start Point",Y)),k.e.setGroupProperty(PropertyInterface("End Point",Y)),k.o.setGroupProperty(PropertyInterface("Opacity",Y)),A}function P(G,k,Y){var T,re,A=propertyGroupFactory(ne,Y),N=propertyGroupFactory(J,A),W=G.d?G.d.length:0,J={};for(T=0;T<W;T+=1)re=T,Object.defineProperty(J,G.d[re].nm,{get:ExpressionPropertyInterface(k.d.dataProps[re].p)}),k.d.dataProps[T].p.setGroupProperty(N);function ne(re){return"Color"===re||"color"===re?ne.color:"Opacity"===re||"opacity"===re?ne.opacity:"Stroke Width"===re||"stroke width"===re?ne.strokeWidth:null}return Object.defineProperties(ne,{color:{get:ExpressionPropertyInterface(k.c)},opacity:{get:ExpressionPropertyInterface(k.o)},strokeWidth:{get:ExpressionPropertyInterface(k.w)},dash:{get:function(){return J}},_name:{value:G.nm},mn:{value:G.mn}}),k.c.setGroupProperty(PropertyInterface("Color",A)),k.o.setGroupProperty(PropertyInterface("Opacity",A)),k.w.setGroupProperty(PropertyInterface("Stroke Width",A)),ne}function L(G,k,Y){function A(I){return I===G.e.ix||"End"===I||"end"===I?A.end:I===G.s.ix?A.start:I===G.o.ix?A.offset:null}var N=propertyGroupFactory(A,Y);return A.propertyIndex=G.ix,k.s.setGroupProperty(PropertyInterface("Start",N)),k.e.setGroupProperty(PropertyInterface("End",N)),k.o.setGroupProperty(PropertyInterface("Offset",N)),A.propertyIndex=G.ix,A.propertyGroup=Y,Object.defineProperties(A,{start:{get:ExpressionPropertyInterface(k.s)},end:{get:ExpressionPropertyInterface(k.e)},offset:{get:ExpressionPropertyInterface(k.o)},_name:{value:G.nm}}),A.mn=G.mn,A}function U(G,k,Y){function A(I){return G.a.ix===I||"Anchor Point"===I?A.anchorPoint:G.o.ix===I||"Opacity"===I?A.opacity:G.p.ix===I||"Position"===I?A.position:G.r.ix===I||"Rotation"===I||"ADBE Vector Rotation"===I?A.rotation:G.s.ix===I||"Scale"===I?A.scale:G.sk&&G.sk.ix===I||"Skew"===I?A.skew:G.sa&&G.sa.ix===I||"Skew Axis"===I?A.skewAxis:null}var N=propertyGroupFactory(A,Y);return k.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",N)),k.transform.mProps.p.setGroupProperty(PropertyInterface("Position",N)),k.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",N)),k.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",N)),k.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",N)),k.transform.mProps.sk&&(k.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",N)),k.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",N))),k.transform.op.setGroupProperty(PropertyInterface("Opacity",N)),Object.defineProperties(A,{opacity:{get:ExpressionPropertyInterface(k.transform.mProps.o)},position:{get:ExpressionPropertyInterface(k.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(k.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(k.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(k.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(k.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(k.transform.mProps.sa)},_name:{value:G.nm}}),A.ty="tr",A.mn=G.mn,A.propertyGroup=Y,A}function V(G,k,Y){function A(T){return G.p.ix===T?A.position:G.s.ix===T?A.size:null}var N=propertyGroupFactory(A,Y);A.propertyIndex=G.ix;var I="tm"===k.sh.ty?k.sh.prop:k.sh;return I.s.setGroupProperty(PropertyInterface("Size",N)),I.p.setGroupProperty(PropertyInterface("Position",N)),Object.defineProperties(A,{size:{get:ExpressionPropertyInterface(I.s)},position:{get:ExpressionPropertyInterface(I.p)},_name:{value:G.nm}}),A.mn=G.mn,A}function z(G,k,Y){function A(T){return G.p.ix===T?A.position:G.r.ix===T?A.rotation:G.pt.ix===T?A.points:G.or.ix===T||"ADBE Vector Star Outer Radius"===T?A.outerRadius:G.os.ix===T?A.outerRoundness:!G.ir||G.ir.ix!==T&&"ADBE Vector Star Inner Radius"!==T?G.is&&G.is.ix===T?A.innerRoundness:null:A.innerRadius}var N=propertyGroupFactory(A,Y),I="tm"===k.sh.ty?k.sh.prop:k.sh;return A.propertyIndex=G.ix,I.or.setGroupProperty(PropertyInterface("Outer Radius",N)),I.os.setGroupProperty(PropertyInterface("Outer Roundness",N)),I.pt.setGroupProperty(PropertyInterface("Points",N)),I.p.setGroupProperty(PropertyInterface("Position",N)),I.r.setGroupProperty(PropertyInterface("Rotation",N)),G.ir&&(I.ir.setGroupProperty(PropertyInterface("Inner Radius",N)),I.is.setGroupProperty(PropertyInterface("Inner Roundness",N))),Object.defineProperties(A,{position:{get:ExpressionPropertyInterface(I.p)},rotation:{get:ExpressionPropertyInterface(I.r)},points:{get:ExpressionPropertyInterface(I.pt)},outerRadius:{get:ExpressionPropertyInterface(I.or)},outerRoundness:{get:ExpressionPropertyInterface(I.os)},innerRadius:{get:ExpressionPropertyInterface(I.ir)},innerRoundness:{get:ExpressionPropertyInterface(I.is)},_name:{value:G.nm}}),A.mn=G.mn,A}function Q(G,k,Y){function A(T){return G.p.ix===T?A.position:G.r.ix===T?A.roundness:G.s.ix===T||"Size"===T||"ADBE Vector Rect Size"===T?A.size:null}var N=propertyGroupFactory(A,Y),I="tm"===k.sh.ty?k.sh.prop:k.sh;return A.propertyIndex=G.ix,I.p.setGroupProperty(PropertyInterface("Position",N)),I.s.setGroupProperty(PropertyInterface("Size",N)),I.r.setGroupProperty(PropertyInterface("Rotation",N)),Object.defineProperties(A,{position:{get:ExpressionPropertyInterface(I.p)},roundness:{get:ExpressionPropertyInterface(I.r)},size:{get:ExpressionPropertyInterface(I.s)},_name:{value:G.nm}}),A.mn=G.mn,A}function x(G,k,Y){function A(T){return G.r.ix===T||"Round Corners 1"===T?A.radius:null}var N=propertyGroupFactory(A,Y),I=k;return A.propertyIndex=G.ix,I.rd.setGroupProperty(PropertyInterface("Radius",N)),Object.defineProperties(A,{radius:{get:ExpressionPropertyInterface(I.rd)},_name:{value:G.nm}}),A.mn=G.mn,A}function j(G,k,Y){function A(T){return G.c.ix===T||"Copies"===T?A.copies:G.o.ix===T||"Offset"===T?A.offset:null}var N=propertyGroupFactory(A,Y),I=k;return A.propertyIndex=G.ix,I.c.setGroupProperty(PropertyInterface("Copies",N)),I.o.setGroupProperty(PropertyInterface("Offset",N)),Object.defineProperties(A,{copies:{get:ExpressionPropertyInterface(I.c)},offset:{get:ExpressionPropertyInterface(I.o)},_name:{value:G.nm}}),A.mn=G.mn,A}return function(G,k,Y){var A;function N(T){if("number"==typeof T)return 0===(T=void 0===T?1:T)?Y:A[T-1];for(var W=0,J=A.length;W<J;){if(A[W]._name===T)return A[W];W+=1}return null}return N.propertyGroup=propertyGroupFactory(N,function I(){return Y}),A=d(G,k,N.propertyGroup),N.numProperties=A.length,N._name="Contents",N}}(),TextExpressionInterface=function(d){var h,p;function s(_){return"ADBE Text Document"===_?s.sourceText:null}return Object.defineProperty(s,"sourceText",{get:function(){d.textProperty.getValue();var w=d.textProperty.currentData.t;return w!==h&&(d.textProperty.currentData.t=h,(p=new String(w)).value=w||new String(w)),p}}),s},getBlendMode=function(){var d={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(h){return d[h]||""}}();function SliderEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,0,0,p)}function AngleEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,0,0,p)}function ColorEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,1,0,p)}function PointEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,1,0,p)}function LayerIndexEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,0,0,p)}function MaskIndexEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,0,0,p)}function CheckboxEffect(d,h,p){this.p=PropertyFactory.getProp(h,d.v,0,0,p)}function NoValueEffect(){this.p={}}function EffectsManager(d,h){var p=d.ef||[];this.effectElements=[];var s,w,_=p.length;for(s=0;s<_;s+=1)w=new GroupEffect(p[s],h),this.effectElements.push(w)}function GroupEffect(d,h){this.init(d,h)}function BaseElement(){}function FrameElement(){}function _typeof$2(d){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(d,h){this.data=d,this.effectElements=[],this.initDynamicPropertyContainer(h);var p,_,s=this.data.ef.length,w=this.data.ef;for(p=0;p<s;p+=1){switch(_=null,w[p].ty){case 0:_=new SliderEffect(w[p],h,this);break;case 1:_=new AngleEffect(w[p],h,this);break;case 2:_=new ColorEffect(w[p],h,this);break;case 3:_=new PointEffect(w[p],h,this);break;case 4:case 7:_=new CheckboxEffect(w[p],h,this);break;case 10:_=new LayerIndexEffect(w[p],h,this);break;case 11:_=new MaskIndexEffect(w[p],h,this);break;case 5:_=new EffectsManager(w[p],h,this);break;default:_=new NoValueEffect(w[p],h,this)}_&&this.effectElements.push(_)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var h=0,p=this.data.masksProperties.length;h<p;){if("n"!==this.data.masksProperties[h].mode&&!1!==this.data.masksProperties[h].cl)return!0;h+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var h=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(h),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var h=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=h},initBaseData:function(h,p,s){this.globalData=p,this.comp=s,this.data=h,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(h,p){var s,_=this.dynamicProperties.length;for(s=0;s<_;s+=1)(p||this._isParent&&"transform"===this.dynamicProperties[s].propType)&&(this.dynamicProperties[s].getValue(),this.dynamicProperties[s]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(h){-1===this.dynamicProperties.indexOf(h)&&this.dynamicProperties.push(h)}};var FootageInterface=(h=function(s){function _(w){return"Outline"===w?_.outlineInterface():null}return _._name="Outline",_.outlineInterface=function(s){var _="",w=s.getFootageData();function L(U){if(w[U])return _=U,"object"===_typeof$2(w=w[U])?L:w;var V=U.indexOf(_);if(-1!==V){var z=parseInt(U.substr(V+_.length),10);return"object"===_typeof$2(w=w[z])?L:w}return""}return function P(){return _="",w=s.getFootageData(),L}}(s),_},function(p){function s(_){return"Data"===_?s.dataInterface:null}return s._name="Data",s.dataInterface=h(p),s}),h;function FootageElement(d,h,p){this.initFrame(),this.initRenderable(),this.assetData=h.getAssetData(d.refId),this.footageData=h.imageLoader.getAsset(this.assetData),this.initBaseData(d,h,p)}function AudioElement(d,h,p){this.initFrame(),this.initRenderable(),this.assetData=h.getAssetData(d.refId),this.initBaseData(d,h,p),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=d.tm?PropertyFactory.getProp(this,d.tm,0,h.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,d.au&&d.au.lv?d.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(d,h,p){this.data=d,this.element=h,this.globalData=p,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var _,s=this.globalData.defs,w=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(w),this.solidPath="";var P,z,Q,j,G,k,Y,L=this.masksProperties,U=0,V=[],x=createElementID(),A="clipPath",N="clip-path";for(_=0;_<w;_+=1)if(("a"!==L[_].mode&&"n"!==L[_].mode||L[_].inv||100!==L[_].o.k||L[_].o.x)&&(A="mask",N="mask"),"s"!==L[_].mode&&"i"!==L[_].mode||0!==U?j=null:((j=createNS("rect")).setAttribute("fill","#ffffff"),j.setAttribute("width",this.element.comp.data.w||0),j.setAttribute("height",this.element.comp.data.h||0),V.push(j)),P=createNS("path"),"n"===L[_].mode)this.viewData[_]={op:PropertyFactory.getProp(this.element,L[_].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,L[_],3),elem:P,lastPath:""},s.appendChild(P);else{var I;if(U+=1,P.setAttribute("fill","s"===L[_].mode?"#000000":"#ffffff"),P.setAttribute("clip-rule","nonzero"),0!==L[_].x.k?(A="mask",N="mask",Y=PropertyFactory.getProp(this.element,L[_].x,0,null,this.element),I=createElementID(),(G=createNS("filter")).setAttribute("id",I),(k=createNS("feMorphology")).setAttribute("operator","erode"),k.setAttribute("in","SourceGraphic"),k.setAttribute("radius","0"),G.appendChild(k),s.appendChild(G),P.setAttribute("stroke","s"===L[_].mode?"#000000":"#ffffff")):(k=null,Y=null),this.storedData[_]={elem:P,x:Y,expan:k,lastPath:"",lastOperator:"",filterId:I,lastRadius:0},"i"===L[_].mode){Q=V.length;var T=createNS("g");for(z=0;z<Q;z+=1)T.appendChild(V[z]);var W=createNS("mask");W.setAttribute("mask-type","alpha"),W.setAttribute("id",x+"_"+U),W.appendChild(P),s.appendChild(W),T.setAttribute("mask","url("+getLocationHref()+"#"+x+"_"+U+")"),V.length=0,V.push(T)}else V.push(P);L[_].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[_]={elem:P,lastPath:"",op:PropertyFactory.getProp(this.element,L[_].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,L[_],3),invRect:j},this.viewData[_].prop.k||this.drawPath(L[_],this.viewData[_].prop.v,this.viewData[_])}for(this.maskElement=createNS(A),w=V.length,_=0;_<w;_+=1)this.maskElement.appendChild(V[_]);U>0&&(this.maskElement.setAttribute("id",x),this.element.maskedElement.setAttribute(N,"url("+getLocationHref()+"#"+x+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(d){this.prepareRenderableFrame(d,!0),this.prepareProperties(d,!0),this._currentTime=this.tm._placeholder?d/this.data.sr:this.tm.v,this._volume=this.lv.v[0];var p=this._volume*this._volumeMultiplier;this._previousVolume!==p&&(this._previousVolume=p,this.audio.volume(p))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(d){this.audio.rate(d)},AudioElement.prototype.volume=function(d){this._volumeMultiplier=d,this._previousVolume=d*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(d){var h,s,p=this.layers.length;for(this.completeLayers=!0,h=p-1;h>=0;h-=1)this.elements[h]||(s=this.layers[h]).ip-s.st<=d-this.layers[h].st&&s.op-s.st>d-this.layers[h].st&&this.buildItem(h),this.completeLayers=!!this.elements[h]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(d){switch(d.ty){case 2:return this.createImage(d);case 0:return this.createComp(d);case 1:return this.createSolid(d);case 3:default:return this.createNull(d);case 4:return this.createShape(d);case 5:return this.createText(d);case 6:return this.createAudio(d);case 13:return this.createCamera(d);case 15:return this.createFootage(d)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(d){return new AudioElement(d,this.globalData,this)},BaseRenderer.prototype.createFootage=function(d){return new FootageElement(d,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var d,h=this.layers.length;for(d=0;d<h;d+=1)this.buildItem(d);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(d){this.completeLayers=!1;var h,s,p=d.length,_=this.layers.length;for(h=0;h<p;h+=1)for(s=0;s<_;){if(this.layers[s].id===d[h].id){this.layers[s]=d[h];break}s+=1}},BaseRenderer.prototype.setProjectInterface=function(d){this.globalData.projectInterface=d},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(d,h,p){for(var s=this.elements,_=this.layers,w=0,P=_.length;w<P;)_[w].ind==h&&(s[w]&&!0!==s[w]?(p.push(s[w]),s[w].setAsParent(),void 0!==_[w].parent?this.buildElementParenting(d,_[w].parent,p):d.setHierarchy(p)):(this.buildItem(w),this.addPendingElement(d))),w+=1},BaseRenderer.prototype.addPendingElement=function(d){this.pendingElements.push(d)},BaseRenderer.prototype.searchExtraCompositions=function(d){var h,p=d.length;for(h=0;h<p;h+=1)if(d[h].xt){var s=this.createComp(d[h]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.getElementByPath=function(d){var p,h=d.shift();if("number"==typeof h)p=this.elements[h];else{var s,_=this.elements.length;for(s=0;s<_;s+=1)if(this.elements[s].data.nm===h){p=this.elements[s];break}}return 0===d.length?p:p.getElementByPath(d)},BaseRenderer.prototype.setupGlobalData=function(d,h){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(d.chars),this.globalData.fontManager.addFonts(d.fonts,h),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=d.fr,this.globalData.nm=d.nm,this.globalData.compSize={w:d.w,h:d.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var h,p=this.finalTransform.mat,s=0,_=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;s<_;){if(this.hierarchy[s].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}s+=1}if(this.finalTransform._matMdf)for(p.cloneFromProps(h=this.finalTransform.mProp.v.props),s=0;s<_;s+=1)p.transform((h=this.hierarchy[s].finalTransform.mProp.v.props)[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])}},globalToLocal:function(h){var p=[];p.push(this.finalTransform);for(var s=!0,_=this.comp;s;)_.finalTransform?(_.data.hasMask&&p.splice(0,0,_.finalTransform),_=_.comp):s=!1;var w,L,P=p.length;for(w=0;w<P;w+=1)L=p[w].mat.applyToPointArray(0,0,0),h=[h[0]-L[0],h[1]-L[1],0];return h},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(d){return this.viewData[d].prop},MaskElement.prototype.renderFrame=function(d){var p,h=this.element.finalTransform.mat,s=this.masksProperties.length;for(p=0;p<s;p+=1)if((this.viewData[p].prop._mdf||d)&&this.drawPath(this.masksProperties[p],this.viewData[p].prop.v,this.viewData[p]),(this.viewData[p].op._mdf||d)&&this.viewData[p].elem.setAttribute("fill-opacity",this.viewData[p].op.v),"n"!==this.masksProperties[p].mode&&(this.viewData[p].invRect&&(this.element.finalTransform.mProp._mdf||d)&&this.viewData[p].invRect.setAttribute("transform",h.getInverseMatrix().to2dCSS()),this.storedData[p].x&&(this.storedData[p].x._mdf||d))){var _=this.storedData[p].expan;this.storedData[p].x.v<0?("erode"!==this.storedData[p].lastOperator&&(this.storedData[p].lastOperator="erode",this.storedData[p].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[p].filterId+")")),_.setAttribute("radius",-this.storedData[p].x.v)):("dilate"!==this.storedData[p].lastOperator&&(this.storedData[p].lastOperator="dilate",this.storedData[p].elem.setAttribute("filter",null)),this.storedData[p].elem.setAttribute("stroke-width",2*this.storedData[p].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var d="M0,0 ";return d+=" h"+this.globalData.compSize.w,d+=" v"+this.globalData.compSize.h,(d+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(d,h,p){var _,w,s=" M"+h.v[0][0]+","+h.v[0][1];for(w=h._length,_=1;_<w;_+=1)s+=" C"+h.o[_-1][0]+","+h.o[_-1][1]+" "+h.i[_][0]+","+h.i[_][1]+" "+h.v[_][0]+","+h.v[_][1];if(h.c&&w>1&&(s+=" C"+h.o[_-1][0]+","+h.o[_-1][1]+" "+h.i[0][0]+","+h.i[0][1]+" "+h.v[0][0]+","+h.v[0][1]),p.lastPath!==s){var P="";p.elem&&(h.c&&(P=d.inv?this.solidPath+s:s),p.elem.setAttribute("d",P)),p.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var d={createFilter:function h(s,_){var w=createNS("filter");return w.setAttribute("id",s),!0!==_&&(w.setAttribute("filterUnits","objectBoundingBox"),w.setAttribute("x","0%"),w.setAttribute("y","0%"),w.setAttribute("width","100%"),w.setAttribute("height","100%")),w},createAlphaToLuminanceFilter:function p(){var s=createNS("feColorMatrix");return s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),s}};return d}(),featureSupport=function(){var d={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(d.maskType=!1),d}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(d){var h,L,p="SourceGraphic",s=d.data.ef?d.data.ef.length:0,_=createElementID(),w=filtersFactory.createFilter(_,!0),P=0;for(this.filters=[],h=0;h<s;h+=1){L=null;var U=d.data.ef[h].ty;registeredEffects[U]&&(L=new(0,registeredEffects[U].effect)(w,d.effectsManager.effectElements[h],d,idPrefix+P,p),p=idPrefix+P,registeredEffects[U].countsAsEffect&&(P+=1)),L&&this.filters.push(L)}P&&(d.globalData.defs.appendChild(w),d.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+_+")")),this.filters.length&&d.addRenderableComponent(this)}function registerEffect(d,h,p){registeredEffects[d]={effect:h,countsAsEffect:p}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(d,h,p){this.assetData=h.getAssetData(d.refId),this.initElement(d,h,p),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(d,h){this.elem=d,this.pos=h}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(d){var h,p=this.filters.length;for(h=0;h<p;h+=1)this.filters[h].renderFrame(d)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var p,s,_,h=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var w=createNS("mask");w.setAttribute("id",this.layerId),w.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),w.appendChild(this.layerElement),h=w,this.globalData.defs.appendChild(w),!featureSupport.maskType&&1==this.data.td&&(w.setAttribute("mask-type","luminance"),p=createElementID(),s=filtersFactory.createFilter(p),this.globalData.defs.appendChild(s),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(_=createNS("g")).appendChild(this.layerElement),h=_,w.appendChild(_),_.setAttribute("filter","url("+getLocationHref()+"#"+p+")"))}else if(2==this.data.td){var P=createNS("mask");P.setAttribute("id",this.layerId),P.setAttribute("mask-type","alpha");var L=createNS("g");P.appendChild(L),p=createElementID(),s=filtersFactory.createFilter(p);var U=createNS("feComponentTransfer");U.setAttribute("in","SourceGraphic"),s.appendChild(U);var V=createNS("feFuncA");V.setAttribute("type","table"),V.setAttribute("tableValues","1.0 0.0"),U.appendChild(V),this.globalData.defs.appendChild(s);var z=createNS("rect");z.setAttribute("width",this.comp.data.w),z.setAttribute("height",this.comp.data.h),z.setAttribute("x","0"),z.setAttribute("y","0"),z.setAttribute("fill","#ffffff"),z.setAttribute("opacity","0"),L.setAttribute("filter","url("+getLocationHref()+"#"+p+")"),L.appendChild(z),L.appendChild(this.layerElement),h=L,featureSupport.maskType||(P.setAttribute("mask-type","luminance"),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),_=createNS("g"),L.appendChild(z),_.appendChild(this.layerElement),h=_,L.appendChild(_)),this.globalData.defs.appendChild(P)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),h=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var Q=createNS("clipPath"),x=createNS("path");x.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var j=createElementID();if(Q.setAttribute("id",j),Q.appendChild(x),this.globalData.defs.appendChild(Q),this.checkMasks()){var G=createNS("g");G.setAttribute("clip-path","url("+getLocationHref()+"#"+j+")"),G.appendChild(this.layerElement),this.transformedElement=G,h?h.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+j+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(h){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+h+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(h){this.hierarchy=h},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(p,s,_){this.initFrame(),this.initBaseData(p,s,_),this.initTransform(p,s,_),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(p){this._mdf=!1,this.prepareRenderableFrame(p),this.prepareProperties(p,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var d=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",d),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(h){var p,s=this.shapeModifiers.length;for(p=0;p<s;p+=1)this.shapeModifiers[p].addShape(h)},isShapeInAnimatedModifiers:function(h){for(var s=this.shapeModifiers.length;0<s;)if(this.shapeModifiers[0].isAnimatedWithShape(h))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var h,p=this.shapes.length;for(h=0;h<p;h+=1)this.shapes[h].sh.reset();for(h=(p=this.shapeModifiers.length)-1;h>=0&&!this.shapeModifiers[h].processShapes(this._isFirstFrame);h-=1);}},searchProcessedElement:function(h){for(var p=this.processedElements,s=0,_=p.length;s<_;){if(p[s].elem===h)return p[s].pos;s+=1}return 0},addProcessedElement:function(h,p){for(var s=this.processedElements,_=s.length;_;)if(s[_-=1].elem===h)return void(s[_].pos=p);s.push(new ProcessedElement(h,p))},prepareFrame:function(h){this.prepareRenderableFrame(h),this.prepareProperties(h,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(d,h,p){this.caches=[],this.styles=[],this.transformers=d,this.lStr="",this.sh=p,this.lvl=h,this._isAnimated=!!p.k;for(var s=0,_=d.length;s<_;){if(d[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}function SVGStyleData(d,h){this.data=d,this.type=d.ty,this.d="",this.lvl=h,this._mdf=!1,this.closed=!0===d.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(d,h,p,s){this.elem=d,this.frameId=-1,this.dataProps=createSizedArray(h.length),this.renderer=p,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",h.length?h.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var _,P,w=h.length||0;for(_=0;_<w;_+=1)P=PropertyFactory.getProp(d,h[_].v,0,0,this),this.k=P.k||this.k,this.dataProps[_]={n:h[_].n,p:P};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(d,h,p){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(d,h.o,0,.01,this),this.w=PropertyFactory.getProp(d,h.w,0,null,this),this.d=new DashProperty(d,h.d||{},"svg",this),this.c=PropertyFactory.getProp(d,h.c,1,255,this),this.style=p,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(d,h,p){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(d,h.o,0,.01,this),this.c=PropertyFactory.getProp(d,h.c,1,255,this),this.style=p}function SVGNoStyleData(d,h,p){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.style=p}function GradientProperty(d,h,p){this.data=h,this.c=createTypedArray("uint8c",4*h.p);var s=h.k.k[0].s?h.k.k[0].s.length-4*h.p:h.k.k.length-4*h.p;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(p),this.prop=PropertyFactory.getProp(d,h.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(d,h,p){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.initGradientData(d,h,p)}function SVGGradientStrokeStyleData(d,h,p){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(d,h.w,0,null,this),this.d=new DashProperty(d,h.d||{},"svg",this),this.initGradientData(d,h,p),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(d,h,p){this.transform={mProps:d,op:h,container:p},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(d){if((this.elem.globalData.frameId!==this.frameId||d)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||d,this._mdf)){var h=0,p=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),h=0;h<p;h+=1)"o"!==this.dataProps[h].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[h].p.v:this.dashArray[h]=this.dataProps[h].p.v:this.dashoffset[0]=this.dataProps[h].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(d,h){for(var p=0,s=this.o.length/2;p<s;){if(Math.abs(d[4*p]-d[4*h+2*p])>.01)return!1;p+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var d=0,h=this.data.k.k.length;d<h;){if(!this.comparePoints(this.data.k.k[d].s,this.data.p))return!1;d+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(d){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||d){var h,s,_,p=4*this.data.p;for(h=0;h<p;h+=1)s=h%4==0?100:255,_=Math.round(this.prop.v[h]*s),this.c[h]!==_&&(this.c[h]=_,this._cmdf=!d);if(this.o.length)for(p=this.prop.v.length,h=4*this.data.p;h<p;h+=1)s=h%2==0?100:1,_=h%2==0?Math.round(100*this.prop.v[h]):this.prop.v[h],this.o[h-4*this.data.p]!==_&&(this.o[h-4*this.data.p]=_,this._omdf=!d);this._mdf=!d}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(d,h,p){this.o=PropertyFactory.getProp(d,h.o,0,.01,this),this.s=PropertyFactory.getProp(d,h.s,1,null,this),this.e=PropertyFactory.getProp(d,h.e,1,null,this),this.h=PropertyFactory.getProp(d,h.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(d,h.a||{k:0},0,degToRads,this),this.g=new GradientProperty(d,h.g,this),this.style=p,this.stops=[],this.setGradientData(p.pElem,h),this.setGradientOpacity(h,p),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(d,h){var p=createElementID(),s=createNS(1===h.t?"linearGradient":"radialGradient");s.setAttribute("id",p),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var w,P,L,_=[];for(L=4*h.g.p,P=0;P<L;P+=4)w=createNS("stop"),s.appendChild(w),_.push(w);d.setAttribute("gf"===h.ty?"fill":"stroke","url("+getLocationHref()+"#"+p+")"),this.gf=s,this.cst=_},SVGGradientFillStyleData.prototype.setGradientOpacity=function(d,h){if(this.g._hasOpacity&&!this.g._collapsable){var p,s,_,w=createNS("mask"),P=createNS("path");w.appendChild(P);var L=createElementID(),U=createElementID();w.setAttribute("id",U);var V=createNS(1===d.t?"linearGradient":"radialGradient");V.setAttribute("id",L),V.setAttribute("spreadMethod","pad"),V.setAttribute("gradientUnits","userSpaceOnUse"),_=d.g.k.k[0].s?d.g.k.k[0].s.length:d.g.k.k.length;var z=this.stops;for(s=4*d.g.p;s<_;s+=2)(p=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),V.appendChild(p),z.push(p);P.setAttribute("gf"===d.ty?"fill":"stroke","url("+getLocationHref()+"#"+L+")"),"gs"===d.ty&&(P.setAttribute("stroke-linecap",lineCapEnum[d.lc||2]),P.setAttribute("stroke-linejoin",lineJoinEnum[d.lj||2]),1===d.lj&&P.setAttribute("stroke-miterlimit",d.ml)),this.of=V,this.ms=w,this.ost=z,this.maskId=U,h.msElem=P}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(h,p,s,_){if(0===p)return"";var U,w=h.o,P=h.i,L=h.v,V=" M"+_.applyToPointStringified(L[0][0],L[0][1]);for(U=1;U<p;U+=1)V+=" C"+_.applyToPointStringified(w[U-1][0],w[U-1][1])+" "+_.applyToPointStringified(P[U][0],P[U][1])+" "+_.applyToPointStringified(L[U][0],L[U][1]);return s&&p&&(V+=" C"+_.applyToPointStringified(w[U-1][0],w[U-1][1])+" "+_.applyToPointStringified(P[0][0],P[0][1])+" "+_.applyToPointStringified(L[0][0],L[0][1]),V+="z"),V},SVGElementsRenderer=function(){var d=new Matrix,h=new Matrix;function _(Q,x,j){(j||x.transform.op._mdf)&&x.transform.container.setAttribute("opacity",x.transform.op.v),(j||x.transform.mProps._mdf)&&x.transform.container.setAttribute("transform",x.transform.mProps.v.to2dCSS())}function w(){}function P(Q,x,j){var G,k,Y,A,N,I,J,ne,re,me,Pe,T=x.styles.length,W=x.lvl;for(I=0;I<T;I+=1){if(A=x.sh._mdf||j,x.styles[I].lvl<W){for(ne=h.reset(),me=W-x.styles[I].lvl,Pe=x.transformers.length-1;!A&&me>0;)A=x.transformers[Pe].mProps._mdf||A,me-=1,Pe-=1;if(A)for(me=W-x.styles[I].lvl,Pe=x.transformers.length-1;me>0;)ne.transform((re=x.transformers[Pe].mProps.v.props)[0],re[1],re[2],re[3],re[4],re[5],re[6],re[7],re[8],re[9],re[10],re[11],re[12],re[13],re[14],re[15]),me-=1,Pe-=1}else ne=d;if(k=(J=x.sh.paths)._length,A){for(Y="",G=0;G<k;G+=1)(N=J.shapes[G])&&N._length&&(Y+=buildShapeString(N,N._length,N.c,ne));x.caches[I]=Y}else Y=x.caches[I];x.styles[I].d+=!0===Q.hd?"":Y,x.styles[I]._mdf=A||x.styles[I]._mdf}}function L(Q,x,j){var G=x.style;(x.c._mdf||j)&&G.pElem.setAttribute("fill","rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||j)&&G.pElem.setAttribute("fill-opacity",x.o.v)}function U(Q,x,j){V(Q,x,j),z(0,x,j)}function V(Q,x,j){var W,J,ne,re,_e,G=x.gf,k=x.g._hasOpacity,Y=x.s.v,A=x.e.v;if((x.o._mdf||j)&&x.style.pElem.setAttribute("gf"===Q.ty?"fill-opacity":"stroke-opacity",x.o.v),x.s._mdf||j){var I=1===Q.t?"x1":"cx",T="x1"===I?"y1":"cy";G.setAttribute(I,Y[0]),G.setAttribute(T,Y[1]),k&&!x.g._collapsable&&(x.of.setAttribute(I,Y[0]),x.of.setAttribute(T,Y[1]))}if(x.g._cmdf||j){var me=x.g.c;for(ne=(W=x.cst).length,J=0;J<ne;J+=1)(re=W[J]).setAttribute("offset",me[4*J]+"%"),re.setAttribute("stop-color","rgb("+me[4*J+1]+","+me[4*J+2]+","+me[4*J+3]+")")}if(k&&(x.g._omdf||j)){var Pe=x.g.o;for(ne=(W=x.g._collapsable?x.cst:x.ost).length,J=0;J<ne;J+=1)re=W[J],x.g._collapsable||re.setAttribute("offset",Pe[2*J]+"%"),re.setAttribute("stop-opacity",Pe[2*J+1])}if(1===Q.t)(x.e._mdf||j)&&(G.setAttribute("x2",A[0]),G.setAttribute("y2",A[1]),k&&!x.g._collapsable&&(x.of.setAttribute("x2",A[0]),x.of.setAttribute("y2",A[1])));else if((x.s._mdf||x.e._mdf||j)&&(_e=Math.sqrt(Math.pow(Y[0]-A[0],2)+Math.pow(Y[1]-A[1],2)),G.setAttribute("r",_e),k&&!x.g._collapsable&&x.of.setAttribute("r",_e)),x.e._mdf||x.h._mdf||x.a._mdf||j){_e||(_e=Math.sqrt(Math.pow(Y[0]-A[0],2)+Math.pow(Y[1]-A[1],2)));var ve=Math.atan2(A[1]-Y[1],A[0]-Y[0]),Ie=x.h.v;Ie>=1?Ie=.99:Ie<=-1&&(Ie=-.99);var Ee=_e*Ie,de=Math.cos(ve+x.a.v)*Ee+Y[0],se=Math.sin(ve+x.a.v)*Ee+Y[1];G.setAttribute("fx",de),G.setAttribute("fy",se),k&&!x.g._collapsable&&(x.of.setAttribute("fx",de),x.of.setAttribute("fy",se))}}function z(Q,x,j){var G=x.style,k=x.d;k&&(k._mdf||j)&&k.dashStr&&(G.pElem.setAttribute("stroke-dasharray",k.dashStr),G.pElem.setAttribute("stroke-dashoffset",k.dashoffset[0])),x.c&&(x.c._mdf||j)&&G.pElem.setAttribute("stroke","rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||j)&&G.pElem.setAttribute("stroke-opacity",x.o.v),(x.w._mdf||j)&&(G.pElem.setAttribute("stroke-width",x.w.v),G.msElem&&G.msElem.setAttribute("stroke-width",x.w.v))}return{createRenderFunction:function s(Q){switch(Q.ty){case"fl":return L;case"gf":return V;case"gs":return U;case"st":return z;case"sh":case"el":case"rc":case"sr":return P;case"tr":return _;case"no":return w;default:return null}}}}();function SVGShapeElement(d,h,p){this.shapes=[],this.shapesData=d.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(d,h,p),this.prevViewData=[]}function LetterProps(d,h,p,s,_,w){this.o=d,this.sw=h,this.sc=p,this.fc=s,this.m=_,this.p=w,this._mdf={o:!0,sw:!!h,sc:!!p,fc:!!s,m:!0,p:!0}}function TextProperty(d,h){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=h,this.elem=d,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var d,p,s,w,h=this.shapes.length,_=this.stylesList.length,P=[],L=!1;for(s=0;s<_;s+=1){for(w=this.stylesList[s],L=!1,P.length=0,d=0;d<h;d+=1)-1!==(p=this.shapes[d]).styles.indexOf(w)&&(P.push(p),L=p._isAnimated||L);P.length>1&&L&&this.setShapesAsAnimated(P)}},SVGShapeElement.prototype.setShapesAsAnimated=function(d){var h,p=d.length;for(h=0;h<p;h+=1)d[h].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(d,h){var p,s=new SVGStyleData(d,h),_=s.pElem;return"st"===d.ty?p=new SVGStrokeStyleData(this,d,s):"fl"===d.ty?p=new SVGFillStyleData(this,d,s):"gf"===d.ty||"gs"===d.ty?(p=new("gf"===d.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,d,s),this.globalData.defs.appendChild(p.gf),p.maskId&&(this.globalData.defs.appendChild(p.ms),this.globalData.defs.appendChild(p.of),_.setAttribute("mask","url("+getLocationHref()+"#"+p.maskId+")"))):"no"===d.ty&&(p=new SVGNoStyleData(this,d,s)),("st"===d.ty||"gs"===d.ty)&&(_.setAttribute("stroke-linecap",lineCapEnum[d.lc||2]),_.setAttribute("stroke-linejoin",lineJoinEnum[d.lj||2]),_.setAttribute("fill-opacity","0"),1===d.lj&&_.setAttribute("stroke-miterlimit",d.ml)),2===d.r&&_.setAttribute("fill-rule","evenodd"),d.ln&&_.setAttribute("id",d.ln),d.cl&&_.setAttribute("class",d.cl),d.bm&&(_.style["mix-blend-mode"]=getBlendMode(d.bm)),this.stylesList.push(s),this.addToAnimatedContents(d,p),p},SVGShapeElement.prototype.createGroupElement=function(d){var h=new ShapeGroupData;return d.ln&&h.gr.setAttribute("id",d.ln),d.cl&&h.gr.setAttribute("class",d.cl),d.bm&&(h.gr.style["mix-blend-mode"]=getBlendMode(d.bm)),h},SVGShapeElement.prototype.createTransformElement=function(d,h){var p=TransformPropertyFactory.getTransformProperty(this,d,this),s=new SVGTransformData(p,p.o,h);return this.addToAnimatedContents(d,s),s},SVGShapeElement.prototype.createShapeElement=function(d,h,p){var s=4;"rc"===d.ty?s=5:"el"===d.ty?s=6:"sr"===d.ty&&(s=7);var w=new SVGShapeData(h,p,ShapePropertyFactory.getShapeProp(this,d,s,this));return this.shapes.push(w),this.addShapeToModifiers(w),this.addToAnimatedContents(d,w),w},SVGShapeElement.prototype.addToAnimatedContents=function(d,h){for(var p=0,s=this.animatedContents.length;p<s;){if(this.animatedContents[p].element===h)return;p+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(d),element:h,data:d})},SVGShapeElement.prototype.setElementStyles=function(d){var p,h=d.styles,s=this.stylesList.length;for(p=0;p<s;p+=1)this.stylesList[p].closed||h.push(this.stylesList[p])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var d,h=this.itemsData.length;for(d=0;d<h;d+=1)this.prevViewData[d]=this.itemsData[d];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),h=this.dynamicProperties.length,d=0;d<h;d+=1)this.dynamicProperties[d].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(d,h,p,s,_,w,P){var U,z,Q,k,Y,L=[].concat(w),V=d.length-1,x=[],j=[];for(U=V;U>=0;U-=1){if((Y=this.searchProcessedElement(d[U]))?h[U]=p[Y-1]:d[U]._render=P,"fl"===d[U].ty||"st"===d[U].ty||"gf"===d[U].ty||"gs"===d[U].ty||"no"===d[U].ty)Y?h[U].style.closed=!1:h[U]=this.createStyleElement(d[U],_),d[U]._render&&h[U].style.pElem.parentNode!==s&&s.appendChild(h[U].style.pElem),x.push(h[U].style);else if("gr"===d[U].ty){if(Y)for(Q=h[U].it.length,z=0;z<Q;z+=1)h[U].prevViewData[z]=h[U].it[z];else h[U]=this.createGroupElement(d[U]);this.searchShapes(d[U].it,h[U].it,h[U].prevViewData,h[U].gr,_+1,L,P),d[U]._render&&h[U].gr.parentNode!==s&&s.appendChild(h[U].gr)}else"tr"===d[U].ty?(Y||(h[U]=this.createTransformElement(d[U],s)),L.push(h[U].transform)):"sh"===d[U].ty||"rc"===d[U].ty||"el"===d[U].ty||"sr"===d[U].ty?(Y||(h[U]=this.createShapeElement(d[U],L,_)),this.setElementStyles(h[U])):"tm"===d[U].ty||"rd"===d[U].ty||"ms"===d[U].ty||"pb"===d[U].ty?(Y?(k=h[U]).closed=!1:((k=ShapeModifiers.getModifier(d[U].ty)).init(this,d[U]),h[U]=k,this.shapeModifiers.push(k)),j.push(k)):"rp"===d[U].ty&&(Y?(k=h[U]).closed=!0:(k=ShapeModifiers.getModifier(d[U].ty),h[U]=k,k.init(this,d,U,h),this.shapeModifiers.push(k),P=!1),j.push(k));this.addProcessedElement(d[U],U+1)}for(V=x.length,U=0;U<V;U+=1)x[U].closed=!0;for(V=j.length,U=0;U<V;U+=1)j[U].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var d,h=this.stylesList.length;for(d=0;d<h;d+=1)this.stylesList[d].reset();for(this.renderShape(),d=0;d<h;d+=1)(this.stylesList[d]._mdf||this._isFirstFrame)&&(this.stylesList[d].msElem&&(this.stylesList[d].msElem.setAttribute("d",this.stylesList[d].d),this.stylesList[d].d="M0 0"+this.stylesList[d].d),this.stylesList[d].pElem.setAttribute("d",this.stylesList[d].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var d,p,h=this.animatedContents.length;for(d=0;d<h;d+=1)p=this.animatedContents[d],(this._isFirstFrame||p.element._isAnimated)&&!0!==p.data&&p.fn(p.data,p.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(d,h,p,s,_,w){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var P=!1;return this.o!==d&&(this.o=d,this._mdf.o=!0,P=!0),this.sw!==h&&(this.sw=h,this._mdf.sw=!0,P=!0),this.sc!==p&&(this.sc=p,this._mdf.sc=!0,P=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,P=!0),this.m!==_&&(this.m=_,this._mdf.m=!0,P=!0),w.length&&(this.p[0]!==w[0]||this.p[1]!==w[1]||this.p[4]!==w[4]||this.p[5]!==w[5]||this.p[12]!==w[12]||this.p[13]!==w[13])&&(this.p=w,this._mdf.p=!0,P=!0),P},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p]);return d},TextProperty.prototype.setCurrentData=function(d){d.__complete||this.completeTextData(d),this.currentData=d,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(d){this.effectsSequence.push(d),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(d){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||d){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var h=this.currentData,p=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var s,_=this.effectsSequence.length,w=d||this.data.d.k[this.keysIndex].s;for(s=0;s<_;s+=1)w=this.effectsSequence[s](p!==this.keysIndex?w:this.currentData,w.t);h!==w&&this.setCurrentData(w),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var d=this.data.d.k,h=this.elem.comp.renderedFrame,p=0,s=d.length;p<=s-1&&!(p===s-1||d[p+1].t>h);)p+=1;return this.keysIndex!==p&&(this.keysIndex=p),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(d){for(var _,w,h=[],p=0,s=d.length,P=!1;p<s;)_=d.charCodeAt(p),FontManager.isCombinedCharacter(_)?h[h.length-1]+=d.charAt(p):_>=55296&&_<=56319?(w=d.charCodeAt(p+1))>=56320&&w<=57343?(P||FontManager.isModifier(_,w)?(h[h.length-1]+=d.substr(p,2),P=!1):h.push(d.substr(p,2)),p+=1):h.push(d.charAt(p)):_>56319?(w=d.charCodeAt(p+1),FontManager.isZeroWidthJoiner(_,w)?(P=!0,h[h.length-1]+=d.substr(p,2),p+=1):h.push(d.charAt(p))):FontManager.isZeroWidthJoiner(_)?(h[h.length-1]+=d.charAt(p),P=!0):h.push(d.charAt(p)),p+=1;return h},TextProperty.prototype.completeTextData=function(d){d.__complete=!0;var _,w,P,U,Y,A,I,h=this.elem.globalData.fontManager,p=this.data,s=[],L=0,V=p.m.g,z=0,Q=0,x=0,j=[],G=0,k=0,N=h.getFontByName(d.f),T=0,W=getFontProperties(N);d.fWeight=W.weight,d.fStyle=W.style,d.finalSize=d.s,d.finalText=this.buildFinalText(d.t),w=d.finalText.length,d.finalLineHeight=d.lh;var ne,J=d.tr/1e3*d.finalSize;if(d.sz)for(var _e,ve,re=!0,me=d.sz[0],Pe=d.sz[1];re;){_e=0,G=0,w=(ve=this.buildFinalText(d.t)).length,J=d.tr/1e3*d.finalSize;var Ie=-1;for(_=0;_<w;_+=1)ne=ve[_].charCodeAt(0),P=!1," "===ve[_]?Ie=_:(13===ne||3===ne)&&(G=0,P=!0,_e+=d.finalLineHeight||1.2*d.finalSize),h.chars?(I=h.getCharData(ve[_],N.fStyle,N.fFamily),T=P?0:I.w*d.finalSize/100):T=h.measureText(ve[_],d.f,d.finalSize),G+T>me&&" "!==ve[_]?(-1===Ie?w+=1:_=Ie,_e+=d.finalLineHeight||1.2*d.finalSize,ve.splice(_,Ie===_?1:0,"\r"),Ie=-1,G=0):(G+=T,G+=J);_e+=N.ascent*d.finalSize/100,this.canResize&&d.finalSize>this.minimumFontSize&&Pe<_e?(d.finalSize-=1,d.finalLineHeight=d.finalSize*d.lh/d.s):(d.finalText=ve,w=d.finalText.length,re=!1)}G=-J,T=0;var de,Ee=0;for(_=0;_<w;_+=1)if(P=!1,13===(ne=(de=d.finalText[_]).charCodeAt(0))||3===ne?(Ee=0,j.push(G),k=G>k?G:k,G=-2*J,U="",P=!0,x+=1):U=de,h.chars?(I=h.getCharData(de,N.fStyle,h.getFontByName(d.f).fFamily),T=P?0:I.w*d.finalSize/100):T=h.measureText(U,d.f,d.finalSize)," "===de?Ee+=T+J:(G+=T+J+Ee,Ee=0),s.push({l:T,an:T,add:z,n:P,anIndexes:[],val:U,line:x,animatorJustifyOffset:0}),2==V){if(z+=T,""===U||" "===U||_===w-1){for((""===U||" "===U)&&(z-=T);Q<=_;)s[Q].an=z,s[Q].ind=L,s[Q].extra=T,Q+=1;L+=1,z=0}}else if(3==V){if(z+=T,""===U||_===w-1){for(""===U&&(z-=T);Q<=_;)s[Q].an=z,s[Q].ind=L,s[Q].extra=T,Q+=1;z=0,L+=1}}else s[L].ind=L,s[L].extra=0,L+=1;if(d.l=s,k=G>k?G:k,j.push(G),d.sz)d.boxWidth=d.sz[0],d.justifyOffset=0;else switch(d.boxWidth=k,d.j){case 1:d.justifyOffset=-d.boxWidth;break;case 2:d.justifyOffset=-d.boxWidth/2;break;default:d.justifyOffset=0}d.lineWidths=j;var ee,te,se=p.a;A=se.length;var ue,Re,Oe=[];for(Y=0;Y<A;Y+=1){for((ee=se[Y]).a.sc&&(d.strokeColorAnim=!0),ee.a.sw&&(d.strokeWidthAnim=!0),(ee.a.fc||ee.a.fh||ee.a.fs||ee.a.fb)&&(d.fillColorAnim=!0),Re=0,ue=ee.s.b,_=0;_<w;_+=1)(te=s[_]).anIndexes[Y]=Re,(1==ue&&""!==te.val||2==ue&&""!==te.val&&" "!==te.val||3==ue&&(te.n||" "==te.val||_==w-1)||4==ue&&(te.n||_==w-1))&&(1===ee.s.rn&&Oe.push(Re),Re+=1);p.a[Y].s.totalChars=Re;var $e,Ye=-1;if(1===ee.s.rn)for(_=0;_<w;_+=1)Ye!=(te=s[_]).anIndexes[Y]&&(Ye=te.anIndexes[Y],$e=Oe.splice(Math.floor(Math.random()*Oe.length),1)[0]),te.anIndexes[Y]=$e}d.yOffset=d.finalLineHeight||1.2*d.finalSize,d.ls=d.ls||0,d.ascent=N.ascent*d.finalSize/100},TextProperty.prototype.updateDocumentData=function(d,h){var p=this.copyData({},this.data.d.k[h=void 0===h?this.keysIndex:h].s);p=this.copyData(p,d),this.data.d.k[h].s=p,this.recalculate(h),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(d){var h=this.data.d.k[d].s;h.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(h)},TextProperty.prototype.canResizeFont=function(d){this.canResize=d,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(d){this.minimumFontSize=Math.floor(d)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var d=Math.max,h=Math.min,p=Math.floor;function s(w,P){this._currentTextLength=-1,this.k=!1,this.data=P,this.elem=w,this.comp=w.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(w),this.s=PropertyFactory.getProp(w,P.s||{k:0},0,0,this),this.e="e"in P?PropertyFactory.getProp(w,P.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(w,P.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(w,P.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(w,P.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(w,P.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(w,P.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return s.prototype={getMult:function(P){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var L=0,U=0,V=1,z=1;this.ne.v>0?L=this.ne.v/100:U=-this.ne.v/100,this.xe.v>0?V=1-this.xe.v/100:z=1+this.xe.v/100;var Q=BezierFactory.getBezierEasing(L,U,V,z).get,x=0,j=this.finalS,G=this.finalE,k=this.data.sh;if(2===k)x=Q(x=G===j?P>=G?1:0:d(0,h(.5/(G-j)+(P-j)/(G-j),1)));else if(3===k)x=Q(x=G===j?P>=G?0:1:1-d(0,h(.5/(G-j)+(P-j)/(G-j),1)));else if(4===k)G===j?x=0:(x=d(0,h(.5/(G-j)+(P-j)/(G-j),1)))<.5?x*=2:x=1-2*(x-.5),x=Q(x);else if(5===k){if(G===j)x=0;else{var Y=G-j,A=-Y/2+(P=h(d(0,P+.5-j),G-j)),N=Y/2;x=Math.sqrt(1-A*A/(N*N))}x=Q(x)}else 6===k?(G===j?x=0:(P=h(d(0,P+.5-j),G-j),x=(1+Math.cos(Math.PI+2*Math.PI*P/(G-j)))/2),x=Q(x)):(P>=p(j)&&(x=d(0,h(P-j<0?h(G,1)-(j-P):G-P,1))),x=Q(x));if(100!==this.sm.v){var I=.01*this.sm.v;0===I&&(I=1e-8);var T=.5-.5*I;x<T?x=0:(x=(x-T)/I)>1&&(x=1)}return x*this.a.v},getValue:function(P){this.iterateDynamicProperties(),this._mdf=P||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,P&&2===this.data.r&&(this.e.v=this._currentTextLength);var L=2===this.data.r?1:100/this.data.totalChars,U=this.o.v/L,V=this.s.v/L+U,z=this.e.v/L+U;if(V>z){var Q=V;V=z,z=Q}this.finalS=V,this.finalE=z}},extendPrototype([DynamicPropertyContainer],s),{getTextSelectorProp:function _(w,P,L){return new s(w,P,L)}}}();function TextAnimatorDataProperty(d,h,p){var s={propType:!1},_=PropertyFactory.getProp,w=h.a;this.a={r:w.r?_(d,w.r,0,degToRads,p):s,rx:w.rx?_(d,w.rx,0,degToRads,p):s,ry:w.ry?_(d,w.ry,0,degToRads,p):s,sk:w.sk?_(d,w.sk,0,degToRads,p):s,sa:w.sa?_(d,w.sa,0,degToRads,p):s,s:w.s?_(d,w.s,1,.01,p):s,a:w.a?_(d,w.a,1,0,p):s,o:w.o?_(d,w.o,0,.01,p):s,p:w.p?_(d,w.p,1,0,p):s,sw:w.sw?_(d,w.sw,0,0,p):s,sc:w.sc?_(d,w.sc,1,0,p):s,fc:w.fc?_(d,w.fc,1,0,p):s,fh:w.fh?_(d,w.fh,0,0,p):s,fs:w.fs?_(d,w.fs,0,.01,p):s,fb:w.fb?_(d,w.fb,0,.01,p):s,t:w.t?_(d,w.t,0,0,p):s},this.s=TextSelectorProp.getTextSelectorProp(d,h.s,p),this.s.t=h.s.t}function TextAnimatorProperty(d,h,p){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=d,this._renderType=h,this._elem=p,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(p)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var d,h=this._textData.a.length,s=PropertyFactory.getProp;for(d=0;d<h;d+=1)this._animatorsData[d]=new TextAnimatorDataProperty(this._elem,this._textData.a[d],this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(d,h){if(this.lettersChangedFlag=h,this._mdf||this._isFirstFrame||h||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var U,V,z,Q,j,G,k,Y,A,N,I,T,W,J,ne,re,me,_e,p=this._moreOptions.alignment.v,s=this._animatorsData,_=this._textData,w=this.mHelper,P=this._renderType,L=this.renderedLetters.length,x=d.l;if(this._hasMaskedPath){if(_e=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Ie,ve=_e.v;for(this._pathData.r.v&&(ve=ve.reverse()),j={tLength:0,segments:[]},Q=ve._length-1,re=0,z=0;z<Q;z+=1)Ie=bez.buildBezierData(ve.v[z],ve.v[z+1],[ve.o[z][0]-ve.v[z][0],ve.o[z][1]-ve.v[z][1]],[ve.i[z+1][0]-ve.v[z+1][0],ve.i[z+1][1]-ve.v[z+1][1]]),j.tLength+=Ie.segmentLength,j.segments.push(Ie),re+=Ie.segmentLength;z=Q,_e.v.c&&(Ie=bez.buildBezierData(ve.v[z],ve.v[0],[ve.o[z][0]-ve.v[z][0],ve.o[z][1]-ve.v[z][1]],[ve.i[0][0]-ve.v[0][0],ve.i[0][1]-ve.v[0][1]]),j.tLength+=Ie.segmentLength,j.segments.push(Ie),re+=Ie.segmentLength),this._pathData.pi=j}if(I=0,N=1,Y=0,A=!0,J=(j=this._pathData.pi).segments,(G=this._pathData.f.v)<0&&_e.v.c)for(j.tLength<Math.abs(G)&&(G=-Math.abs(G)%j.tLength),N=(W=J[I=J.length-1].points).length-1;G<0;)G+=W[N].partialLength,(N-=1)<0&&(N=(W=J[I-=1].points).length-1);T=(W=J[I].points)[N-1],ne=(k=W[N]).partialLength}Q=x.length,U=0,V=0;var se,te,ue,Re,Ee=1.2*d.finalSize*.714,de=!0;ue=s.length;var Oe,$e,ot,Ot,En,In,Dn,st,_n,or,zn,Mn,at,Ye=-1,yt=G,jt=I,At=N,Et=-1,Sn="",Bn=this.defaultPropsArray;if(2===d.j||1===d.j){var Xt=0,kn=0,vn=2===d.j?-.5:-1,Ln=0,Gt=!0;for(z=0;z<Q;z+=1)if(x[z].n){for(Xt&&(Xt+=kn);Ln<z;)x[Ln].animatorJustifyOffset=Xt,Ln+=1;Xt=0,Gt=!0}else{for(te=0;te<ue;te+=1)(se=s[te].a).t.propType&&(Gt&&2===d.j&&(kn+=se.t.v*vn),Xt+=(Oe=s[te].s.getMult(x[z].anIndexes[te],_.a[te].s.totalChars)).length?se.t.v*Oe[0]*vn:se.t.v*Oe*vn);Gt=!1}for(Xt&&(Xt+=kn);Ln<z;)x[Ln].animatorJustifyOffset=Xt,Ln+=1}for(z=0;z<Q;z+=1){if(w.reset(),En=1,x[z].n)U=0,V+=d.yOffset,V+=de?1:0,G=yt,de=!1,this._hasMaskedPath&&(T=(W=J[I=jt].points)[(N=At)-1],ne=(k=W[N]).partialLength,Y=0),Sn="",Mn="",or="",at="",Bn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Et!==x[z].line){switch(d.j){case 1:G+=re-d.lineWidths[x[z].line];break;case 2:G+=(re-d.lineWidths[x[z].line])/2}Et=x[z].line}Ye!==x[z].ind&&(x[Ye]&&(G+=x[Ye].extra),G+=x[z].an/2,Ye=x[z].ind),G+=p[0]*x[z].an*.005;var $t=0;for(te=0;te<ue;te+=1)(se=s[te].a).p.propType&&($t+=(Oe=s[te].s.getMult(x[z].anIndexes[te],_.a[te].s.totalChars)).length?se.p.v[0]*Oe[0]:se.p.v[0]*Oe),se.a.propType&&($t+=(Oe=s[te].s.getMult(x[z].anIndexes[te],_.a[te].s.totalChars)).length?se.a.v[0]*Oe[0]:se.a.v[0]*Oe);for(A=!0,this._pathData.a.v&&(G=.5*x[0].an+(re-this._pathData.f.v-.5*x[0].an-.5*x[x.length-1].an)*Ye/(Q-1),G+=this._pathData.f.v);A;)Y+ne>=G+$t||!W?(ot=T.point[0]+(k.point[0]-T.point[0])*(me=(G+$t-Y)/k.partialLength),Ot=T.point[1]+(k.point[1]-T.point[1])*me,w.translate(-p[0]*x[z].an*.005,-p[1]*Ee*.01),A=!1):W&&(Y+=k.partialLength,(N+=1)>=W.length&&(N=0,J[I+=1]?W=J[I].points:_e.v.c?(N=0,W=J[I=0].points):(Y-=k.partialLength,W=null)),W&&(T=k,ne=(k=W[N]).partialLength));w.translate(-($e=x[z].an/2-x[z].add),0,0)}else w.translate(-($e=x[z].an/2-x[z].add),0,0),w.translate(-p[0]*x[z].an*.005,-p[1]*Ee*.01,0);for(te=0;te<ue;te+=1)(se=s[te].a).t.propType&&(Oe=s[te].s.getMult(x[z].anIndexes[te],_.a[te].s.totalChars),(0!==U||0!==d.j)&&(this._hasMaskedPath?G+=Oe.length?se.t.v*Oe[0]:se.t.v*Oe:U+=Oe.length?se.t.v*Oe[0]:se.t.v*Oe));for(d.strokeWidthAnim&&(Dn=d.sw||0),d.strokeColorAnim&&(In=d.sc?[d.sc[0],d.sc[1],d.sc[2]]:[0,0,0]),d.fillColorAnim&&d.fc&&(st=[d.fc[0],d.fc[1],d.fc[2]]),te=0;te<ue;te+=1)(se=s[te].a).a.propType&&((Oe=s[te].s.getMult(x[z].anIndexes[te],_.a[te].s.totalChars)).length?w.translate(-se.a.v[0]*Oe[0],-se.a.v[1]*Oe[1],se.a.v[2]*Oe[2]):w.translate(-se.a.v[0]*Oe,-se.a.v[1]*Oe,se.a.v[2]*Oe));for(te=0;te<ue;te+=1)(se=s[te].a).s.propType&&((Oe=s[te].s.getMult(x[z].anIndexes[te],_.a[te].s.totalChars)).length?w.scale(1+(se.s.v[0]-1)*Oe[0],1+(se.s.v[1]-1)*Oe[1],1):w.scale(1+(se.s.v[0]-1)*Oe,1+(se.s.v[1]-1)*Oe,1));for(te=0;te<ue;te+=1){if(se=s[te].a,Oe=s[te].s.getMult(x[z].anIndexes[te],_.a[te].s.totalChars),se.sk.propType&&(Oe.length?w.skewFromAxis(-se.sk.v*Oe[0],se.sa.v*Oe[1]):w.skewFromAxis(-se.sk.v*Oe,se.sa.v*Oe)),se.r.propType&&w.rotateZ(Oe.length?-se.r.v*Oe[2]:-se.r.v*Oe),se.ry.propType&&w.rotateY(Oe.length?se.ry.v*Oe[1]:se.ry.v*Oe),se.rx.propType&&w.rotateX(Oe.length?se.rx.v*Oe[0]:se.rx.v*Oe),se.o.propType&&(En+=Oe.length?(se.o.v*Oe[0]-En)*Oe[0]:(se.o.v*Oe-En)*Oe),d.strokeWidthAnim&&se.sw.propType&&(Dn+=Oe.length?se.sw.v*Oe[0]:se.sw.v*Oe),d.strokeColorAnim&&se.sc.propType)for(_n=0;_n<3;_n+=1)In[_n]+=Oe.length?(se.sc.v[_n]-In[_n])*Oe[0]:(se.sc.v[_n]-In[_n])*Oe;if(d.fillColorAnim&&d.fc){if(se.fc.propType)for(_n=0;_n<3;_n+=1)st[_n]+=Oe.length?(se.fc.v[_n]-st[_n])*Oe[0]:(se.fc.v[_n]-st[_n])*Oe;se.fh.propType&&(st=addHueToRGB(st,Oe.length?se.fh.v*Oe[0]:se.fh.v*Oe)),se.fs.propType&&(st=addSaturationToRGB(st,Oe.length?se.fs.v*Oe[0]:se.fs.v*Oe)),se.fb.propType&&(st=addBrightnessToRGB(st,Oe.length?se.fb.v*Oe[0]:se.fb.v*Oe))}}for(te=0;te<ue;te+=1)(se=s[te].a).p.propType&&(Oe=s[te].s.getMult(x[z].anIndexes[te],_.a[te].s.totalChars),this._hasMaskedPath?Oe.length?w.translate(0,se.p.v[1]*Oe[0],-se.p.v[2]*Oe[1]):w.translate(0,se.p.v[1]*Oe,-se.p.v[2]*Oe):Oe.length?w.translate(se.p.v[0]*Oe[0],se.p.v[1]*Oe[1],-se.p.v[2]*Oe[2]):w.translate(se.p.v[0]*Oe,se.p.v[1]*Oe,-se.p.v[2]*Oe));if(d.strokeWidthAnim&&(or=Dn<0?0:Dn),d.strokeColorAnim&&(zn="rgb("+Math.round(255*In[0])+","+Math.round(255*In[1])+","+Math.round(255*In[2])+")"),d.fillColorAnim&&d.fc&&(Mn="rgb("+Math.round(255*st[0])+","+Math.round(255*st[1])+","+Math.round(255*st[2])+")"),this._hasMaskedPath){if(w.translate(0,-d.ls),w.translate(0,p[1]*Ee*.01+V,0),this._pathData.p.v){var ln=180*Math.atan((k.point[1]-T.point[1])/(k.point[0]-T.point[0]))/Math.PI;k.point[0]<T.point[0]&&(ln+=180),w.rotate(-ln*Math.PI/180)}w.translate(ot,Ot,0),G-=p[0]*x[z].an*.005,x[z+1]&&Ye!==x[z+1].ind&&(G+=x[z].an/2,G+=.001*d.tr*d.finalSize)}else{switch(w.translate(U,V,0),d.ps&&w.translate(d.ps[0],d.ps[1]+d.ascent,0),d.j){case 1:w.translate(x[z].animatorJustifyOffset+d.justifyOffset+(d.boxWidth-d.lineWidths[x[z].line]),0,0);break;case 2:w.translate(x[z].animatorJustifyOffset+d.justifyOffset+(d.boxWidth-d.lineWidths[x[z].line])/2,0,0)}w.translate(0,-d.ls),w.translate($e,0,0),w.translate(p[0]*x[z].an*.005,p[1]*Ee*.01,0),U+=x[z].l+.001*d.tr*d.finalSize}"html"===P?Sn=w.toCSS():"svg"===P?Sn=w.to2dCSS():Bn=[w.props[0],w.props[1],w.props[2],w.props[3],w.props[4],w.props[5],w.props[6],w.props[7],w.props[8],w.props[9],w.props[10],w.props[11],w.props[12],w.props[13],w.props[14],w.props[15]],at=En}L<=z?(Re=new LetterProps(at,or,zn,Mn,Sn,Bn),this.renderedLetters.push(Re),L+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(Re=this.renderedLetters[z]).update(at,or,zn,Mn,Sn,Bn)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(d,h,p){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(d,h,p),this.textProperty=new TextProperty(this,d.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(d.t,this.renderType,this),this.initTransform(d,h,p),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(d){this._mdf=!1,this.prepareRenderableFrame(d),this.prepareProperties(d,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(d,h){var p,_,s=h.length,w="";for(p=0;p<s;p+=1)"sh"===h[p].ty&&(w+=buildShapeString(_=h[p].ks.k,_.i.length,!0,d));return w},ITextElement.prototype.updateDocumentData=function(d,h){this.textProperty.updateDocumentData(d,h)},ITextElement.prototype.canResizeFont=function(d){this.textProperty.canResizeFont(d)},ITextElement.prototype.setMinimumFontSize=function(d){this.textProperty.setMinimumFontSize(d)},ITextElement.prototype.applyTextPropertiesToMatrix=function(d,h,p,s,_){switch(d.ps&&h.translate(d.ps[0],d.ps[1]+d.ascent,0),h.translate(0,-d.ls,0),d.j){case 1:h.translate(d.justifyOffset+(d.boxWidth-d.lineWidths[p]),0,0);break;case 2:h.translate(d.justifyOffset+(d.boxWidth-d.lineWidths[p])/2,0,0)}h.translate(s,_,0)},ITextElement.prototype.buildColor=function(d){return"rgb("+Math.round(255*d[0])+","+Math.round(255*d[1])+","+Math.round(255*d[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(d,h,p){this.textSpans=[],this.renderType="svg",this.initElement(d,h,p)}function ISolidElement(d,h,p){this.initElement(d,h,p)}function NullElement(d,h,p){this.initFrame(),this.initBaseData(d,h,p),this.initFrame(),this.initTransform(d,h,p),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(d,h,p){this.layers=d.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(d,h,p),this.tm=d.tm?PropertyFactory.getProp(this,d.tm,0,h.frameRate,this):{_placeholder:!0}}function SVGRenderer(d,h){this.animationItem=d,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var p="";if(h&&h.title){var s=createNS("title"),_=createElementID();s.setAttribute("id",_),s.textContent=h.title,this.svgElement.appendChild(s),p+=_}if(h&&h.description){var w=createNS("desc"),P=createElementID();w.setAttribute("id",P),w.textContent=h.description,this.svgElement.appendChild(w),p+=" "+P}p&&this.svgElement.setAttribute("aria-labelledby",p);var L=createNS("defs");this.svgElement.appendChild(L);var U=createNS("g");this.svgElement.appendChild(U),this.layerElement=U,this.renderConfig={preserveAspectRatio:h&&h.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:h&&h.contentVisibility||"visible",progressiveLoad:h&&h.progressiveLoad||!1,hideOnTransparent:!(h&&!1===h.hideOnTransparent),viewBoxOnly:h&&h.viewBoxOnly||!1,viewBoxSize:h&&h.viewBoxSize||!1,className:h&&h.className||"",id:h&&h.id||"",focusable:h&&h.focusable,filterSize:{width:h&&h.filterSize&&h.filterSize.width||"100%",height:h&&h.filterSize&&h.filterSize.height||"100%",x:h&&h.filterSize&&h.filterSize.x||"0%",y:h&&h.filterSize&&h.filterSize.y||"0%"},width:h&&h.width,height:h&&h.height},this.globalData={_mdf:!1,frameNum:-1,defs:L,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var d;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),d=0;d<15;d+=1)this.saved[d]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVEffects(){}function CVMaskElement(d,h){this.data=d,this.element=h,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var p,s=this.masksProperties.length,_=!1;for(p=0;p<s;p+=1)"n"!==this.masksProperties[p].mode&&(_=!0),this.viewData[p]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[p],3);this.hasMasks=_,_&&this.element.addRenderableComponent(this)}function CVBaseElement(){}function CVShapeData(d,h,p,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var _=4;"rc"===h.ty?_=5:"el"===h.ty?_=6:"sr"===h.ty&&(_=7),this.sh=ShapePropertyFactory.getShapeProp(d,h,_,d);var w,L,P=p.length;for(w=0;w<P;w+=1)p[w].closed||(L={transforms:s.addTransformSequence(p[w].transforms),trNodes:[]},this.styledShapes.push(L),p[w].elements.push(L))}function CVShapeElement(d,h,p){this.shapes=[],this.shapesData=d.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(d,h,p)}function CVTextElement(d,h,p){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(d,h,p)}function CVImageElement(d,h,p){this.assetData=h.getAssetData(d.refId),this.img=h.imageLoader.getAsset(this.assetData),this.initElement(d,h,p)}function CVSolidElement(d,h,p){this.initElement(d,h,p)}function CanvasRendererBase(d,h){this.animationItem=d,this.renderConfig={clearCanvas:!h||void 0===h.clearCanvas||h.clearCanvas,context:h&&h.context||null,progressiveLoad:h&&h.progressiveLoad||!1,preserveAspectRatio:h&&h.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:h&&h.contentVisibility||"visible",className:h&&h.className||"",id:h&&h.id||""},this.renderConfig.dpr=h&&h.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=h&&h.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(d,h,p){this.completeLayers=!1,this.layers=d.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(d,h,p),this.tm=d.tm?PropertyFactory.getProp(this,d.tm,0,h.frameRate,this):{_placeholder:!0}}function CanvasRenderer(d,h){this.animationItem=d,this.renderConfig={clearCanvas:!h||void 0===h.clearCanvas||h.clearCanvas,context:h&&h.context||null,progressiveLoad:h&&h.progressiveLoad||!1,preserveAspectRatio:h&&h.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:h&&h.contentVisibility||"visible",className:h&&h.className||"",id:h&&h.id||""},this.renderConfig.dpr=h&&h.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=h&&h.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(d,h,p){this.initElement(d,h,p)}function HShapeElement(d,h,p){this.shapes=[],this.shapesData=d.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(d,h,p),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(d,h,p){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(d,h,p)}function HCameraElement(d,h,p){this.initFrame(),this.initBaseData(d,h,p),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,d.pe,0,0,this),d.ks.p.s?(this.px=s(this,d.ks.p.x,1,0,this),this.py=s(this,d.ks.p.y,1,0,this),this.pz=s(this,d.ks.p.z,1,0,this)):this.p=s(this,d.ks.p,1,0,this),d.ks.a&&(this.a=s(this,d.ks.a,1,0,this)),d.ks.or.k.length&&d.ks.or.k[0].to){var _,w=d.ks.or.k.length;for(_=0;_<w;_+=1)d.ks.or.k[_].to=null,d.ks.or.k[_].ti=null}this.or=s(this,d.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,d.ks.rx,0,degToRads,this),this.ry=s(this,d.ks.ry,0,degToRads,this),this.rz=s(this,d.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(d,h,p){this.assetData=h.getAssetData(d.refId),this.initElement(d,h,p)}function HybridRendererBase(d,h){this.animationItem=d,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:h&&h.className||"",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(h&&!1===h.hideOnTransparent),filterSize:{width:h&&h.filterSize&&h.filterSize.width||"400%",height:h&&h.filterSize&&h.filterSize.height||"400%",x:h&&h.filterSize&&h.filterSize.x||"-100%",y:h&&h.filterSize&&h.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(d,h,p){this.layers=d.layers,this.supports3d=!d.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(d,h,p),this.tm=d.tm?PropertyFactory.getProp(this,d.tm,0,h.frameRate,this):{_placeholder:!0}}function HybridRenderer(d,h){this.animationItem=d,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:h&&h.className||"",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(h&&!1===h.hideOnTransparent),filterSize:{width:h&&h.filterSize&&h.filterSize.width||"400%",height:h&&h.filterSize&&h.filterSize.height||"400%",x:h&&h.filterSize&&h.filterSize.x||"-100%",y:h&&h.filterSize&&h.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(d){for(var h=0,p=d.length,s=[],_="";h<p;)d[h]===String.fromCharCode(13)||d[h]===String.fromCharCode(3)?(s.push(_),_=""):_+=d[h],h+=1;return s.push(_),s},SVGTextLottieElement.prototype.buildShapeData=function(d,h){if(d.shapes&&d.shapes.length){var p=d.shapes[0];if(p.it){var s=p.it[p.it.length-1];s.s&&(s.s.k[0]=h,s.s.k[1]=h)}}return d},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var d,h,p=this.textProperty.currentData;this.renderedLetters=createSizedArray(p?p.l.length:0),this.layerElement.setAttribute("fill",p.fc?this.buildColor(p.fc):"rgba(0,0,0,0)"),p.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(p.sc)),this.layerElement.setAttribute("stroke-width",p.sw)),this.layerElement.setAttribute("font-size",p.finalSize);var s=this.globalData.fontManager.getFontByName(p.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var _=p.fWeight;this.layerElement.setAttribute("font-style",p.fStyle),this.layerElement.setAttribute("font-weight",_)}this.layerElement.setAttribute("aria-label",p.t);var P=p.l||[],L=!!this.globalData.fontManager.chars;h=P.length;var U,V=this.mHelper,Q=this.data.singleShape,x=0,j=0,G=!0,k=.001*p.tr*p.finalSize;if(!Q||L||p.sz){var T,I=this.textSpans.length;for(d=0;d<h;d+=1){if(this.textSpans[d]||(this.textSpans[d]={span:null,childSpan:null,glyph:null}),!L||!Q||0===d){if(U=I>d?this.textSpans[d].span:createNS(L?"g":"text"),I<=d){if(U.setAttribute("stroke-linecap","butt"),U.setAttribute("stroke-linejoin","round"),U.setAttribute("stroke-miterlimit","4"),this.textSpans[d].span=U,L){var W=createNS("g");U.appendChild(W),this.textSpans[d].childSpan=W}this.textSpans[d].span=U,this.layerElement.appendChild(U)}U.style.display="inherit"}if(V.reset(),Q&&(P[d].n&&(x=-k,j+=p.yOffset,j+=G?1:0,G=!1),this.applyTextPropertiesToMatrix(p,V,P[d].line,x,j),x+=P[d].l||0,x+=k),L){var J;if(1===(T=this.globalData.fontManager.getCharData(p.finalText[d],s.fStyle,this.globalData.fontManager.getFontByName(p.f).fFamily)).t)J=new SVGCompElement(T.data,this.globalData,this);else{var ne=emptyShapeData;T.data&&T.data.shapes&&(ne=this.buildShapeData(T.data,p.finalSize)),J=new SVGShapeElement(ne,this.globalData,this)}if(this.textSpans[d].glyph){var re=this.textSpans[d].glyph;this.textSpans[d].childSpan.removeChild(re.layerElement),re.destroy()}this.textSpans[d].glyph=J,J._debug=!0,J.prepareFrame(0),J.renderFrame(),this.textSpans[d].childSpan.appendChild(J.layerElement),1===T.t&&this.textSpans[d].childSpan.setAttribute("transform","scale("+p.finalSize/100+","+p.finalSize/100+")")}else Q&&U.setAttribute("transform","translate("+V.props[12]+","+V.props[13]+")"),U.textContent=P[d].val,U.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Q&&U&&U.setAttribute("d","")}else{var Y=this.textContainer,A="start";switch(p.j){case 1:A="end";break;case 2:A="middle";break;default:A="start"}Y.setAttribute("text-anchor",A),Y.setAttribute("letter-spacing",k);var N=this.buildTextContents(p.finalText);for(h=N.length,j=p.ps?p.ps[1]+p.ascent:0,d=0;d<h;d+=1)(U=this.textSpans[d].span||createNS("tspan")).textContent=N[d],U.setAttribute("x",0),U.setAttribute("y",j),U.style.display="inherit",Y.appendChild(U),this.textSpans[d]||(this.textSpans[d]={span:null,glyph:null}),this.textSpans[d].span=U,j+=p.finalLineHeight;this.layerElement.appendChild(Y)}for(;d<this.textSpans.length;)this.textSpans[d].span.style.display="none",d+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var d=this.layerElement.getBBox();this.bbox={top:d.y,left:d.x,width:d.width,height:d.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var d,p,h=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,d=0;d<h;d+=1)(p=this.textSpans[d].glyph)&&(p.prepareFrame(this.comp.renderedFrame-this.data.st),p._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var d,h,_,w,P,p=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(h=s.length,d=0;d<h;d+=1)s[d].n||(_=p[d],w=this.textSpans[d].span,(P=this.textSpans[d].glyph)&&P.renderFrame(),_._mdf.m&&w.setAttribute("transform",_.m),_._mdf.o&&w.setAttribute("opacity",_.o),_._mdf.sw&&w.setAttribute("stroke-width",_.sw),_._mdf.sc&&w.setAttribute("stroke",_.sc),_._mdf.fc&&w.setAttribute("fill",_.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var d=createNS("rect");d.setAttribute("width",this.data.sw),d.setAttribute("height",this.data.sh),d.setAttribute("fill",this.data.sc),this.layerElement.appendChild(d)},NullElement.prototype.prepareFrame=function(d){this.prepareProperties(d,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(d){return new NullElement(d,this.globalData,this)},SVGRendererBase.prototype.createShape=function(d){return new SVGShapeElement(d,this.globalData,this)},SVGRendererBase.prototype.createText=function(d){return new SVGTextLottieElement(d,this.globalData,this)},SVGRendererBase.prototype.createImage=function(d){return new IImageElement(d,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(d){return new ISolidElement(d,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(d){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+d.w+" "+d.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",d.w),this.svgElement.setAttribute("height",d.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var h=this.globalData.defs;this.setupGlobalData(d,h),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=d;var p=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",d.w),s.setAttribute("height",d.h),s.setAttribute("x",0),s.setAttribute("y",0);var _=createElementID();p.setAttribute("id",_),p.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+_+")"),h.appendChild(p),this.layers=d.layers,this.elements=createSizedArray(d.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var d,h=this.layers?this.layers.length:0;for(d=0;d<h;d+=1)this.elements[d]&&this.elements[d].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(d){var h=this.elements;if(!h[d]&&99!==this.layers[d].ty){h[d]=!0;var p=this.createItem(this.layers[d]);h[d]=p,getExpressionsPlugin()&&(0===this.layers[d].ty&&this.globalData.projectInterface.registerComposition(p),p.initExpressions()),this.appendElementInPos(p,d),this.layers[d].tt&&(this.elements[d-1]&&!0!==this.elements[d-1]?p.setMatte(h[d-1].layerId):(this.buildItem(d-1),this.addPendingElement(p)))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var d=this.pendingElements.pop();if(d.checkParenting(),d.data.tt)for(var h=0,p=this.elements.length;h<p;){if(this.elements[h]===d){d.setMatte(this.elements[h-1].layerId);break}h+=1}}},SVGRendererBase.prototype.renderFrame=function(d){if(this.renderedFrame!==d&&!this.destroyed){null===d?d=this.renderedFrame:this.renderedFrame=d,this.globalData.frameNum=d,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=d,this.globalData._mdf=!1;var h,p=this.layers.length;for(this.completeLayers||this.checkLayers(d),h=p-1;h>=0;h-=1)(this.completeLayers||this.elements[h])&&this.elements[h].prepareFrame(d-this.layers[h].st);if(this.globalData._mdf)for(h=0;h<p;h+=1)(this.completeLayers||this.elements[h])&&this.elements[h].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(d,h){var p=d.getBaseElement();if(p){for(var _,s=0;s<h;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement()&&(_=this.elements[s].getBaseElement()),s+=1;_?this.layerElement.insertBefore(p,_):this.layerElement.appendChild(p)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(d,h,p){this.initFrame(),this.initBaseData(d,h,p),this.initTransform(d,h,p),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!h.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(d){if(this._mdf=!1,this.prepareRenderableFrame(d),this.prepareProperties(d,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=d/this.data.sr;else{var h=this.tm.v;h===this.data.op&&(h=this.data.op-1),this.renderedFrame=h}var p,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),p=s-1;p>=0;p-=1)(this.completeLayers||this.elements[p])&&(this.elements[p].prepareFrame(this.renderedFrame-this.layers[p].st),this.elements[p]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var d,h=this.layers.length;for(d=0;d<h;d+=1)(this.completeLayers||this.elements[d])&&this.elements[d].renderFrame()},ICompElement.prototype.setElements=function(d){this.elements=d},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var d,h=this.layers.length;for(d=0;d<h;d+=1)this.elements[d]&&this.elements[d].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(d){return new SVGCompElement(d,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(d){return new SVGCompElement(d,this.globalData,this)},CVContextData.prototype.duplicate=function(){var d=2*this._length,h=this.savedOp;this.savedOp=createTypedArray("float32",d),this.savedOp.set(h);var p=0;for(p=this._length;p<d;p+=1)this.saved[p]=createTypedArray("float32",16);this._length=d},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},ShapeTransformManager.prototype={addTransformSequence:function(h){var p,s=h.length,_="_";for(p=0;p<s;p+=1)_+=h[p].transform.key+"_";var w=this.sequences[_];return w||(w={transforms:[].concat(h),finalTransform:new Matrix,_mdf:!1},this.sequences[_]=w,this.sequenceList.push(w)),w},processSequence:function(h,p){for(var s=0,_=h.transforms.length,w=p;s<_&&!p;){if(h.transforms[s].transform.mProps._mdf){w=!0;break}s+=1}var P;if(w)for(h.finalTransform.reset(),s=_-1;s>=0;s-=1)h.finalTransform.transform((P=h.transforms[s].transform.mProps.v.props)[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],P[8],P[9],P[10],P[11],P[12],P[13],P[14],P[15]);h._mdf=w},processSequences:function(h){var p,s=this.sequenceList.length;for(p=0;p<s;p+=1)this.processSequence(this.sequenceList[p],h)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var p,_,w,P,d=this.element.finalTransform.mat,h=this.element.canvasContext,s=this.masksProperties.length;for(h.beginPath(),p=0;p<s;p+=1)if("n"!==this.masksProperties[p].mode){this.masksProperties[p].inv&&(h.moveTo(0,0),h.lineTo(this.element.globalData.compSize.w,0),h.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),h.lineTo(0,this.element.globalData.compSize.h),h.lineTo(0,0)),_=d.applyToPointArray((P=this.viewData[p].v).v[0][0],P.v[0][1],0),h.moveTo(_[0],_[1]);var L,U=P._length;for(L=1;L<U;L+=1)w=d.applyToTriplePoints(P.o[L-1],P.i[L],P.v[L]),h.bezierCurveTo(w[0],w[1],w[2],w[3],w[4],w[5]);w=d.applyToTriplePoints(P.o[L-1],P.i[0],P.v[0]),h.bezierCurveTo(w[0],w[1],w[2],w[3],w[4],w[5])}this.element.globalData.renderer.save(!0),h.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var h=this.globalData;if(h.blendMode!==this.data.bm){h.blendMode=this.data.bm;var p=getBlendMode(this.data.bm);h.canvasContext.globalCompositeOperation=p}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var h=0===this.data.ty;this.globalData.renderer.save(h),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(h),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(d,h){var p={data:d,type:d.ty,preTransforms:this.transformsManager.addTransformSequence(h),transforms:[],elements:[],closed:!0===d.hd},s={};if("fl"===d.ty||"st"===d.ty?(s.c=PropertyFactory.getProp(this,d.c,1,255,this),s.c.k||(p.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):("gf"===d.ty||"gs"===d.ty)&&(s.s=PropertyFactory.getProp(this,d.s,1,null,this),s.e=PropertyFactory.getProp(this,d.e,1,null,this),s.h=PropertyFactory.getProp(this,d.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,d.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,d.g,this)),s.o=PropertyFactory.getProp(this,d.o,0,.01,this),"st"===d.ty||"gs"===d.ty){if(p.lc=lineCapEnum[d.lc||2],p.lj=lineJoinEnum[d.lj||2],1==d.lj&&(p.ml=d.ml),s.w=PropertyFactory.getProp(this,d.w,0,null,this),s.w.k||(p.wi=s.w.v),d.d){var _=new DashProperty(this,d.d,"canvas",this);s.d=_,s.d.k||(p.da=s.d.dashArray,p.do=s.d.dashoffset[0])}}else p.r=2===d.r?"evenodd":"nonzero";return this.stylesList.push(p),s.style=p,s},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(d){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,d.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,d,this)}}},CVShapeElement.prototype.createShapeElement=function(d){var h=new CVShapeData(this,d,this.stylesList,this.transformsManager);return this.shapes.push(h),this.addShapeToModifiers(h),h},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var d,h=this.itemsData.length;for(d=0;d<h;d+=1)this.prevViewData[d]=this.itemsData[d];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),h=this.dynamicProperties.length,d=0;d<h;d+=1)this.dynamicProperties[d].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(d){var h,p=this.stylesList.length;for(h=0;h<p;h+=1)this.stylesList[h].closed||this.stylesList[h].transforms.push(d)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var d,h=this.stylesList.length;for(d=0;d<h;d+=1)this.stylesList[d].closed||this.stylesList[d].transforms.pop()},CVShapeElement.prototype.closeStyles=function(d){var h,p=d.length;for(h=0;h<p;h+=1)d[h].closed=!0},CVShapeElement.prototype.searchShapes=function(d,h,p,s,_){var w,L,U,Q,x,j,P=d.length-1,V=[],z=[],G=[].concat(_);for(w=P;w>=0;w-=1){if((Q=this.searchProcessedElement(d[w]))?h[w]=p[Q-1]:d[w]._shouldRender=s,"fl"===d[w].ty||"st"===d[w].ty||"gf"===d[w].ty||"gs"===d[w].ty)Q?h[w].style.closed=!1:h[w]=this.createStyleElement(d[w],G),V.push(h[w].style);else if("gr"===d[w].ty){if(Q)for(U=h[w].it.length,L=0;L<U;L+=1)h[w].prevViewData[L]=h[w].it[L];else h[w]=this.createGroupElement(d[w]);this.searchShapes(d[w].it,h[w].it,h[w].prevViewData,s,G)}else"tr"===d[w].ty?(Q||(j=this.createTransformElement(d[w]),h[w]=j),G.push(h[w]),this.addTransformToStyleList(h[w])):"sh"===d[w].ty||"rc"===d[w].ty||"el"===d[w].ty||"sr"===d[w].ty?Q||(h[w]=this.createShapeElement(d[w])):"tm"===d[w].ty||"rd"===d[w].ty||"pb"===d[w].ty?(Q?(x=h[w]).closed=!1:((x=ShapeModifiers.getModifier(d[w].ty)).init(this,d[w]),h[w]=x,this.shapeModifiers.push(x)),z.push(x)):"rp"===d[w].ty&&(Q?(x=h[w]).closed=!0:(x=ShapeModifiers.getModifier(d[w].ty),h[w]=x,x.init(this,d,w,h),this.shapeModifiers.push(x),s=!1),z.push(x));this.addProcessedElement(d[w],w+1)}for(this.removeTransformFromStyleList(),this.closeStyles(V),P=z.length,w=0;w<P;w+=1)z[w].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(d,h){(d._opMdf||h.op._mdf||this._isFirstFrame)&&(h.opacity=d.opacity,h.opacity*=h.op.v,h._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var d,p,s,_,w,P,L,z,Q,h=this.stylesList.length,U=this.globalData.renderer,V=this.globalData.canvasContext;for(d=0;d<h;d+=1)if(("st"!==(z=(Q=this.stylesList[d]).type)&&"gs"!==z||0!==Q.wi)&&Q.data._shouldRender&&0!==Q.coOp&&0!==this.globalData.currentGlobalAlpha){for(U.save(),P=Q.elements,"st"===z||"gs"===z?(V.strokeStyle="st"===z?Q.co:Q.grd,V.lineWidth=Q.wi,V.lineCap=Q.lc,V.lineJoin=Q.lj,V.miterLimit=Q.ml||0):V.fillStyle="fl"===z?Q.co:Q.grd,U.ctxOpacity(Q.coOp),"st"!==z&&"gs"!==z&&V.beginPath(),U.ctxTransform(Q.preTransforms.finalTransform.props),s=P.length,p=0;p<s;p+=1){for(("st"===z||"gs"===z)&&(V.beginPath(),Q.da&&(V.setLineDash(Q.da),V.lineDashOffset=Q.do)),w=(L=P[p].trNodes).length,_=0;_<w;_+=1)"m"===L[_].t?V.moveTo(L[_].p[0],L[_].p[1]):"c"===L[_].t?V.bezierCurveTo(L[_].pts[0],L[_].pts[1],L[_].pts[2],L[_].pts[3],L[_].pts[4],L[_].pts[5]):V.closePath();("st"===z||"gs"===z)&&(V.stroke(),Q.da&&V.setLineDash(this.dashResetter))}"st"!==z&&"gs"!==z&&V.fill(Q.r),U.restore()}},CVShapeElement.prototype.renderShape=function(d,h,p,s){var _,P;for(P=d,_=h.length-1;_>=0;_-=1)"tr"===h[_].ty?this.renderShapeTransform(d,P=p[_].transform):"sh"===h[_].ty||"el"===h[_].ty||"rc"===h[_].ty||"sr"===h[_].ty?this.renderPath(h[_],p[_]):"fl"===h[_].ty?this.renderFill(h[_],p[_],P):"st"===h[_].ty?this.renderStroke(h[_],p[_],P):"gf"===h[_].ty||"gs"===h[_].ty?this.renderGradientFill(h[_],p[_],P):"gr"===h[_].ty&&this.renderShape(P,h[_].it,p[_].it);s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(d,h){if(this._isFirstFrame||h._mdf||d.transforms._mdf){var _,w,P,p=d.trNodes,s=h.paths,L=s._length;p.length=0;var U=d.transforms.finalTransform;for(P=0;P<L;P+=1){var V=s.shapes[P];if(V&&V.v){for(w=V._length,_=1;_<w;_+=1)1===_&&p.push({t:"m",p:U.applyToPointArray(V.v[0][0],V.v[0][1],0)}),p.push({t:"c",pts:U.applyToTriplePoints(V.o[_-1],V.i[_],V.v[_])});1===w&&p.push({t:"m",p:U.applyToPointArray(V.v[0][0],V.v[0][1],0)}),V.c&&w&&(p.push({t:"c",pts:U.applyToTriplePoints(V.o[_-1],V.i[0],V.v[0])}),p.push({t:"z"}))}}d.trNodes=p}},CVShapeElement.prototype.renderPath=function(d,h){if(!0!==d.hd&&d._shouldRender){var p,s=h.styledShapes.length;for(p=0;p<s;p+=1)this.renderStyledShape(h.styledShapes[p],h.sh)}},CVShapeElement.prototype.renderFill=function(d,h,p){var s=h.style;(h.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(h.c.v[0])+","+bmFloor(h.c.v[1])+","+bmFloor(h.c.v[2])+")"),(h.o._mdf||p._opMdf||this._isFirstFrame)&&(s.coOp=h.o.v*p.opacity)},CVShapeElement.prototype.renderGradientFill=function(d,h,p){var _,s=h.style;if(!s.grd||h.g._mdf||h.s._mdf||h.e._mdf||1!==d.t&&(h.h._mdf||h.a._mdf)){var w=this.globalData.canvasContext,P=h.s.v,L=h.e.v;if(1===d.t)_=w.createLinearGradient(P[0],P[1],L[0],L[1]);else{var U=Math.sqrt(Math.pow(P[0]-L[0],2)+Math.pow(P[1]-L[1],2)),V=Math.atan2(L[1]-P[1],L[0]-P[0]),z=h.h.v;z>=1?z=.99:z<=-1&&(z=-.99);var Q=U*z,x=Math.cos(V+h.a.v)*Q+P[0],j=Math.sin(V+h.a.v)*Q+P[1];_=w.createRadialGradient(x,j,0,P[0],P[1],U)}var G,k=d.g.p,Y=h.g.c,A=1;for(G=0;G<k;G+=1)h.g._hasOpacity&&h.g._collapsable&&(A=h.g.o[2*G+1]),_.addColorStop(Y[4*G]/100,"rgba("+Y[4*G+1]+","+Y[4*G+2]+","+Y[4*G+3]+","+A+")");s.grd=_}s.coOp=h.o.v*p.opacity},CVShapeElement.prototype.renderStroke=function(d,h,p){var s=h.style,_=h.d;_&&(_._mdf||this._isFirstFrame)&&(s.da=_.dashArray,s.do=_.dashoffset[0]),(h.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(h.c.v[0])+","+bmFloor(h.c.v[1])+","+bmFloor(h.c.v[2])+")"),(h.o._mdf||p._opMdf||this._isFirstFrame)&&(s.coOp=h.o.v*p.opacity),(h.w._mdf||this._isFirstFrame)&&(s.wi=h.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var d=this.textProperty.currentData;this.renderedLetters=createSizedArray(d.l?d.l.length:0);var h=!1;d.fc?(h=!0,this.values.fill=this.buildColor(d.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=h;var p=!1;d.sc&&(p=!0,this.values.stroke=this.buildColor(d.sc),this.values.sWidth=d.sw);var _,w,s=this.globalData.fontManager.getFontByName(d.f),P=d.l,L=this.mHelper;this.stroke=p,this.values.fValue=d.finalSize+"px "+this.globalData.fontManager.getFontByName(d.f).fFamily,w=d.finalText.length;var U,V,z,Q,x,j,G,k,Y,A,N=this.data.singleShape,I=.001*d.tr*d.finalSize,T=0,W=0,J=!0,ne=0;for(_=0;_<w;_+=1){V=(U=this.globalData.fontManager.getCharData(d.finalText[_],s.fStyle,this.globalData.fontManager.getFontByName(d.f).fFamily))&&U.data||{},L.reset(),N&&P[_].n&&(T=-I,W+=d.yOffset,W+=J?1:0,J=!1),G=(x=V.shapes?V.shapes[0].it:[]).length,L.scale(d.finalSize/100,d.finalSize/100),N&&this.applyTextPropertiesToMatrix(d,L,P[_].line,T,W),Y=createSizedArray(G-1);var re=0;for(j=0;j<G;j+=1)if("sh"===x[j].ty){for(Q=x[j].ks.k.i.length,k=x[j].ks.k,A=[],z=1;z<Q;z+=1)1===z&&A.push(L.applyToX(k.v[0][0],k.v[0][1],0),L.applyToY(k.v[0][0],k.v[0][1],0)),A.push(L.applyToX(k.o[z-1][0],k.o[z-1][1],0),L.applyToY(k.o[z-1][0],k.o[z-1][1],0),L.applyToX(k.i[z][0],k.i[z][1],0),L.applyToY(k.i[z][0],k.i[z][1],0),L.applyToX(k.v[z][0],k.v[z][1],0),L.applyToY(k.v[z][0],k.v[z][1],0));A.push(L.applyToX(k.o[z-1][0],k.o[z-1][1],0),L.applyToY(k.o[z-1][0],k.o[z-1][1],0),L.applyToX(k.i[0][0],k.i[0][1],0),L.applyToY(k.i[0][0],k.i[0][1],0),L.applyToX(k.v[0][0],k.v[0][1],0),L.applyToY(k.v[0][0],k.v[0][1],0)),Y[re]=A,re+=1}N&&(T+=P[_].l,T+=I),this.textSpans[ne]?this.textSpans[ne].elem=Y:this.textSpans[ne]={elem:Y},ne+=1}},CVTextElement.prototype.renderInnerContent=function(){var d=this.canvasContext;d.font=this.values.fValue,d.lineCap="butt",d.lineJoin="miter",d.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var h,p,s,_,w,P,L=this.textAnimator.renderedLetters,U=this.textProperty.currentData.l;p=U.length;var V,j,G,z=null,Q=null,x=null;for(h=0;h<p;h+=1)if(!U[h].n){if((V=L[h])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(V.p),this.globalData.renderer.ctxOpacity(V.o)),this.fill){for(V&&V.fc?z!==V.fc&&(z=V.fc,d.fillStyle=V.fc):z!==this.values.fill&&(z=this.values.fill,d.fillStyle=this.values.fill),_=(j=this.textSpans[h].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<_;s+=1)for(P=(G=j[s]).length,this.globalData.canvasContext.moveTo(G[0],G[1]),w=2;w<P;w+=6)this.globalData.canvasContext.bezierCurveTo(G[w],G[w+1],G[w+2],G[w+3],G[w+4],G[w+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(V&&V.sw?x!==V.sw&&(x=V.sw,d.lineWidth=V.sw):x!==this.values.sWidth&&(x=this.values.sWidth,d.lineWidth=this.values.sWidth),V&&V.sc?Q!==V.sc&&(Q=V.sc,d.strokeStyle=V.sc):Q!==this.values.stroke&&(Q=this.values.stroke,d.strokeStyle=this.values.stroke),_=(j=this.textSpans[h].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<_;s+=1)for(P=(G=j[s]).length,this.globalData.canvasContext.moveTo(G[0],G[1]),w=2;w<P;w+=6)this.globalData.canvasContext.bezierCurveTo(G[w],G[w+1],G[w+2],G[w+3],G[w+4],G[w+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}V&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var d=createTag("canvas");d.width=this.assetData.w,d.height=this.assetData.h;var P,L,h=d.getContext("2d"),p=this.img.width,s=this.img.height,_=p/s,w=this.assetData.w/this.assetData.h,U=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;_>w&&"xMidYMid slice"===U||_<w&&"xMidYMid slice"!==U?P=(L=s)*w:L=(P=p)/w,h.drawImage(this.img,(p-P)/2,(s-L)/2,P,L,0,0,this.assetData.w,this.assetData.h),this.img=d}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var d=this.canvasContext;d.fillStyle=this.data.sc,d.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(d){return new CVShapeElement(d,this.globalData,this)},CanvasRendererBase.prototype.createText=function(d){return new CVTextElement(d,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(d){return new CVImageElement(d,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(d){return new CVSolidElement(d,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(d){if(1!==d[0]||0!==d[1]||0!==d[4]||1!==d[5]||0!==d[12]||0!==d[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(d[0],d[1],d[4],d[5],d[12],d[13]);this.transformMat.cloneFromProps(d);var h=this.contextData.cTr.props;this.transformMat.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var p=this.contextData.cTr.props;this.canvasContext.setTransform(p[0],p[1],p[4],p[5],p[12],p[13])}},CanvasRendererBase.prototype.ctxOpacity=function(d){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=d<0?0:d,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=d<0?0:d,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(d){if(this.renderConfig.clearCanvas){d&&this.canvasContext.save();var h=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var p,s=this.contextData.saved[this.contextData.cArrPos];for(p=0;p<16;p+=1)s[p]=h[p];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(d){if(this.renderConfig.clearCanvas){d&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var p,h=this.contextData.saved[this.contextData.cArrPos],s=this.contextData.cTr.props;for(p=0;p<16;p+=1)s[p]=h[p];this.canvasContext.setTransform(h[0],h[1],h[4],h[5],h[12],h[13]),this.contextData.cO=h=this.contextData.savedOp[this.contextData.cArrPos],this.globalData.currentGlobalAlpha!==h&&(this.canvasContext.globalAlpha=h,this.globalData.currentGlobalAlpha=h)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(d){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var h=this.animationItem.container.style;h.width="100%",h.height="100%";var p="0px 0px 0px";h.transformOrigin=p,h.mozTransformOrigin=p,h.webkitTransformOrigin=p,h["-webkit-transform"]=p,h.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=d,this.layers=d.layers,this.transformCanvas={w:d.w,h:d.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(d,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(d.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){var d,h,p,s;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(h=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",(d=this.animationItem.wrapper.offsetWidth)*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",h*this.renderConfig.dpr)):(d=this.canvasContext.canvas.width*this.renderConfig.dpr,h=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var _=this.renderConfig.preserveAspectRatio.split(" "),w=_[1]||"meet",P=_[0]||"xMidYMid",L=P.substr(0,4),U=P.substr(4);(s=this.transformCanvas.w/this.transformCanvas.h)>(p=d/h)&&"meet"===w||s<p&&"slice"===w?(this.transformCanvas.sx=d/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=d/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=h/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=h/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===L&&(s<p&&"meet"===w||s>p&&"slice"===w)?(d-this.transformCanvas.w*(h/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===L&&(s<p&&"meet"===w||s>p&&"slice"===w)?(d-this.transformCanvas.w*(h/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===U&&(s>p&&"meet"===w||s<p&&"slice"===w)?(h-this.transformCanvas.h*(d/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===U&&(s>p&&"meet"===w||s<p&&"slice"===w)?(h-this.transformCanvas.h*(d/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=d/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=h/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var d;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),d=(this.layers?this.layers.length:0)-1;d>=0;d-=1)this.elements[d]&&this.elements[d].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(d,h){if((this.renderedFrame!==d||!0!==this.renderConfig.clearCanvas||h)&&!this.destroyed&&-1!==d){this.renderedFrame=d,this.globalData.frameNum=d-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||h,this.globalData.projectInterface.currentFrame=d;var p,s=this.layers.length;for(this.completeLayers||this.checkLayers(d),p=0;p<s;p+=1)(this.completeLayers||this.elements[p])&&this.elements[p].prepareFrame(d-this.layers[p].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),p=s-1;p>=0;p-=1)(this.completeLayers||this.elements[p])&&this.elements[p].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(d){var h=this.elements;if(!h[d]&&99!==this.layers[d].ty){var p=this.createItem(this.layers[d],this,this.globalData);h[d]=p,p.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var h,d=this.canvasContext;for(d.beginPath(),d.moveTo(0,0),d.lineTo(this.data.w,0),d.lineTo(this.data.w,this.data.h),d.lineTo(0,this.data.h),d.lineTo(0,0),d.clip(),h=this.layers.length-1;h>=0;h-=1)(this.completeLayers||this.elements[h])&&this.elements[h].renderFrame()},CVCompElement.prototype.destroy=function(){var d;for(d=this.layers.length-1;d>=0;d-=1)this.elements[d]&&this.elements[d].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(d){return new CVCompElement(d,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(d){return new CVCompElement(d,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var h=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var p=this.finalTransform.mat.toCSS();h.transform=p,h.webkitTransform=p}this.finalTransform._opMdf&&(h.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var d;this.data.hasMask?((d=createNS("rect")).setAttribute("width",this.data.sw),d.setAttribute("height",this.data.sh),d.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((d=createTag("div")).style.width=this.data.sw+"px",d.style.height=this.data.sh+"px",d.style.backgroundColor=this.data.sc),this.layerElement.appendChild(d)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var d;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),d=this.svgElement;else{d=createNS("svg");var h=this.comp.data?this.comp.data:this.globalData.compSize;d.setAttribute("width",h.w),d.setAttribute("height",h.h),d.appendChild(this.shapesContainer),this.layerElement.appendChild(d)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=d},HShapeElement.prototype.getTransformedPoint=function(d,h){var p,s=d.length;for(p=0;p<s;p+=1)h=d[p].mProps.v.applyToPointArray(h[0],h[1],0);return h},HShapeElement.prototype.calculateShapeBoundingBox=function(d,h){var _,P,L,U,V,p=d.sh.v,s=d.transformers,w=p._length;if(!(w<=1)){for(_=0;_<w-1;_+=1)P=this.getTransformedPoint(s,p.v[_]),L=this.getTransformedPoint(s,p.o[_]),U=this.getTransformedPoint(s,p.i[_+1]),V=this.getTransformedPoint(s,p.v[_+1]),this.checkBounds(P,L,U,V,h);p.c&&(P=this.getTransformedPoint(s,p.v[_]),L=this.getTransformedPoint(s,p.o[_]),U=this.getTransformedPoint(s,p.i[0]),V=this.getTransformedPoint(s,p.v[0]),this.checkBounds(P,L,U,V,h))}},HShapeElement.prototype.checkBounds=function(d,h,p,s,_){this.getBoundsOfCurve(d,h,p,s);var w=this.shapeBoundingBox;_.x=bmMin(w.left,_.x),_.xMax=bmMax(w.right,_.xMax),_.y=bmMin(w.top,_.y),_.yMax=bmMax(w.bottom,_.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(d,h,p,s){for(var w,P,L,U,V,z,Q,_=[[d[0],s[0]],[d[1],s[1]]],x=0;x<2;++x)P=6*d[x]-12*h[x]+6*p[x],w=-3*d[x]+9*h[x]-9*p[x]+3*s[x],L=3*h[x]-3*d[x],P|=0,L|=0,0==(w|=0)&&0===P||(0===w?(U=-L/P)>0&&U<1&&_[x].push(this.calculateF(U,d,h,p,s,x)):(V=P*P-4*L*w)>=0&&((z=(-P+bmSqrt(V))/(2*w))>0&&z<1&&_[x].push(this.calculateF(z,d,h,p,s,x)),(Q=(-P-bmSqrt(V))/(2*w))>0&&Q<1&&_[x].push(this.calculateF(Q,d,h,p,s,x))));this.shapeBoundingBox.left=bmMin.apply(null,_[0]),this.shapeBoundingBox.top=bmMin.apply(null,_[1]),this.shapeBoundingBox.right=bmMax.apply(null,_[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,_[1])},HShapeElement.prototype.calculateF=function(d,h,p,s,_,w){return bmPow(1-d,3)*h[w]+3*bmPow(1-d,2)*d*p[w]+3*(1-d)*bmPow(d,2)*s[w]+bmPow(d,3)*_[w]},HShapeElement.prototype.calculateBoundingBox=function(d,h){var p,s=d.length;for(p=0;p<s;p+=1)d[p]&&d[p].sh?this.calculateShapeBoundingBox(d[p],h):d[p]&&d[p].it?this.calculateBoundingBox(d[p].it,h):d[p]&&d[p].style&&d[p].w&&this.expandStrokeBoundingBox(d[p].w,h)},HShapeElement.prototype.expandStrokeBoundingBox=function(d,h){var p=0;if(d.keyframes){for(var s=0;s<d.keyframes.length;s+=1){var _=d.keyframes[s].s;_>p&&(p=_)}p*=d.mult}else p=d.v*d.mult;h.x-=p,h.xMax+=p,h.y-=p,h.yMax+=p},HShapeElement.prototype.currentBoxContains=function(d){return this.currentBBox.x<=d.x&&this.currentBBox.y<=d.y&&this.currentBBox.width+this.currentBBox.x>=d.x+d.width&&this.currentBBox.height+this.currentBBox.y>=d.y+d.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var d=this.tempBoundingBox,h=999999;if(d.x=h,d.xMax=-h,d.y=h,d.yMax=-h,this.calculateBoundingBox(this.itemsData,d),d.width=d.xMax<d.x?0:d.xMax-d.x,d.height=d.yMax<d.y?0:d.yMax-d.y,this.currentBoxContains(d))return;var p=!1;if(this.currentBBox.w!==d.width&&(this.currentBBox.w=d.width,this.shapeCont.setAttribute("width",d.width),p=!0),this.currentBBox.h!==d.height&&(this.currentBBox.h=d.height,this.shapeCont.setAttribute("height",d.height),p=!0),p||this.currentBBox.x!==d.x||this.currentBBox.y!==d.y){this.currentBBox.w=d.width,this.currentBBox.h=d.height,this.currentBBox.x=d.x,this.currentBBox.y=d.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,_="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=_,s.webkitTransform=_}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var d=createNS("g");this.maskedElement.appendChild(d),this.innerElem=d}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var d=this.textProperty.currentData;this.renderedLetters=createSizedArray(d.l?d.l.length:0);var h=this.innerElem.style,p=d.fc?this.buildColor(d.fc):"rgba(0,0,0,0)";h.fill=p,h.color=p,d.sc&&(h.stroke=this.buildColor(d.sc),h.strokeWidth=d.sw+"px");var s=this.globalData.fontManager.getFontByName(d.f);if(!this.globalData.fontManager.chars)if(h.fontSize=d.finalSize+"px",h.lineHeight=d.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{h.fontFamily=s.fFamily;var _=d.fWeight;h.fontStyle=d.fStyle,h.fontWeight=_}var P,L,U=d.l;L=U.length;var V,z,Q,j,x=this.mHelper,G="",k=0;for(P=0;P<L;P+=1){if(this.globalData.fontManager.chars?(this.textPaths[k]?V=this.textPaths[k]:((V=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),V.setAttribute("stroke-linejoin",lineJoinEnum[2]),V.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[k]?Q=(z=this.textSpans[k]).children[0]:((z=createTag("div")).style.lineHeight=0,(Q=createNS("svg")).appendChild(V),styleDiv(z)))):this.isMasked?V=this.textPaths[k]?this.textPaths[k]:createNS("text"):this.textSpans[k]?(z=this.textSpans[k],V=this.textPaths[k]):(styleDiv(z=createTag("span")),styleDiv(V=createTag("span")),z.appendChild(V)),this.globalData.fontManager.chars){var A,Y=this.globalData.fontManager.getCharData(d.finalText[P],s.fStyle,this.globalData.fontManager.getFontByName(d.f).fFamily);if(A=Y?Y.data:null,x.reset(),A&&A.shapes&&A.shapes.length&&(j=A.shapes[0].it,x.scale(d.finalSize/100,d.finalSize/100),G=this.createPathShape(x,j),V.setAttribute("d",G)),this.isMasked)this.innerElem.appendChild(V);else{if(this.innerElem.appendChild(z),A&&A.shapes){document.body.appendChild(Q);var N=Q.getBBox();Q.setAttribute("width",N.width+2),Q.setAttribute("height",N.height+2),Q.setAttribute("viewBox",N.x-1+" "+(N.y-1)+" "+(N.width+2)+" "+(N.height+2));var I=Q.style,T="translate("+(N.x-1)+"px,"+(N.y-1)+"px)";I.transform=T,I.webkitTransform=T,U[P].yOffset=N.y-1}else Q.setAttribute("width",1),Q.setAttribute("height",1);z.appendChild(Q)}}else if(V.textContent=U[P].val,V.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(V);else{this.innerElem.appendChild(z);var W=V.style,J="translate3d(0,"+-d.finalSize/1.2+"px,0)";W.transform=J,W.webkitTransform=J}this.textSpans[k]=this.isMasked?V:z,this.textSpans[k].style.display="block",this.textPaths[k]=V,k+=1}for(;k<this.textSpans.length;)this.textSpans[k].style.display="none",k+=1},HTextElement.prototype.renderInnerContent=function(){var d;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var h="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";(d=this.svgElement.style).transform=h,d.webkitTransform=h}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var p,s,L,U,V,_=0,w=this.textAnimator.renderedLetters,P=this.textProperty.currentData.l;for(s=P.length,p=0;p<s;p+=1)P[p].n?_+=1:(U=this.textSpans[p],V=this.textPaths[p],L=w[_],_+=1,L._mdf.m&&(this.isMasked?U.setAttribute("transform",L.m):(U.style.webkitTransform=L.m,U.style.transform=L.m)),U.style.opacity=L.o,L.sw&&L._mdf.sw&&V.setAttribute("stroke-width",L.sw),L.sc&&L._mdf.sc&&V.setAttribute("stroke",L.sc),L.fc&&L._mdf.fc&&(V.setAttribute("fill",L.fc),V.style.color=L.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var z=this.innerElem.getBBox();if(this.currentBBox.w!==z.width&&(this.currentBBox.w=z.width,this.svgElement.setAttribute("width",z.width)),this.currentBBox.h!==z.height&&(this.currentBBox.h=z.height,this.svgElement.setAttribute("height",z.height)),this.currentBBox.w!==z.width+2||this.currentBBox.h!==z.height+2||this.currentBBox.x!==z.x-1||this.currentBBox.y!==z.y-1){this.currentBBox.w=z.width+2,this.currentBBox.h=z.height+2,this.currentBBox.x=z.x-1,this.currentBBox.y=z.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var x="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";(d=this.svgElement.style).transform=x,d.webkitTransform=x}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var d,p,s,_,h=this.comp.threeDElements.length;for(d=0;d<h;d+=1)if("3d"===(p=this.comp.threeDElements[d]).type){_=p.container.style;var w=this.pe.v+"px",P="0px 0px 0px",L="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(s=p.perspectiveElem.style).perspective=w,s.webkitPerspective=w,_.transformOrigin=P,_.mozTransformOrigin=P,_.webkitTransformOrigin=P,s.transform=L,s.webkitTransform=L}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var h,p,d=this._isFirstFrame;if(this.hierarchy)for(p=this.hierarchy.length,h=0;h<p;h+=1)d=this.hierarchy[h].finalTransform.mProp._mdf||d;if(d||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(h=p=this.hierarchy.length-1;h>=0;h-=1){var s=this.hierarchy[h].finalTransform.mProp;this.mat.translate(-s.p.v[0],-s.p.v[1],s.p.v[2]),this.mat.rotateX(-s.or.v[0]).rotateY(-s.or.v[1]).rotateZ(s.or.v[2]),this.mat.rotateX(-s.rx.v).rotateY(-s.ry.v).rotateZ(s.rz.v),this.mat.scale(1/s.s.v[0],1/s.s.v[1],1/s.s.v[2]),this.mat.translate(s.a.v[0],s.a.v[1],s.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var _;_=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var w=Math.sqrt(Math.pow(_[0],2)+Math.pow(_[1],2)+Math.pow(_[2],2)),P=[_[0]/w,_[1]/w,_[2]/w],L=Math.sqrt(P[2]*P[2]+P[0]*P[0]),U=Math.atan2(P[1],L),V=Math.atan2(P[0],-P[2]);this.mat.rotateY(V).rotateX(-U)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var z=!this._prevMat.equals(this.mat);if((z||this.pe._mdf)&&this.comp.threeDElements){var Q,x,j;for(p=this.comp.threeDElements.length,h=0;h<p;h+=1)if("3d"===(Q=this.comp.threeDElements[h]).type){if(z){var G=this.mat.toCSS();(j=Q.container.style).transform=G,j.webkitTransform=G}this.pe._mdf&&((x=Q.perspectiveElem.style).perspective=this.pe.v+"px",x.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(d){this.prepareProperties(d,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var d=this.globalData.getAssetsPath(this.assetData),h=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",d),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(h),h.crossOrigin="anonymous",h.src=d,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(d,h){var p=d.getBaseElement();if(p){var s=this.layers[h];if(s.ddd&&this.supports3d)this.addTo3dContainer(p,h);else if(this.threeDElements)this.addTo3dContainer(p,h);else{for(var w,P,_=0;_<h;)this.elements[_]&&!0!==this.elements[_]&&this.elements[_].getBaseElement&&(P=this.elements[_],w=(this.layers[_].ddd?this.getThreeDContainerByPos(_):P.getBaseElement())||w),_+=1;w?(!s.ddd||!this.supports3d)&&this.layerElement.insertBefore(p,w):(!s.ddd||!this.supports3d)&&this.layerElement.appendChild(p)}}},HybridRendererBase.prototype.createShape=function(d){return this.supports3d?new HShapeElement(d,this.globalData,this):new SVGShapeElement(d,this.globalData,this)},HybridRendererBase.prototype.createText=function(d){return this.supports3d?new HTextElement(d,this.globalData,this):new SVGTextLottieElement(d,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(d){return this.camera=new HCameraElement(d,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(d){return this.supports3d?new HImageElement(d,this.globalData,this):new IImageElement(d,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(d){return this.supports3d?new HSolidElement(d,this.globalData,this):new ISolidElement(d,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(d){for(var h=0,p=this.threeDElements.length;h<p;){if(this.threeDElements[h].startPos<=d&&this.threeDElements[h].endPos>=d)return this.threeDElements[h].perspectiveElem;h+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(d,h){var s,_,p=createTag("div");styleDiv(p);var w=createTag("div");if(styleDiv(w),"3d"===h){(s=p.style).width=this.globalData.compSize.w+"px",s.height=this.globalData.compSize.h+"px";var P="50% 50%";s.webkitTransformOrigin=P,s.mozTransformOrigin=P,s.transformOrigin=P;var L="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(_=w.style).transform=L,_.webkitTransform=L}p.appendChild(w);var U={container:w,perspectiveElem:p,startPos:d,endPos:d,type:h};return this.threeDElements.push(U),U},HybridRendererBase.prototype.build3dContainers=function(){var d,p,h=this.layers.length,s="";for(d=0;d<h;d+=1)this.layers[d].ddd&&3!==this.layers[d].ty?("3d"!==s&&(s="3d",p=this.createThreeDContainer(d,"3d")),p.endPos=Math.max(p.endPos,d)):("2d"!==s&&(s="2d",p=this.createThreeDContainer(d,"2d")),p.endPos=Math.max(p.endPos,d));for(d=(h=this.threeDElements.length)-1;d>=0;d-=1)this.resizerElem.appendChild(this.threeDElements[d].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(d,h){for(var p=0,s=this.threeDElements.length;p<s;){if(h<=this.threeDElements[p].endPos){for(var w,_=this.threeDElements[p].startPos;_<h;)this.elements[_]&&this.elements[_].getBaseElement&&(w=this.elements[_].getBaseElement()),_+=1;w?this.threeDElements[p].container.insertBefore(d,w):this.threeDElements[p].container.appendChild(d);break}p+=1}},HybridRendererBase.prototype.configAnimation=function(d){var h=createTag("div"),p=this.animationItem.wrapper,s=h.style;s.width=d.w+"px",s.height=d.h+"px",this.resizerElem=h,styleDiv(h),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&h.setAttribute("class",this.renderConfig.className),p.appendChild(h),s.overflow="hidden";var _=createNS("svg");_.setAttribute("width","1"),_.setAttribute("height","1"),styleDiv(_),this.resizerElem.appendChild(_);var w=createNS("defs");_.appendChild(w),this.data=d,this.setupGlobalData(d,_),this.globalData.defs=w,this.layers=d.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var d,h=this.layers?this.layers.length:0;for(d=0;d<h;d+=1)this.elements[d].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var _,w,P,L,d=this.animationItem.wrapper.offsetWidth,h=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>d/h?(_=d/this.globalData.compSize.w,w=d/this.globalData.compSize.w,P=0,L=(h-this.globalData.compSize.h*(d/this.globalData.compSize.w))/2):(_=h/this.globalData.compSize.h,w=h/this.globalData.compSize.h,P=(d-this.globalData.compSize.w*(h/this.globalData.compSize.h))/2,L=0);var U=this.resizerElem.style;U.webkitTransform="matrix3d("+_+",0,0,0,0,"+w+",0,0,0,0,1,0,"+P+","+L+",0,1)",U.transform=U.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var p,d=this.globalData.compSize.w,h=this.globalData.compSize.h,s=this.threeDElements.length;for(p=0;p<s;p+=1){var _=this.threeDElements[p].perspectiveElem.style;_.webkitPerspective=Math.sqrt(Math.pow(d,2)+Math.pow(h,2))+"px",_.perspective=_.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(d){var h,p=d.length,s=createTag("div");for(h=0;h<p;h+=1)if(d[h].xt){var _=this.createComp(d[h],s,this.globalData.comp,null);_.initExpressions(),this.globalData.projectInterface.registerComposition(_)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(d,h){for(var s,p=0;p<h;)this.elements[p]&&this.elements[p].getBaseElement&&(s=this.elements[p].getBaseElement()),p+=1;s?this.layerElement.insertBefore(d,s):this.layerElement.appendChild(d)},HCompElement.prototype.createComp=function(d){return this.supports3d?new HCompElement(d,this.globalData,this):new SVGCompElement(d,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(d){return this.supports3d?new HCompElement(d,this.globalData,this):new SVGCompElement(d,this.globalData,this)};var Expressions=function(){var d={initExpressions:function h(p){var s=0,_=[];p.renderer.compInterface=CompExpressionInterface(p.renderer),p.renderer.globalData.projectInterface.registerComposition(p.renderer),p.renderer.globalData.pushExpression=function w(){s+=1},p.renderer.globalData.popExpression=function P(){0==(s-=1)&&function U(){var V,z=_.length;for(V=0;V<z;V+=1)_[V].release();_.length=0}()},p.renderer.globalData.registerExpressionProperty=function L(V){-1===_.indexOf(V)&&_.push(V)}}};return d}();function _typeof$1(d){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function seedRandom(d,h){var p=this,s=256,P="random",L=h.pow(s,6),U=h.pow(2,52),V=2*U,z=255;function j(I){var T,W=I.length,J=this,ne=0,re=J.i=J.j=0,me=J.S=[];for(W||(I=[W++]);ne<s;)me[ne]=ne++;for(ne=0;ne<s;ne++)me[ne]=me[re=z&re+I[ne%W]+(T=me[ne])],me[re]=T;J.g=function(Pe){for(var _e,ve=0,Ie=J.i,Ee=J.j,de=J.S;Pe--;)_e=de[Ie=z&Ie+1],ve=ve*s+de[z&(de[Ie]=de[Ee=z&Ee+_e])+(de[Ee]=_e)];return J.i=Ie,J.j=Ee,ve}}function G(I,T){return T.i=I.i,T.j=I.j,T.S=I.S.slice(),T}function k(I,T){var ne,W=[],J=_typeof$1(I);if(T&&"object"==J)for(ne in I)try{W.push(k(I[ne],T-1))}catch{}return W.length?W:"string"==J?I:I+"\0"}function Y(I,T){for(var J,W=I+"",ne=0;ne<W.length;)T[z&ne]=z&(J^=19*T[z&ne])+W.charCodeAt(ne++);return N(T)}function N(I){return String.fromCharCode.apply(0,I)}h["seed"+P]=function x(I,T,W){var J=[],ne=Y(k((T=!0===T?{entropy:!0}:T||{}).entropy?[I,N(d)]:null===I?function A(){try{var I=new Uint8Array(s);return(p.crypto||p.msCrypto).getRandomValues(I),N(I)}catch{var T=p.navigator,W=T&&T.plugins;return[+new Date,p,W,p.screen,N(d)]}}():I,3),J),re=new j(J),me=function(){for(var _e=re.g(6),ve=L,Ie=0;_e<U;)_e=(_e+Ie)*s,ve*=s,Ie=re.g(1);for(;_e>=V;)_e/=2,ve/=2,Ie>>>=1;return(_e+Ie)/ve};return me.int32=function(){return 0|re.g(4)},me.quick=function(){return re.g(4)/4294967296},me.double=me,Y(N(re.S),d),(T.pass||W||function(Pe,_e,ve,Ie){return Ie&&(Ie.S&&G(Ie,re),Pe.state=function(){return G(re,{})}),ve?(h[P]=Pe,_e):Pe})(me,ne,"global"in T?T.global:this==h,T.state)},Y(h.random(),d)}function initialize$2(d){seedRandom([],d)}var propTypes={SHAPE:"shape"};function _typeof(d){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(d){return d.constructor===Array||d.constructor===Float32Array}function isNumerable(d,h){return"number"===d||"boolean"===d||"string"===d||h instanceof Number}function $bm_neg(d){var h=_typeof(d);if("number"===h||"boolean"===h||d instanceof Number)return-d;if($bm_isInstanceOfArray(d)){var p,s=d.length,_=[];for(p=0;p<s;p+=1)_[p]=-d[p];return _}return d.propType?d.v:-d}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(d,h){var p=_typeof(d),s=_typeof(h);if("string"===p||"string"===s||isNumerable(p,d)&&isNumerable(s,h))return d+h;if($bm_isInstanceOfArray(d)&&isNumerable(s,h))return(d=d.slice(0))[0]+=h,d;if(isNumerable(p,d)&&$bm_isInstanceOfArray(h))return(h=h.slice(0))[0]=d+h[0],h;if($bm_isInstanceOfArray(d)&&$bm_isInstanceOfArray(h)){for(var _=0,w=d.length,P=h.length,L=[];_<w||_<P;)L[_]=("number"==typeof d[_]||d[_]instanceof Number)&&("number"==typeof h[_]||h[_]instanceof Number)?d[_]+h[_]:void 0===h[_]?d[_]:d[_]||h[_],_+=1;return L}return 0}var add=sum;function sub(d,h){var p=_typeof(d),s=_typeof(h);if(isNumerable(p,d)&&isNumerable(s,h))return"string"===p&&(d=parseInt(d,10)),"string"===s&&(h=parseInt(h,10)),d-h;if($bm_isInstanceOfArray(d)&&isNumerable(s,h))return(d=d.slice(0))[0]-=h,d;if(isNumerable(p,d)&&$bm_isInstanceOfArray(h))return(h=h.slice(0))[0]=d-h[0],h;if($bm_isInstanceOfArray(d)&&$bm_isInstanceOfArray(h)){for(var _=0,w=d.length,P=h.length,L=[];_<w||_<P;)L[_]=("number"==typeof d[_]||d[_]instanceof Number)&&("number"==typeof h[_]||h[_]instanceof Number)?d[_]-h[_]:void 0===h[_]?d[_]:d[_]||h[_],_+=1;return L}return 0}function mul(d,h){var _,w,P,p=_typeof(d),s=_typeof(h);if(isNumerable(p,d)&&isNumerable(s,h))return d*h;if($bm_isInstanceOfArray(d)&&isNumerable(s,h)){for(_=createTypedArray("float32",P=d.length),w=0;w<P;w+=1)_[w]=d[w]*h;return _}if(isNumerable(p,d)&&$bm_isInstanceOfArray(h)){for(_=createTypedArray("float32",P=h.length),w=0;w<P;w+=1)_[w]=d*h[w];return _}return 0}function div(d,h){var _,w,P,p=_typeof(d),s=_typeof(h);if(isNumerable(p,d)&&isNumerable(s,h))return d/h;if($bm_isInstanceOfArray(d)&&isNumerable(s,h)){for(_=createTypedArray("float32",P=d.length),w=0;w<P;w+=1)_[w]=d[w]/h;return _}if(isNumerable(p,d)&&$bm_isInstanceOfArray(h)){for(_=createTypedArray("float32",P=h.length),w=0;w<P;w+=1)_[w]=d/h[w];return _}return 0}function mod(d,h){return"string"==typeof d&&(d=parseInt(d,10)),"string"==typeof h&&(h=parseInt(h,10)),d%h}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(d,h,p){if(h>p){var s=p;p=h,h=s}return Math.min(Math.max(d,h),p)}function radiansToDegrees(d){return d/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(d){return d*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(d,h){if("number"==typeof d||d instanceof Number)return Math.abs(d-(h=h||0));h||(h=helperLengthArray);var p,s=Math.min(d.length,h.length),_=0;for(p=0;p<s;p+=1)_+=Math.pow(h[p]-d[p],2);return Math.sqrt(_)}function normalize(d){return div(d,length(d))}function rgbToHsl(d){var P,L,h=d[0],p=d[1],s=d[2],_=Math.max(h,p,s),w=Math.min(h,p,s),U=(_+w)/2;if(_===w)P=0,L=0;else{var V=_-w;switch(L=U>.5?V/(2-_-w):V/(_+w),_){case h:P=(p-s)/V+(p<s?6:0);break;case p:P=(s-h)/V+2;break;case s:P=(h-p)/V+4}P/=6}return[P,L,U,d[3]]}function hue2rgb(d,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?d+6*(h-d)*p:p<.5?h:p<2/3?d+(h-d)*(2/3-p)*6:d}function hslToRgb(d){var _,w,P,h=d[0],p=d[1],s=d[2];if(0===p)_=s,P=s,w=s;else{var L=s<.5?s*(1+p):s+p-s*p,U=2*s-L;_=hue2rgb(U,L,h+1/3),w=hue2rgb(U,L,h),P=hue2rgb(U,L,h-1/3)}return[_,w,P,d[3]]}function linear(d,h,p,s,_){if((void 0===s||void 0===_)&&(s=h,_=p,h=0,p=1),p<h){var w=p;p=h,h=w}if(d<=h)return s;if(d>=p)return _;var P=p===h?0:(d-h)/(p-h);if(!s.length)return s+(_-s)*P;var L,U=s.length,V=createTypedArray("float32",U);for(L=0;L<U;L+=1)V[L]=s[L]+(_[L]-s[L])*P;return V}function random(d,h){if(void 0===h&&(void 0===d?(d=0,h=1):(h=d,d=void 0)),h.length){var p,s=h.length;d||(d=createTypedArray("float32",s));var _=createTypedArray("float32",s),w=BMMath.random();for(p=0;p<s;p+=1)_[p]=d[p]+w*(h[p]-d[p]);return _}return void 0===d&&(d=0),d+BMMath.random()*(h-d)}function createPath(d,h,p,s){var _,w=d.length,P=shapePool.newElement();P.setPathData(!!s,w);var U,V,L=[0,0];for(_=0;_<w;_+=1)P.setTripleAt(d[_][0],d[_][1],(V=p&&p[_]?p[_]:L)[0]+d[_][0],V[1]+d[_][1],(U=h&&h[_]?h[_]:L)[0]+d[_][0],U[1]+d[_][1],_,!0);return P}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function d(h,p){var s,_,w=this.pv.length?this.pv.length:1,P=createTypedArray("float32",w),L=Math.floor(5*time);for(s=0,_=0;s<L;){for(_=0;_<w;_+=1)P[_]+=-p+2*p*BMMath.random();s+=1}var U=5*time,V=U-Math.floor(U),z=createTypedArray("float32",w);if(w>1){for(_=0;_<w;_+=1)z[_]=this.pv[_]+P[_]+(-p+2*p*BMMath.random())*V;return z}return this.pv+P[0]+(-p+2*p*BMMath.random())*V}.bind(this);function loopInDuration(d,h){return loopIn(d,h,!0)}function loopOutDuration(d,h){return loopOut(d,h,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(d,h){var p=[h[0]-d[0],h[1]-d[1],h[2]-d[2]],s=Math.atan2(p[0],Math.sqrt(p[1]*p[1]+p[2]*p[2]))/degToRads;return[-Math.atan2(p[1],p[2])/degToRads,s,0]}function easeOut(d,h,p,s,_){return applyEase(easeOutBez,d,h,p,s,_)}function easeIn(d,h,p,s,_){return applyEase(easeInBez,d,h,p,s,_)}function ease(d,h,p,s,_){return applyEase(easeInOutBez,d,h,p,s,_)}function applyEase(d,h,p,s,_,w){void 0===_?(_=p,w=s):h=(h-p)/(s-p),h>1?h=1:h<0&&(h=0);var P=d(h);if($bm_isInstanceOfArray(_)){var L,U=_.length,V=createTypedArray("float32",U);for(L=0;L<U;L+=1)V[L]=(w[L]-_[L])*P+_[L];return V}return(w-_)*P+_}function nearestKey(d){var h,s,_,p=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(s=-1,(d*=elem.comp.globalData.frameRate)<data.k[0].t)s=1,_=data.k[0].t;else{for(h=0;h<p-1;h+=1){if(d===data.k[h].t){s=h+1,_=data.k[h].t;break}if(d>data.k[h].t&&d<data.k[h+1].t){d-data.k[h].t>data.k[h+1].t-d?(s=h+2,_=data.k[h+1].t):(s=h+1,_=data.k[h].t);break}}-1===s&&(s=h+1,_=data.k[h].t)}else s=0,_=0;var w={};return w.index=s,w.time=_/elem.comp.globalData.frameRate,w}function key(d){var h,p,s;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+d);h={time:data.k[d-=1].t/elem.comp.globalData.frameRate,value:[]};var _=Object.prototype.hasOwnProperty.call(data.k[d],"s")?data.k[d].s:data.k[d-1].e;for(s=_.length,p=0;p<s;p+=1)h[p]=_[p],h.value[p]=_[p];return h}function framesToTime(d,h){return h||(h=elem.comp.globalData.frameRate),d/h}function timeToFrames(d,h){return!d&&0!==d&&(d=time),h||(h=elem.comp.globalData.frameRate),d*h}function seedRandom(d){BMMath.seedrandom(randSeed+d)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(d,h){return"string"==typeof value?void 0===h?value.substring(d):value.substring(d,h):""}function substr(d,h){return"string"==typeof value?void 0===h?value.substr(d):value.substr(d,h):""}function posterizeTime(d){time=0===d?0:Math.floor(time*d)/d,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(d){return value=d,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4===elemType&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function d(P,L,U){L.x&&(U.k=!0,U.x=!0,U.initiateExpression=ExpressionManager.initiateExpression,U.effectsSequence.push(U.initiateExpression(P,L,U).bind(U)))},getSpeedAtTime:function p(P){var U=this.getValueAtTime(P),V=this.getValueAtTime(P+-.01),z=0;if(U.length){var Q;for(Q=0;Q<U.length;Q+=1)z+=Math.pow(V[Q]-U[Q],2);z=100*Math.sqrt(z)}else z=0;return z},getVelocityAtTime:function s(P){if(void 0!==this.vel)return this.vel;var z,Q,L=-.001,U=this.getValueAtTime(P),V=this.getValueAtTime(P+L);if(U.length)for(z=createTypedArray("float32",U.length),Q=0;Q<U.length;Q+=1)z[Q]=(V[Q]-U[Q])/L;else z=(V-U)/L;return z},getValueAtTime:function h(P){return P*=this.elem.globalData.frameRate,(P-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<P?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(P,this._cachingAtTime),this._cachingAtTime.lastFrame=P),this._cachingAtTime.value},getStaticValueAtTime:function _(){return this.pv},setGroupProperty:function w(P){this.propertyGroup=P}};function addPropertyDecorator(){function d(x,j,G){if(!this.k||!this.keyframes)return this.pv;x=x?x.toLowerCase():"";var N,I,T,W,J,k=this.comp.renderedFrame,Y=this.keyframes,A=Y[Y.length-1].t;if(k<=A)return this.pv;if(G?I=A-(N=j?Math.abs(A-this.elem.comp.globalData.frameRate*j):Math.max(0,A-this.elem.data.ip)):((!j||j>Y.length-1)&&(j=Y.length-1),N=A-(I=Y[Y.length-1-j].t)),"pingpong"===x){if(Math.floor((k-I)/N)%2!=0)return this.getValueAtTime((N-(k-I)%N+I)/this.comp.globalData.frameRate,0)}else{if("offset"===x){var re=this.getValueAtTime(I/this.comp.globalData.frameRate,0),me=this.getValueAtTime(A/this.comp.globalData.frameRate,0),Pe=this.getValueAtTime(((k-I)%N+I)/this.comp.globalData.frameRate,0),_e=Math.floor((k-I)/N);if(this.pv.length){for(W=(J=new Array(re.length)).length,T=0;T<W;T+=1)J[T]=(me[T]-re[T])*_e+Pe[T];return J}return(me-re)*_e+Pe}if("continue"===x){var ve=this.getValueAtTime(A/this.comp.globalData.frameRate,0),Ie=this.getValueAtTime((A-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(W=(J=new Array(ve.length)).length,T=0;T<W;T+=1)J[T]=ve[T]+(k-A)/this.comp.globalData.frameRate*(ve[T]-Ie[T])/5e-4;return J}return ve+(k-A)/.001*(ve-Ie)}}return this.getValueAtTime(((k-I)%N+I)/this.comp.globalData.frameRate,0)}function h(x,j,G){if(!this.k)return this.pv;x=x?x.toLowerCase():"";var N,I,T,W,J,k=this.comp.renderedFrame,Y=this.keyframes,A=Y[0].t;if(k>=A)return this.pv;if(G?I=A+(N=j?Math.abs(this.elem.comp.globalData.frameRate*j):Math.max(0,this.elem.data.op-A)):((!j||j>Y.length-1)&&(j=Y.length-1),N=(I=Y[j].t)-A),"pingpong"===x){if(Math.floor((A-k)/N)%2==0)return this.getValueAtTime(((A-k)%N+A)/this.comp.globalData.frameRate,0)}else{if("offset"===x){var re=this.getValueAtTime(A/this.comp.globalData.frameRate,0),me=this.getValueAtTime(I/this.comp.globalData.frameRate,0),Pe=this.getValueAtTime((N-(A-k)%N+A)/this.comp.globalData.frameRate,0),_e=Math.floor((A-k)/N)+1;if(this.pv.length){for(W=(J=new Array(re.length)).length,T=0;T<W;T+=1)J[T]=Pe[T]-(me[T]-re[T])*_e;return J}return Pe-(me-re)*_e}if("continue"===x){var ve=this.getValueAtTime(A/this.comp.globalData.frameRate,0),Ie=this.getValueAtTime((A+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(W=(J=new Array(ve.length)).length,T=0;T<W;T+=1)J[T]=ve[T]+(ve[T]-Ie[T])*(A-k)/.001;return J}return ve+(ve-Ie)*(A-k)/.001}}return this.getValueAtTime((N-((A-k)%N+A))/this.comp.globalData.frameRate,0)}function p(x,j){if(!this.k)return this.pv;if(x=.5*(x||.4),(j=Math.floor(j||5))<=1)return this.pv;var T,W,G=this.comp.renderedFrame/this.comp.globalData.frameRate,k=G-x,A=j>1?(G+x-k)/(j-1):1,N=0,I=0;for(T=this.pv.length?createTypedArray("float32",this.pv.length):0;N<j;){if(W=this.getValueAtTime(k+N*A),this.pv.length)for(I=0;I<this.pv.length;I+=1)T[I]+=W[I];else T+=W;N+=1}if(this.pv.length)for(I=0;I<this.pv.length;I+=1)T[I]/=j;else T/=j;return T}function s(x){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var j=this._transformCachingAtTime.v;if(j.cloneFromProps(this.pre.props),this.appliedTransformations<1){var G=this.a.getValueAtTime(x);j.translate(-G[0]*this.a.mult,-G[1]*this.a.mult,G[2]*this.a.mult)}if(this.appliedTransformations<2){var k=this.s.getValueAtTime(x);j.scale(k[0]*this.s.mult,k[1]*this.s.mult,k[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Y=this.sk.getValueAtTime(x),A=this.sa.getValueAtTime(x);j.skewFromAxis(-Y*this.sk.mult,A*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var N=this.r.getValueAtTime(x);j.rotate(-N*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var I=this.rz.getValueAtTime(x),T=this.ry.getValueAtTime(x),W=this.rx.getValueAtTime(x),J=this.or.getValueAtTime(x);j.rotateZ(-I*this.rz.mult).rotateY(T*this.ry.mult).rotateX(W*this.rx.mult).rotateZ(-J[2]*this.or.mult).rotateY(J[1]*this.or.mult).rotateX(J[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var ne=this.px.getValueAtTime(x),re=this.py.getValueAtTime(x);if(this.data.p.z){var me=this.pz.getValueAtTime(x);j.translate(ne*this.px.mult,re*this.py.mult,-me*this.pz.mult)}else j.translate(ne*this.px.mult,re*this.py.mult,0)}else{var Pe=this.p.getValueAtTime(x);j.translate(Pe[0]*this.p.mult,Pe[1]*this.p.mult,-Pe[2]*this.p.mult)}return j}function _(){return this.v.clone(new Matrix)}var w=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(x,j,G){var k=w(x,j,G);return k.getValueAtTime=k.dynamicProperties.length?s.bind(k):_.bind(k),k.setGroupProperty=expressionHelpers.setGroupProperty,k};var P=PropertyFactory.getProp;PropertyFactory.getProp=function(x,j,G,k,Y){var A=P(x,j,G,k,Y);A.getValueAtTime=A.kf?expressionHelpers.getValueAtTime.bind(A):expressionHelpers.getStaticValueAtTime.bind(A),A.setGroupProperty=expressionHelpers.setGroupProperty,A.loopOut=d,A.loopIn=h,A.smooth=p,A.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(A),A.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(A),A.numKeys=1===j.a?j.k.length:0,A.propertyIndex=j.ix;var N=0;return 0!==G&&(N=createTypedArray("float32",1===j.a?j.k[0].s.length:j.k.length)),A._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:N},expressionHelpers.searchExpressions(x,j,A),A.k&&Y.addDynamicProperty(A),A};var U=ShapePropertyFactory.getConstructorFunction(),V=ShapePropertyFactory.getKeyframedConstructorFunction();function z(){}z.prototype={vertices:function(j,G){this.k&&this.getValue();var k=this.v;void 0!==G&&(k=this.getValueAtTime(G,0));var Y,A=k._length,N=k[j],I=k.v,T=createSizedArray(A);for(Y=0;Y<A;Y+=1)T[Y]="i"===j||"o"===j?[N[Y][0]-I[Y][0],N[Y][1]-I[Y][1]]:[N[Y][0],N[Y][1]];return T},points:function(j){return this.vertices("v",j)},inTangents:function(j){return this.vertices("i",j)},outTangents:function(j){return this.vertices("o",j)},isClosed:function(){return this.v.c},pointOnPath:function(j,G){var k=this.v;void 0!==G&&(k=this.getValueAtTime(G,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(k));for(var J,Y=this._segmentsLength,A=Y.lengths,N=Y.totalLength*j,I=0,T=A.length,W=0;I<T;){if(W+A[I].addedLength>N){var re=k.c&&I===T-1?0:I+1;J=bez.getPointInSegment(k.v[I],k.v[re],k.o[I],k.i[re],(N-W)/A[I].addedLength,A[I]);break}W+=A[I].addedLength,I+=1}return J||(J=k.c?[k.v[0][0],k.v[0][1]]:[k.v[k._length-1][0],k.v[k._length-1][1]]),J},vectorOnPath:function(j,G,k){1==j?j=this.v.c:0==j&&(j=.999);var Y=this.pointOnPath(j,G),A=this.pointOnPath(j+.001,G),N=A[0]-Y[0],I=A[1]-Y[1],T=Math.sqrt(Math.pow(N,2)+Math.pow(I,2));return 0===T?[0,0]:"tangent"===k?[N/T,I/T]:[-I/T,N/T]},tangentOnPath:function(j,G){return this.vectorOnPath(j,G,"tangent")},normalOnPath:function(j,G){return this.vectorOnPath(j,G,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([z],U),extendPrototype([z],V),V.prototype.getValueAtTime=function L(x){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),x*=this.elem.globalData.frameRate,(x-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<x?this._caching.lastIndex:0,this._cachingAtTime.lastTime=x,this.interpolateShape(x,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},V.prototype.initiateExpression=ExpressionManager.initiateExpression;var Q=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(x,j,G,k,Y){var A=Q(x,j,G,k,Y);return A.propertyIndex=j.ix,A.lock=!1,3===G?expressionHelpers.searchExpressions(x,j.pt,A):4===G&&expressionHelpers.searchExpressions(x,j.ks,A),A.k&&x.addDynamicProperty(A),A}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(h,p){var s=this.calculateExpression(p);if(h.t!==s){var _={};return this.copyData(_,h),_.t=s.toString(),_.__complete=!1,_}return h},TextProperty.prototype.searchProperty=function(){var h=this.searchKeyframes(),p=this.searchExpressions();return this.kf=h||p,this.kf},TextProperty.prototype.searchExpressions=function d(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}function SVGTintFilter(d,h,p,s,_){this.filterManager=h;var w=createNS("feColorMatrix");w.setAttribute("type","matrix"),w.setAttribute("color-interpolation-filters","linearRGB"),w.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),w.setAttribute("result",s+"_tint_1"),d.appendChild(w),(w=createNS("feColorMatrix")).setAttribute("type","matrix"),w.setAttribute("color-interpolation-filters","sRGB"),w.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),w.setAttribute("result",s+"_tint_2"),d.appendChild(w),this.matrixFilter=w;var P=this.createMergeNode(s,[_,s+"_tint_1",s+"_tint_2"]);d.appendChild(P)}function SVGFillFilter(d,h,p,s){this.filterManager=h;var _=createNS("feColorMatrix");_.setAttribute("type","matrix"),_.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),_.setAttribute("result",s),d.appendChild(_),this.matrixFilter=_}function SVGStrokeEffect(d,h,p){this.initialized=!1,this.filterManager=h,this.elem=p,this.paths=[]}function SVGTritoneFilter(d,h,p,s){this.filterManager=h;var _=createNS("feColorMatrix");_.setAttribute("type","matrix"),_.setAttribute("color-interpolation-filters","linearRGB"),_.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),d.appendChild(_);var w=createNS("feComponentTransfer");w.setAttribute("color-interpolation-filters","sRGB"),w.setAttribute("result",s),this.matrixFilter=w;var P=createNS("feFuncR");P.setAttribute("type","table"),w.appendChild(P),this.feFuncR=P;var L=createNS("feFuncG");L.setAttribute("type","table"),w.appendChild(L),this.feFuncG=L;var U=createNS("feFuncB");U.setAttribute("type","table"),w.appendChild(U),this.feFuncB=U,d.appendChild(w)}function SVGProLevelsFilter(d,h,p,s){this.filterManager=h;var _=this.filterManager.effectElements,w=createNS("feComponentTransfer");(_[10].p.k||0!==_[10].p.v||_[11].p.k||1!==_[11].p.v||_[12].p.k||1!==_[12].p.v||_[13].p.k||0!==_[13].p.v||_[14].p.k||1!==_[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",w)),(_[17].p.k||0!==_[17].p.v||_[18].p.k||1!==_[18].p.v||_[19].p.k||1!==_[19].p.v||_[20].p.k||0!==_[20].p.v||_[21].p.k||1!==_[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",w)),(_[24].p.k||0!==_[24].p.v||_[25].p.k||1!==_[25].p.v||_[26].p.k||1!==_[26].p.v||_[27].p.k||0!==_[27].p.v||_[28].p.k||1!==_[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",w)),(_[31].p.k||0!==_[31].p.v||_[32].p.k||1!==_[32].p.v||_[33].p.k||1!==_[33].p.v||_[34].p.k||0!==_[34].p.v||_[35].p.k||1!==_[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",w)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(w.setAttribute("color-interpolation-filters","sRGB"),d.appendChild(w)),(_[3].p.k||0!==_[3].p.v||_[4].p.k||1!==_[4].p.v||_[5].p.k||1!==_[5].p.v||_[6].p.k||0!==_[6].p.v||_[7].p.k||1!==_[7].p.v)&&((w=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),w.setAttribute("result",s),d.appendChild(w),this.feFuncRComposed=this.createFeFunc("feFuncR",w),this.feFuncGComposed=this.createFeFunc("feFuncG",w),this.feFuncBComposed=this.createFeFunc("feFuncB",w))}function SVGDropShadowEffect(d,h,p,s,_){var w=h.container.globalData.renderConfig.filterSize,P=h.data.fs||w;d.setAttribute("x",P.x||w.x),d.setAttribute("y",P.y||w.y),d.setAttribute("width",P.width||w.width),d.setAttribute("height",P.height||w.height),this.filterManager=h;var L=createNS("feGaussianBlur");L.setAttribute("in","SourceAlpha"),L.setAttribute("result",s+"_drop_shadow_1"),L.setAttribute("stdDeviation","0"),this.feGaussianBlur=L,d.appendChild(L);var U=createNS("feOffset");U.setAttribute("dx","25"),U.setAttribute("dy","0"),U.setAttribute("in",s+"_drop_shadow_1"),U.setAttribute("result",s+"_drop_shadow_2"),this.feOffset=U,d.appendChild(U);var V=createNS("feFlood");V.setAttribute("flood-color","#00ff00"),V.setAttribute("flood-opacity","1"),V.setAttribute("result",s+"_drop_shadow_3"),this.feFlood=V,d.appendChild(V);var z=createNS("feComposite");z.setAttribute("in",s+"_drop_shadow_3"),z.setAttribute("in2",s+"_drop_shadow_2"),z.setAttribute("operator","in"),z.setAttribute("result",s+"_drop_shadow_4"),d.appendChild(z);var Q=this.createMergeNode(s,[s+"_drop_shadow_4",_]);d.appendChild(Q)}SVGComposableEffect.prototype={createMergeNode:function d(h,p){var _,w,s=createNS("feMerge");for(s.setAttribute("result",h),w=0;w<p.length;w+=1)(_=createNS("feMergeNode")).setAttribute("in",p[w]),s.appendChild(_),s.appendChild(_);return s}},extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var h=this.filterManager.effectElements[0].p.v,p=this.filterManager.effectElements[1].p.v;this.matrixFilter.setAttribute("values",p[0]-h[0]+" 0 0 0 "+h[0]+" "+(p[1]-h[1])+" 0 0 0 "+h[1]+" "+(p[2]-h[2])+" 0 0 0 "+h[2]+" 0 0 0 "+this.filterManager.effectElements[2].p.v/100+" 0")}},SVGFillFilter.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var h=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+h[0]+" 0 0 0 0 "+h[1]+" 0 0 0 0 "+h[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var h,p,s,_,d=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(_=this.elem.maskManager.masksProperties.length,s=0):_=1+(s=this.filterManager.effectElements[0].p.v-1),(p=createNS("g")).setAttribute("fill","none"),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-dashoffset",1);s<_;s+=1)h=createNS("path"),p.appendChild(h),this.paths.push({p:h,m:s});if(3===this.filterManager.effectElements[10].p.v){var w=createNS("mask"),P=createElementID();w.setAttribute("id",P),w.setAttribute("mask-type","alpha"),w.appendChild(p),this.elem.globalData.defs.appendChild(w);var L=createNS("g");for(L.setAttribute("mask","url("+getLocationHref()+"#"+P+")");d[0];)L.appendChild(d[0]);this.elem.layerElement.appendChild(L),this.masker=w,p.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(d=this.elem.layerElement.children||this.elem.layerElement.childNodes;d.length;)this.elem.layerElement.removeChild(d[0]);this.elem.layerElement.appendChild(p),this.elem.layerElement.removeAttribute("mask"),p.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=p},SVGStrokeEffect.prototype.renderFrame=function(d){this.initialized||this.initialize();var h,s,_,p=this.paths.length;for(h=0;h<p;h+=1)if(-1!==this.paths[h].m&&(s=this.elem.maskManager.viewData[this.paths[h].m],_=this.paths[h].p,(d||this.filterManager._mdf||s.prop._mdf)&&_.setAttribute("d",s.lastPath),d||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||s.prop._mdf)){var w;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var P=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),L=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),U=_.getTotalLength();w="0 0 0 "+U*P+" ";var x,Q=Math.floor(U*(L-P)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(x=0;x<Q;x+=1)w+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";w+="0 "+10*U+" 0 0"}else w="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;_.setAttribute("stroke-dasharray",w)}if((d||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(d||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(d||this.filterManager.effectElements[3].p._mdf)){var j=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*j[0])+","+bmFloor(255*j[1])+","+bmFloor(255*j[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var h=this.filterManager.effectElements[0].p.v,p=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,w=s[1]+" "+p[1]+" "+h[1],P=s[2]+" "+p[2]+" "+h[2];this.feFuncR.setAttribute("tableValues",s[0]+" "+p[0]+" "+h[0]),this.feFuncG.setAttribute("tableValues",w),this.feFuncB.setAttribute("tableValues",P)}},SVGProLevelsFilter.prototype.createFeFunc=function(d,h){var p=createNS(d);return p.setAttribute("type","table"),h.appendChild(p),p},SVGProLevelsFilter.prototype.getTableValue=function(d,h,p,s,_){for(var L,Q,w=0,U=Math.min(d,h),V=Math.max(d,h),z=Array.call(null,{length:256}),x=0,j=_-s,G=h-d;w<=256;)Q=(L=w/256)<=U?G<0?_:s:L>=V?G<0?s:_:s+j*Math.pow((L-d)/G,1/p),z[x]=Q,x+=1,w+=256/255;return z.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var h,p=this.filterManager.effectElements;this.feFuncRComposed&&(d||p[3].p._mdf||p[4].p._mdf||p[5].p._mdf||p[6].p._mdf||p[7].p._mdf)&&(h=this.getTableValue(p[3].p.v,p[4].p.v,p[5].p.v,p[6].p.v,p[7].p.v),this.feFuncRComposed.setAttribute("tableValues",h),this.feFuncGComposed.setAttribute("tableValues",h),this.feFuncBComposed.setAttribute("tableValues",h)),this.feFuncR&&(d||p[10].p._mdf||p[11].p._mdf||p[12].p._mdf||p[13].p._mdf||p[14].p._mdf)&&(h=this.getTableValue(p[10].p.v,p[11].p.v,p[12].p.v,p[13].p.v,p[14].p.v),this.feFuncR.setAttribute("tableValues",h)),this.feFuncG&&(d||p[17].p._mdf||p[18].p._mdf||p[19].p._mdf||p[20].p._mdf||p[21].p._mdf)&&(h=this.getTableValue(p[17].p.v,p[18].p.v,p[19].p.v,p[20].p.v,p[21].p.v),this.feFuncG.setAttribute("tableValues",h)),this.feFuncB&&(d||p[24].p._mdf||p[25].p._mdf||p[26].p._mdf||p[27].p._mdf||p[28].p._mdf)&&(h=this.getTableValue(p[24].p.v,p[25].p.v,p[26].p.v,p[27].p.v,p[28].p.v),this.feFuncB.setAttribute("tableValues",h)),this.feFuncA&&(d||p[31].p._mdf||p[32].p._mdf||p[33].p._mdf||p[34].p._mdf||p[35].p._mdf)&&(h=this.getTableValue(p[31].p.v,p[32].p.v,p[33].p.v,p[34].p.v,p[35].p.v),this.feFuncA.setAttribute("tableValues",h))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){if((d||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),d||this.filterManager.effectElements[0].p._mdf){var h=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*h[0]),Math.round(255*h[1]),Math.round(255*h[2])))}if((d||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),d||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var p=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,_=p*Math.cos(s),w=p*Math.sin(s);this.feOffset.setAttribute("dx",_),this.feOffset.setAttribute("dy",w)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(d,h,p){this.initialized=!1,this.filterManager=h,this.filterElem=d,this.elem=p,p.matteElement=createNS("g"),p.matteElement.appendChild(p.layerElement),p.matteElement.appendChild(p.transformedElement),p.baseElement=p.matteElement}function SVGGaussianBlurEffect(d,h,p,s){d.setAttribute("x","-100%"),d.setAttribute("y","-100%"),d.setAttribute("width","300%"),d.setAttribute("height","300%"),this.filterManager=h;var _=createNS("feGaussianBlur");_.setAttribute("result",s),d.appendChild(_),this.feGaussianBlur=_}return SVGMatte3Effect.prototype.findSymbol=function(d){for(var h=0,p=_svgMatteSymbols.length;h<p;){if(_svgMatteSymbols[h]===d)return _svgMatteSymbols[h];h+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(d,h){var p=d.layerElement.parentNode;if(p){for(var s=p.children,_=0,w=s.length;_<w&&s[_]!==d.layerElement;)_+=1;var P;_<=w-2&&(P=s[_+1]);var L=createNS("use");L.setAttribute("href","#"+h),P?p.insertBefore(L,P):p.appendChild(L)}},SVGMatte3Effect.prototype.setElementAsMask=function(d,h){if(!this.findSymbol(h)){var p=createElementID(),s=createNS("mask");s.setAttribute("id",h.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(h);var _=d.globalData.defs;_.appendChild(s);var w=createNS("symbol");w.setAttribute("id",p),this.replaceInParent(h,p),w.appendChild(h.layerElement),_.appendChild(w);var P=createNS("use");P.setAttribute("href","#"+p),s.appendChild(P),h.data.hd=!1,h.show()}d.setMatte(h.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var d=this.filterManager.effectElements[0].p.v,h=this.elem.comp.elements,p=0,s=h.length;p<s;)h[p]&&h[p].data.ind===d&&this.setElementAsMask(this.elem,h[p]),p+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var p=.3*this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==s?0:p)+" "+(2==s?0:p)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=h())},9751:(d,h,p)=>{"use strict";p.d(h,{y:()=>z});var s=p(930),_=p(727),w=p(8822),P=p(9635),L=p(2416),U=p(576),V=p(2806);let z=(()=>{class G{constructor(Y){Y&&(this._subscribe=Y)}lift(Y){const A=new G;return A.source=this,A.operator=Y,A}subscribe(Y,A,N){const I=function j(G){return G&&G instanceof s.Lv||function x(G){return G&&(0,U.m)(G.next)&&(0,U.m)(G.error)&&(0,U.m)(G.complete)}(G)&&(0,_.Nn)(G)}(Y)?Y:new s.Hp(Y,A,N);return(0,V.x)(()=>{const{operator:T,source:W}=this;I.add(T?T.call(I,W):W?this._subscribe(I):this._trySubscribe(I))}),I}_trySubscribe(Y){try{return this._subscribe(Y)}catch(A){Y.error(A)}}forEach(Y,A){return new(A=Q(A))((N,I)=>{const T=new s.Hp({next:W=>{try{Y(W)}catch(J){I(J),T.unsubscribe()}},error:I,complete:N});this.subscribe(T)})}_subscribe(Y){var A;return null===(A=this.source)||void 0===A?void 0:A.subscribe(Y)}[w.L](){return this}pipe(...Y){return(0,P.U)(Y)(this)}toPromise(Y){return new(Y=Q(Y))((A,N)=>{let I;this.subscribe(T=>I=T,T=>N(T),()=>A(I))})}}return G.create=k=>new G(k),G})();function Q(G){var k;return null!==(k=G??L.v.Promise)&&void 0!==k?k:Promise}},7579:(d,h,p)=>{"use strict";p.d(h,{x:()=>V});var s=p(9751),_=p(727);const P=(0,p(3888).d)(Q=>function(){Q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var L=p(8737),U=p(2806);let V=(()=>{class Q extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const G=new z(this,this);return G.operator=j,G}_throwIfClosed(){if(this.closed)throw new P}next(j){(0,U.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const G of this.currentObservers)G.next(j)}})}error(j){(0,U.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:G}=this;for(;G.length;)G.shift().error(j)}})}complete(){(0,U.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:G,isStopped:k,observers:Y}=this;return G||k?_.Lc:(this.currentObservers=null,Y.push(j),new _.w0(()=>{this.currentObservers=null,(0,L.P)(Y,j)}))}_checkFinalizedStatuses(j){const{hasError:G,thrownError:k,isStopped:Y}=this;G?j.error(k):Y&&j.complete()}asObservable(){const j=new s.y;return j.source=this,j}}return Q.create=(x,j)=>new z(x,j),Q})();class z extends V{constructor(x,j){super(),this.destination=x,this.source=j}next(x){var j,G;null===(G=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===G||G.call(j,x)}error(x){var j,G;null===(G=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===G||G.call(j,x)}complete(){var x,j;null===(j=null===(x=this.destination)||void 0===x?void 0:x.complete)||void 0===j||j.call(x)}_subscribe(x){var j,G;return null!==(G=null===(j=this.source)||void 0===j?void 0:j.subscribe(x))&&void 0!==G?G:_.Lc}}},930:(d,h,p)=>{"use strict";p.d(h,{Hp:()=>N,Lv:()=>G});var s=p(576),_=p(727),w=p(2416),P=p(7849),L=p(5032);const U=Q("C",void 0,void 0);function Q(ne,re,me){return{kind:ne,value:re,error:me}}var x=p(3410),j=p(2806);class G extends _.w0{constructor(re){super(),this.isStopped=!1,re?(this.destination=re,(0,_.Nn)(re)&&re.add(this)):this.destination=J}static create(re,me,Pe){return new N(re,me,Pe)}next(re){this.isStopped?W(function z(ne){return Q("N",ne,void 0)}(re),this):this._next(re)}error(re){this.isStopped?W(function V(ne){return Q("E",void 0,ne)}(re),this):(this.isStopped=!0,this._error(re))}complete(){this.isStopped?W(U,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(re){this.destination.next(re)}_error(re){try{this.destination.error(re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const k=Function.prototype.bind;function Y(ne,re){return k.call(ne,re)}class A{constructor(re){this.partialObserver=re}next(re){const{partialObserver:me}=this;if(me.next)try{me.next(re)}catch(Pe){I(Pe)}}error(re){const{partialObserver:me}=this;if(me.error)try{me.error(re)}catch(Pe){I(Pe)}else I(re)}complete(){const{partialObserver:re}=this;if(re.complete)try{re.complete()}catch(me){I(me)}}}class N extends G{constructor(re,me,Pe){let _e;if(super(),(0,s.m)(re)||!re)_e={next:re??void 0,error:me??void 0,complete:Pe??void 0};else{let ve;this&&w.v.useDeprecatedNextContext?(ve=Object.create(re),ve.unsubscribe=()=>this.unsubscribe(),_e={next:re.next&&Y(re.next,ve),error:re.error&&Y(re.error,ve),complete:re.complete&&Y(re.complete,ve)}):_e=re}this.destination=new A(_e)}}function I(ne){w.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(ne):(0,P.h)(ne)}function W(ne,re){const{onStoppedNotification:me}=w.v;me&&x.z.setTimeout(()=>me(ne,re))}const J={closed:!0,next:L.Z,error:function T(ne){throw ne},complete:L.Z}},727:(d,h,p)=>{"use strict";p.d(h,{Lc:()=>U,w0:()=>L,Nn:()=>V});var s=p(576);const w=(0,p(3888).d)(Q=>function(j){Q(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((G,k)=>`${k+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var P=p(8737);class L{constructor(x){this.initialTeardown=x,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let x;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Y of j)Y.remove(this);else j.remove(this);const{initialTeardown:G}=this;if((0,s.m)(G))try{G()}catch(Y){x=Y instanceof w?Y.errors:[Y]}const{_finalizers:k}=this;if(k){this._finalizers=null;for(const Y of k)try{z(Y)}catch(A){x=x??[],A instanceof w?x=[...x,...A.errors]:x.push(A)}}if(x)throw new w(x)}}add(x){var j;if(x&&x!==this)if(this.closed)z(x);else{if(x instanceof L){if(x.closed||x._hasParent(this))return;x._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(x)}}_hasParent(x){const{_parentage:j}=this;return j===x||Array.isArray(j)&&j.includes(x)}_addParent(x){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(x),j):j?[j,x]:x}_removeParent(x){const{_parentage:j}=this;j===x?this._parentage=null:Array.isArray(j)&&(0,P.P)(j,x)}remove(x){const{_finalizers:j}=this;j&&(0,P.P)(j,x),x instanceof L&&x._removeParent(this)}}L.EMPTY=(()=>{const Q=new L;return Q.closed=!0,Q})();const U=L.EMPTY;function V(Q){return Q instanceof L||Q&&"closed"in Q&&(0,s.m)(Q.remove)&&(0,s.m)(Q.add)&&(0,s.m)(Q.unsubscribe)}function z(Q){(0,s.m)(Q)?Q():Q.unsubscribe()}},2416:(d,h,p)=>{"use strict";p.d(h,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(d,h,p)=>{"use strict";p.d(h,{E:()=>_});const _=new(p(9751).y)(L=>L.complete())},8996:(d,h,p)=>{"use strict";p.d(h,{D:()=>re});var s=p(8421),_=p(5363),w=p(9468),U=p(9751),z=p(2202),Q=p(576),x=p(9672);function G(me,Pe){if(!me)throw new Error("Iterable cannot be null");return new U.y(_e=>{(0,x.f)(_e,Pe,()=>{const ve=me[Symbol.asyncIterator]();(0,x.f)(_e,Pe,()=>{ve.next().then(Ie=>{Ie.done?_e.complete():_e.next(Ie.value)})},0,!0)})})}var k=p(3670),Y=p(8239),A=p(1144),N=p(6495),I=p(2206),T=p(4532),W=p(3260);function re(me,Pe){return Pe?function ne(me,Pe){if(null!=me){if((0,k.c)(me))return function P(me,Pe){return(0,s.Xf)(me).pipe((0,w.R)(Pe),(0,_.Q)(Pe))}(me,Pe);if((0,A.z)(me))return function V(me,Pe){return new U.y(_e=>{let ve=0;return Pe.schedule(function(){ve===me.length?_e.complete():(_e.next(me[ve++]),_e.closed||this.schedule())})})}(me,Pe);if((0,Y.t)(me))return function L(me,Pe){return(0,s.Xf)(me).pipe((0,w.R)(Pe),(0,_.Q)(Pe))}(me,Pe);if((0,I.D)(me))return G(me,Pe);if((0,N.T)(me))return function j(me,Pe){return new U.y(_e=>{let ve;return(0,x.f)(_e,Pe,()=>{ve=me[z.h](),(0,x.f)(_e,Pe,()=>{let Ie,Ee;try{({value:Ie,done:Ee}=ve.next())}catch(de){return void _e.error(de)}Ee?_e.complete():_e.next(Ie)},0,!0)}),()=>(0,Q.m)(ve?.return)&&ve.return()})}(me,Pe);if((0,W.L)(me))return function J(me,Pe){return G((0,W.Q)(me),Pe)}(me,Pe)}throw(0,T.z)(me)}(me,Pe):(0,s.Xf)(me)}},8421:(d,h,p)=>{"use strict";p.d(h,{Xf:()=>k});var s=p(655),_=p(1144),w=p(8239),P=p(9751),L=p(3670),U=p(2206),V=p(4532),z=p(6495),Q=p(3260),x=p(576),j=p(7849),G=p(8822);function k(ne){if(ne instanceof P.y)return ne;if(null!=ne){if((0,L.c)(ne))return function Y(ne){return new P.y(re=>{const me=ne[G.L]();if((0,x.m)(me.subscribe))return me.subscribe(re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ne);if((0,_.z)(ne))return function A(ne){return new P.y(re=>{for(let me=0;me<ne.length&&!re.closed;me++)re.next(ne[me]);re.complete()})}(ne);if((0,w.t)(ne))return function N(ne){return new P.y(re=>{ne.then(me=>{re.closed||(re.next(me),re.complete())},me=>re.error(me)).then(null,j.h)})}(ne);if((0,U.D)(ne))return T(ne);if((0,z.T)(ne))return function I(ne){return new P.y(re=>{for(const me of ne)if(re.next(me),re.closed)return;re.complete()})}(ne);if((0,Q.L)(ne))return function W(ne){return T((0,Q.Q)(ne))}(ne)}throw(0,V.z)(ne)}function T(ne){return new P.y(re=>{(function J(ne,re){var me,Pe,_e,ve;return(0,s.mG)(this,void 0,void 0,function*(){try{for(me=(0,s.KL)(ne);!(Pe=yield me.next()).done;)if(re.next(Pe.value),re.closed)return}catch(Ie){_e={error:Ie}}finally{try{Pe&&!Pe.done&&(ve=me.return)&&(yield ve.call(me))}finally{if(_e)throw _e.error}}re.complete()})})(ne,re).catch(me=>re.error(me))})}},6451:(d,h,p)=>{"use strict";p.d(h,{T:()=>U});var s=p(8189),_=p(8421),w=p(515),P=p(7669),L=p(8996);function U(...V){const z=(0,P.yG)(V),Q=(0,P._6)(V,1/0),x=V;return x.length?1===x.length?(0,_.Xf)(x[0]):(0,s.J)(Q)((0,L.D)(x,z)):w.E}},5403:(d,h,p)=>{"use strict";p.d(h,{x:()=>_});var s=p(930);function _(P,L,U,V,z){return new w(P,L,U,V,z)}class w extends s.Lv{constructor(L,U,V,z,Q,x){super(L),this.onFinalize=Q,this.shouldUnsubscribe=x,this._next=U?function(j){try{U(j)}catch(G){L.error(G)}}:super._next,this._error=z?function(j){try{z(j)}catch(G){L.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=V?function(){try{V()}catch(j){L.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var L;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:U}=this;super.unsubscribe(),!U&&(null===(L=this.onFinalize)||void 0===L||L.call(this))}}}},4004:(d,h,p)=>{"use strict";p.d(h,{U:()=>w});var s=p(4482),_=p(5403);function w(P,L){return(0,s.e)((U,V)=>{let z=0;U.subscribe((0,_.x)(V,Q=>{V.next(P.call(L,Q,z++))}))})}},8189:(d,h,p)=>{"use strict";p.d(h,{J:()=>w});var s=p(5577),_=p(4671);function w(P=1/0){return(0,s.z)(_.y,P)}},5577:(d,h,p)=>{"use strict";p.d(h,{z:()=>z});var s=p(4004),_=p(8421),w=p(4482),P=p(9672),L=p(5403),V=p(576);function z(Q,x,j=1/0){return(0,V.m)(x)?z((G,k)=>(0,s.U)((Y,A)=>x(G,Y,k,A))((0,_.Xf)(Q(G,k))),j):("number"==typeof x&&(j=x),(0,w.e)((G,k)=>function U(Q,x,j,G,k,Y,A,N){const I=[];let T=0,W=0,J=!1;const ne=()=>{J&&!I.length&&!T&&x.complete()},re=Pe=>T<G?me(Pe):I.push(Pe),me=Pe=>{Y&&x.next(Pe),T++;let _e=!1;(0,_.Xf)(j(Pe,W++)).subscribe((0,L.x)(x,ve=>{k?.(ve),Y?re(ve):x.next(ve)},()=>{_e=!0},void 0,()=>{if(_e)try{for(T--;I.length&&T<G;){const ve=I.shift();A?(0,P.f)(x,A,()=>me(ve)):me(ve)}ne()}catch(ve){x.error(ve)}}))};return Q.subscribe((0,L.x)(x,re,()=>{J=!0,ne()})),()=>{N?.()}}(G,k,Q,j)))}},5363:(d,h,p)=>{"use strict";p.d(h,{Q:()=>P});var s=p(9672),_=p(4482),w=p(5403);function P(L,U=0){return(0,_.e)((V,z)=>{V.subscribe((0,w.x)(z,Q=>(0,s.f)(z,L,()=>z.next(Q),U),()=>(0,s.f)(z,L,()=>z.complete(),U),Q=>(0,s.f)(z,L,()=>z.error(Q),U)))})}},3099:(d,h,p)=>{"use strict";p.d(h,{B:()=>L});var s=p(8421),_=p(7579),w=p(930),P=p(4482);function L(V={}){const{connector:z=(()=>new _.x),resetOnError:Q=!0,resetOnComplete:x=!0,resetOnRefCountZero:j=!0}=V;return G=>{let k,Y,A,N=0,I=!1,T=!1;const W=()=>{Y?.unsubscribe(),Y=void 0},J=()=>{W(),k=A=void 0,I=T=!1},ne=()=>{const re=k;J(),re?.unsubscribe()};return(0,P.e)((re,me)=>{N++,!T&&!I&&W();const Pe=A=A??z();me.add(()=>{N--,0===N&&!T&&!I&&(Y=U(ne,j))}),Pe.subscribe(me),!k&&N>0&&(k=new w.Hp({next:_e=>Pe.next(_e),error:_e=>{T=!0,W(),Y=U(J,Q,_e),Pe.error(_e)},complete:()=>{I=!0,W(),Y=U(J,x),Pe.complete()}}),(0,s.Xf)(re).subscribe(k))})(G)}}function U(V,z,...Q){if(!0===z)return void V();if(!1===z)return;const x=new w.Hp({next:()=>{x.unsubscribe(),V()}});return z(...Q).subscribe(x)}},9468:(d,h,p)=>{"use strict";p.d(h,{R:()=>_});var s=p(4482);function _(w,P=0){return(0,s.e)((L,U)=>{U.add(w.schedule(()=>L.subscribe(U),P))})}},8505:(d,h,p)=>{"use strict";p.d(h,{b:()=>L});var s=p(576),_=p(4482),w=p(5403),P=p(4671);function L(U,V,z){const Q=(0,s.m)(U)||V||z?{next:U,error:V,complete:z}:U;return Q?(0,_.e)((x,j)=>{var G;null===(G=Q.subscribe)||void 0===G||G.call(Q);let k=!0;x.subscribe((0,w.x)(j,Y=>{var A;null===(A=Q.next)||void 0===A||A.call(Q,Y),j.next(Y)},()=>{var Y;k=!1,null===(Y=Q.complete)||void 0===Y||Y.call(Q),j.complete()},Y=>{var A;k=!1,null===(A=Q.error)||void 0===A||A.call(Q,Y),j.error(Y)},()=>{var Y,A;k&&(null===(Y=Q.unsubscribe)||void 0===Y||Y.call(Q)),null===(A=Q.finalize)||void 0===A||A.call(Q)}))}):P.y}},4408:(d,h,p)=>{"use strict";p.d(h,{o:()=>L});var s=p(727);class _ extends s.w0{constructor(V,z){super()}schedule(V,z=0){return this}}const w={setInterval(U,V,...z){const{delegate:Q}=w;return Q?.setInterval?Q.setInterval(U,V,...z):setInterval(U,V,...z)},clearInterval(U){const{delegate:V}=w;return(V?.clearInterval||clearInterval)(U)},delegate:void 0};var P=p(8737);class L extends _{constructor(V,z){super(V,z),this.scheduler=V,this.work=z,this.pending=!1}schedule(V,z=0){var Q;if(this.closed)return this;this.state=V;const x=this.id,j=this.scheduler;return null!=x&&(this.id=this.recycleAsyncId(j,x,z)),this.pending=!0,this.delay=z,this.id=null!==(Q=this.id)&&void 0!==Q?Q:this.requestAsyncId(j,this.id,z),this}requestAsyncId(V,z,Q=0){return w.setInterval(V.flush.bind(V,this),Q)}recycleAsyncId(V,z,Q=0){if(null!=Q&&this.delay===Q&&!1===this.pending)return z;null!=z&&w.clearInterval(z)}execute(V,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Q=this._execute(V,z);if(Q)return Q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(V,z){let x,Q=!1;try{this.work(V)}catch(j){Q=!0,x=j||new Error("Scheduled action threw falsy error")}if(Q)return this.unsubscribe(),x}unsubscribe(){if(!this.closed){const{id:V,scheduler:z}=this,{actions:Q}=z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P.P)(Q,this),null!=V&&(this.id=this.recycleAsyncId(z,V,null)),this.delay=null,super.unsubscribe()}}}},7565:(d,h,p)=>{"use strict";p.d(h,{v:()=>w});var s=p(6063);class _{constructor(L,U=_.now){this.schedulerActionCtor=L,this.now=U}schedule(L,U=0,V){return new this.schedulerActionCtor(this,L).schedule(V,U)}}_.now=s.l.now;class w extends _{constructor(L,U=_.now){super(L,U),this.actions=[],this._active=!1}flush(L){const{actions:U}=this;if(this._active)return void U.push(L);let V;this._active=!0;do{if(V=L.execute(L.state,L.delay))break}while(L=U.shift());if(this._active=!1,V){for(;L=U.shift();)L.unsubscribe();throw V}}}},4986:(d,h,p)=>{"use strict";p.d(h,{z:()=>w});var s=p(4408);const w=new(p(7565).v)(s.o)},6063:(d,h,p)=>{"use strict";p.d(h,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(d,h,p)=>{"use strict";p.d(h,{z:()=>s});const s={setTimeout(_,w,...P){const{delegate:L}=s;return L?.setTimeout?L.setTimeout(_,w,...P):setTimeout(_,w,...P)},clearTimeout(_){const{delegate:w}=s;return(w?.clearTimeout||clearTimeout)(_)},delegate:void 0}},2202:(d,h,p)=>{"use strict";p.d(h,{h:()=>_});const _=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(d,h,p)=>{"use strict";p.d(h,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(d,h,p)=>{"use strict";p.d(h,{_6:()=>U,jO:()=>P,yG:()=>L});var s=p(576);function w(V){return V[V.length-1]}function P(V){return(0,s.m)(w(V))?V.pop():void 0}function L(V){return function _(V){return V&&(0,s.m)(V.schedule)}(w(V))?V.pop():void 0}function U(V,z){return"number"==typeof w(V)?V.pop():z}},8737:(d,h,p)=>{"use strict";function s(_,w){if(_){const P=_.indexOf(w);0<=P&&_.splice(P,1)}}p.d(h,{P:()=>s})},3888:(d,h,p)=>{"use strict";function s(_){const P=_(L=>{Error.call(L),L.stack=(new Error).stack});return P.prototype=Object.create(Error.prototype),P.prototype.constructor=P,P}p.d(h,{d:()=>s})},2806:(d,h,p)=>{"use strict";p.d(h,{O:()=>P,x:()=>w});var s=p(2416);let _=null;function w(L){if(s.v.useDeprecatedSynchronousErrorHandling){const U=!_;if(U&&(_={errorThrown:!1,error:null}),L(),U){const{errorThrown:V,error:z}=_;if(_=null,V)throw z}}else L()}function P(L){s.v.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=L)}},9672:(d,h,p)=>{"use strict";function s(_,w,P,L=0,U=!1){const V=w.schedule(function(){P(),U?_.add(this.schedule(null,L)):this.unsubscribe()},L);if(_.add(V),!U)return V}p.d(h,{f:()=>s})},4671:(d,h,p)=>{"use strict";function s(_){return _}p.d(h,{y:()=>s})},1144:(d,h,p)=>{"use strict";p.d(h,{z:()=>s});const s=_=>_&&"number"==typeof _.length&&"function"!=typeof _},2206:(d,h,p)=>{"use strict";p.d(h,{D:()=>_});var s=p(576);function _(w){return Symbol.asyncIterator&&(0,s.m)(w?.[Symbol.asyncIterator])}},576:(d,h,p)=>{"use strict";function s(_){return"function"==typeof _}p.d(h,{m:()=>s})},3670:(d,h,p)=>{"use strict";p.d(h,{c:()=>w});var s=p(8822),_=p(576);function w(P){return(0,_.m)(P[s.L])}},6495:(d,h,p)=>{"use strict";p.d(h,{T:()=>w});var s=p(2202),_=p(576);function w(P){return(0,_.m)(P?.[s.h])}},8239:(d,h,p)=>{"use strict";p.d(h,{t:()=>_});var s=p(576);function _(w){return(0,s.m)(w?.then)}},3260:(d,h,p)=>{"use strict";p.d(h,{L:()=>P,Q:()=>w});var s=p(655),_=p(576);function w(L){return(0,s.FC)(this,arguments,function*(){const V=L.getReader();try{for(;;){const{value:z,done:Q}=yield(0,s.qq)(V.read());if(Q)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(z)}}finally{V.releaseLock()}})}function P(L){return(0,_.m)(L?.getReader)}},4482:(d,h,p)=>{"use strict";p.d(h,{A:()=>_,e:()=>w});var s=p(576);function _(P){return(0,s.m)(P?.lift)}function w(P){return L=>{if(_(L))return L.lift(function(U){try{return P(U,this)}catch(V){this.error(V)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(d,h,p)=>{"use strict";function s(){}p.d(h,{Z:()=>s})},9635:(d,h,p)=>{"use strict";p.d(h,{U:()=>w,z:()=>_});var s=p(4671);function _(...P){return w(P)}function w(P){return 0===P.length?s.y:1===P.length?P[0]:function(U){return P.reduce((V,z)=>z(V),U)}}},7849:(d,h,p)=>{"use strict";p.d(h,{h:()=>w});var s=p(2416),_=p(3410);function w(P){_.z.setTimeout(()=>{const{onUnhandledError:L}=s.v;if(!L)throw P;L(P)})}},4532:(d,h,p)=>{"use strict";function s(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}p.d(h,{z:()=>s})},2454:function(d){d.exports=function(){"use strict";function h(M,B){return function _(M,B){return B.get?B.get.call(M):B.value}(M,s(M,B,"get"))}function p(M,B,X){return function w(M,B,X){if(B.set)B.set.call(M,X);else{if(!B.writable)throw new TypeError("attempted to set read only private field");B.value=X}}(M,s(M,B,"set"),X),X}function s(M,B,X){if(!B.has(M))throw new TypeError("attempted to "+X+" private field on non-instance");return B.get(M)}function L(M,B,X){(function P(M,B){if(B.has(M))throw new TypeError("Cannot initialize the same private elements twice on an object")})(M,B),B.set(M,X)}const V={},Q=M=>new Promise(B=>{if(!M)return B();const X=window.scrollX,be=window.scrollY;V.restoreFocusTimeout=setTimeout(()=>{V.previousActiveElement instanceof HTMLElement?(V.previousActiveElement.focus(),V.previousActiveElement=null):document.body&&document.body.focus(),B()},100),window.scrollTo(X,be)});var x={innerParams:new WeakMap,domCache:new WeakMap};const j="swal2-",k=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((M,B)=>(M[B]=j+B,M),{}),A=["success","warning","info","question","error"].reduce((M,B)=>(M[B]=j+B,M),{}),N="SweetAlert2:",I=M=>M.charAt(0).toUpperCase()+M.slice(1),T=M=>{console.warn("".concat(N," ").concat("object"==typeof M?M.join(" "):M))},W=M=>{console.error("".concat(N," ").concat(M))},J=[],re=(M,B)=>{(M=>{J.includes(M)||(J.push(M),T(M))})('"'.concat(M,'" is deprecated and will be removed in the next major release. Please use "').concat(B,'" instead.'))},me=M=>"function"==typeof M?M():M,Pe=M=>M&&"function"==typeof M.toPromise,_e=M=>Pe(M)?M.toPromise():Promise.resolve(M),ve=M=>M&&Promise.resolve(M)===M,Ie=()=>document.body.querySelector(".".concat(k.container)),Ee=M=>{const B=Ie();return B?B.querySelector(M):null},de=M=>Ee(".".concat(M)),se=()=>de(k.popup),ee=()=>de(k.icon),ue=()=>de(k.title),Re=()=>de(k["html-container"]),Oe=()=>de(k.image),Ye=()=>de(k["progress-steps"]),$e=()=>de(k["validation-message"]),ot=()=>Ee(".".concat(k.actions," .").concat(k.confirm)),Ot=()=>Ee(".".concat(k.actions," .").concat(k.cancel)),yt=()=>Ee(".".concat(k.actions," .").concat(k.deny)),At=()=>Ee(".".concat(k.loader)),Et=()=>de(k.actions),En=()=>de(k.footer),In=()=>de(k["timer-progress-bar"]),Dn=()=>de(k.close),_n=()=>{const M=se();if(!M)return[];const B=M.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),X=Array.from(B).sort((St,rn)=>{const rr=parseInt(St.getAttribute("tabindex")||"0"),Yn=parseInt(rn.getAttribute("tabindex")||"0");return rr>Yn?1:rr<Yn?-1:0}),be=M.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),je=Array.from(be).filter(St=>"-1"!==St.getAttribute("tabindex"));return[...new Set(X.concat(je))].filter(St=>xn(St))},or=()=>Bn(document.body,k.shown)&&!Bn(document.body,k["toast-shown"])&&!Bn(document.body,k["no-backdrop"]),zn=()=>{const M=se();return!!M&&Bn(M,k.toast)},Sn=(M,B)=>{if(M.textContent="",B){const be=(new DOMParser).parseFromString(B,"text/html"),je=be.querySelector("head");je&&Array.from(je.childNodes).forEach(rn=>{M.appendChild(rn)});const St=be.querySelector("body");St&&Array.from(St.childNodes).forEach(rn=>{rn instanceof HTMLVideoElement||rn instanceof HTMLAudioElement?M.appendChild(rn.cloneNode(!0)):M.appendChild(rn)})}},Bn=(M,B)=>{if(!B)return!1;const X=B.split(/\s+/);for(let be=0;be<X.length;be++)if(!M.classList.contains(X[be]))return!1;return!0},Xt=(M,B,X)=>{if(((M,B)=>{Array.from(M.classList).forEach(X=>{!Object.values(k).includes(X)&&!Object.values(A).includes(X)&&!Object.values(B.showClass||{}).includes(X)&&M.classList.remove(X)})})(M,B),B.customClass&&B.customClass[X]){if("string"!=typeof B.customClass[X]&&!B.customClass[X].forEach)return void T("Invalid type of customClass.".concat(X,'! Expected string or iterable object, got "').concat(typeof B.customClass[X],'"'));Gt(M,B.customClass[X])}},kn=(M,B)=>{if(!B)return null;switch(B){case"select":case"textarea":case"file":return M.querySelector(".".concat(k.popup," > .").concat(k[B]));case"checkbox":return M.querySelector(".".concat(k.popup," > .").concat(k.checkbox," input"));case"radio":return M.querySelector(".".concat(k.popup," > .").concat(k.radio," input:checked"))||M.querySelector(".".concat(k.popup," > .").concat(k.radio," input:first-child"));case"range":return M.querySelector(".".concat(k.popup," > .").concat(k.range," input"));default:return M.querySelector(".".concat(k.popup," > .").concat(k.input))}},vn=M=>{if(M.focus(),"file"!==M.type){const B=M.value;M.value="",M.value=B}},Ln=(M,B,X)=>{!M||!B||("string"==typeof B&&(B=B.split(/\s+/).filter(Boolean)),B.forEach(be=>{Array.isArray(M)?M.forEach(je=>{X?je.classList.add(be):je.classList.remove(be)}):X?M.classList.add(be):M.classList.remove(be)}))},Gt=(M,B)=>{Ln(M,B,!0)},$t=(M,B)=>{Ln(M,B,!1)},ln=(M,B)=>{const X=Array.from(M.children);for(let be=0;be<X.length;be++){const je=X[be];if(je instanceof HTMLElement&&Bn(je,B))return je}},dn=(M,B,X)=>{X==="".concat(parseInt(X))&&(X=parseInt(X)),X||0===parseInt(X)?M.style[B]="number"==typeof X?"".concat(X,"px"):X:M.style.removeProperty(B)},ct=function(M){M&&(M.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},mt=M=>{M&&(M.style.display="none")},zt=(M,B,X,be)=>{const je=M.querySelector(B);je&&(je.style[X]=be)},Mr=function(M,B){B?ct(M,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):mt(M)},xn=M=>!(!M||!(M.offsetWidth||M.offsetHeight||M.getClientRects().length)),Ut=M=>M.scrollHeight>M.clientHeight,Fr=M=>{const B=window.getComputedStyle(M),X=parseFloat(B.getPropertyValue("animation-duration")||"0"),be=parseFloat(B.getPropertyValue("transition-duration")||"0");return X>0||be>0},Kt=function(M){let B=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const X=In();!X||xn(X)&&(B&&(X.style.transition="none",X.style.width="100%"),setTimeout(()=>{X.style.transition="width ".concat(M/1e3,"s linear"),X.style.width="0%"},10))},pn=()=>typeof window>"u"||typeof document>"u",br='\n <div aria-labelledby="'.concat(k.title,'" aria-describedby="').concat(k["html-container"],'" class="').concat(k.popup,'" tabindex="-1">\n   <button type="button" class="').concat(k.close,'"></button>\n   <ul class="').concat(k["progress-steps"],'"></ul>\n   <div class="').concat(k.icon,'"></div>\n   <img class="').concat(k.image,'" />\n   <h2 class="').concat(k.title,'" id="').concat(k.title,'"></h2>\n   <div class="').concat(k["html-container"],'" id="').concat(k["html-container"],'"></div>\n   <input class="').concat(k.input,'" id="').concat(k.input,'" />\n   <input type="file" class="').concat(k.file,'" />\n   <div class="').concat(k.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(k.select,'" id="').concat(k.select,'"></select>\n   <div class="').concat(k.radio,'"></div>\n   <label class="').concat(k.checkbox,'">\n     <input type="checkbox" id="').concat(k.checkbox,'" />\n     <span class="').concat(k.label,'"></span>\n   </label>\n   <textarea class="').concat(k.textarea,'" id="').concat(k.textarea,'"></textarea>\n   <div class="').concat(k["validation-message"],'" id="').concat(k["validation-message"],'"></div>\n   <div class="').concat(k.actions,'">\n     <div class="').concat(k.loader,'"></div>\n     <button type="button" class="').concat(k.confirm,'"></button>\n     <button type="button" class="').concat(k.deny,'"></button>\n     <button type="button" class="').concat(k.cancel,'"></button>\n   </div>\n   <div class="').concat(k.footer,'"></div>\n   <div class="').concat(k["timer-progress-bar-container"],'">\n     <div class="').concat(k["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ft=()=>{V.currentInstance.resetValidationMessage()},bn=M=>{const B=(()=>{const M=Ie();return!!M&&(M.remove(),$t([document.documentElement,document.body],[k["no-backdrop"],k["toast-shown"],k["has-column"]]),!0)})();if(pn())return void W("SweetAlert2 requires document to initialize");const X=document.createElement("div");X.className=k.container,B&&Gt(X,k["no-transition"]),Sn(X,br);const be=(M=>"string"==typeof M?document.querySelector(M):M)(M.target);be.appendChild(X),(M=>{const B=se();B.setAttribute("role",M.toast?"alert":"dialog"),B.setAttribute("aria-live",M.toast?"polite":"assertive"),M.toast||B.setAttribute("aria-modal","true")})(M),(M=>{"rtl"===window.getComputedStyle(M).direction&&Gt(Ie(),k.rtl)})(be),(()=>{const M=se(),B=ln(M,k.input),X=ln(M,k.file),be=M.querySelector(".".concat(k.range," input")),je=M.querySelector(".".concat(k.range," output")),St=ln(M,k.select),rn=M.querySelector(".".concat(k.checkbox," input")),rr=ln(M,k.textarea);B.oninput=ft,X.onchange=ft,St.onchange=ft,rn.onchange=ft,rr.oninput=ft,be.oninput=()=>{ft(),je.value=be.value},be.onchange=()=>{ft(),je.value=be.value}})()},Ae=(M,B)=>{M instanceof HTMLElement?B.appendChild(M):"object"==typeof M?Te(M,B):M&&Sn(B,M)},Te=(M,B)=>{M.jquery?xe(B,M):Sn(B,M.toString())},xe=(M,B)=>{if(M.textContent="",0 in B)for(let X=0;X in B;X++)M.appendChild(B[X].cloneNode(!0));else M.appendChild(B.cloneNode(!0))},Ce=(()=>{if(pn())return!1;const M=document.createElement("div");return typeof M.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof M.style.animation<"u"&&"animationend"})(),le=(M,B)=>{const X=Et(),be=At();!X||!be||(B.showConfirmButton||B.showDenyButton||B.showCancelButton?ct(X):mt(X),Xt(X,B,"actions"),function ye(M,B,X){const be=ot(),je=yt(),St=Ot();!be||!je||!St||(Qe(be,"confirm",X),Qe(je,"deny",X),Qe(St,"cancel",X),function Fe(M,B,X,be){be.buttonsStyling?(Gt([M,B,X],k.styled),be.confirmButtonColor&&(M.style.backgroundColor=be.confirmButtonColor,Gt(M,k["default-outline"])),be.denyButtonColor&&(B.style.backgroundColor=be.denyButtonColor,Gt(B,k["default-outline"])),be.cancelButtonColor&&(X.style.backgroundColor=be.cancelButtonColor,Gt(X,k["default-outline"]))):$t([M,B,X],k.styled)}(be,je,St,X),X.reverseButtons&&(X.toast?(M.insertBefore(St,be),M.insertBefore(je,be)):(M.insertBefore(St,B),M.insertBefore(je,B),M.insertBefore(be,B))))}(X,be,B),Sn(be,B.loaderHtml||""),Xt(be,B,"loader"))};function Qe(M,B,X){const be=I(B);Mr(M,X["show".concat(be,"Button")],"inline-block"),Sn(M,X["".concat(B,"ButtonText")]||""),M.setAttribute("aria-label",X["".concat(B,"ButtonAriaLabel")]||""),M.className=k[B],Xt(M,X,"".concat(B,"Button"))}const bt=(M,B)=>{const X=Ie();!X||(function We(M,B){"string"==typeof B?M.style.background=B:B||Gt([document.documentElement,document.body],k["no-backdrop"])}(X,B.backdrop),function et(M,B){!B||(B in k?Gt(M,k[B]):(T('The "position" parameter is not valid, defaulting to "center"'),Gt(M,k.center)))}(X,B.position),function Yt(M,B){!B||Gt(M,k["grow-".concat(B)])}(X,B.grow),Xt(X,B,"container"))};const Un=["input","file","range","select","radio","checkbox","textarea"],Hn=M=>{if(!M.input)return;if(!kr[M.input])return void W('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(M.input,'"'));const B=Ds(M.input),X=kr[M.input](B,M);ct(B),M.inputAutoFocus&&setTimeout(()=>{vn(X)})},Kn=(M,B)=>{const X=kn(se(),M);if(X){(M=>{for(let B=0;B<M.attributes.length;B++){const X=M.attributes[B].name;["id","type","value","style"].includes(X)||M.removeAttribute(X)}})(X);for(const be in B)X.setAttribute(be,B[be])}},qs=M=>{const B=Ds(M.input);"object"==typeof M.customClass&&Gt(B,M.customClass.input)},As=(M,B)=>{(!M.placeholder||B.inputPlaceholder)&&(M.placeholder=B.inputPlaceholder)},Tt=(M,B,X)=>{if(X.inputLabel){const be=document.createElement("label"),je=k["input-label"];be.setAttribute("for",M.id),be.className=je,"object"==typeof X.customClass&&Gt(be,X.customClass.inputLabel),be.innerText=X.inputLabel,B.insertAdjacentElement("beforebegin",be)}},Ds=M=>ln(se(),k[M]||k.input),Bi=(M,B)=>{["string","number"].includes(typeof B)?M.value="".concat(B):ve(B)||T('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof B,'"'))},kr={};kr.text=kr.email=kr.password=kr.number=kr.tel=kr.url=(M,B)=>(Bi(M,B.inputValue),Tt(M,M,B),As(M,B),M.type=B.input,M),kr.file=(M,B)=>(Tt(M,M,B),As(M,B),M),kr.range=(M,B)=>{const X=M.querySelector("input"),be=M.querySelector("output");return Bi(X,B.inputValue),X.type=B.input,Bi(be,B.inputValue),Tt(X,M,B),M},kr.select=(M,B)=>{if(M.textContent="",B.inputPlaceholder){const X=document.createElement("option");Sn(X,B.inputPlaceholder),X.value="",X.disabled=!0,X.selected=!0,M.appendChild(X)}return Tt(M,M,B),M},kr.radio=M=>(M.textContent="",M),kr.checkbox=(M,B)=>{const X=kn(se(),"checkbox");X.value="1",X.checked=Boolean(B.inputValue);const be=M.querySelector("span");return Sn(be,B.inputPlaceholder),X},kr.textarea=(M,B)=>{Bi(M,B.inputValue),As(M,B),Tt(M,M,B);return setTimeout(()=>{if("MutationObserver"in window){const be=parseInt(window.getComputedStyle(se()).width);new MutationObserver(()=>{if(!document.body.contains(M))return;const St=M.offsetWidth+(be=>parseInt(window.getComputedStyle(be).marginLeft)+parseInt(window.getComputedStyle(be).marginRight))(M);St>be?se().style.width="".concat(St,"px"):dn(se(),"width",B.width)}).observe(M,{attributes:!0,attributeFilter:["style"]})}}),M};const os=(M,B)=>{const X=Re();!X||(Xt(X,B,"htmlContainer"),B.html?(Ae(B.html,X),ct(X,"block")):B.text?(X.textContent=B.text,ct(X,"block")):mt(X),((M,B)=>{const X=se();if(!X)return;const be=x.innerParams.get(M),je=!be||B.input!==be.input;Un.forEach(St=>{const rn=ln(X,k[St]);!rn||(Kn(St,B.inputAttributes),rn.className=k[St],je&&mt(rn))}),B.input&&(je&&Hn(B),qs(B))})(M,B))},Jr=(M,B)=>{for(const[X,be]of Object.entries(A))B.icon!==X&&$t(M,be);Gt(M,B.icon&&A[B.icon]),Ru(M,B),mi(),Xt(M,B,"icon")},mi=()=>{const M=se();if(!M)return;const B=window.getComputedStyle(M).getPropertyValue("background-color"),X=M.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let be=0;be<X.length;be++)X[be].style.backgroundColor=B},On=(M,B)=>{if(!B.icon&&!B.iconHtml)return;let X=M.innerHTML,be="";B.iconHtml?be=Eo(B.iconHtml):"success"===B.icon?(be='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',X=X.replace(/ style=".*?"/g,"")):"error"===B.icon?be='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':B.icon&&(be=Eo({question:"?",warning:"!",info:"i"}[B.icon])),X.trim()!==be.trim()&&Sn(M,be)},Ru=(M,B)=>{if(B.iconColor){M.style.color=B.iconColor,M.style.borderColor=B.iconColor;for(const X of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])zt(M,X,"backgroundColor",B.iconColor);zt(M,".swal2-success-ring","borderColor",B.iconColor)}},Eo=M=>'<div class="'.concat(k["icon-content"],'">').concat(M,"</div>"),gi=(M,B)=>{const X=B.showClass||{};M.className="".concat(k.popup," ").concat(xn(M)?X.popup:""),B.toast?(Gt([document.documentElement,document.body],k["toast-shown"]),Gt(M,k.toast)):Gt(M,k.modal),Xt(M,B,"popup"),"string"==typeof B.customClass&&Gt(M,B.customClass),B.icon&&Gt(M,k["icon-".concat(B.icon)])},as=M=>{const B=document.createElement("li");return Gt(B,k["progress-step"]),Sn(B,M),B},jn=M=>{const B=document.createElement("li");return Gt(B,k["progress-step-line"]),M.progressStepsDistance&&dn(B,"width",M.progressStepsDistance),B},mr=(M,B)=>{((M,B)=>{const X=Ie(),be=se();if(X&&be){if(B.toast){dn(X,"width",B.width),be.style.width="100%";const je=At();je&&be.insertBefore(je,ee())}else dn(be,"width",B.width);dn(be,"padding",B.padding),B.color&&(be.style.color=B.color),B.background&&(be.style.background=B.background),mt($e()),gi(be,B)}})(0,B),bt(0,B),((M,B)=>{const X=Ye();if(!X)return;const{progressSteps:be,currentProgressStep:je}=B;be&&0!==be.length&&void 0!==je?(ct(X),X.textContent="",je>=be.length&&T("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),be.forEach((St,rn)=>{const rr=as(St);if(X.appendChild(rr),rn===je&&Gt(rr,k["active-progress-step"]),rn!==be.length-1){const Yn=jn(B);X.appendChild(Yn)}})):mt(X)})(0,B),((M,B)=>{const X=x.innerParams.get(M),be=ee();if(be){if(X&&B.icon===X.icon)return On(be,B),void Jr(be,B);if(!B.icon&&!B.iconHtml)return void mt(be);if(B.icon&&-1===Object.keys(A).indexOf(B.icon))return W('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(B.icon,'"')),void mt(be);ct(be),On(be,B),Jr(be,B),Gt(be,B.showClass&&B.showClass.icon)}})(M,B),((M,B)=>{const X=Oe();if(X){if(!B.imageUrl)return void mt(X);ct(X,""),X.setAttribute("src",B.imageUrl),X.setAttribute("alt",B.imageAlt||""),dn(X,"width",B.imageWidth),dn(X,"height",B.imageHeight),X.className=k.image,Xt(X,B,"image")}})(0,B),((M,B)=>{const X=ue();!X||(Mr(X,B.title||B.titleText,"block"),B.title&&Ae(B.title,X),B.titleText&&(X.innerText=B.titleText),Xt(X,B,"title"))})(0,B),((M,B)=>{const X=Dn();!X||(Sn(X,B.closeButtonHtml||""),Xt(X,B,"closeButton"),Mr(X,B.showCloseButton),X.setAttribute("aria-label",B.closeButtonAriaLabel||""))})(0,B),os(M,B),le(0,B),((M,B)=>{const X=En();!X||(Mr(X,B.footer,"block"),B.footer&&Ae(B.footer,X),Xt(X,B,"footer"))})(0,B);const X=se();"function"==typeof B.didRender&&X&&B.didRender(X)},ls=()=>{var M;return null===(M=ot())||void 0===M?void 0:M.click()},Cr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),qa=M=>{M.keydownTarget&&M.keydownHandlerAdded&&(M.keydownTarget.removeEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!1)},So=(M,B)=>{const X=_n();if(X.length)return(M+=B)===X.length?M=0:-1===M&&(M=X.length-1),void X[M].focus();se().focus()},Ys=["ArrowRight","ArrowDown"],Qs=["ArrowLeft","ArrowUp"],_i=(M,B,X)=>{const be=x.innerParams.get(M);!be||B.isComposing||229===B.keyCode||(be.stopKeydownPropagation&&B.stopPropagation(),"Enter"===B.key?Zd(M,B,be):"Tab"===B.key?cs(B):[...Ys,...Qs].includes(B.key)?Kd(B.key):"Escape"===B.key&&Pc(B,be,X))},Zd=(M,B,X)=>{if(me(X.allowEnterKey)&&B.target&&M.getInput()&&B.target instanceof HTMLElement&&B.target.outerHTML===M.getInput().outerHTML){if(["textarea","file"].includes(X.input))return;ls(),B.preventDefault()}},cs=M=>{const B=M.target,X=_n();let be=-1;for(let je=0;je<X.length;je++)if(B===X[je]){be=je;break}So(be,M.shiftKey?-1:1),M.stopPropagation(),M.preventDefault()},Kd=M=>{const B=ot(),X=yt(),be=Ot();if(document.activeElement instanceof HTMLElement&&![B,X,be].includes(document.activeElement))return;const St=Ys.includes(M)?"nextElementSibling":"previousElementSibling";let rn=document.activeElement;for(let rr=0;rr<Et().children.length;rr++){if(rn=rn[St],!rn)return;if(rn instanceof HTMLButtonElement&&xn(rn))break}rn instanceof HTMLButtonElement&&rn.focus()},Pc=(M,B,X)=>{me(B.allowEscapeKey)&&(M.preventDefault(),X(Cr.esc))};var Wa={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Js=()=>{Array.from(document.body.children).forEach(B=>{B.hasAttribute("data-previous-aria-hidden")?(B.setAttribute("aria-hidden",B.getAttribute("data-previous-aria-hidden")||""),B.removeAttribute("data-previous-aria-hidden")):B.removeAttribute("aria-hidden")})},Gl=typeof window<"u"&&!!window.GestureEvent,Qd=()=>{const M=Ie();if(!M)return;let B;M.ontouchstart=X=>{B=Mc(X)},M.ontouchmove=X=>{B&&(X.preventDefault(),X.stopPropagation())}},Mc=M=>{const B=M.target,X=Ie(),be=Re();return!(!X||!be||To(M)||kc(M)||B!==X&&(Ut(X)||!(B instanceof HTMLElement)||"INPUT"===B.tagName||"TEXTAREA"===B.tagName||Ut(be)&&be.contains(B)))},To=M=>M.touches&&M.touches.length&&"stylus"===M.touches[0].touchType,kc=M=>M.touches&&M.touches.length>1;let Za=null;const Ka=M=>{null===Za&&(document.body.scrollHeight>window.innerHeight||"scroll"===M)&&(Za=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Za+(()=>{const M=document.createElement("div");M.className=k["scrollbar-measure"],document.body.appendChild(M);const B=M.getBoundingClientRect().width-M.clientWidth;return document.body.removeChild(M),B})(),"px"))};function Xs(M,B,X,be){zn()?Ui(M,be):(Q(X).then(()=>Ui(M,be)),qa(V)),Gl?(B.setAttribute("style","display:none !important"),B.removeAttribute("class"),B.innerHTML=""):B.remove(),or()&&(null!==Za&&(document.body.style.paddingRight="".concat(Za,"px"),Za=null),(()=>{if(Bn(document.body,k.iosfix)){const M=parseInt(document.body.style.top,10);$t(document.body,k.iosfix),document.body.style.top="",document.body.scrollTop=-1*M}})(),Js()),function xs(){$t([document.documentElement,document.body],[k.shown,k["height-auto"],k["no-backdrop"],k["toast-shown"]])}()}function us(M){M=Do(M);const B=Wa.swalPromiseResolve.get(this),X=Ya(this);this.isAwaitingPromise?M.isDismissed||(Ao(this),B(M)):X&&B(M)}const Ya=M=>{const B=se();if(!B)return!1;const X=x.innerParams.get(M);if(!X||Bn(B,X.hideClass.popup))return!1;$t(B,X.showClass.popup),Gt(B,X.hideClass.popup);const be=Ie();return $t(be,X.showClass.backdrop),Gt(be,X.hideClass.backdrop),$l(M,B,X),!0};function Qa(M){const B=Wa.swalPromiseReject.get(this);Ao(this),B&&B(M)}const Ao=M=>{M.isAwaitingPromise&&(delete M.isAwaitingPromise,x.innerParams.get(M)||M._destroy())},Do=M=>typeof M>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},M),$l=(M,B,X)=>{const be=Ie(),je=Ce&&Fr(B);"function"==typeof X.willClose&&X.willClose(B),je?vi(M,B,be,X.returnFocus,X.didClose):Xs(M,be,X.returnFocus,X.didClose)},vi=(M,B,X,be,je)=>{!Ce||(V.swalCloseEventFinishedCallback=Xs.bind(null,M,X,be,je),B.addEventListener(Ce,function(St){St.target===B&&(V.swalCloseEventFinishedCallback(),delete V.swalCloseEventFinishedCallback)}))},Ui=(M,B)=>{setTimeout(()=>{"function"==typeof B&&B.bind(M.params)(),M._destroy&&M._destroy()})},Er=M=>{let B=se();if(B||new Sa,B=se(),!B)return;const X=At();zn()?mt(ee()):eo(B,M),ct(X),B.setAttribute("data-loading","true"),B.setAttribute("aria-busy","true"),B.focus()},eo=(M,B)=>{const X=Et(),be=At();!X||!be||(!B&&xn(ot())&&(B=ot()),ct(X),B&&(mt(B),be.setAttribute("data-button-to-replace",B.className),X.insertBefore(be,B)),Gt([M,X],k.loading))},Jd=M=>M.checked?1:0,zl=M=>M.checked?M.value:null,ar=M=>M.files&&M.files.length?null!==M.getAttribute("multiple")?M.files:M.files[0]:null,Rc=(M,B)=>{const X=se();if(!X)return;const be=je=>{"select"===B.input?function Ii(M,B,X){const be=ln(M,k.select);if(!be)return;const je=(St,rn,rr)=>{const Yn=document.createElement("option");Yn.value=rr,Sn(Yn,rn),Yn.selected=no(rr,X.inputValue),St.appendChild(Yn)};B.forEach(St=>{const rn=St[0],rr=St[1];if(Array.isArray(rr)){const Yn=document.createElement("optgroup");Yn.label=rn,Yn.disabled=!1,be.appendChild(Yn),rr.forEach(bi=>je(Yn,bi[1],bi[0]))}else je(be,rr,rn)}),be.focus()}(X,to(je),B):"radio"===B.input&&function Vr(M,B,X){const be=ln(M,k.radio);if(!be)return;B.forEach(St=>{const rn=St[0],rr=St[1],Yn=document.createElement("input"),bi=document.createElement("label");Yn.type="radio",Yn.name=k.radio,Yn.value=rn,no(rn,X.inputValue)&&(Yn.checked=!0);const Rs=document.createElement("span");Sn(Rs,rr),Rs.className=k.label,bi.appendChild(Yn),bi.appendChild(Rs),be.appendChild(bi)});const je=be.querySelectorAll("input");je.length&&je[0].focus()}(X,to(je),B)};Pe(B.inputOptions)||ve(B.inputOptions)?(Er(ot()),_e(B.inputOptions).then(je=>{M.hideLoading(),be(je)})):"object"==typeof B.inputOptions?be(B.inputOptions):W("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof B.inputOptions))},Fu=(M,B)=>{const X=M.getInput();!X||(mt(X),_e(B.inputValue).then(be=>{X.value="".concat("number"===B.input?parseFloat(be)||0:be),ct(X),X.focus(),M.hideLoading()}).catch(be=>{W("Error in inputValue promise: ".concat(be)),X.value="",ct(X),X.focus(),M.hideLoading()}))};const to=M=>{const B=[];return M instanceof Map?M.forEach((X,be)=>{let je=X;"object"==typeof je&&(je=to(je)),B.push([be,je])}):Object.keys(M).forEach(X=>{let be=M[X];"object"==typeof be&&(be=to(be)),B.push([X,be])}),B},no=(M,B)=>!!B&&B.toString()===M.toString(),ds=(M,B)=>{const X=x.innerParams.get(M);if(!X.input)return void W('The "input" parameter is needed to be set when using returnInputValueOn'.concat(I(B)));const be=M.getInput(),je=((M,B)=>{const X=M.getInput();if(!X)return null;switch(B.input){case"checkbox":return Jd(X);case"radio":return zl(X);case"file":return ar(X);default:return B.inputAutoTrim?X.value.trim():X.value}})(M,X);X.inputValidator?Wl(M,je,B):be&&!be.checkValidity()?(M.enableButtons(),M.showValidationMessage(X.validationMessage)):"deny"===B?Xr(M,je):qt(M,je)},Wl=(M,B,X)=>{const be=x.innerParams.get(M);M.disableInput(),Promise.resolve().then(()=>_e(be.inputValidator(B,be.validationMessage))).then(St=>{M.enableButtons(),M.enableInput(),St?M.showValidationMessage(St):"deny"===X?Xr(M,B):qt(M,B)})},Xr=(M,B)=>{const X=x.innerParams.get(M||void 0);X.showLoaderOnDeny&&Er(yt()),X.preDeny?(M.isAwaitingPromise=!0,Promise.resolve().then(()=>_e(X.preDeny(B,X.validationMessage))).then(je=>{!1===je?(M.hideLoading(),Ao(M)):M.close({isDenied:!0,value:typeof je>"u"?B:je})}).catch(je=>lr(M||void 0,je))):M.close({isDenied:!0,value:B})},Po=(M,B)=>{M.close({isConfirmed:!0,value:B})},lr=(M,B)=>{M.rejectPromise(B)},qt=(M,B)=>{const X=x.innerParams.get(M||void 0);X.showLoaderOnConfirm&&Er(),X.preConfirm?(M.resetValidationMessage(),M.isAwaitingPromise=!0,Promise.resolve().then(()=>_e(X.preConfirm(B,X.validationMessage))).then(je=>{xn($e())||!1===je?(M.hideLoading(),Ao(M)):Po(M,typeof je>"u"?B:je)}).catch(je=>lr(M||void 0,je))):Po(M,B)};function Ps(){const M=x.innerParams.get(this);if(!M)return;const B=x.domCache.get(this);mt(B.loader),zn()?M.icon&&ct(ee()):Xd(B),$t([B.popup,B.actions],k.loading),B.popup.removeAttribute("aria-busy"),B.popup.removeAttribute("data-loading"),B.confirmButton.disabled=!1,B.denyButton.disabled=!1,B.cancelButton.disabled=!1}const Xd=M=>{const B=M.popup.getElementsByClassName(M.loader.getAttribute("data-button-to-replace"));B.length?ct(B[0],"inline-block"):!xn(ot())&&!xn(yt())&&!xn(Ot())&&mt(M.actions)};function Mo(){const M=x.innerParams.get(this),B=x.domCache.get(this);return B?kn(B.popup,M.input):null}function Zl(M,B,X){const be=x.domCache.get(M);B.forEach(je=>{be[je].disabled=X})}function ko(M,B){const X=se();if(X&&M)if("radio"===M.type){const be=X.querySelectorAll('[name="'.concat(k.radio,'"]'));for(let je=0;je<be.length;je++)be[je].disabled=B}else M.disabled=B}function Ms(){Zl(this,["confirmButton","denyButton","cancelButton"],!1)}function Oo(){Zl(this,["confirmButton","denyButton","cancelButton"],!0)}function ro(){ko(this.getInput(),!1)}function Ke(){ko(this.getInput(),!0)}function hn(M){const B=x.domCache.get(this),X=x.innerParams.get(this);Sn(B.validationMessage,M),B.validationMessage.className=k["validation-message"],X.customClass&&X.customClass.validationMessage&&Gt(B.validationMessage,X.customClass.validationMessage),ct(B.validationMessage);const be=this.getInput();be&&(be.setAttribute("aria-invalid",!0),be.setAttribute("aria-describedby",k["validation-message"]),vn(be),Gt(be,k.inputerror))}function Nc(){const M=x.domCache.get(this);M.validationMessage&&mt(M.validationMessage);const B=this.getInput();B&&(B.removeAttribute("aria-invalid"),B.removeAttribute("aria-describedby"),$t(B,k.inputerror))}const Ai={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},_r=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ro={},Ja=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],zr=M=>Object.prototype.hasOwnProperty.call(Ai,M),fa=M=>-1!==_r.indexOf(M),io=M=>Ro[M],Lu=M=>{zr(M)||T('Unknown parameter "'.concat(M,'"'))},pa=M=>{Ja.includes(M)&&T('The parameter "'.concat(M,'" is incompatible with toasts'))},eh=M=>{const B=io(M);B&&re(M,B)};function gr(M){const B=se(),X=x.innerParams.get(this);if(!B||Bn(B,X.hideClass.popup))return void T("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const be=ji(M),je=Object.assign({},X,be);mr(this,je),x.innerParams.set(this,je),Object.defineProperties(this,{params:{value:Object.assign({},this.params,M),writable:!1,enumerable:!0}})}const ji=M=>{const B={};return Object.keys(M).forEach(X=>{fa(X)?B[X]=M[X]:T("Invalid parameter to update: ".concat(X))}),B};function No(){const M=x.domCache.get(this),B=x.innerParams.get(this);B?(M.popup&&V.swalCloseEventFinishedCallback&&(V.swalCloseEventFinishedCallback(),delete V.swalCloseEventFinishedCallback),"function"==typeof B.didDestroy&&B.didDestroy(),ma(this)):Gi(this)}const ma=M=>{Gi(M),delete M.params,delete V.keydownHandler,delete V.keydownTarget,delete V.currentInstance},Gi=M=>{M.isAwaitingPromise?(Xa(x,M),M.isAwaitingPromise=!0):(Xa(Wa,M),Xa(x,M),delete M.isAwaitingPromise,delete M.disableButtons,delete M.enableButtons,delete M.getInput,delete M.disableInput,delete M.enableInput,delete M.hideLoading,delete M.disableLoading,delete M.showValidationMessage,delete M.resetValidationMessage,delete M.close,delete M.closePopup,delete M.closeModal,delete M.closeToast,delete M.rejectPromise,delete M.update,delete M._destroy)},Xa=(M,B)=>{for(const X in M)M[X].delete(B)};var Kl=Object.freeze({__proto__:null,_destroy:No,close:us,closeModal:us,closePopup:us,closeToast:us,disableButtons:Oo,disableInput:Ke,disableLoading:Ps,enableButtons:Ms,enableInput:ro,getInput:Mo,handleAwaitingPromise:Ao,hideLoading:Ps,rejectPromise:Qa,resetValidationMessage:Nc,showValidationMessage:hn,update:gr});const Vu=(M,B,X)=>{B.popup.onclick=()=>{const be=x.innerParams.get(M);be&&(Fo(be)||be.timer||be.input)||X(Cr.close)}},Fo=M=>M.showConfirmButton||M.showDenyButton||M.showCancelButton||M.showCloseButton;let Lo=!1;const ga=M=>{M.popup.onmousedown=()=>{M.container.onmouseup=function(B){M.container.onmouseup=void 0,B.target===M.container&&(Lo=!0)}}},Yl=M=>{M.container.onmousedown=()=>{M.popup.onmouseup=function(B){M.popup.onmouseup=void 0,(B.target===M.popup||M.popup.contains(B.target))&&(Lo=!0)}}},ya=(M,B,X)=>{B.container.onclick=be=>{const je=x.innerParams.get(M);Lo?Lo=!1:be.target===B.container&&me(je.allowOutsideClick)&&X(Cr.backdrop)}},oo=M=>M instanceof Element||(M=>"object"==typeof M&&M.jquery)(M);const hs=()=>{if(V.timeout)return(()=>{const M=In();if(!M)return;const B=parseInt(window.getComputedStyle(M).width);M.style.removeProperty("transition"),M.style.width="100%";const X=parseInt(window.getComputedStyle(M).width);M.style.width="".concat(B/X*100,"%")})(),V.timeout.stop()},fs=()=>{if(V.timeout){const M=V.timeout.start();return Kt(M),M}};let Xn=!1;const el={};const Hu=M=>{for(let B=M.target;B&&B!==document;B=B.parentNode)for(const X in el){const be=B.getAttribute(X);if(be)return void el[X].fire({template:be})}};var Jl=Object.freeze({__proto__:null,argsToParams:M=>{const B={};return"object"!=typeof M[0]||oo(M[0])?["title","html","icon"].forEach((X,be)=>{const je=M[be];"string"==typeof je||oo(je)?B[X]=je:void 0!==je&&W("Unexpected type of ".concat(X,'! Expected "string" or "Element", got ').concat(typeof je))}):Object.assign(B,M[0]),B},bindClickHandler:function Ql(){el[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Xn||(document.body.addEventListener("click",Hu),Xn=!0)},clickCancel:()=>{var M;return null===(M=Ot())||void 0===M?void 0:M.click()},clickConfirm:ls,clickDeny:()=>{var M;return null===(M=yt())||void 0===M?void 0:M.click()},enableLoading:Er,fire:function _a(){const M=this;for(var B=arguments.length,X=new Array(B),be=0;be<B;be++)X[be]=arguments[be];return new M(...X)},getActions:Et,getCancelButton:Ot,getCloseButton:Dn,getConfirmButton:ot,getContainer:Ie,getDenyButton:yt,getFocusableElements:_n,getFooter:En,getHtmlContainer:Re,getIcon:ee,getIconContent:()=>de(k["icon-content"]),getImage:Oe,getInputLabel:()=>de(k["input-label"]),getLoader:At,getPopup:se,getProgressSteps:Ye,getTimerLeft:()=>V.timeout&&V.timeout.getTimerLeft(),getTimerProgressBar:In,getTitle:ue,getValidationMessage:$e,increaseTimer:M=>{if(V.timeout){const B=V.timeout.increase(M);return Kt(B,!0),B}},isDeprecatedParameter:io,isLoading:()=>{const M=se();return!!M&&M.hasAttribute("data-loading")},isTimerRunning:()=>!(!V.timeout||!V.timeout.isRunning()),isUpdatableParameter:fa,isValidParameter:zr,isVisible:()=>xn(se()),mixin:function Uu(M){return class B extends(this){_main(be,je){return super._main(be,Object.assign({},M,je))}}},resumeTimer:fs,showLoading:Er,stopTimer:hs,toggleTimer:()=>{const M=V.timeout;return M&&(M.running?hs():fs())}});class Xl{constructor(B,X){this.callback=B,this.remaining=X,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(B){const X=this.running;return X&&this.stop(),this.remaining+=B,X&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const tl=["swal-title","swal-html","swal-footer"],Vo=M=>{const B={};return Array.from(M.querySelectorAll("swal-param")).forEach(be=>{ks(be,["name","value"]);const je=be.getAttribute("name"),St=be.getAttribute("value");B[je]="boolean"==typeof Ai[je]?"false"!==St:"object"==typeof Ai[je]?JSON.parse(St):St}),B},Bo=M=>{const B={};return Array.from(M.querySelectorAll("swal-function-param")).forEach(be=>{const je=be.getAttribute("name"),St=be.getAttribute("value");B[je]=new Function("return ".concat(St))()}),B},Uc=M=>{const B={};return Array.from(M.querySelectorAll("swal-button")).forEach(be=>{ks(be,["type","color","aria-label"]);const je=be.getAttribute("type");B["".concat(je,"ButtonText")]=be.innerHTML,B["show".concat(I(je),"Button")]=!0,be.hasAttribute("color")&&(B["".concat(je,"ButtonColor")]=be.getAttribute("color")),be.hasAttribute("aria-label")&&(B["".concat(je,"ButtonAriaLabel")]=be.getAttribute("aria-label"))}),B},Uo=M=>{const B={},X=M.querySelector("swal-image");return X&&(ks(X,["src","width","height","alt"]),X.hasAttribute("src")&&(B.imageUrl=X.getAttribute("src")),X.hasAttribute("width")&&(B.imageWidth=X.getAttribute("width")),X.hasAttribute("height")&&(B.imageHeight=X.getAttribute("height")),X.hasAttribute("alt")&&(B.imageAlt=X.getAttribute("alt"))),B},Hc=M=>{const B={},X=M.querySelector("swal-icon");return X&&(ks(X,["type","color"]),X.hasAttribute("type")&&(B.icon=X.getAttribute("type")),X.hasAttribute("color")&&(B.iconColor=X.getAttribute("color")),B.iconHtml=X.innerHTML),B},Di=M=>{const B={},X=M.querySelector("swal-input");X&&(ks(X,["type","label","placeholder","value"]),B.input=X.getAttribute("type")||"text",X.hasAttribute("label")&&(B.inputLabel=X.getAttribute("label")),X.hasAttribute("placeholder")&&(B.inputPlaceholder=X.getAttribute("placeholder")),X.hasAttribute("value")&&(B.inputValue=X.getAttribute("value")));const be=Array.from(M.querySelectorAll("swal-input-option"));return be.length&&(B.inputOptions={},be.forEach(je=>{ks(je,["value"]);const St=je.getAttribute("value");B.inputOptions[St]=je.innerHTML})),B},wi=(M,B)=>{const X={};for(const be in B){const je=B[be],St=M.querySelector(je);St&&(ks(St,[]),X[je.replace(/^swal-/,"")]=St.innerHTML.trim())}return X},ec=M=>{const B=tl.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(M.children).forEach(X=>{const be=X.tagName.toLowerCase();B.includes(be)||T("Unrecognized element <".concat(be,">"))})},ks=(M,B)=>{Array.from(M.attributes).forEach(X=>{-1===B.indexOf(X.name)&&T(['Unrecognized attribute "'.concat(X.name,'" on <').concat(M.tagName.toLowerCase(),">."),"".concat(B.length?"Allowed attributes are: ".concat(B.join(", ")):"To set the value, use HTML within the element.")])})},rl=M=>{const B=Ie(),X=se();"function"==typeof M.willOpen&&M.willOpen(X);const je=window.getComputedStyle(document.body).overflowY;wa(B,X,M),setTimeout(()=>{il(B,X)},10),or()&&(ju(B,M.scrollbarPadding,je),Array.from(document.body.children).forEach(B=>{B===Ie()||B.contains(Ie())||(B.hasAttribute("aria-hidden")&&B.setAttribute("data-previous-aria-hidden",B.getAttribute("aria-hidden")||""),B.setAttribute("aria-hidden","true"))})),!zn()&&!V.previousActiveElement&&(V.previousActiveElement=document.activeElement),"function"==typeof M.didOpen&&setTimeout(()=>M.didOpen(X)),$t(B,k["no-transition"])},va=M=>{const B=se();if(M.target!==B||!Ce)return;const X=Ie();B.removeEventListener(Ce,va),X.style.overflowY="auto"},il=(M,B)=>{Ce&&Fr(B)?(M.style.overflowY="hidden",B.addEventListener(Ce,va)):M.style.overflowY="auto"},ju=(M,B,X)=>{(()=>{if(Gl&&!Bn(document.body,k.iosfix)){const M=document.body.scrollTop;document.body.style.top="".concat(-1*M,"px"),Gt(document.body,k.iosfix),Qd()}})(),B&&"hidden"!==X&&Ka(X),setTimeout(()=>{M.scrollTop=0})},wa=(M,B,X)=>{Gt(M,X.showClass.backdrop),B.style.setProperty("opacity","0","important"),ct(B,"grid"),setTimeout(()=>{Gt(B,X.showClass.popup),B.style.removeProperty("opacity")},10),Gt([document.documentElement,document.body],k.shown),X.heightAuto&&X.backdrop&&!X.toast&&Gt([document.documentElement,document.body],k["height-auto"])};var $i_email=(M,B)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(M)?Promise.resolve():Promise.resolve(B||"Invalid email address"),$i_url=(M,B)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(M)?Promise.resolve():Promise.resolve(B||"Invalid URL");function Ca(M){(function ba(M){M.inputValidator||("email"===M.input&&(M.inputValidator=$i_email),"url"===M.input&&(M.inputValidator=$i_url))})(M),M.showLoaderOnConfirm&&!M.preConfirm&&T("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function tc(M){(!M.target||"string"==typeof M.target&&!document.querySelector(M.target)||"string"!=typeof M.target&&!M.target.appendChild)&&(T('Target parameter is not valid, defaulting to "body"'),M.target="body")}(M),"string"==typeof M.title&&(M.title=M.title.split("\n").join("<br />")),bn(M)}let xi;var sl=new WeakMap;class cn{constructor(){if(L(this,sl,{writable:!0,value:void 0}),typeof window>"u")return;xi=this;for(var B=arguments.length,X=new Array(B),be=0;be<B;be++)X[be]=arguments[be];const je=Object.freeze(this.constructor.argsToParams(X));this.params=je,this.isAwaitingPromise=!1,p(this,sl,this._main(xi.params))}_main(B){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(M=>{!1===M.backdrop&&M.allowOutsideClick&&T('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const B in M)Lu(B),M.toast&&pa(B),eh(B)})(Object.assign({},X,B)),V.currentInstance&&(V.currentInstance._destroy(),or()&&Js()),V.currentInstance=xi;const be=Os(B,X);Ca(be),Object.freeze(be),V.timeout&&(V.timeout.stop(),delete V.timeout),clearTimeout(V.restoreFocusTimeout);const je=nc(xi);return mr(xi,be),x.innerParams.set(xi,be),Gu(xi,je,be)}then(B){return h(this,sl).then(B)}finally(B){return h(this,sl).finally(B)}}const Gu=(M,B,X)=>new Promise((be,je)=>{const St=rn=>{M.close({isDismissed:!0,dismiss:rn})};Wa.swalPromiseResolve.set(M,be),Wa.swalPromiseReject.set(M,je),B.confirmButton.onclick=()=>{(M=>{const B=x.innerParams.get(M);M.disableButtons(),B.input?ds(M,"confirm"):qt(M,!0)})(M)},B.denyButton.onclick=()=>{(M=>{const B=x.innerParams.get(M);M.disableButtons(),B.returnInputValueOnDeny?ds(M,"deny"):Xr(M,!1)})(M)},B.cancelButton.onclick=()=>{((M,B)=>{M.disableButtons(),B(Cr.cancel)})(M,St)},B.closeButton.onclick=()=>{St(Cr.close)},((M,B,X)=>{x.innerParams.get(M).toast?Vu(M,B,X):(ga(B),Yl(B),ya(M,B,X))})(M,B,St),((M,B,X,be)=>{qa(B),X.toast||(B.keydownHandler=je=>_i(M,je,be),B.keydownTarget=X.keydownListenerCapture?window:se(),B.keydownListenerCapture=X.keydownListenerCapture,B.keydownTarget.addEventListener("keydown",B.keydownHandler,{capture:B.keydownListenerCapture}),B.keydownHandlerAdded=!0)})(M,V,X,St),((M,B)=>{"select"===B.input||"radio"===B.input?Rc(M,B):["text","email","number","tel","textarea"].some(X=>X===B.input)&&(Pe(B.inputValue)||ve(B.inputValue))&&(Er(ot()),Fu(M,B))})(M,X),rl(X),Ea(V,X,St),Ho(B,X),setTimeout(()=>{B.container.scrollTop=0})}),Os=(M,B)=>{const X=(M=>{const B="string"==typeof M.template?document.querySelector(M.template):M.template;if(!B)return{};const X=B.content;return ec(X),Object.assign(Vo(X),Bo(X),Uc(X),Uo(X),Hc(X),Di(X),wi(X,tl))})(M),be=Object.assign({},Ai,B,X,M);return be.showClass=Object.assign({},Ai.showClass,be.showClass),be.hideClass=Object.assign({},Ai.hideClass,be.hideClass),be},nc=M=>{const B={popup:se(),container:Ie(),actions:Et(),confirmButton:ot(),denyButton:yt(),cancelButton:Ot(),loader:At(),closeButton:Dn(),validationMessage:$e(),progressSteps:Ye()};return x.domCache.set(M,B),B},Ea=(M,B,X)=>{const be=In();mt(be),B.timer&&(M.timeout=new Xl(()=>{X("timer"),delete M.timeout},B.timer),B.timerProgressBar&&(ct(be),Xt(be,B,"timerProgressBar"),setTimeout(()=>{M.timeout&&M.timeout.running&&Kt(B.timer)})))},Ho=(M,B)=>{if(!B.toast){if(!me(B.allowEnterKey))return void hr();$u(M,B)||So(-1,1)}},$u=(M,B)=>B.focusDeny&&xn(M.denyButton)?(M.denyButton.focus(),!0):B.focusCancel&&xn(M.cancelButton)?(M.cancelButton.focus(),!0):!(!B.focusConfirm||!xn(M.confirmButton)||(M.confirmButton.focus(),0)),hr=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const M=new Date,B=localStorage.getItem("swal-initiation");B?(M.getTime()-Date.parse(B))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const X=document.createElement("audio");X.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",X.loop=!0,document.body.appendChild(X),setTimeout(()=>{X.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(M))}cn.prototype.disableButtons=Oo,cn.prototype.enableButtons=Ms,cn.prototype.getInput=Mo,cn.prototype.disableInput=Ke,cn.prototype.enableInput=ro,cn.prototype.hideLoading=Ps,cn.prototype.disableLoading=Ps,cn.prototype.showValidationMessage=hn,cn.prototype.resetValidationMessage=Nc,cn.prototype.close=us,cn.prototype.closePopup=us,cn.prototype.closeModal=us,cn.prototype.closeToast=us,cn.prototype.rejectPromise=Qa,cn.prototype.update=gr,cn.prototype._destroy=No,Object.assign(cn,Jl),Object.keys(Kl).forEach(M=>{cn[M]=function(){return xi&&xi[M]?xi[M](...arguments):null}}),cn.DismissReason=Cr,cn.version="11.7.27";const Sa=cn;return Sa.default=Sa,Sa}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2)},5464:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),Object.defineProperty(h,"NIL",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(h,"parse",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(h,"stringify",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(h,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(h,"v3",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(h,"v4",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(h,"v5",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(h,"validate",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(h,"version",{enumerable:!0,get:function(){return U.default}});var s=x(p(9410)),_=x(p(2498)),w=x(p(6297)),P=x(p(5306)),L=x(p(8442)),U=x(p(600)),V=x(p(9161)),z=x(p(5493)),Q=x(p(7404));function x(j){return j&&j.__esModule?j:{default:j}}},1740:(d,h)=>{"use strict";function _(k){return 14+(k+64>>>9<<4)+1}function L(k,Y){const A=(65535&k)+(65535&Y);return(k>>16)+(Y>>16)+(A>>16)<<16|65535&A}function V(k,Y,A,N,I,T){return L(function U(k,Y){return k<<Y|k>>>32-Y}(L(L(Y,k),L(N,T)),I),A)}function z(k,Y,A,N,I,T,W){return V(Y&A|~Y&N,k,Y,I,T,W)}function Q(k,Y,A,N,I,T,W){return V(Y&N|A&~N,k,Y,I,T,W)}function x(k,Y,A,N,I,T,W){return V(Y^A^N,k,Y,I,T,W)}function j(k,Y,A,N,I,T,W){return V(A^(Y|~N),k,Y,I,T,W)}Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default=function p(k){if("string"==typeof k){const Y=unescape(encodeURIComponent(k));k=new Uint8Array(Y.length);for(let A=0;A<Y.length;++A)k[A]=Y.charCodeAt(A)}return function s(k){const Y=[],A=32*k.length,N="0123456789abcdef";for(let I=0;I<A;I+=8){const T=k[I>>5]>>>I%32&255,W=parseInt(N.charAt(T>>>4&15)+N.charAt(15&T),16);Y.push(W)}return Y}(function w(k,Y){k[Y>>5]|=128<<Y%32,k[_(Y)-1]=Y;let A=1732584193,N=-271733879,I=-1732584194,T=271733878;for(let W=0;W<k.length;W+=16){const J=A,ne=N,re=I,me=T;A=z(A,N,I,T,k[W],7,-680876936),T=z(T,A,N,I,k[W+1],12,-389564586),I=z(I,T,A,N,k[W+2],17,606105819),N=z(N,I,T,A,k[W+3],22,-1044525330),A=z(A,N,I,T,k[W+4],7,-176418897),T=z(T,A,N,I,k[W+5],12,1200080426),I=z(I,T,A,N,k[W+6],17,-1473231341),N=z(N,I,T,A,k[W+7],22,-45705983),A=z(A,N,I,T,k[W+8],7,1770035416),T=z(T,A,N,I,k[W+9],12,-1958414417),I=z(I,T,A,N,k[W+10],17,-42063),N=z(N,I,T,A,k[W+11],22,-1990404162),A=z(A,N,I,T,k[W+12],7,1804603682),T=z(T,A,N,I,k[W+13],12,-40341101),I=z(I,T,A,N,k[W+14],17,-1502002290),N=z(N,I,T,A,k[W+15],22,1236535329),A=Q(A,N,I,T,k[W+1],5,-165796510),T=Q(T,A,N,I,k[W+6],9,-1069501632),I=Q(I,T,A,N,k[W+11],14,643717713),N=Q(N,I,T,A,k[W],20,-373897302),A=Q(A,N,I,T,k[W+5],5,-701558691),T=Q(T,A,N,I,k[W+10],9,38016083),I=Q(I,T,A,N,k[W+15],14,-660478335),N=Q(N,I,T,A,k[W+4],20,-405537848),A=Q(A,N,I,T,k[W+9],5,568446438),T=Q(T,A,N,I,k[W+14],9,-1019803690),I=Q(I,T,A,N,k[W+3],14,-187363961),N=Q(N,I,T,A,k[W+8],20,1163531501),A=Q(A,N,I,T,k[W+13],5,-1444681467),T=Q(T,A,N,I,k[W+2],9,-51403784),I=Q(I,T,A,N,k[W+7],14,1735328473),N=Q(N,I,T,A,k[W+12],20,-1926607734),A=x(A,N,I,T,k[W+5],4,-378558),T=x(T,A,N,I,k[W+8],11,-2022574463),I=x(I,T,A,N,k[W+11],16,1839030562),N=x(N,I,T,A,k[W+14],23,-35309556),A=x(A,N,I,T,k[W+1],4,-1530992060),T=x(T,A,N,I,k[W+4],11,1272893353),I=x(I,T,A,N,k[W+7],16,-155497632),N=x(N,I,T,A,k[W+10],23,-1094730640),A=x(A,N,I,T,k[W+13],4,681279174),T=x(T,A,N,I,k[W],11,-358537222),I=x(I,T,A,N,k[W+3],16,-722521979),N=x(N,I,T,A,k[W+6],23,76029189),A=x(A,N,I,T,k[W+9],4,-640364487),T=x(T,A,N,I,k[W+12],11,-421815835),I=x(I,T,A,N,k[W+15],16,530742520),N=x(N,I,T,A,k[W+2],23,-995338651),A=j(A,N,I,T,k[W],6,-198630844),T=j(T,A,N,I,k[W+7],10,1126891415),I=j(I,T,A,N,k[W+14],15,-1416354905),N=j(N,I,T,A,k[W+5],21,-57434055),A=j(A,N,I,T,k[W+12],6,1700485571),T=j(T,A,N,I,k[W+3],10,-1894986606),I=j(I,T,A,N,k[W+10],15,-1051523),N=j(N,I,T,A,k[W+1],21,-2054922799),A=j(A,N,I,T,k[W+8],6,1873313359),T=j(T,A,N,I,k[W+15],10,-30611744),I=j(I,T,A,N,k[W+6],15,-1560198380),N=j(N,I,T,A,k[W+13],21,1309151649),A=j(A,N,I,T,k[W+4],6,-145523070),T=j(T,A,N,I,k[W+11],10,-1120210379),I=j(I,T,A,N,k[W+2],15,718787259),N=j(N,I,T,A,k[W+9],21,-343485551),A=L(A,J),N=L(N,ne),I=L(I,re),T=L(T,me)}return[A,N,I,T]}(function P(k){if(0===k.length)return[];const Y=8*k.length,A=new Uint32Array(_(Y));for(let N=0;N<Y;N+=8)A[N>>5]|=(255&k[N/8])<<N%32;return A}(k),8*k.length))}},8177:(d,h)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};h.default=s},8442:(d,h)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default="00000000-0000-0000-0000-000000000000"},7404:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=function _(L){return L&&L.__esModule?L:{default:L}}(p(9161));h.default=function w(L){if(!(0,s.default)(L))throw TypeError("Invalid UUID");let U;const V=new Uint8Array(16);return V[0]=(U=parseInt(L.slice(0,8),16))>>>24,V[1]=U>>>16&255,V[2]=U>>>8&255,V[3]=255&U,V[4]=(U=parseInt(L.slice(9,13),16))>>>8,V[5]=255&U,V[6]=(U=parseInt(L.slice(14,18),16))>>>8,V[7]=255&U,V[8]=(U=parseInt(L.slice(19,23),16))>>>8,V[9]=255&U,V[10]=(U=parseInt(L.slice(24,36),16))/1099511627776&255,V[11]=U/4294967296&255,V[12]=U>>>24&255,V[13]=U>>>16&255,V[14]=U>>>8&255,V[15]=255&U,V}},3622:(d,h)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},3709:(d,h)=>{"use strict";let p;Object.defineProperty(h,"__esModule",{value:!0}),h.default=function _(){if(!p&&(p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(s)};const s=new Uint8Array(16)},3518:(d,h)=>{"use strict";function p(P,L,U,V){switch(P){case 0:return L&U^~L&V;case 1:case 3:return L^U^V;case 2:return L&U^L&V^U&V}}function s(P,L){return P<<L|P>>>32-L}Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default=function _(P){const L=[1518500249,1859775393,2400959708,3395469782],U=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof P){const x=unescape(encodeURIComponent(P));P=[];for(let j=0;j<x.length;++j)P.push(x.charCodeAt(j))}else Array.isArray(P)||(P=Array.prototype.slice.call(P));P.push(128);const z=Math.ceil((P.length/4+2)/16),Q=new Array(z);for(let x=0;x<z;++x){const j=new Uint32Array(16);for(let G=0;G<16;++G)j[G]=P[64*x+4*G]<<24|P[64*x+4*G+1]<<16|P[64*x+4*G+2]<<8|P[64*x+4*G+3];Q[x]=j}Q[z-1][14]=8*(P.length-1)/Math.pow(2,32),Q[z-1][14]=Math.floor(Q[z-1][14]),Q[z-1][15]=8*(P.length-1)&4294967295;for(let x=0;x<z;++x){const j=new Uint32Array(80);for(let I=0;I<16;++I)j[I]=Q[x][I];for(let I=16;I<80;++I)j[I]=s(j[I-3]^j[I-8]^j[I-14]^j[I-16],1);let G=U[0],k=U[1],Y=U[2],A=U[3],N=U[4];for(let I=0;I<80;++I){const T=Math.floor(I/20),W=s(G,5)+p(T,k,Y,A)+N+L[T]+j[I]>>>0;N=A,A=Y,Y=s(k,30)>>>0,k=G,G=W}U[0]=U[0]+G>>>0,U[1]=U[1]+k>>>0,U[2]=U[2]+Y>>>0,U[3]=U[3]+A>>>0,U[4]=U[4]+N>>>0}return[U[0]>>24&255,U[0]>>16&255,U[0]>>8&255,255&U[0],U[1]>>24&255,U[1]>>16&255,U[1]>>8&255,255&U[1],U[2]>>24&255,U[2]>>16&255,U[2]>>8&255,255&U[2],U[3]>>24&255,U[3]>>16&255,U[3]>>8&255,255&U[3],U[4]>>24&255,U[4]>>16&255,U[4]>>8&255,255&U[4]]}},5493:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.unsafeStringify=P;var s=function _(V){return V&&V.__esModule?V:{default:V}}(p(9161));const w=[];for(let V=0;V<256;++V)w.push((V+256).toString(16).slice(1));function P(V,z=0){return(w[V[z+0]]+w[V[z+1]]+w[V[z+2]]+w[V[z+3]]+"-"+w[V[z+4]]+w[V[z+5]]+"-"+w[V[z+6]]+w[V[z+7]]+"-"+w[V[z+8]]+w[V[z+9]]+"-"+w[V[z+10]]+w[V[z+11]]+w[V[z+12]]+w[V[z+13]]+w[V[z+14]]+w[V[z+15]]).toLowerCase()}h.default=function L(V,z=0){const Q=P(V,z);if(!(0,s.default)(Q))throw TypeError("Stringified UUID is invalid");return Q}},9410:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=function w(x){return x&&x.__esModule?x:{default:x}}(p(3709)),_=p(5493);let P,L,U=0,V=0;h.default=function z(x,j,G){let k=j&&G||0;const Y=j||new Array(16);let A=(x=x||{}).node||P,N=void 0!==x.clockseq?x.clockseq:L;if(null==A||null==N){const re=x.random||(x.rng||s.default)();null==A&&(A=P=[1|re[0],re[1],re[2],re[3],re[4],re[5]]),null==N&&(N=L=16383&(re[6]<<8|re[7]))}let I=void 0!==x.msecs?x.msecs:Date.now(),T=void 0!==x.nsecs?x.nsecs:V+1;const W=I-U+(T-V)/1e4;if(W<0&&void 0===x.clockseq&&(N=N+1&16383),(W<0||I>U)&&void 0===x.nsecs&&(T=0),T>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");U=I,V=T,L=N,I+=122192928e5;const J=(1e4*(268435455&I)+T)%4294967296;Y[k++]=J>>>24&255,Y[k++]=J>>>16&255,Y[k++]=J>>>8&255,Y[k++]=255&J;const ne=I/4294967296*1e4&268435455;Y[k++]=ne>>>8&255,Y[k++]=255&ne,Y[k++]=ne>>>24&15|16,Y[k++]=ne>>>16&255,Y[k++]=N>>>8|128,Y[k++]=255&N;for(let re=0;re<6;++re)Y[k+re]=A[re];return j||(0,_.unsafeStringify)(Y)}},2498:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=w(p(2380)),_=w(p(1740));function w(U){return U&&U.__esModule?U:{default:U}}var L=(0,s.default)("v3",48,_.default);h.default=L},2380:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.URL=h.DNS=void 0,h.default=function V(z,Q,x){function j(G,k,Y,A){var N;if("string"==typeof G&&(G=function P(z){z=unescape(encodeURIComponent(z));const Q=[];for(let x=0;x<z.length;++x)Q.push(z.charCodeAt(x));return Q}(G)),"string"==typeof k&&(k=(0,_.default)(k)),16!==(null===(N=k)||void 0===N?void 0:N.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let I=new Uint8Array(16+G.length);if(I.set(k),I.set(G,k.length),I=x(I),I[6]=15&I[6]|Q,I[8]=63&I[8]|128,Y){A=A||0;for(let T=0;T<16;++T)Y[A+T]=I[T];return Y}return(0,s.unsafeStringify)(I)}try{j.name=z}catch{}return j.DNS=L,j.URL=U,j};var s=p(5493),_=function w(z){return z&&z.__esModule?z:{default:z}}(p(7404));const L="6ba7b810-9dad-11d1-80b4-00c04fd430c8";h.DNS=L;const U="6ba7b811-9dad-11d1-80b4-00c04fd430c8";h.URL=U},6297:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=P(p(8177)),_=P(p(3709)),w=p(5493);function P(V){return V&&V.__esModule?V:{default:V}}h.default=function L(V,z,Q){if(s.default.randomUUID&&!z&&!V)return s.default.randomUUID();const x=(V=V||{}).random||(V.rng||_.default)();if(x[6]=15&x[6]|64,x[8]=63&x[8]|128,z){Q=Q||0;for(let j=0;j<16;++j)z[Q+j]=x[j];return z}return(0,w.unsafeStringify)(x)}},5306:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=w(p(2380)),_=w(p(3518));function w(U){return U&&U.__esModule?U:{default:U}}var L=(0,s.default)("v5",80,_.default);h.default=L},9161:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=function _(L){return L&&L.__esModule?L:{default:L}}(p(3622));h.default=function w(L){return"string"==typeof L&&s.default.test(L)}},600:(d,h,p)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var s=function _(L){return L&&L.__esModule?L:{default:L}}(p(9161));h.default=function w(L){if(!(0,s.default)(L))throw TypeError("Invalid UUID");return parseInt(L.slice(14,15),16)}},655:(d,h,p)=>{"use strict";function P(Ee,de){var se={};for(var ee in Ee)Object.prototype.hasOwnProperty.call(Ee,ee)&&de.indexOf(ee)<0&&(se[ee]=Ee[ee]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(ee=Object.getOwnPropertySymbols(Ee);te<ee.length;te++)de.indexOf(ee[te])<0&&Object.prototype.propertyIsEnumerable.call(Ee,ee[te])&&(se[ee[te]]=Ee[ee[te]])}return se}function z(Ee,de,se,ee){return new(se||(se=Promise))(function(ue,Re){function Oe(ot){try{$e(ee.next(ot))}catch(Ot){Re(Ot)}}function Ye(ot){try{$e(ee.throw(ot))}catch(Ot){Re(Ot)}}function $e(ot){ot.done?ue(ot.value):function te(ue){return ue instanceof se?ue:new se(function(Re){Re(ue)})}(ot.value).then(Oe,Ye)}$e((ee=ee.apply(Ee,de||[])).next())})}function I(Ee){return this instanceof I?(this.v=Ee,this):new I(Ee)}function T(Ee,de,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,ee=se.apply(Ee,de||[]),ue=[];return te={},Re("next"),Re("throw"),Re("return"),te[Symbol.asyncIterator]=function(){return this},te;function Re(yt){ee[yt]&&(te[yt]=function(jt){return new Promise(function(At,Et){ue.push([yt,jt,At,Et])>1||Oe(yt,jt)})})}function Oe(yt,jt){try{!function Ye(yt){yt.value instanceof I?Promise.resolve(yt.value.v).then($e,ot):Ot(ue[0][2],yt)}(ee[yt](jt))}catch(At){Ot(ue[0][3],At)}}function $e(yt){Oe("next",yt)}function ot(yt){Oe("throw",yt)}function Ot(yt,jt){yt(jt),ue.shift(),ue.length&&Oe(ue[0][0],ue[0][1])}}function J(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,de=Ee[Symbol.asyncIterator];return de?de.call(Ee):(Ee=function G(Ee){var de="function"==typeof Symbol&&Symbol.iterator,se=de&&Ee[de],ee=0;if(se)return se.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&ee>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[ee++],done:!Ee}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),se={},ee("next"),ee("throw"),ee("return"),se[Symbol.asyncIterator]=function(){return this},se);function ee(ue){se[ue]=Ee[ue]&&function(Re){return new Promise(function(Oe,Ye){!function te(ue,Re,Oe,Ye){Promise.resolve(Ye).then(function($e){ue({value:$e,done:Oe})},Re)}(Oe,Ye,(Re=Ee[ue](Re)).done,Re.value)})}}}p.d(h,{FC:()=>T,KL:()=>J,_T:()=>P,mG:()=>z,qq:()=>I})},4650:(d,h,p)=>{"use strict";p.d(h,{$8M:()=>$c,$Z:()=>Hv,AFp:()=>TT,ALo:()=>JS,AaK:()=>z,BQk:()=>bd,CHM:()=>Nc,CRH:()=>oT,CZH:()=>jy,CqO:()=>kE,D6c:()=>DP,DdM:()=>$S,EJc:()=>IT,EpF:()=>uu,F$t:()=>Ed,F4k:()=>DD,FYo:()=>yh,FiY:()=>lt,G48:()=>HT,GfV:()=>Tg,GkF:()=>h0,Gpc:()=>j,Hsn:()=>NE,JOm:()=>Tl,KtG:()=>Ai,LFG:()=>Sr,LSH:()=>op,Lbi:()=>dP,Lck:()=>vx,MAs:()=>ME,MGl:()=>jp,MMx:()=>FS,NdJ:()=>f0,OlP:()=>ir,Oqu:()=>Td,PXZ:()=>wm,Q6J:()=>u0,QGY:()=>Up,QP$:()=>Qe,QbO:()=>hP,Qsj:()=>fv,R0b:()=>Hs,RDi:()=>pC,Rgc:()=>um,SBq:()=>fp,Sil:()=>mw,Suo:()=>sT,TTD:()=>xs,TgZ:()=>gy,Tol:()=>E0,VKq:()=>zS,W1O:()=>uT,WLB:()=>qS,X6Q:()=>xw,XFs:()=>at,Xpm:()=>qe,Xts:()=>ap,Y36:()=>Eh,YKP:()=>RS,YNc:()=>c0,Yjl:()=>Ce,Yz7:()=>jt,Z0I:()=>In,ZZ4:()=>Fw,_Bn:()=>Z0,_UZ:()=>d0,_Vd:()=>hp,_c5:()=>rf,_uU:()=>YE,aQg:()=>Md,c2e:()=>$y,cJS:()=>Et,cg1:()=>M0,dDg:()=>FT,dqk:()=>zt,eFA:()=>UT,ekj:()=>ka,eoX:()=>qy,f3M:()=>$,g9A:()=>Kh,h0i:()=>zh,hGG:()=>AP,hYB:()=>y0,hij:()=>Id,iGM:()=>iT,ifc:()=>mt,ip1:()=>Hy,jDz:()=>LS,kL8:()=>cS,lG2:()=>xe,lqb:()=>Jc,lri:()=>RT,n5z:()=>jo,oAB:()=>bn,oJD:()=>sp,oxw:()=>m0,q4F:()=>TC,qLn:()=>gp,qOj:()=>r0,qZA:()=>yy,rWj:()=>NT,s9C:()=>g0,sBO:()=>Pw,sIi:()=>Dh,s_b:()=>Ly,soG:()=>ym,tb:()=>Yh,tp0:()=>Qt,uIk:()=>o0,vHH:()=>A,vpe:()=>kl,wAp:()=>Jt,xi3:()=>XS,xp6:()=>Sp,ynx:()=>Oh,z2F:()=>Cm,zSh:()=>bC,zs3:()=>wh});var s=p(7579),_=p(727),w=p(9751),P=p(6451),L=p(3099);function U(o){for(let l in o)if(o[l]===U)return l;throw Error("Could not find renamed property on target object.")}function V(o,l){for(const c in l)l.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=l[c])}function z(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(z).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function Q(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const x=U({__forward_ref__:U});function j(o){return o.__forward_ref__=j,o.toString=function(){return z(this())},o}function G(o){return k(o)?o():o}function k(o){return"function"==typeof o&&o.hasOwnProperty(x)&&o.__forward_ref__===j}class A extends Error{constructor(l,c){super(function N(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function I(o){return"string"==typeof o?o:null==o?"":String(o)}function re(o,l){throw new A(-201,!1)}function Ye(o,l){null==o&&function $e(o,l,c,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${c} ${f} ${l} <=Actual]`))}(l,o,null,"!=")}function jt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Et(o){return{providers:o.providers||[],imports:o.imports||[]}}function En(o){return Dn(o,zn)||Dn(o,Sn)}function In(o){return null!==En(o)}function Dn(o,l){return o.hasOwnProperty(l)?o[l]:null}function or(o){return o&&(o.hasOwnProperty(Mn)||o.hasOwnProperty(Bn))?o[Mn]:null}const zn=U({\u0275prov:U}),Mn=U({\u0275inj:U}),Sn=U({ngInjectableDef:U}),Bn=U({ngInjectorDef:U});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let Xt;function vn(o){const l=Xt;return Xt=o,l}function Ln(o,l,c){const f=En(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:c&at.Optional?null:void 0!==l?l:void re(z(o))}function $t(o){return{toString:o}.toString()}var ln=(()=>((ln=ln||{})[ln.OnPush=0]="OnPush",ln[ln.Default=1]="Default",ln))(),mt=(()=>{return(o=mt||(mt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",mt;var o})();const zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),$r={},Ut=[],Fr=U({\u0275cmp:U}),Kt=U({\u0275dir:U}),ai=U({\u0275pipe:U}),pn=U({\u0275mod:U}),br=U({\u0275fac:U}),Jn=U({__NG_ELEMENT_ID__:U});let ft=0;function qe(o){return $t(()=>{const c=!0===o.standalone,f={},g={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ln.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Ut,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||mt.Emulated,id:"c"+ft++,styles:o.styles||Ut,_:null,setInput:null,schemas:o.schemas||null,tView:null},v=o.dependencies,S=o.features;return g.inputs=Te(o.inputs,f),g.outputs=Te(o.outputs),S&&S.forEach(O=>O(g)),g.directiveDefs=v?()=>("function"==typeof v?v():v).map(Rt).filter(Nt):null,g.pipeDefs=v?()=>("function"==typeof v?v():v).map(Fe).filter(Nt):null,g})}function Rt(o){return le(o)||ye(o)}function Nt(o){return null!==o}function bn(o){return $t(()=>({type:o.type,bootstrap:o.bootstrap||Ut,declarations:o.declarations||Ut,imports:o.imports||Ut,exports:o.exports||Ut,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Te(o,l){if(null==o)return $r;const c={};for(const f in o)if(o.hasOwnProperty(f)){let g=o[f],v=g;Array.isArray(g)&&(v=g[1],g=g[0]),c[g]=f,l&&(l[g]=v)}return c}const xe=qe;function Ce(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function le(o){return o[Fr]||null}function ye(o){return o[Kt]||null}function Fe(o){return o[ai]||null}function Qe(o){const l=le(o)||ye(o)||Fe(o);return null!==l&&l.standalone}function wt(o,l){const c=o[pn]||null;if(!c&&!0===l)throw new Error(`Type ${z(o)} does not have '\u0275mod' property.`);return c}function mr(o){return Array.isArray(o)&&"object"==typeof o[1]}function yi(o){return Array.isArray(o)&&!0===o[1]}function ls(o){return 0!=(8&o.flags)}function ua(o){return 2==(2&o.flags)}function da(o){return 1==(1&o.flags)}function Cr(o){return null!==o.template}function qa(o){return 0!=(256&o[2])}function Lr(o,l){return o.hasOwnProperty(br)?o[br]:null}class Xs{constructor(l,c,f){this.previousValue=l,this.currentValue=c,this.firstChange=f}isFirstChange(){return this.firstChange}}function xs(){return us}function us(o){return o.type.prototype.ngOnChanges&&(o.setInput=Qa),Ya}function Ya(){const o=Do(this),l=o?.current;if(l){const c=o.previous;if(c===$r)o.previous=l;else for(let f in l)c[f]=l[f];o.current=null,this.ngOnChanges(l)}}function Qa(o,l,c,f){const g=Do(o)||function $l(o,l){return o[Ao]=l}(o,{previous:$r,current:null}),v=g.current||(g.current={}),S=g.previous,O=this.declaredInputs[c],H=S[O];v[O]=new Xs(H&&H.currentValue,l,S===$r),o[f]=l}xs.ngInherit=!0;const Ao="__ngSimpleChanges__";function Do(o){return o[Ao]||null}function ar(o){for(;Array.isArray(o);)o=o[0];return o}function Ii(o,l){return ar(l[o])}function Vr(o,l){return ar(l[o.index])}function no(o,l){return o.data[l]}function Hi(o,l){return o[l]}function Pn(o,l){const c=l[o];return mr(c)?c:c[0]}function ds(o){return 64==(64&o[2])}function Xr(o,l){return null==l?null:o[l]}function Po(o){o[18]=0}function lr(o,l){o[5]+=l;let c=o,f=o[3];for(;null!==f&&(1===l&&1===c[5]||-1===l&&0===c[5]);)f[5]+=l,c=f,f=f[3]}const qt={lFrame:_a(null),bindingsEnabled:!0};function Ms(){return qt.bindingsEnabled}function Ke(){return qt.lFrame.lView}function hn(){return qt.lFrame.tView}function Nc(o){return qt.lFrame.contextLView=o,o[8]}function Ai(o){return qt.lFrame.contextLView=null,o}function _r(){let o=Ro();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ro(){return qt.lFrame.currentTNode}function zr(o,l){const c=qt.lFrame;c.currentTNode=o,c.isParent=l}function fa(){return qt.lFrame.isParent}function io(){qt.lFrame.isParent=!1}function gr(){const o=qt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function ma(){return qt.lFrame.bindingIndex++}function Gi(o){const l=qt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,c}function Fc(o,l){const c=qt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Fo(l)}function Fo(o){qt.lFrame.currentDirectiveIndex=o}function ga(){return qt.lFrame.currentQueryIndex}function Yl(o){qt.lFrame.currentQueryIndex=o}function ya(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function Lc(o,l,c){if(c&at.SkipSelf){let g=l,v=o;for(;!(g=g.parent,null!==g||c&at.Host||(g=ya(v),null===g||(v=v[15],10&g.type))););if(null===g)return!1;l=g,o=v}const f=qt.lFrame=Bu();return f.currentTNode=l,f.lView=o,!0}function oo(o){const l=Bu(),c=o[1];qt.lFrame=l,l.currentTNode=c.firstChild,l.lView=o,l.tView=c,l.contextLView=o,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Bu(){const o=qt.lFrame,l=null===o?null:o.child;return null===l?_a(o):l}function _a(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function Uu(){const o=qt.lFrame;return qt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Vc=Uu;function hs(){const o=Uu();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function nr(){return qt.lFrame.selectedIndex}function ps(o){qt.lFrame.selectedIndex=o}function Xn(){const o=qt.lFrame;return no(o.tView,o.selectedIndex)}function nl(o,l){for(let c=l.directiveStart,f=l.directiveEnd;c<f;c++){const v=o.data[c].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:O,ngAfterViewInit:H,ngAfterViewChecked:K,ngOnDestroy:ce}=v;S&&(o.contentHooks||(o.contentHooks=[])).push(-c,S),O&&((o.contentHooks||(o.contentHooks=[])).push(c,O),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,O)),H&&(o.viewHooks||(o.viewHooks=[])).push(-c,H),K&&((o.viewHooks||(o.viewHooks=[])).push(c,K),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,K)),null!=ce&&(o.destroyHooks||(o.destroyHooks=[])).push(c,ce)}}function Vo(o,l,c){Uo(o,l,3,c)}function Bo(o,l,c,f){(3&o[2])===c&&Uo(o,l,c,f)}function Uc(o,l){let c=o[2];(3&c)===l&&(c&=2047,c+=1,o[2]=c)}function Uo(o,l,c,f){const v=f??-1,S=l.length-1;let O=0;for(let H=void 0!==f?65535&o[18]:0;H<S;H++)if("number"==typeof l[H+1]){if(O=l[H],null!=f&&O>=f)break}else l[H]<0&&(o[18]+=65536),(O<v||-1==v)&&(Hc(o,c,l,H),o[18]=(4294901760&o[18])+H+2),H++}function Hc(o,l,c,f){const g=c[f]<0,v=c[f+1],O=o[g?-c[f]:c[f]];if(g){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{v.call(O)}finally{}}}else try{v.call(O)}finally{}}class wi{constructor(l,c,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=f}}function $i(o,l,c){let f=0;for(;f<c.length;){const g=c[f];if("number"==typeof g){if(0!==g)break;f++;const v=c[f++],S=c[f++],O=c[f++];o.setAttribute(l,S,O,v)}else{const v=g,S=c[++f];tc(v)?o.setProperty(l,v,S):o.setAttribute(l,v,S),f++}}return f}function ba(o){return 3===o||4===o||6===o}function tc(o){return 64===o.charCodeAt(0)}function Ca(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let c=-1;for(let f=0;f<l.length;f++){const g=l[f];"number"==typeof g?c=g:0===c||xi(o,c,g,null,-1===c||2===c?l[++f]:null)}}return o}function xi(o,l,c,f,g){let v=0,S=o.length;if(-1===l)S=-1;else for(;v<o.length;){const O=o[v++];if("number"==typeof O){if(O===l){S=-1;break}if(O>l){S=v-1;break}}}for(;v<o.length;){const O=o[v];if("number"==typeof O)break;if(O===c){if(null===f)return void(null!==g&&(o[v+1]=g));if(f===o[v+1])return void(o[v+2]=g)}v++,null!==f&&v++,null!==g&&v++}-1!==S&&(o.splice(S,0,l),v=S+1),o.splice(v++,0,c),null!==f&&o.splice(v++,0,f),null!==g&&o.splice(v++,0,g)}function sl(o){return-1!==o}function cn(o){return 32767&o}function Os(o,l){let c=function Gu(o){return o>>16}(o),f=l;for(;c>0;)f=f[15],c--;return f}let nc=!0;function Ea(o){const l=nc;return nc=o,l}let Sa=0;const M={};function X(o,l){const c=je(o,l);if(-1!==c)return c;const f=l[1];f.firstCreatePass&&(o.injectorIndex=l.length,be(f.data,o),be(l,null),be(f.blueprint,null));const g=St(o,l),v=o.injectorIndex;if(sl(g)){const S=cn(g),O=Os(g,l),H=O[1].data;for(let K=0;K<8;K++)l[v+K]=O[S+K]|H[S+K]}return l[v+8]=g,v}function be(o,l){o.push(0,0,0,0,0,0,0,0,l)}function je(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function St(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,f=null,g=l;for(;null!==g;){if(f=cl(g),null===f)return-1;if(c++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|c<<16}return-1}function rn(o,l,c){!function B(o,l,c){let f;"string"==typeof c?f=c.charCodeAt(0)||0:c.hasOwnProperty(Jn)&&(f=c[Jn]),null==f&&(f=c[Jn]=Sa++);const g=255&f;l.data[o+(g>>5)]|=1<<g}(o,l,c)}function Yn(o,l,c){if(c&at.Optional||void 0!==o)return o;re()}function bi(o,l,c,f){if(c&at.Optional&&void 0===f&&(f=null),0==(c&(at.Self|at.Host))){const g=o[9],v=vn(void 0);try{return g?g.get(l,f,c&at.Optional):Ln(l,f,c&at.Optional)}finally{vn(v)}}return Yn(f,0,c)}function Rs(o,l,c,f=at.Default,g){if(null!==o){if(1024&l[2]){const S=function Vf(o,l,c,f,g){let v=o,S=l;for(;null!==v&&null!==S&&1024&S[2]&&!(256&S[2]);){const O=th(v,S,c,f|at.Self,M);if(O!==M)return O;let H=v.parent;if(!H){const K=S[21];if(K){const ce=K.get(c,M,f);if(ce!==M)return ce}H=cl(S),S=S[15]}v=H}return g}(o,l,c,f,M);if(S!==M)return S}const v=th(o,l,c,f,M);if(v!==M)return v}return bi(l,c,f,g)}function th(o,l,c,f,g){const v=function Lf(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(Jn)?o[Jn]:void 0;return"number"==typeof l?l>=0?255&l:zu:l}(c);if("function"==typeof v){if(!Lc(l,o,f))return f&at.Host?Yn(g,0,f):bi(l,c,f,g);try{const S=v(f);if(null!=S||f&at.Optional)return S;re()}finally{Vc()}}else if("number"==typeof v){let S=null,O=je(o,l),H=-1,K=f&at.Host?l[16][6]:null;for((-1===O||f&at.SkipSelf)&&(H=-1===O?St(o,l):l[O+8],-1!==H&&Gc(f,!1)?(S=l[1],O=cn(H),l=Os(H,l)):O=-1);-1!==O;){const ce=l[1];if(ol(v,O,ce.data)){const ge=jc(O,l,c,S,f,K);if(ge!==M)return ge}H=l[O+8],-1!==H&&Gc(f,l[1].data[O+8]===K)&&ol(v,O,l)?(S=ce,O=cn(H),l=Os(H,l)):O=-1}}return g}function jc(o,l,c,f,g,v){const S=l[1],O=S.data[o+8],ce=rc(O,S,c,null==f?ua(O)&&nc:f!=S&&0!=(3&O.type),g&at.Host&&v===O);return null!==ce?Ns(l,S,ce,O):M}function rc(o,l,c,f,g){const v=o.providerIndexes,S=l.data,O=1048575&v,H=o.directiveStart,ce=v>>20,De=g?O+ce:o.directiveEnd;for(let Le=f?O:O+ce;Le<De;Le++){const ze=S[Le];if(Le<H&&c===ze||Le>=H&&ze.type===c)return Le}if(g){const Le=S[H];if(Le&&Cr(Le)&&Le.type===c)return H}return null}function Ns(o,l,c,f){let g=o[c];const v=l.data;if(function ec(o){return o instanceof wi}(g)){const S=g;S.resolving&&function W(o,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new A(-200,`Circular dependency in DI detected for ${o}${c}`)}(function T(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():I(o)}(v[c]));const O=Ea(S.canSeeViewProviders);S.resolving=!0;const H=S.injectImpl?vn(S.injectImpl):null;Lc(o,f,at.Default);try{g=o[c]=S.factory(void 0,v,o,f),l.firstCreatePass&&c>=f.directiveStart&&function tl(o,l,c){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:v}=l.type.prototype;if(f){const S=us(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,S),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,S)}g&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,g),v&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v))}(c,v[c],l)}finally{null!==H&&vn(H),Ea(O),S.resolving=!1,Vc()}}return g}function ol(o,l,c){return!!(c[l+(o>>5)]&1<<o)}function Gc(o,l){return!(o&at.Self||o&at.Host&&l)}class al{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,f){return Rs(this._tNode,this._lView,l,f,c)}}function zu(){return new al(_r(),Ke())}function jo(o){return $t(()=>{const l=o.prototype.constructor,c=l[br]||ll(l),f=Object.prototype;let g=Object.getPrototypeOf(o.prototype).constructor;for(;g&&g!==f;){const v=g[br]||ll(g);if(v&&v!==c)return v;g=Object.getPrototypeOf(g)}return v=>new v})}function ll(o){return k(o)?()=>{const l=ll(G(o));return l&&l()}:Lr(o)}function cl(o){const l=o[1],c=l.type;return 2===c?l.declTNode:1===c?o[6]:null}function $c(o){return function rr(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const c=o.attrs;if(c){const f=c.length;let g=0;for(;g<f;){const v=c[g];if(ba(v))break;if(0===v)g+=2;else if("number"==typeof v)for(g++;g<f&&"string"==typeof c[g];)g++;else{if(v===l)return c[g+1];g+=2}}}return null}(_r(),o)}const ul="__parameters__";function hl(o,l,c){return $t(()=>{const f=function qu(o){return function(...c){if(o){const f=o(...c);for(const g in f)this[g]=f[g]}}}(l);function g(...v){if(this instanceof g)return f.apply(this,v),this;const S=new g(...v);return O.annotation=S,O;function O(H,K,ce){const ge=H.hasOwnProperty(ul)?H[ul]:Object.defineProperty(H,ul,{value:[]})[ul];for(;ge.length<=ce;)ge.push(null);return(ge[ce]=ge[ce]||[]).push(S),H}}return c&&(g.prototype=Object.create(c.prototype)),g.prototype.ngMetadataName=o,g.annotationCls=g,g})}class ir{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=jt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ei(o,l){void 0===l&&(l=o);for(let c=0;c<o.length;c++){let f=o[c];Array.isArray(f)?(l===o&&(l=o.slice(0,c)),ei(f,l)):l!==o&&l.push(f)}return l}function Go(o,l){o.forEach(c=>Array.isArray(c)?Go(c,l):l(c))}function ic(o,l,c){l>=o.length?o.push(c):o.splice(l,0,c)}function Ls(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function $o(o,l){const c=[];for(let f=0;f<o;f++)c.push(l);return c}function zi(o,l,c){let f=Ci(o,l);return f>=0?o[1|f]=c:(f=~f,function gg(o,l,c,f){let g=o.length;if(g==l)o.push(c,f);else if(1===g)o.push(f,o[0]),o[0]=c;else{for(g--,o.push(o[g-1],o[g]);g>l;)o[g]=o[g-2],g--;o[l]=c,o[l+1]=f}}(o,f,l,c)),f}function pl(o,l){const c=Ci(o,l);if(c>=0)return o[1|c]}function Ci(o,l){return function ml(o,l,c){let f=0,g=o.length>>c;for(;g!==f;){const v=f+(g-f>>1),S=o[v<<c];if(l===S)return v<<c;S>l?g=v:f=v+1}return~(g<<c)}(o,l,1)}const yl={},Ku="__NG_DI_FLAG__",_l="ngTempTokenPath",Yu=/\n/gm,Qu="__source";let ac;function qo(o){const l=ac;return ac=o,l}function Gf(o,l=at.Default){if(void 0===ac)throw new A(-203,!1);return null===ac?Ln(o,void 0,l):ac.get(o,l&at.Optional?null:void 0,l)}function Sr(o,l=at.Default){return(function kn(){return Xt}()||Gf)(G(o),l)}function $(o,l=at.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Sr(o,l)}function Z(o){const l=[];for(let c=0;c<o.length;c++){const f=G(o[c]);if(Array.isArray(f)){if(0===f.length)throw new A(900,!1);let g,v=at.Default;for(let S=0;S<f.length;S++){const O=f[S],H=Se(O);"number"==typeof H?-1===H?g=O.token:v|=H:g=O}l.push(Sr(g,v))}else l.push(Sr(f))}return l}function ae(o,l){return o[Ku]=l,o.prototype[Ku]=l,o}function Se(o){return o[Ku]}const lt=ae(hl("Optional"),8),Qt=ae(hl("SkipSelf"),4);let Zf,Xu,td;function pC(o){Zf=o}function ed(o){return function ch(){if(void 0===Xu&&(Xu=null,zt.trustedTypes))try{Xu=zt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Xu}()?.createHTML(o)||o}function uh(o){return function Yf(){if(void 0===td&&(td=null,zt.trustedTypes))try{td=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return td}()?.createHTML(o)||o}class rd{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Sl(o){return o instanceof rd?o.changingThisBreaksApplicationSecurity:o}function Zo(o,l){const c=function Xf(o){return o instanceof rd&&o.getTypeName()||null}(o);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}class dc{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(ed(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class hh{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const f=this.inertDocument.createElement("body");c.appendChild(f)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=ed(l),c;const f=this.inertDocument.createElement("body");return f.innerHTML=ed(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(l){const c=l.attributes;for(let g=c.length-1;0<g;g--){const S=c.item(g).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&l.removeAttribute(S)}let f=l.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const b=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function C(o){return(o=String(o)).match(b)?o:"unsafe:"+o}function R(o){const l={};for(const c of o.split(","))l[c]=!0;return l}function ie(...o){const l={};for(const c of o)for(const f in c)c.hasOwnProperty(f)&&(l[f]=!0);return l}const he=R("area,br,col,hr,img,wbr"),Ne=R("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ze=R("rp,rt"),sr=ie(he,ie(Ne,R("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ie(Ze,R("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ie(Ze,Ne)),Pi=R("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tp=ie(Pi,R("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),R("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),np=R("script,style,template");class av{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,f=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?f=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,f&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let g=this.checkClobberedElement(c,c.nextSibling);if(g){c=g;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!sr.hasOwnProperty(c))return this.sanitizedSomething=!0,!np.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const f=l.attributes;for(let g=0;g<f.length;g++){const v=f.item(g),S=v.name,O=S.toLowerCase();if(!tp.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let H=v.value;Pi[O]&&(H=C(H)),this.buf.push(" ",S,'="',rp(H),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();sr.hasOwnProperty(c)&&!he.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(rp(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const lv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yc=/([^\#-~ |!])/g;function rp(o){return o.replace(/&/g,"&amp;").replace(lv,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Yc,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let id;function hc(o){return"content"in o&&function fh(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var vr=(()=>((vr=vr||{})[vr.NONE=0]="NONE",vr[vr.HTML=1]="HTML",vr[vr.STYLE=2]="STYLE",vr[vr.SCRIPT=3]="SCRIPT",vr[vr.URL=4]="URL",vr[vr.RESOURCE_URL=5]="RESOURCE_URL",vr))();function sp(o){const l=sd();return l?uh(l.sanitize(vr.HTML,o)||""):Zo(o,"HTML")?uh(Sl(o)):function ip(o,l){let c=null;try{id=id||function Vs(o){const l=new hh(o);return function D(){try{return!!(new window.DOMParser).parseFromString(ed(""),"text/html")}catch{return!1}}()?new dc(l):l}(o);let f=l?String(l):"";c=id.getInertBodyElement(f);let g=5,v=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=v,v=c.innerHTML,c=id.getInertBodyElement(f)}while(f!==v);return ed((new av).sanitizeChildren(hc(c)||c))}finally{if(c){const f=hc(c)||c;for(;f.firstChild;)f.removeChild(f.firstChild)}}}(function lh(){return void 0!==Zf?Zf:typeof document<"u"?document:void 0}(),I(o))}function op(o){const l=sd();return l?l.sanitize(vr.URL,o)||"":Zo(o,"URL")?Sl(o):C(I(o))}function sd(){const o=Ke();return o&&o[12]}const ap=new ir("ENVIRONMENT_INITIALIZER"),lp=new ir("INJECTOR",-1),gC=new ir("INJECTOR_DEF_TYPES");class yC{get(l,c=yl){if(c===yl){const f=new Error(`NullInjectorError: No provider for ${z(l)}!`);throw f.name="NullInjectorError",f}return c}}function tA(...o){return{\u0275providers:_C(0,o)}}function _C(o,...l){const c=[],f=new Set;let g;return Go(l,v=>{const S=v;cp(S,c,[],f)&&(g||(g=[]),g.push(S))}),void 0!==g&&vC(g,c),c}function vC(o,l){for(let c=0;c<o.length;c++){const{providers:g}=o[c];Go(g,v=>{l.push(v)})}}function cp(o,l,c,f){if(!(o=G(o)))return!1;let g=null,v=or(o);const S=!v&&le(o);if(v||S){if(S&&!S.standalone)return!1;g=o}else{const H=o.ngModule;if(v=or(H),!v)return!1;g=H}const O=f.has(g);if(S){if(O)return!1;if(f.add(g),S.dependencies){const H="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const K of H)cp(K,l,c,f)}}else{if(!v)return!1;{if(null!=v.imports&&!O){let K;f.add(g);try{Go(v.imports,ce=>{cp(ce,l,c,f)&&(K||(K=[]),K.push(ce))})}finally{}void 0!==K&&vC(K,l)}if(!O){const K=Lr(g)||(()=>new g);l.push({provide:g,useFactory:K,deps:Ut},{provide:gC,useValue:g,multi:!0},{provide:ap,useValue:()=>Sr(g),multi:!0})}const H=v.providers;null==H||O||Go(H,ce=>{l.push(ce)})}}return g!==o&&void 0!==o.providers}const wg=U({provide:String,useValue:U});function up(o){return null!==o&&"object"==typeof o&&wg in o}function Qc(o){return"function"==typeof o}const bC=new ir("Set Injector scope."),mh={},YR={};let uv;function bg(){return void 0===uv&&(uv=new yC),uv}class Jc{}class Cg extends Jc{constructor(l,c,f,g){super(),this.parent=c,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dv(l,S=>this.processProvider(S)),this.records.set(lp,gh(void 0,this)),g.has("environment")&&this.records.set(Jc,gh(void 0,this));const v=this.records.get(bC);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(gC.multi,Ut,at.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=qo(this),f=vn(void 0);try{return l()}finally{qo(c),vn(f)}}get(l,c=yl,f=at.Default){this.assertNotDestroyed();const g=qo(this),v=vn(void 0);try{if(!(f&at.SkipSelf)){let O=this.records.get(l);if(void 0===O){const H=function oA(o){return"function"==typeof o||"object"==typeof o&&o instanceof ir}(l)&&En(l);O=H&&this.injectableDefInScope(H)?gh(Eg(l),mh):null,this.records.set(l,O)}if(null!=O)return this.hydrate(l,O)}return(f&at.Self?bg():this.parent).get(l,c=f&at.Optional&&c===yl?null:c)}catch(S){if("NullInjectorError"===S.name){if((S[_l]=S[_l]||[]).unshift(z(l)),g)throw S;return function ke(o,l,c,f){const g=o[_l];throw l[Qu]&&g.unshift(l[Qu]),o.message=function Be(o,l,c,f=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let g=z(l);if(Array.isArray(l))g=l.map(z).join(" -> ");else if("object"==typeof l){let v=[];for(let S in l)if(l.hasOwnProperty(S)){let O=l[S];v.push(S+":"+("string"==typeof O?JSON.stringify(O):z(O)))}g=`{${v.join(", ")}}`}return`${c}${f?"("+f+")":""}[${g}]: ${o.replace(Yu,"\n  ")}`}("\n"+o.message,g,c,f),o.ngTokenPath=g,o[_l]=null,o}(S,l,"R3InjectorError",this.source)}throw S}finally{vn(v),qo(g)}}resolveInjectorInitializers(){const l=qo(this),c=vn(void 0);try{const f=this.get(ap.multi,Ut,at.Self);for(const g of f)g()}finally{qo(l),vn(c)}}toString(){const l=[],c=this.records;for(const f of c.keys())l.push(z(f));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(l){let c=Qc(l=G(l))?l:G(l&&l.provide);const f=function rA(o){return up(o)?gh(void 0,o.useValue):gh(CC(o),mh)}(l);if(Qc(l)||!0!==l.multi)this.records.get(c);else{let g=this.records.get(c);g||(g=gh(void 0,mh,!0),g.factory=()=>Z(g.multi),this.records.set(c,g)),c=l,g.multi.push(l)}this.records.set(c,f)}hydrate(l,c){return c.value===mh&&(c.value=YR,c.value=c.factory()),"object"==typeof c.value&&c.value&&function sA(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=G(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Eg(o){const l=En(o),c=null!==l?l.factory:Lr(o);if(null!==c)return c;if(o instanceof ir)throw new A(204,!1);if(o instanceof Function)return function QR(o){const l=o.length;if(l>0)throw $o(l,"?"),new A(204,!1);const c=function st(o){const l=o&&(o[zn]||o[Sn]);if(l){const c=function _n(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new A(204,!1)}function CC(o,l,c){let f;if(Qc(o)){const g=G(o);return Lr(g)||Eg(g)}if(up(o))f=()=>G(o.useValue);else if(function wC(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...Z(o.deps||[]));else if(function dp(o){return!(!o||!o.useExisting)}(o))f=()=>Sr(G(o.useExisting));else{const g=G(o&&(o.useClass||o.provide));if(!function iA(o){return!!o.deps}(o))return Lr(g)||Eg(g);f=()=>new g(...Z(o.deps))}return f}function gh(o,l,c=!1){return{factory:o,value:l,multi:c?[]:void 0}}function EC(o){return!!o.\u0275providers}function dv(o,l){for(const c of o)Array.isArray(c)?dv(c,l):EC(c)?dv(c.\u0275providers,l):l(c)}class hv{}class cA{resolveComponentFactory(l){throw function lA(o){const l=Error(`No component factory found for ${z(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let hp=(()=>{class o{}return o.NULL=new cA,o})();function uA(){return od(_r(),Ke())}function od(o,l){return new fp(Vr(o,l))}let fp=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=uA,o})();function Yo(o){return o instanceof fp?o.nativeElement:o}class yh{}let fv=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function dA(){const o=Ke(),c=Pn(_r().index,o);return(mr(c)?c:o)[11]}(),o})(),hA=(()=>{class o{}return o.\u0275prov=jt({token:o,providedIn:"root",factory:()=>null}),o})();class Tg{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const TC=new Tg("14.2.9"),pv={};function gv(o){return o.ngOriginalError}class gp{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&gv(l);for(;c&&gv(c);)c=gv(c);return c||null}}const _v=new Map;let CA=0;const OC="__ngContext__";function Wi(o,l){mr(l)?(o[OC]=l[20],function SA(o){_v.set(o[20],o)}(l)):o[OC]=l}function Xc(o){return o instanceof Function?o():o}var Tl=(()=>((Tl=Tl||{})[Tl.Important=1]="Important",Tl[Tl.DashCase=2]="DashCase",Tl))();function kg(o,l){return undefined(o,l)}function _p(o){const l=o[3];return yi(l)?l[3]:l}function Og(o){return er(o[13])}function Cv(o){return er(o[4])}function er(o){for(;null!==o&&!yi(o);)o=o[4];return o}function _h(o,l,c,f,g){if(null!=f){let v,S=!1;yi(f)?v=f:mr(f)&&(S=!0,f=f[0]);const O=ar(f);0===o&&null!==c?null==g?HC(l,c,O):eu(l,c,O,g||null,!0):1===o&&null!==c?eu(l,c,O,g||null,!0):2===o?function xv(o,l,c){const f=Fg(o,l);f&&function HA(o,l,c,f){o.removeChild(l,c,f)}(o,f,l,c)}(l,O,S):3===o&&l.destroyNode(O),null!=v&&function $C(o,l,c,f,g){const v=c[7];v!==ar(c)&&_h(l,o,f,v,g);for(let O=10;O<c.length;O++){const H=c[O];vh(H[1],H,o,l,f,v)}}(l,o,v,c,g)}}function Rg(o,l,c){return o.createElement(l,c)}function VC(o,l){const c=o[9],f=c.indexOf(l),g=l[3];512&l[2]&&(l[2]&=-513,lr(g,-1)),c.splice(f,1)}function Ng(o,l){if(o.length<=10)return;const c=10+l,f=o[c];if(f){const g=f[17];null!==g&&g!==o&&VC(g,f),l>0&&(o[c-1][4]=f[4]);const v=Ls(o,10+l);!function BA(o,l){vh(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(f[1],f);const S=v[19];null!==S&&S.detachView(v[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function Sv(o,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&vh(o,l,c,3,null,null),function ti(o){let l=o[13];if(!l)return Tv(o[1],o);for(;l;){let c=null;if(mr(l))c=l[13];else{const f=l[10];f&&(c=f)}if(!c){for(;l&&!l[4]&&l!==o;)mr(l)&&Tv(l[1],l),l=l[3];null===l&&(l=o),mr(l)&&Tv(l[1],l),c=l&&l[4]}l=c}}(l)}}function Tv(o,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function ld(o,l){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let f=0;f<c.length;f+=2){const g=l[c[f]];if(!(g instanceof wi)){const v=c[f+1];if(Array.isArray(v))for(let S=0;S<v.length;S+=2){const O=g[v[S]],H=v[S+1];try{H.call(O)}finally{}}else try{v.call(g)}finally{}}}}(o,l),function BC(o,l){const c=o.cleanup,f=l[7];let g=-1;if(null!==c)for(let v=0;v<c.length-1;v+=2)if("string"==typeof c[v]){const S=c[v+1],O="function"==typeof S?S(l):ar(l[S]),H=f[g=c[v+2]],K=c[v+3];"boolean"==typeof K?O.removeEventListener(c[v],H,K):K>=0?f[g=K]():f[g=-K].unsubscribe(),v+=2}else{const S=f[g=c[v+1]];c[v].call(S)}if(null!==f){for(let v=g+1;v<f.length;v++)(0,f[v])();l[7]=null}}(o,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&yi(l[3])){c!==l[3]&&VC(c,l);const f=l[19];null!==f&&f.detachView(o)}!function wv(o){_v.delete(o[20])}(l)}}function xa(o,l,c){return function UC(o,l,c){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return c[0];if(2&f.flags){const g=o.data[f.directiveStart].encapsulation;if(g===mt.None||g===mt.Emulated)return null}return Vr(f,c)}(o,l.parent,c)}function eu(o,l,c,f,g){o.insertBefore(l,c,f,g)}function HC(o,l,c){o.appendChild(l,c)}function jC(o,l,c,f,g){null!==f?eu(o,l,c,f,g):HC(o,l,c)}function Fg(o,l){return o.parentNode(l)}function Iv(o,l,c){return fc(o,l,c)}let fc=function Mi(o,l,c){return 40&o.type?Vr(o,c):null};function bp(o,l,c,f){const g=xa(o,f,l),v=l[11],O=Iv(f.parent||l[6],f,l);if(null!=g)if(Array.isArray(c))for(let H=0;H<c.length;H++)jC(v,g,c[H],O,!1);else jC(v,g,c,O,!1)}function Cp(o,l){if(null!==l){const c=l.type;if(3&c)return Vr(l,o);if(4&c)return Lg(-1,o[l.index]);if(8&c){const f=l.child;if(null!==f)return Cp(o,f);{const g=o[l.index];return yi(g)?Lg(-1,g):ar(g)}}if(32&c)return kg(l,o)()||ar(o[l.index]);{const f=Dv(o,l);return null!==f?Array.isArray(f)?f[0]:Cp(_p(o[16]),f):Cp(o,l.next)}}return null}function Dv(o,l){return null!==l?o[16][6].projection[l.projection]:null}function Lg(o,l){const c=10+o+1;if(c<l.length){const f=l[c],g=f[1].firstChild;if(null!==g)return Cp(f,g)}return l[7]}function Vg(o,l,c,f,g,v,S){for(;null!=c;){const O=f[c.index],H=c.type;if(S&&0===l&&(O&&Wi(ar(O),f),c.flags|=4),64!=(64&c.flags))if(8&H)Vg(o,l,c.child,f,g,v,!1),_h(l,o,g,O,v);else if(32&H){const K=kg(c,f);let ce;for(;ce=K();)_h(l,o,g,ce,v);_h(l,o,g,O,v)}else 16&H?Ep(o,l,f,c,g,v):_h(l,o,g,O,v);c=S?c.projectionNext:c.next}}function vh(o,l,c,f,g,v){Vg(c,f,o.firstChild,l,g,v,!1)}function Ep(o,l,c,f,g,v){const S=c[16],H=S[6].projection[f.projection];if(Array.isArray(H))for(let K=0;K<H.length;K++)_h(l,o,g,H[K],v);else Vg(o,l,H,S[3],g,v,!0)}function Pv(o,l,c){o.setAttribute(l,"style",c)}function Bg(o,l,c){""===c?o.removeAttribute(l,"class"):o.setAttribute(l,"class",c)}function qC(o,l,c){let f=o.length;for(;;){const g=o.indexOf(l,c);if(-1===g)return g;if(0===g||o.charCodeAt(g-1)<=32){const v=l.length;if(g+v===f||o.charCodeAt(g+v)<=32)return g}c=g+1}}const Mv="ng-template";function kv(o,l,c){let f=0;for(;f<o.length;){let g=o[f++];if(c&&"class"===g){if(g=o[f],-1!==qC(g.toLowerCase(),l,0))return!0}else if(1===g){for(;f<o.length&&"string"==typeof(g=o[f++]);)if(g.toLowerCase()===l)return!0;return!1}}return!1}function Ov(o){return 4===o.type&&o.value!==Mv}function Rv(o,l,c){return l===(4!==o.type||c?o.value:Mv)}function WC(o,l,c){let f=4;const g=o.attrs||[],v=function KC(o){for(let l=0;l<o.length;l++)if(ba(o[l]))return l;return o.length}(g);let S=!1;for(let O=0;O<l.length;O++){const H=l[O];if("number"!=typeof H){if(!S)if(4&f){if(f=2|1&f,""!==H&&!Rv(o,H,c)||""===H&&1===l.length){if(Qo(f))return!1;S=!0}}else{const K=8&f?H:l[++O];if(8&f&&null!==o.attrs){if(!kv(o.attrs,K,c)){if(Qo(f))return!1;S=!0}continue}const ge=ZC(8&f?"class":H,g,Ov(o),c);if(-1===ge){if(Qo(f))return!1;S=!0;continue}if(""!==K){let De;De=ge>v?"":g[ge+1].toLowerCase();const Le=8&f?De:null;if(Le&&-1!==qC(Le,K,0)||2&f&&K!==De){if(Qo(f))return!1;S=!0}}}}else{if(!S&&!Qo(f)&&!Qo(H))return!1;if(S&&Qo(H))continue;S=!1,f=H|1&f}}return Qo(f)||S}function Qo(o){return 0==(1&o)}function ZC(o,l,c,f){if(null===l)return-1;let g=0;if(f||!c){let v=!1;for(;g<l.length;){const S=l[g];if(S===o)return g;if(3===S||6===S)v=!0;else{if(1===S||2===S){let O=l[++g];for(;"string"==typeof O;)O=l[++g];continue}if(4===S)break;if(0===S){g+=4;continue}}g+=v?1:2}return-1}return function YC(o,l){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const f=o[c];if("number"==typeof f)return-1;if(f===l)return c;c++}return-1}(l,o)}function Ug(o,l,c=!1){for(let f=0;f<l.length;f++)if(WC(o,l[f],c))return!0;return!1}function QC(o,l){e:for(let c=0;c<l.length;c++){const f=l[c];if(o.length===f.length){for(let g=0;g<o.length;g++)if(o[g]!==f[g])continue e;return!0}}return!1}function Zi(o,l){return o?":not("+l.trim()+")":l}function nu(o){let l=o[0],c=1,f=2,g="",v=!1;for(;c<o.length;){let S=o[c];if("string"==typeof S)if(2&f){const O=o[++c];g+="["+S+(O.length>0?'="'+O+'"':"")+"]"}else 8&f?g+="."+S:4&f&&(g+=" "+S);else""!==g&&!Qo(S)&&(l+=Zi(v,g),g=""),f=S,v=v||!Qo(f);c++}return""!==g&&(l+=Zi(v,g)),l}const mn={};function Sp(o){XC(hn(),Ke(),nr()+o,!1)}function XC(o,l,c,f){if(!f)if(3==(3&l[2])){const v=o.preOrderCheckHooks;null!==v&&Vo(l,v,c)}else{const v=o.preOrderHooks;null!==v&&Bo(l,v,0,c)}ps(c)}function WA(o,l=null,c=null,f){const g=ZA(o,l,c,f);return g.resolveInjectorInitializers(),g}function ZA(o,l=null,c=null,f,g=new Set){const v=[c||Ut,tA(o)];return f=f||("object"==typeof o?void 0:z(o)),new Cg(v,l||bg(),f||null,g)}let wh=(()=>{class o{static create(c,f){if(Array.isArray(c))return WA({name:""},f,c,"");{const g=c.name??"";return WA({name:g},c.parent,c.providers,g)}}}return o.THROW_IF_NOT_FOUND=yl,o.NULL=new yC,o.\u0275prov=jt({token:o,providedIn:"any",factory:()=>Sr(lp)}),o.__NG_ELEMENT_ID__=-1,o})();function Eh(o,l=at.Default){const c=Ke();return null===c?Sr(o,l):Rs(_r(),c,G(o),l)}function Hv(){throw new Error("invalid")}function Ap(o,l){return o<<17|l<<2}function Pa(o){return o>>17&32767}function Qg(o){return 2|o}function ru(o){return(131068&o)>>2}function Dp(o,l){return-131069&o|l<<2}function Jg(o){return 1|o}function mE(o,l){const c=o.contentQueries;if(null!==c)for(let f=0;f<c.length;f+=2){const g=c[f],v=c[f+1];if(-1!==v){const S=o.data[v];Yl(g),S.contentQueries(2,l[v],v)}}}function fd(o,l,c,f,g,v,S,O,H,K,ce){const ge=l.blueprint.slice();return ge[0]=g,ge[2]=76|f,(null!==ce||o&&1024&o[2])&&(ge[2]|=1024),Po(ge),ge[3]=ge[15]=o,ge[8]=c,ge[10]=S||o&&o[10],ge[11]=O||o&&o[11],ge[12]=H||o&&o[12]||null,ge[9]=K||o&&o[9]||null,ge[6]=v,ge[20]=function EA(){return CA++}(),ge[21]=ce,ge[16]=2==l.type?o[16]:ge,ge}function pd(o,l,c,f,g){let v=o.data[l];if(null===v)v=function zv(o,l,c,f,g){const v=Ro(),S=fa(),H=o.data[l]=function uD(o,l,c,f,g,v){return{type:c,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?v:v&&v.parent,c,l,f,g);return null===o.firstChild&&(o.firstChild=H),null!==v&&(S?null==v.child&&null!==H.parent&&(v.child=H):null===v.next&&(v.next=H)),H}(o,l,c,f,g),function Xa(){return qt.lFrame.inI18n}()&&(v.flags|=64);else if(64&v.type){v.type=c,v.value=f,v.attrs=g;const S=function Ja(){const o=qt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();v.injectorIndex=null===S?-1:S.injectorIndex}return zr(v,!0),v}function md(o,l,c,f){if(0===c)return-1;const g=l.length;for(let v=0;v<c;v++)l.push(f),o.blueprint.push(f),o.data.push(null);return g}function qv(o,l,c){oo(l);try{const f=o.viewQuery;null!==f&&ly(1,f,c);const g=o.template;null!==g&&ny(o,l,g,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&mE(o,l),o.staticViewQueries&&ly(2,o.viewQuery,c);const v=o.components;null!==v&&function cD(o,l){for(let c=0;c<l.length;c++)TE(o,l[c])}(l,v)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{l[2]&=-5,hs()}}function Wv(o,l,c,f){const g=l[2];if(128!=(128&g)){oo(l);try{Po(l),function No(o){return qt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&ny(o,l,c,2,f);const S=3==(3&g);if(S){const K=o.preOrderCheckHooks;null!==K&&Vo(l,K,null)}else{const K=o.preOrderHooks;null!==K&&Bo(l,K,0,null),Uc(l,0)}if(function oy(o){for(let l=Og(o);null!==l;l=Cv(l)){if(!l[2])continue;const c=l[9];for(let f=0;f<c.length;f++){const g=c[f],v=g[3];0==(512&g[2])&&lr(v,1),g[2]|=512}}}(l),function yD(o){for(let l=Og(o);null!==l;l=Cv(l))for(let c=10;c<l.length;c++){const f=l[c],g=f[1];ds(f)&&Wv(g,f,g.template,f[8])}}(l),null!==o.contentQueries&&mE(o,l),S){const K=o.contentCheckHooks;null!==K&&Vo(l,K)}else{const K=o.contentHooks;null!==K&&Bo(l,K,1),Uc(l,1)}!function pE(o,l){const c=o.hostBindingOpCodes;if(null!==c)try{for(let f=0;f<c.length;f++){const g=c[f];if(g<0)ps(~g);else{const v=g,S=c[++f],O=c[++f];Fc(S,v),O(2,l[v])}}}finally{ps(-1)}}(o,l);const O=o.components;null!==O&&function gE(o,l){for(let c=0;c<l.length;c++)Sh(o,l[c])}(l,O);const H=o.viewQuery;if(null!==H&&ly(2,H,f),S){const K=o.viewCheckHooks;null!==K&&Vo(l,K)}else{const K=o.viewHooks;null!==K&&Bo(l,K,2),Uc(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,lr(l[3],-1))}finally{hs()}}}function ny(o,l,c,f,g){const v=nr(),S=2&f;try{ps(-1),S&&l.length>22&&XC(o,l,22,!1),c(f,g)}finally{ps(v)}}function Zv(o,l,c){if(ls(l)){const g=l.directiveEnd;for(let v=l.directiveStart;v<g;v++){const S=o.data[v];S.contentQueries&&S.contentQueries(1,c[v],v)}}}function ry(o,l,c){!Ms()||(function MN(o,l,c,f){const g=c.directiveStart,v=c.directiveEnd;o.firstCreatePass||X(c,l),Wi(f,l);const S=c.initialInputs;for(let O=g;O<v;O++){const H=o.data[O],K=Cr(H);K&&RN(l,c,H);const ce=Ns(l,o,O,c);Wi(ce,l),null!==S&&NN(0,O-g,ce,H,0,S),K&&(Pn(c.index,l)[8]=ce)}}(o,l,c,Vr(c,l)),128==(128&c.flags)&&function kN(o,l,c){const f=c.directiveStart,g=c.directiveEnd,v=c.index,S=function Vu(){return qt.lFrame.currentDirectiveIndex}();try{ps(v);for(let O=f;O<g;O++){const H=o.data[O],K=l[O];Fo(O),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&EE(H,K)}}finally{ps(-1),Fo(S)}}(o,l,c))}function iy(o,l,c=Vr){const f=l.localNames;if(null!==f){let g=l.index+1;for(let v=0;v<f.length;v+=2){const S=f[v+1],O=-1===S?c(l,o):o[S];o[g++]=O}}}function su(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=Kv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function Kv(o,l,c,f,g,v,S,O,H,K){const ce=22+f,ge=ce+g,De=function yE(o,l){const c=[];for(let f=0;f<l;f++)c.push(f<o?null:mn);return c}(ce,ge),Le="function"==typeof K?K():K;return De[1]={type:o,blueprint:De,template:c,queries:null,viewQuery:O,declTNode:l,data:De.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:H,consts:Le,incompleteFirstPass:!1}}function vE(o,l,c,f){const g=cy(l);null===c?g.push(f):(g.push(c),o.firstCreatePass&&Th(o).push(f,g.length-1))}function sy(o,l,c){for(let f in o)if(o.hasOwnProperty(f)){const g=o[f];(c=null===c?{}:c).hasOwnProperty(f)?c[f].push(l,g):c[f]=[l,g]}return c}function Yv(o,l){const f=l.directiveEnd,g=o.data,v=l.attrs,S=[];let O=null,H=null;for(let K=l.directiveStart;K<f;K++){const ce=g[K],ge=ce.inputs,De=null===v||Ov(l)?null:Pt(ge,v);S.push(De),O=sy(ge,K,O),H=sy(ce.outputs,K,H)}null!==O&&(O.hasOwnProperty("class")&&(l.flags|=16),O.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=S,l.inputs=O,l.outputs=H}function Us(o,l,c,f,g,v,S,O){const H=Vr(l,c);let ce,K=l.inputs;!O&&null!=K&&(ce=K[f])?(ni(o,c,ce,f,g),ua(l)&&wE(c,l.index)):3&l.type&&(f=function dD(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),g=null!=S?S(g,l.value||"",f):g,v.setProperty(H,f,g))}function wE(o,l){const c=Pn(l,o);16&c[2]||(c[2]|=32)}function Qv(o,l,c,f){let g=!1;if(Ms()){const v=function hD(o,l,c){const f=o.directiveRegistry;let g=null;if(f)for(let v=0;v<f.length;v++){const S=f[v];Ug(c,S.selectors,!1)&&(g||(g=[]),rn(X(c,l),o,S.type),Cr(S)?(fD(o,c),g.unshift(S)):g.push(S))}return g}(o,l,c),S=null===f?null:{"":-1};if(null!==v){g=!0,mD(c,o.data.length,v.length);for(let ce=0;ce<v.length;ce++){const ge=v[ce];ge.providersResolver&&ge.providersResolver(ge)}let O=!1,H=!1,K=md(o,l,v.length,null);for(let ce=0;ce<v.length;ce++){const ge=v[ce];c.mergedAttrs=Ca(c.mergedAttrs,ge.hostAttrs),gD(o,c,l,K,ge),ON(K,ge,S),null!==ge.contentQueries&&(c.flags|=8),(null!==ge.hostBindings||null!==ge.hostAttrs||0!==ge.hostVars)&&(c.flags|=128);const De=ge.type.prototype;!O&&(De.ngOnChanges||De.ngOnInit||De.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),O=!0),!H&&(De.ngOnChanges||De.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),H=!0),K++}Yv(o,c)}S&&function pD(o,l,c){if(l){const f=o.localNames=[];for(let g=0;g<l.length;g+=2){const v=c[l[g+1]];if(null==v)throw new A(-301,!1);f.push(l[g],v)}}}(c,f,S)}return c.mergedAttrs=Ca(c.mergedAttrs,c.attrs),g}function Jv(o,l,c,f,g,v){const S=v.hostBindings;if(S){let O=o.hostBindingOpCodes;null===O&&(O=o.hostBindingOpCodes=[]);const H=~l.index;(function PN(o){let l=o.length;for(;l>0;){const c=o[--l];if("number"==typeof c&&c<0)return c}return 0})(O)!=H&&O.push(H),O.push(f,g,S)}}function EE(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function fD(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function ON(o,l,c){if(c){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)c[l.exportAs[f]]=o;Cr(l)&&(c[""]=o)}}function mD(o,l,c){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+c,o.providerIndexes=l}function gD(o,l,c,f,g){o.data[f]=g;const v=g.factory||(g.factory=Lr(g.type)),S=new wi(v,Cr(g),Eh);o.blueprint[f]=S,c[f]=S,Jv(o,l,0,f,md(o,c,g.hostVars,mn),g)}function RN(o,l,c){const f=Vr(l,o),g=su(c),v=o[10],S=kp(o,fd(o,g,null,c.onPush?32:16,f,l,v,v.createRenderer(f,c),null,null,null));o[l.index]=S}function mc(o,l,c,f,g,v){const S=Vr(o,l);!function SE(o,l,c,f,g,v,S){if(null==v)o.removeAttribute(l,g,c);else{const O=null==S?I(v):S(v,f||"",g);o.setAttribute(l,g,O,c)}}(l[11],S,v,o.value,c,f,g)}function NN(o,l,c,f,g,v){const S=v[l];if(null!==S){const O=f.setInput;for(let H=0;H<S.length;){const K=S[H++],ce=S[H++],ge=S[H++];null!==O?f.setInput(c,ge,K,ce):c[ce]=ge}}}function Pt(o,l){let c=null,f=0;for(;f<l.length;){const g=l[f];if(0!==g)if(5!==g){if("number"==typeof g)break;o.hasOwnProperty(g)&&(null===c&&(c=[]),c.push(g,o[g],l[f+1])),f+=2}else f+=2;else f+=4}return c}function Jo(o,l,c,f){return new Array(o,!0,!1,l,null,0,f,c,null,null)}function Sh(o,l){const c=Pn(l,o);if(ds(c)){const f=c[1];48&c[2]?Wv(f,c,f.template,c[8]):c[5]>0&&Xv(c)}}function Xv(o){for(let f=Og(o);null!==f;f=Cv(f))for(let g=10;g<f.length;g++){const v=f[g];if(ds(v))if(512&v[2]){const S=v[1];Wv(S,v,S.template,v[8])}else v[5]>0&&Xv(v)}const c=o[1].components;if(null!==c)for(let f=0;f<c.length;f++){const g=Pn(c[f],o);ds(g)&&g[5]>0&&Xv(g)}}function TE(o,l){const c=Pn(l,o),f=c[1];(function _D(o,l){for(let c=l.length;c<o.blueprint.length;c++)l.push(o.blueprint[c])})(f,c),qv(f,c,c[8])}function kp(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function gd(o){for(;o;){o[2]|=32;const l=_p(o);if(qa(o)&&!l)return o;o=l}return null}function ay(o,l,c,f=!0){const g=l[10];g.begin&&g.begin();try{Wv(o,l,o.template,c)}catch(S){throw f&&e0(l,S),S}finally{g.end&&g.end()}}function ly(o,l,c){Yl(0),l(o,c)}function cy(o){return o[7]||(o[7]=[])}function Th(o){return o.cleanup||(o.cleanup=[])}function e0(o,l){const c=o[9],f=c?c.get(gp,null):null;f&&f.handleError(l)}function ni(o,l,c,f,g){for(let v=0;v<c.length;){const S=c[v++],O=c[v++],H=l[S],K=o.data[S];null!==K.setInput?K.setInput(H,g,f,O):H[O]=g}}function Op(o,l,c){let f=c?o.styles:null,g=c?o.classes:null,v=0;if(null!==l)for(let S=0;S<l.length;S++){const O=l[S];"number"==typeof O?v=O:1==v?g=Q(g,O):2==v&&(f=Q(f,O+": "+l[++S]+";"))}c?o.styles=f:o.stylesWithoutHost=f,c?o.classes=g:o.classesWithoutHost=g}function Ir(o,l,c,f,g=!1){for(;null!==c;){const v=l[c.index];if(null!==v&&f.push(ar(v)),yi(v))for(let O=10;O<v.length;O++){const H=v[O],K=H[1].firstChild;null!==K&&Ir(H[1],H,K,f)}const S=c.type;if(8&S)Ir(o,l,c.child,f);else if(32&S){const O=kg(c,l);let H;for(;H=O();)f.push(H)}else if(16&S){const O=Dv(l,c);if(Array.isArray(O))f.push(...O);else{const H=_p(l[16]);Ir(H[1],H,O,f,!0)}}c=g?c.projectionNext:c.next}return f}class gc{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Ir(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(yi(l)){const c=l[8],f=c?c.indexOf(this):-1;f>-1&&(Ng(l,f),Ls(c,f))}this._attachedToViewContainer=!1}Sv(this._lView[1],this._lView)}onDestroy(l){vE(this._lView[1],this._lView,null,l)}markForCheck(){gd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ay(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ad(o,l){vh(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=l}}class uy extends gc{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;ay(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class co extends hp{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=le(l);return new Rp(c,this.ngModule)}}function Ki(o){const l=[];for(let c in o)o.hasOwnProperty(c)&&l.push({propName:o[c],templateName:c});return l}class AE{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,f){const g=this.injector.get(l,pv,f);return g!==pv||c===pv?g:this.parentInjector.get(l,c,f)}}class Rp extends hv{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function JC(o){return o.map(nu).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Ki(this.componentDef.inputs)}get outputs(){return Ki(this.componentDef.outputs)}create(l,c,f,g){let v=(g=g||this.ngModule)instanceof Jc?g:g?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const S=v?new AE(l,v):l,O=S.get(yh,null);if(null===O)throw new A(407,!1);const H=S.get(hA,null),K=O.createRenderer(null,this.componentDef),ce=this.componentDef.selectors[0][0]||"div",ge=f?function _E(o,l,c){return o.selectRootElement(l,c===mt.ShadowDom)}(K,f,this.componentDef.encapsulation):Rg(O.createRenderer(null,this.componentDef),ce,function dy(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(ce)),De=this.componentDef.onPush?288:272,Le=Kv(0,null,null,1,0,null,null,null,null,null),ze=fd(null,Le,null,De,null,null,O,K,H,S,null);let it,ut;oo(ze);try{const It=function vD(o,l,c,f,g,v){const S=c[1];c[22]=o;const H=pd(S,22,2,"#host",null),K=H.mergedAttrs=l.hostAttrs;null!==K&&(Op(H,K,!0),null!==o&&($i(g,o,K),null!==H.classes&&Bg(g,o,H.classes),null!==H.styles&&Pv(g,o,H.styles)));const ce=f.createRenderer(o,l),ge=fd(c,su(l),null,l.onPush?32:16,c[22],H,f,ce,v||null,null,null);return S.firstCreatePass&&(rn(X(H,c),S,l.type),fD(S,H),mD(H,c.length,1)),kp(c,ge),c[22]=ge}(ge,this.componentDef,ze,O,K);if(ge)if(f)$i(K,ge,["ng-version",TC.full]);else{const{attrs:xt,classes:Xe}=function dN(o){const l=[],c=[];let f=1,g=2;for(;f<o.length;){let v=o[f];if("string"==typeof v)2===g?""!==v&&l.push(v,o[++f]):8===g&&c.push(v);else{if(!Qo(g))break;g=v}f++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);xt&&$i(K,ge,xt),Xe&&Xe.length>0&&Bg(K,ge,Xe.join(" "))}if(ut=no(Le,22),void 0!==c){const xt=ut.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const en=c[Xe];xt.push(null!=en?Array.from(en):null)}}it=function _d(o,l,c,f){const g=c[1],v=function CE(o,l,c){const f=_r();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),gD(o,f,l,md(o,l,1,null),c),Yv(o,f));const g=Ns(l,o,f.directiveStart,f);Wi(g,l);const v=Vr(f,l);return v&&Wi(v,l),g}(g,c,l);if(o[8]=c[8]=v,null!==f)for(const O of f)O(v,l);if(l.contentQueries){const O=_r();l.contentQueries(1,v,O.directiveStart)}const S=_r();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(ps(S.index),Jv(c[1],S,0,S.directiveStart,S.directiveEnd,l),EE(l,v)),v}(It,this.componentDef,ze,[t0]),qv(Le,ze,null)}finally{hs()}return new Yi(this.componentType,it,od(ut,ze),ze,ut)}}class Yi extends class aA{}{constructor(l,c,f,g,v){super(),this.location=f,this._rootLView=g,this._tNode=v,this.instance=c,this.hostView=this.changeDetectorRef=new uy(g),this.componentType=l}setInput(l,c){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[l])){const v=this._rootLView;ni(v[1],v,g,l,c),wE(v,this._tNode.index)}}get injector(){return new al(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function t0(){const o=_r();nl(Ke()[1],o)}function r0(o){let l=function n0(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const f=[o];for(;l;){let g;if(Cr(o))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new A(903,!1);g=l.\u0275dir}if(g){if(c){f.push(g);const S=o;S.inputs=Np(o.inputs),S.declaredInputs=Np(o.declaredInputs),S.outputs=Np(o.outputs);const O=g.hostBindings;O&&bD(o,O);const H=g.viewQuery,K=g.contentQueries;if(H&&An(o,H),K&&Fp(o,K),V(o.inputs,g.inputs),V(o.declaredInputs,g.declaredInputs),V(o.outputs,g.outputs),Cr(g)&&g.data.animation){const ce=o.data;ce.animation=(ce.animation||[]).concat(g.data.animation)}}const v=g.features;if(v)for(let S=0;S<v.length;S++){const O=v[S];O&&O.ngInherit&&O(o),O===r0&&(c=!1)}}l=Object.getPrototypeOf(l)}!function wD(o){let l=0,c=null;for(let f=o.length-1;f>=0;f--){const g=o[f];g.hostVars=l+=g.hostVars,g.hostAttrs=Ca(g.hostAttrs,c=Ca(c,g.hostAttrs))}}(f)}function Np(o){return o===$r?{}:o===Ut?[]:o}function An(o,l){const c=o.viewQuery;o.viewQuery=c?(f,g)=>{l(f,g),c(f,g)}:l}function Fp(o,l){const c=o.contentQueries;o.contentQueries=c?(f,g,v)=>{l(f,g,v),c(f,g,v)}:l}function bD(o,l){const c=o.hostBindings;o.hostBindings=c?(f,g)=>{l(f,g),c(f,g)}:l}let uo=null;function lu(){if(!uo){const o=zt.Symbol;if(o&&o.iterator)uo=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const f=l[c];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(uo=f)}}}return uo}function Dh(o){return!!Dl(o)&&(Array.isArray(o)||!(o instanceof Map)&&lu()in o)}function Dl(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function xl(o,l,c){return o[l]=c}function Oi(o,l,c){return!Object.is(o[l],c)&&(o[l]=c,!0)}function cu(o,l,c,f){const g=Oi(o,l,c);return Oi(o,l+1,f)||g}function o0(o,l,c,f){const g=Ke();return Oi(g,ma(),l)&&(hn(),mc(Xn(),g,o,l,c,f)),o0}function wd(o,l,c,f){return Oi(o,ma(),c)?l+I(c)+f:mn}function _c(o,l,c,f,g,v){const O=cu(o,function ji(){return qt.lFrame.bindingIndex}(),c,g);return Gi(2),O?l+I(c)+f+I(g)+v:mn}function c0(o,l,c,f,g,v,S,O){const H=Ke(),K=hn(),ce=o+22,ge=K.firstCreatePass?function PE(o,l,c,f,g,v,S,O,H){const K=l.consts,ce=pd(l,o,4,S||null,Xr(K,O));Qv(l,c,ce,Xr(K,H)),nl(l,ce);const ge=ce.tViews=Kv(2,ce,f,g,v,l.directiveRegistry,l.pipeRegistry,null,l.schemas,K);return null!==l.queries&&(l.queries.template(l,ce),ge.queries=l.queries.embeddedTView(ce)),ce}(ce,K,H,l,c,f,g,v,S):K.data[ce];zr(ge,!1);const De=H[11].createComment("");bp(K,H,De,ge),Wi(De,H),kp(H,H[ce]=Jo(De,H,De,ge)),da(ge)&&ry(K,H,ge),null!=S&&iy(H,ge,O)}function ME(o){return Hi(function pa(){return qt.lFrame.contextLView}(),22+o)}function u0(o,l,c){const f=Ke();return Oi(f,ma(),l)&&Us(hn(),Xn(),f,o,l,f[11],c,!1),u0}function kh(o,l,c,f,g){const S=g?"class":"style";ni(o,c,l.inputs[S],S,f)}function gy(o,l,c,f){const g=Ke(),v=hn(),S=22+o,O=g[11],H=g[S]=Rg(O,l,function Xl(){return qt.lFrame.currentNamespace}()),K=v.firstCreatePass?function ID(o,l,c,f,g,v,S){const O=l.consts,K=pd(l,o,2,g,Xr(O,v));return Qv(l,c,K,Xr(O,S)),null!==K.attrs&&Op(K,K.attrs,!1),null!==K.mergedAttrs&&Op(K,K.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,K),K}(S,v,g,0,l,c,f):v.data[S];zr(K,!0);const ce=K.mergedAttrs;null!==ce&&$i(O,H,ce);const ge=K.classes;null!==ge&&Bg(O,H,ge);const De=K.styles;return null!==De&&Pv(O,H,De),64!=(64&K.flags)&&bp(v,g,H,K),0===function Mo(){return qt.lFrame.elementDepthCount}()&&Wi(H,g),function Zl(){qt.lFrame.elementDepthCount++}(),da(K)&&(ry(v,g,K),Zv(v,K,g)),null!==f&&iy(g,K),gy}function yy(){let o=_r();fa()?io():(o=o.parent,zr(o,!1));const l=o;!function ko(){qt.lFrame.elementDepthCount--}();const c=hn();return c.firstCreatePass&&(nl(c,o),ls(o)&&c.queries.elementEnd(o)),null!=l.classesWithoutHost&&function va(o){return 0!=(16&o.flags)}(l)&&kh(c,l,Ke(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function il(o){return 0!=(32&o.flags)}(l)&&kh(c,l,Ke(),l.stylesWithoutHost,!1),yy}function d0(o,l,c,f){return gy(o,l,c,f),yy(),d0}function Oh(o,l,c){const f=Ke(),g=hn(),v=o+22,S=g.firstCreatePass?function AD(o,l,c,f,g){const v=l.consts,S=Xr(v,f),O=pd(l,o,8,"ng-container",S);return null!==S&&Op(O,S,!0),Qv(l,c,O,Xr(v,g)),null!==l.queries&&l.queries.elementStart(l,O),O}(v,g,f,l,c):g.data[v];zr(S,!0);const O=f[v]=f[11].createComment("");return bp(g,f,O,S),Wi(O,f),da(S)&&(ry(g,f,S),Zv(g,S,f)),null!=c&&iy(f,S),Oh}function bd(){let o=_r();const l=hn();return fa()?io():(o=o.parent,zr(o,!1)),l.firstCreatePass&&(nl(l,o),ls(o)&&l.queries.elementEnd(o)),bd}function h0(o,l,c){return Oh(o,l,c),bd(),h0}function uu(){return Ke()}function Up(o){return!!o&&"function"==typeof o.then}function DD(o){return!!o&&"function"==typeof o.subscribe}const kE=DD;function f0(o,l,c,f){const g=Ke(),v=hn(),S=_r();return function Rh(o,l,c,f,g,v,S,O){const H=da(f),ce=o.firstCreatePass&&Th(o),ge=l[8],De=cy(l);let Le=!0;if(3&f.type||O){const ut=Vr(f,l),It=O?O(ut):ut,xt=De.length,Xe=O?$n=>O(ar($n[f.index])):f.index;let en=null;if(!O&&H&&(en=function Hp(o,l,c,f){const g=o.cleanup;if(null!=g)for(let v=0;v<g.length-1;v+=2){const S=g[v];if(S===c&&g[v+1]===f){const O=l[7],H=g[v+2];return O.length>H?O[H]:null}"string"==typeof S&&(v+=2)}return null}(o,l,g,f.index)),null!==en)(en.__ngLastListenerFn__||en).__ngNextListenerFn__=v,en.__ngLastListenerFn__=v,Le=!1;else{v=p0(f,l,ge,v,!1);const $n=c.listen(It,g,v);De.push(v,$n),ce&&ce.push(g,Xe,xt,xt+1)}}else v=p0(f,l,ge,v,!1);const ze=f.outputs;let it;if(Le&&null!==ze&&(it=ze[g])){const ut=it.length;if(ut)for(let It=0;It<ut;It+=2){const ur=l[it[It]][it[It+1]].subscribe(v),yu=De.length;De.push(v,ur),ce&&ce.push(g,f.index,yu,-(yu+1))}}}(v,g,g[11],S,o,l,0,f),f0}function Cd(o,l,c,f){try{return!1!==c(f)}catch(g){return e0(o,g),!1}}function p0(o,l,c,f,g){return function v(S){if(S===Function)return f;gd(2&o.flags?Pn(o.index,l):l);let H=Cd(l,0,f,S),K=v.__ngNextListenerFn__;for(;K;)H=Cd(l,0,K,S)&&H,K=K.__ngNextListenerFn__;return g&&!1===H&&(S.preventDefault(),S.returnValue=!1),H}}function m0(o=1){return function fs(o){return(qt.lFrame.contextLView=function Bc(o,l){for(;o>0;)l=l[15],o--;return l}(o,qt.lFrame.contextLView))[8]}(o)}function RE(o,l){let c=null;const f=function Hg(o){const l=o.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(o);for(let g=0;g<l.length;g++){const v=l[g];if("*"!==v){if(null===f?Ug(o,v,!0):QC(f,v))return g}else c=g}return c}function Ed(o){const l=Ke()[16][6];if(!l.projection){const f=l.projection=$o(o?o.length:1,null),g=f.slice();let v=l.child;for(;null!==v;){const S=o?RE(v,o):0;null!==S&&(g[S]?g[S].projectionNext=v:f[S]=v,g[S]=v),v=v.next}}}function NE(o,l=0,c){const f=Ke(),g=hn(),v=pd(g,22+o,16,null,c||null);null===v.projection&&(v.projection=l),io(),64!=(64&v.flags)&&function GC(o,l,c){Ep(l[11],0,l,c,xa(o,c,l),Iv(c.parent||l[6],c,l))}(g,f,v)}function g0(o,l,c){return jp(o,"",l,"",c),g0}function jp(o,l,c,f,g){const v=Ke(),S=wd(v,l,c,f);return S!==mn&&Us(hn(),Xn(),v,o,S,v[11],g,!1),jp}function y0(o,l,c,f,g,v,S){const O=Ke(),H=_c(O,l,c,f,g,v);return H!==mn&&Us(hn(),Xn(),O,o,H,O[11],S,!1),y0}function Gp(o,l,c,f,g){const v=o[c+1],S=null===l;let O=f?Pa(v):ru(v),H=!1;for(;0!==O&&(!1===H||S);){const ce=o[O+1];VE(o[O],l)&&(H=!0,o[O+1]=f?Jg(ce):Qg(ce)),O=f?Pa(ce):ru(ce)}H&&(o[c+1]=f?Qg(v):Jg(v))}function VE(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Ci(o,l)>=0}const ci={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BE(o){return o.substring(ci.key,ci.keyEnd)}function UE(o,l){const c=ci.textEnd;return c===l?-1:(l=ci.keyEnd=function kD(o,l,c){for(;l<c&&o.charCodeAt(l)>32;)l++;return l}(o,ci.key=l,c),Fh(o,l,c))}function Fh(o,l,c){for(;l<c&&o.charCodeAt(l)<=32;)l++;return l}function ka(o,l){return function Zr(o,l,c,f){const g=Ke(),v=hn(),S=Gi(2);v.firstUpdatePass&&$p(v,o,S,f),l!==mn&&Oi(g,S,l)&&by(v,v.data[nr()],g,g[11],o,g[S+1]=function KE(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=z(Sl(o)))),o}(l,c),f,S)}(o,l,null,!0),ka}function E0(o){!function ta(o,l,c,f){const g=hn(),v=Gi(2);g.firstUpdatePass&&$p(g,null,v,f);const S=Ke();if(c!==mn&&Oi(S,v,c)){const O=g.data[nr()];if(A0(O,f)&&!zE(g,v)){let H=f?O.classesWithoutHost:O.stylesWithoutHost;null!==H&&(c=Q(H,c||"")),kh(g,O,S,c,f)}else!function ND(o,l,c,f,g,v,S,O){g===mn&&(g=Ut);let H=0,K=0,ce=0<g.length?g[0]:null,ge=0<v.length?v[0]:null;for(;null!==ce||null!==ge;){const De=H<g.length?g[H+1]:void 0,Le=K<v.length?v[K+1]:void 0;let it,ze=null;ce===ge?(H+=2,K+=2,De!==Le&&(ze=ge,it=Le)):null===ge||null!==ce&&ce<ge?(H+=2,ze=ce):(K+=2,ze=ge,it=Le),null!==ze&&by(o,l,c,f,ze,it,S,O),ce=H<g.length?g[H]:null,ge=K<v.length?v[K]:null}}(g,O,S,S[11],S[v+1],S[v+1]=function Wp(o,l,c){if(null==c||""===c)return Ut;const f=[],g=Sl(c);if(Array.isArray(g))for(let v=0;v<g.length;v++)o(f,g[v],!0);else if("object"==typeof g)for(const v in g)g.hasOwnProperty(v)&&o(f,v,g[v]);else"string"==typeof g&&l(f,g);return f}(o,l,c),f,v)}}(zi,Ml,o,!0)}function Ml(o,l){for(let c=function PD(o){return function jE(o){ci.key=0,ci.keyEnd=0,ci.value=0,ci.valueEnd=0,ci.textEnd=o.length}(o),UE(o,Fh(o,0,ci.textEnd))}(l);c>=0;c=UE(l,c))zi(o,BE(l),!0)}function zE(o,l){return l>=o.expandoStartIndex}function $p(o,l,c,f){const g=o.data;if(null===g[c+1]){const v=g[nr()],S=zE(o,c);A0(v,f)&&null===l&&!S&&(l=!1),l=function qE(o,l,c,f){const g=function Lo(o){const l=qt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}(o);let v=f?l.residualClasses:l.residualStyles;if(null===g)0===(f?l.classBindings:l.styleBindings)&&(c=qp(c=zp(null,o,l,c,f),l.attrs,f),v=null);else{const S=l.directiveStylingLast;if(-1===S||o[S]!==g)if(c=zp(g,o,l,c,f),null===v){let H=function S0(o,l,c){const f=c?l.classBindings:l.styleBindings;if(0!==ru(f))return o[Pa(f)]}(o,l,f);void 0!==H&&Array.isArray(H)&&(H=zp(null,o,l,H[1],f),H=qp(H,l.attrs,f),function WE(o,l,c,f){o[Pa(c?l.classBindings:l.styleBindings)]=f}(o,l,f,H))}else v=function T0(o,l,c){let f;const g=l.directiveEnd;for(let v=1+l.directiveStylingLast;v<g;v++)f=qp(f,o[v].hostAttrs,c);return qp(f,l.attrs,c)}(o,l,f)}return void 0!==v&&(f?l.residualClasses=v:l.residualStyles=v),c}(g,v,l,f),function w0(o,l,c,f,g,v){let S=v?l.classBindings:l.styleBindings,O=Pa(S),H=ru(S);o[f]=c;let ce,K=!1;if(Array.isArray(c)){const ge=c;ce=ge[1],(null===ce||Ci(ge,ce)>0)&&(K=!0)}else ce=c;if(g)if(0!==H){const De=Pa(o[O+1]);o[f+1]=Ap(De,O),0!==De&&(o[De+1]=Dp(o[De+1],f)),o[O+1]=function eD(o,l){return 131071&o|l<<17}(o[O+1],f)}else o[f+1]=Ap(O,0),0!==O&&(o[O+1]=Dp(o[O+1],f)),O=f;else o[f+1]=Ap(H,0),0===O?O=f:o[H+1]=Dp(o[H+1],f),H=f;K&&(o[f+1]=Qg(o[f+1])),Gp(o,ce,f,!0),Gp(o,ce,f,!1),function Sd(o,l,c,f,g){const v=g?o.residualClasses:o.residualStyles;null!=v&&"string"==typeof l&&Ci(v,l)>=0&&(c[f+1]=Jg(c[f+1]))}(l,ce,o,f,v),S=Ap(O,H),v?l.classBindings=S:l.styleBindings=S}(g,v,l,c,S,f)}}function zp(o,l,c,f,g){let v=null;const S=c.directiveEnd;let O=c.directiveStylingLast;for(-1===O?O=c.directiveStart:O++;O<S&&(v=l[O],f=qp(f,v.hostAttrs,g),v!==o);)O++;return null!==o&&(c.directiveStylingLast=O),f}function qp(o,l,c){const f=c?1:2;let g=-1;if(null!==l)for(let v=0;v<l.length;v++){const S=l[v];"number"==typeof S?g=S:g===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),zi(o,S,!!c||l[++v]))}return void 0===o?null:o}function by(o,l,c,f,g,v,S,O){if(!(3&l.type))return;const H=o.data,K=H[O+1];Zp(function iE(o){return 1==(1&o)}(K)?I0(H,l,c,g,ru(K),S):void 0)||(Zp(v)||function XA(o){return 2==(2&o)}(K)&&(v=I0(H,null,c,g,O,S)),function zC(o,l,c,f,g){if(l)g?o.addClass(c,f):o.removeClass(c,f);else{let v=-1===f.indexOf("-")?void 0:Tl.DashCase;null==g?o.removeStyle(c,f,v):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),v|=Tl.Important),o.setStyle(c,f,g,v))}}(f,S,Ii(nr(),c),g,v))}function I0(o,l,c,f,g,v){const S=null===l;let O;for(;g>0;){const H=o[g],K=Array.isArray(H),ce=K?H[1]:H,ge=null===ce;let De=c[g+1];De===mn&&(De=ge?Ut:void 0);let Le=ge?pl(De,f):ce===f?De:void 0;if(K&&!Zp(Le)&&(Le=pl(H,f)),Zp(Le)&&(O=Le,S))return O;const ze=o[g+1];g=S?Pa(ze):ru(ze)}if(null!==l){let H=v?l.residualClasses:l.residualStyles;null!=H&&(O=pl(H,f))}return O}function Zp(o){return void 0!==o}function A0(o,l){return 0!=(o.flags&(l?16:32))}function YE(o,l=""){const c=Ke(),f=hn(),g=o+22,v=f.firstCreatePass?pd(f,g,1,l,null):f.data[g],S=c[g]=function Ev(o,l){return o.createText(l)}(c[11],l);bp(f,c,S,v),zr(v,!1)}function Td(o){return Id("",o,""),Td}function Id(o,l,c){const f=Ke(),g=wd(f,o,l,c);return g!==mn&&function Ma(o,l,c){const f=Ii(l,o);!function LC(o,l,c){o.setValue(l,c)}(o[11],f,c)}(f,nr(),g),Id}const vc=void 0;var Uh=["en",[["a","p"],["AM","PM"],vc],[["AM","PM"],vc,vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vc,"{1} 'at' {0}",vc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sy(o){const c=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===f?1:5}];let Hh={};function M0(o){const l=function ZD(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=uS(l);if(c)return c;const f=l.split("-")[0];if(c=uS(f),c)return c;if("en"===f)return Uh;throw new A(701,!1)}function cS(o){return M0(o)[Jt.PluralCase]}function uS(o){return o in Hh||(Hh[o]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[o]),Hh[o]}var Jt=(()=>((Jt=Jt||{})[Jt.LocaleId=0]="LocaleId",Jt[Jt.DayPeriodsFormat=1]="DayPeriodsFormat",Jt[Jt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jt[Jt.DaysFormat=3]="DaysFormat",Jt[Jt.DaysStandalone=4]="DaysStandalone",Jt[Jt.MonthsFormat=5]="MonthsFormat",Jt[Jt.MonthsStandalone=6]="MonthsStandalone",Jt[Jt.Eras=7]="Eras",Jt[Jt.FirstDayOfWeek=8]="FirstDayOfWeek",Jt[Jt.WeekendRange=9]="WeekendRange",Jt[Jt.DateFormat=10]="DateFormat",Jt[Jt.TimeFormat=11]="TimeFormat",Jt[Jt.DateTimeFormat=12]="DateTimeFormat",Jt[Jt.NumberSymbols=13]="NumberSymbols",Jt[Jt.NumberFormats=14]="NumberFormats",Jt[Jt.CurrencyCode=15]="CurrencyCode",Jt[Jt.CurrencySymbol=16]="CurrencySymbol",Jt[Jt.CurrencyName=17]="CurrencyName",Jt[Jt.Currencies=18]="Currencies",Jt[Jt.Directionality=19]="Directionality",Jt[Jt.PluralCase=20]="PluralCase",Jt[Jt.ExtraData=21]="ExtraData",Jt))();const hu="en-US";let fS=hu;function Oy(o,l,c,f,g){if(o=G(o),Array.isArray(o))for(let v=0;v<o.length;v++)Oy(o[v],l,c,f,g);else{const v=hn(),S=Ke();let O=Qc(o)?o:G(o.provide),H=CC(o);const K=_r(),ce=1048575&K.providerIndexes,ge=K.directiveStart,De=K.providerIndexes>>20;if(Qc(o)||!o.multi){const Le=new wi(H,g,Eh),ze=$h(O,l,g?ce:ce+De,ge);-1===ze?(rn(X(K,S),v,O),q0(v,o,l.length),l.push(O),K.directiveStart++,K.directiveEnd++,g&&(K.providerIndexes+=1048576),c.push(Le),S.push(Le)):(c[ze]=Le,S[ze]=Le)}else{const Le=$h(O,l,ce+De,ge),ze=$h(O,l,ce,ce+De),it=Le>=0&&c[Le],ut=ze>=0&&c[ze];if(g&&!ut||!g&&!it){rn(X(K,S),v,O);const It=function _x(o,l,c,f,g){const v=new wi(o,c,Eh);return v.multi=[],v.index=l,v.componentProviders=0,yx(v,g,f&&!c),v}(g?OS:KN,c.length,g,f,H);!g&&ut&&(c[ze].providerFactory=It),q0(v,o,l.length,0),l.push(O),K.directiveStart++,K.directiveEnd++,g&&(K.providerIndexes+=1048576),c.push(It),S.push(It)}else q0(v,o,Le>-1?Le:ze,yx(c[g?ze:Le],H,!g&&f));!g&&f&&ut&&c[ze].componentProviders++}}}function q0(o,l,c,f){const g=Qc(l),v=function nA(o){return!!o.useClass}(l);if(g||v){const H=(v?G(l.useClass):l).prototype.ngOnDestroy;if(H){const K=o.destroyHooks||(o.destroyHooks=[]);if(!g&&l.multi){const ce=K.indexOf(c);-1===ce?K.push(c,[f,H]):K[ce+1].push(f,H)}else K.push(c,H)}}}function yx(o,l,c){return c&&o.componentProviders++,o.multi.push(l)-1}function $h(o,l,c,f){for(let g=c;g<f;g++)if(l[g]===o)return g;return-1}function KN(o,l,c,f){return W0(this.multi,[])}function OS(o,l,c,f){const g=this.multi;let v;if(this.providerFactory){const S=this.providerFactory.componentProviders,O=Ns(c,c[1],this.providerFactory.index,f);v=O.slice(0,S),W0(g,v);for(let H=S;H<O.length;H++)v.push(O[H])}else v=[],W0(g,v);return v}function W0(o,l){for(let c=0;c<o.length;c++)l.push((0,o[c])());return l}function Z0(o,l=[]){return c=>{c.providersResolver=(f,g)=>function gx(o,l,c){const f=hn();if(f.firstCreatePass){const g=Cr(o);Oy(c,f.data,f.blueprint,g,!0),Oy(l,f.data,f.blueprint,g,!1)}}(f,g?g(o):o,l)}}class zh{}class RS{}function vx(o,l){return new NS(o,l??null)}class NS extends zh{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new co(this);const f=wt(l);this._bootstrapComponents=Xc(f.bootstrap),this._r3Injector=ZA(l,c,[{provide:zh,useValue:this},{provide:hp,useValue:this.componentFactoryResolver}],z(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Ry extends RS{constructor(l){super(),this.moduleType=l}create(l){return new NS(this.moduleType,l)}}class wx extends zh{constructor(l,c,f){super(),this.componentFactoryResolver=new co(this),this.instance=null;const g=new Cg([...l,{provide:zh,useValue:this},{provide:hp,useValue:this.componentFactoryResolver}],c||bg(),f,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function FS(o,l,c=null){return new wx(o,l,c).injector}let bx=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const f=_C(0,c.type),g=f.length>0?FS([f],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,g)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=jt({token:o,providedIn:"environment",factory:()=>new o(Sr(Jc))}),o})();function LS(o){o.getStandaloneInjector=l=>l.get(bx).getOrCreateStandaloneInjector(o)}function $S(o,l,c){const f=gr()+o,g=Ke();return g[f]===mn?xl(g,f,c?l.call(c):l()):function Lp(o,l){return o[l]}(g,f)}function zS(o,l,c,f){return function WS(o,l,c,f,g,v){const S=l+c;return Oi(o,S,g)?xl(o,S+1,v?f.call(v,g):f(g)):lm(o,S+1)}(Ke(),gr(),o,l,c,f)}function qS(o,l,c,f,g){return ZS(Ke(),gr(),o,l,c,f,g)}function lm(o,l){const c=o[l];return c===mn?void 0:c}function ZS(o,l,c,f,g,v,S){const O=l+c;return cu(o,O,g,v)?xl(o,O+2,S?f.call(S,g,v):f(g,v)):lm(o,O+2)}function JS(o,l){const c=hn();let f;const g=o+22;c.firstCreatePass?(f=function Ox(o,l){if(l)for(let c=l.length-1;c>=0;c--){const f=l[c];if(o===f.name)return f}}(l,c.pipeRegistry),c.data[g]=f,f.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(g,f.onDestroy)):f=c.data[g];const v=f.factory||(f.factory=Lr(f.type)),S=vn(Eh);try{const O=Ea(!1),H=v();return Ea(O),function TD(o,l,c,f){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),l[c]=f}(c,Ke(),g,H),H}finally{vn(S)}}function XS(o,l,c,f){const g=o+22,v=Ke(),S=Hi(v,g);return function cm(o,l){return o[1].data[l].pure}(v,g)?ZS(v,gr(),l,S.transform,c,f,S):S.transform(c,f)}function Q0(o){return l=>{setTimeout(o,void 0,l)}}const kl=class Vx extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,f){let g=l,v=c||(()=>null),S=f;if(l&&"object"==typeof l){const H=l;g=H.next?.bind(H),v=H.error?.bind(H),S=H.complete?.bind(H)}this.__isAsync&&(v=Q0(v),g&&(g=Q0(g)),S&&(S=Q0(S)));const O=super.subscribe({next:g,error:v,complete:S});return l instanceof _.w0&&l.add(O),O}};function Bx(){return this._results[lu()]()}class J0{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=lu(),f=J0.prototype;f[c]||(f[c]=Bx)}get changes(){return this._changes||(this._changes=new kl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const f=this;f.dirty=!1;const g=ei(l);(this._changesDetected=!function rh(o,l,c){if(o.length!==l.length)return!1;for(let f=0;f<o.length;f++){let g=o[f],v=l[f];if(c&&(g=c(g),v=c(v)),v!==g)return!1}return!0}(f._results,g,c))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let um=(()=>{class o{}return o.__NG_ELEMENT_ID__=jx,o})();const Ux=um,Hx=class extends Ux{constructor(l,c,f){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=f}createEmbeddedView(l,c){const f=this._declarationTContainer.tViews,g=fd(this._declarationLView,f,l,16,null,f.declTNode,null,null,null,null,c||null);g[17]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[19];return null!==S&&(g[19]=S.createEmbeddedView(f)),qv(f,g,l),new gc(g)}};function jx(){return Fy(_r(),Ke())}function Fy(o,l){return 4&o.type?new Hx(l,o,od(o,l)):null}let Ly=(()=>{class o{}return o.__NG_ELEMENT_ID__=Gx,o})();function Gx(){return nT(_r(),Ke())}const $x=Ly,eT=class extends $x{constructor(l,c,f){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=f}get element(){return od(this._hostTNode,this._hostLView)}get injector(){return new al(this._hostTNode,this._hostLView)}get parentInjector(){const l=St(this._hostTNode,this._hostLView);if(sl(l)){const c=Os(l,this._hostLView),f=cn(l);return new al(c[1].data[f+8],c)}return new al(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=tT(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,f){let g,v;"number"==typeof f?g=f:null!=f&&(g=f.index,v=f.injector);const S=l.createEmbeddedView(c||{},v);return this.insert(S,g),S}createComponent(l,c,f,g,v){const S=l&&!function qc(o){return"function"==typeof o}(l);let O;if(S)O=c;else{const ge=c||{};O=ge.index,f=ge.injector,g=ge.projectableNodes,v=ge.environmentInjector||ge.ngModuleRef}const H=S?l:new Rp(le(l)),K=f||this.parentInjector;if(!v&&null==H.ngModule){const De=(S?K:this.parentInjector).get(Jc,null);De&&(v=De)}const ce=H.create(K,g,void 0,v);return this.insert(ce.hostView,O),ce}insert(l,c){const f=l._lView,g=f[1];if(function Wl(o){return yi(o[3])}(f)){const ce=this.indexOf(l);if(-1!==ce)this.detach(ce);else{const ge=f[3],De=new eT(ge,ge[6],ge[3]);De.detach(De.indexOf(l))}}const v=this._adjustIndex(c),S=this._lContainer;!function Zt(o,l,c,f){const g=10+f,v=c.length;f>0&&(c[g-1][4]=l),f<v-10?(l[4]=c[g],ic(c,10+f,l)):(c.push(l),l[4]=null),l[3]=c;const S=l[17];null!==S&&c!==S&&function UA(o,l){const c=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===c?o[9]=[l]:c.push(l)}(S,l);const O=l[19];null!==O&&O.insertView(o),l[2]|=64}(g,f,S,v);const O=Lg(v,S),H=f[11],K=Fg(H,S[7]);return null!==K&&function vp(o,l,c,f,g,v){f[0]=g,f[6]=l,vh(o,f,c,1,g,v)}(g,S[6],H,f,K,O),l.attachToViewContainerRef(),ic(X0(S),v,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=tT(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),f=Ng(this._lContainer,c);f&&(Ls(X0(this._lContainer),c),Sv(f[1],f))}detach(l){const c=this._adjustIndex(l,-1),f=Ng(this._lContainer,c);return f&&null!=Ls(X0(this._lContainer),c)?new gc(f):null}_adjustIndex(l,c=0){return l??this.length+c}};function tT(o){return o[8]}function X0(o){return o[8]||(o[8]=[])}function nT(o,l){let c;const f=l[o.index];if(yi(f))c=f;else{let g;if(8&o.type)g=ar(f);else{const v=l[11];g=v.createComment("");const S=Vr(o,l);eu(v,Fg(v,S),g,function tu(o,l){return o.nextSibling(l)}(v,S),!1)}l[o.index]=c=Jo(f,l,g,o),kp(l,c)}return new eT(c,o,l)}class ew{constructor(l){this.queryList=l,this.matches=null}clone(){return new ew(this.queryList)}setDirty(){this.queryList.setDirty()}}class dm{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const f=null!==l.contentQueries?l.contentQueries[0]:c.length,g=[];for(let v=0;v<f;v++){const S=c.getByIndex(v);g.push(this.queries[S.indexInDeclarationView].clone())}return new dm(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==cT(l,c).matches&&this.queries[c].setDirty()}}class tw{constructor(l,c,f=null){this.predicate=l,this.flags=c,this.read=f}}class nw{constructor(l=[]){this.queries=l}elementStart(l,c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let f=0;f<this.length;f++){const g=null!==c?c.length:0,v=this.getByIndex(f).embeddedTView(l,g);v&&(v.indexInDeclarationView=f,null!==c?c.push(v):c=[v])}return null!==c?new nw(c):null}template(l,c){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class rw{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new rw(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==c;)f=f.parent;return c===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const v=f[g];this.matchTNodeWithReadOption(l,c,Wx(c,v)),this.matchTNodeWithReadOption(l,c,rc(c,l,v,!1,!1))}else f===um?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,rc(c,l,f,!1,!1))}matchTNodeWithReadOption(l,c,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===fp||g===Ly||g===um&&4&c.type)this.addMatch(c.index,-2);else{const v=rc(c,l,g,!1,!1);null!==v&&this.addMatch(c.index,v)}else this.addMatch(c.index,f)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function Wx(o,l){const c=o.localNames;if(null!==c)for(let f=0;f<c.length;f+=2)if(c[f]===l)return c[f+1];return null}function Kx(o,l,c,f){return-1===c?function Zx(o,l){return 11&o.type?od(o,l):4&o.type?Fy(o,l):null}(l,o):-2===c?function Yx(o,l,c){return c===fp?od(l,o):c===um?Fy(l,o):c===Ly?nT(l,o):void 0}(o,l,f):Ns(o,o[1],c,l)}function rT(o,l,c,f){const g=l[19].queries[f];if(null===g.matches){const v=o.data,S=c.matches,O=[];for(let H=0;H<S.length;H+=2){const K=S[H];O.push(K<0?null:Kx(l,v[K],S[H+1],c.metadata.read))}g.matches=O}return g.matches}function iw(o,l,c,f){const g=o.queries.getByIndex(c),v=g.matches;if(null!==v){const S=rT(o,l,g,c);for(let O=0;O<v.length;O+=2){const H=v[O];if(H>0)f.push(S[O/2]);else{const K=v[O+1],ce=l[-H];for(let ge=10;ge<ce.length;ge++){const De=ce[ge];De[17]===De[3]&&iw(De[1],De,K,f)}if(null!==ce[9]){const ge=ce[9];for(let De=0;De<ge.length;De++){const Le=ge[De];iw(Le[1],Le,K,f)}}}}}return f}function iT(o){const l=Ke(),c=hn(),f=ga();Yl(f+1);const g=cT(c,f);if(o.dirty&&function ql(o){return 4==(4&o[2])}(l)===(2==(2&g.metadata.flags))){if(null===g.matches)o.reset([]);else{const v=g.crossesNgTemplate?iw(c,l,f,[]):rT(c,l,g,f);o.reset(v,Yo),o.notifyOnChanges()}return!0}return!1}function sT(o,l,c,f){const g=hn();if(g.firstCreatePass){const v=_r();(function lT(o,l,c){null===o.queries&&(o.queries=new nw),o.queries.track(new rw(l,c))})(g,new tw(l,c,f),v.index),function Xx(o,l){const c=o.contentQueries||(o.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,l)}(g,o),2==(2&c)&&(g.staticContentQueries=!0)}!function aT(o,l,c){const f=new J0(4==(4&c));vE(o,l,f,f.destroy),null===l[19]&&(l[19]=new dm),l[19].queries.push(new ew(f))}(g,Ke(),c)}function oT(){return function Jx(o,l){return o[19].queries[l].queryList}(Ke(),ga())}function cT(o,l){return o.queries.getByIndex(l)}function uT(o,l){return Fy(o,l)}function Zh(...o){}const Hy=new ir("Application Initializer");let jy=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Zh,this.reject=Zh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const c=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const v=this.appInits[g]();if(Up(v))c.push(v);else if(kE(v)){const S=new Promise((O,H)=>{v.subscribe({complete:O,error:H})});c.push(S)}}Promise.all(c).then(()=>{f()}).catch(g=>{this.reject(g)}),0===c.length&&f(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Sr(Hy,8))},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const TT=new ir("AppId",{providedIn:"root",factory:function Gy(){return`${dw()}${dw()}${dw()}`}});function dw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Kh=new ir("Platform Initializer"),dP=new ir("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Yh=new ir("appBootstrapListener"),hP=new ir("AnimationModuleType");let $y=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const ym=new ir("LocaleId",{providedIn:"root",factory:()=>$(ym,at.Optional|at.SkipSelf)||function hw(){return typeof $localize<"u"&&$localize.locale||hu}()}),IT=new ir("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class pw{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let mw=(()=>{class o{compileModuleSync(c){return new Ry(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const f=this.compileModuleSync(c),v=Xc(wt(c).declarations).reduce((S,O)=>{const H=le(O);return H&&S.push(new Rp(H)),S},[]);return new pw(f,v)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const PT=(()=>Promise.resolve(0))();function _w(o){typeof Zone>"u"?PT.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Hs{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kl(!1),this.onMicrotaskEmpty=new kl(!1),this.onStable=new kl(!1),this.onError=new kl(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const v=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new v("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&c,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function vw(){let o=zt.requestAnimationFrame,l=zt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function zy(o){const l=()=>{!function Fi(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(zt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,_m(o),o.isCheckStableRunning=!0,ri(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),_m(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,f,g,v,S,O)=>{try{return MT(o),c.invokeTask(g,v,S,O)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||o.shouldCoalesceRunChangeDetection)&&l(),kT(o)}},onInvoke:(c,f,g,v,S,O,H)=>{try{return MT(o),c.invoke(g,v,S,O,H)}finally{o.shouldCoalesceRunChangeDetection&&l(),kT(o)}},onHasTask:(c,f,g,v)=>{c.hasTask(g,v),f===g&&("microTask"==v.change?(o._hasPendingMicrotasks=v.microTask,_m(o),ri(o)):"macroTask"==v.change&&(o.hasPendingMacrotasks=v.macroTask))},onHandleError:(c,f,g,v)=>(c.handleError(g,v),o.runOutsideAngular(()=>o.onError.emit(v)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hs.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(Hs.isInAngularZone())throw new A(909,!1)}run(l,c,f){return this._inner.run(l,c,f)}runTask(l,c,f,g){const v=this._inner,S=v.scheduleEventTask("NgZoneEvent: "+g,l,ww,Zh,Zh);try{return v.runTask(S,c,f)}finally{v.cancelTask(S)}}runGuarded(l,c,f){return this._inner.runGuarded(l,c,f)}runOutsideAngular(l){return this._outer.run(l)}}const ww={};function ri(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function _m(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function MT(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function kT(o){o._nesting--,ri(o)}class OT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kl,this.onMicrotaskEmpty=new kl,this.onStable=new kl,this.onError=new kl}run(l,c,f){return l.apply(c,f)}runGuarded(l,c,f){return l.apply(c,f)}runOutsideAngular(l){return l()}runTask(l,c,f,g){return l.apply(c,f)}}const RT=new ir(""),NT=new ir("");let vm,FT=(()=>{class o{constructor(c,f,g){this._ngZone=c,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vm||(function gP(o){vm=o}(g),g.addToWindow(f)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hs.assertNotInAngularZone(),_w(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_w(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,g){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==v),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:v,updateCb:g})}whenStable(c,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,f,g){return[]}}return o.\u0275fac=function(c){return new(c||o)(Sr(Hs),Sr(qy),Sr(NT))},o.\u0275prov=jt({token:o,factory:o.\u0275fac}),o})(),qy=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){return vm?.findTestabilityInTree(this,c,f)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Ec=null;const LT=new ir("AllowMultipleToken"),Qh=new ir("PlatformDestroyListeners");class wm{constructor(l,c){this.name=l,this.token=c}}function UT(o,l,c=[]){const f=`Platform: ${l}`,g=new ir(f);return(v=[])=>{let S=Sw();if(!S||S.injector.get(LT,!1)){const O=[...c,...v,{provide:g,useValue:!0}];o?o(O):function VT(o){if(Ec&&!Ec.get(LT,!1))throw new A(400,!1);Ec=o;const l=o.get(mu);(function Cw(o){const l=o.get(Kh,null);l&&l.forEach(c=>c())})(o)}(function Dd(o=[],l){return wh.create({name:l,providers:[{provide:bC,useValue:"platform"},{provide:Qh,useValue:new Set([()=>Ec=null])},...o]})}(O,f))}return function vP(o){const l=Sw();if(!l)throw new A(401,!1);return l}()}}function Sw(){return Ec?.get(mu)??null}let mu=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const g=function bm(o,l){let c;return c="noop"===o?new OT:("zone.js"===o?void 0:o)||new Hs(l),c}(f?.ngZone,function Tw(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(f)),v=[{provide:Hs,useValue:g}];return g.run(()=>{const S=wh.create({providers:v,parent:this.injector,name:c.moduleType.name}),O=c.create(S),H=O.injector.get(gp,null);if(!H)throw new A(402,!1);return g.runOutsideAngular(()=>{const K=g.onError.subscribe({next:ce=>{H.handleError(ce)}});O.onDestroy(()=>{Ei(this._modules,O),K.unsubscribe()})}),function Iw(o,l,c){try{const f=c();return Up(f)?f.catch(g=>{throw l.runOutsideAngular(()=>o.handleError(g)),g}):f}catch(f){throw l.runOutsideAngular(()=>o.handleError(f)),f}}(H,g,()=>{const K=O.injector.get(jy);return K.runInitializers(),K.donePromise.then(()=>(function pS(o){Ye(o,"Expected localeId to be defined"),"string"==typeof o&&(fS=o.toLowerCase().replace(/_/g,"-"))}(O.injector.get(ym,hu)||hu),this._moduleDoBootstrap(O),O))})})}bootstrapModule(c,f=[]){const g=Jh({},f);return function bw(o,l,c){const f=new Ry(c);return Promise.resolve(f)}(0,0,c).then(v=>this.bootstrapModuleFactory(v,g))}_moduleDoBootstrap(c){const f=c.injector.get(Cm);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!c.instance.ngDoBootstrap)throw new A(403,!1);c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const c=this._injector.get(Qh,null);c&&(c.forEach(f=>f()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Sr(wh))},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Jh(o,l){return Array.isArray(l)?l.reduce(Jh,o):{...o,...l}}let Cm=(()=>{class o{constructor(c,f,g){this._zone=c,this._injector=f,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new w.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),S=new w.y(O=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{Hs.assertNotInAngularZone(),_w(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{Hs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{H.unsubscribe(),K.unsubscribe()}});this.isStable=(0,P.T)(v,S.pipe((0,L.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,f){const g=c instanceof hv;if(!this._injector.get(jy).done)throw!g&&Qe(c),new A(405,false);let S;S=g?c:this._injector.get(hp).resolveComponentFactory(c),this.componentTypes.push(S.componentType);const O=function _P(o){return o.isBoundToModule}(S)?void 0:this._injector.get(zh),K=S.create(wh.NULL,[],f||S.selector,O),ce=K.location.nativeElement,ge=K.injector.get(RT,null);return ge?.registerApplication(ce),K.onDestroy(()=>{this.detachView(K.hostView),Ei(this.components,K),ge?.unregisterApplication(ce)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;Ei(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Yh,[]).concat(this._bootstrapListeners).forEach(g=>g(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Ei(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new A(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(Sr(Hs),Sr(Jc),Sr(gp))},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Ei(o,l){const c=o.indexOf(l);c>-1&&o.splice(c,1)}let Sm=!0,Dw=!1;function xw(){return Dw=!0,Sm}function HT(){if(Dw)throw new Error("Cannot enable prod mode after platform setup.");Sm=!1}let Pw=(()=>{class o{}return o.__NG_ELEMENT_ID__=Mw,o})();function Mw(o){return function Ky(o,l,c){if(ua(o)&&!c){const f=Pn(o.index,l);return new gc(f,f)}return 47&o.type?new gc(l[16],l):null}(_r(),Ke(),16==(16&o))}class Rl{constructor(){}supports(l){return Dh(l)}create(l){return new Xy(l)}}const Jy=(o,l)=>l;class Xy{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Jy}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,f=this._removalsHead,g=0,v=null;for(;c||f;){const S=!f||c&&c.currentIndex<tf(f,g,v)?c:f,O=tf(S,g,v),H=S.currentIndex;if(S===f)g--,f=f._nextRemoved;else if(c=c._next,null==S.previousIndex)g++;else{v||(v=[]);const K=O-g,ce=H-g;if(K!=ce){for(let De=0;De<K;De++){const Le=De<v.length?v[De]:v[De]=0,ze=Le+De;ce<=ze&&ze<K&&(v[De]=Le+1)}v[S.previousIndex]=ce-K}}O!==H&&l(S,O,H)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Dh(l))throw new A(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,v,S,c=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let O=0;O<this.length;O++)v=l[O],S=this._trackByFn(O,v),null!==c&&Object.is(c.trackById,S)?(f&&(c=this._verifyReinsertion(c,v,S,O)),Object.is(c.item,v)||this._addIdentityChange(c,v)):(c=this._mismatch(c,v,S,O),f=!0),c=c._next}else g=0,function ki(o,l){if(Array.isArray(o))for(let c=0;c<o.length;c++)l(o[c]);else{const c=o[lu()]();let f;for(;!(f=c.next()).done;)l(f.value)}}(l,O=>{S=this._trackByFn(g,O),null!==c&&Object.is(c.trackById,S)?(f&&(c=this._verifyReinsertion(c,O,S,g)),Object.is(c.item,O)||this._addIdentityChange(c,O)):(c=this._mismatch(c,O,S,g),f=!0),c=c._next,g++}),this.length=g;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,f,g){let v;return null===l?v=this._itTail:(v=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,v,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,v,g)):l=this._addAfter(new qT(c,f),v,g),l}_verifyReinsertion(l,c,f,g){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==v?l=this._reinsertAfter(v,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,v=l._nextRemoved;return null===g?this._removalsHead=v:g._nextRemoved=v,null===v?this._removalsTail=g:v._prevRemoved=g,this._insertAfter(l,c,f),this._addToMoves(l,f),l}_moveAfter(l,c,f){return this._unlink(l),this._insertAfter(l,c,f),this._addToMoves(l,f),l}_addAfter(l,c,f){return this._insertAfter(l,c,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,f){const g=null===c?this._itHead:c._next;return l._next=g,l._prev=c,null===g?this._itTail=l:g._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new Am),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,f=l._next;return null===c?this._itHead=f:c._next=f,null===f?this._itTail=c:f._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Am),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class qT{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ar{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===c||c<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const c=l._prevDup,f=l._nextDup;return null===c?this._head=f:c._nextDup=f,null===f?this._tail=c:f._prevDup=c,null===this._head}}class Am{constructor(){this.map=new Map}put(l){const c=l.trackById;let f=this.map.get(c);f||(f=new Ar,this.map.set(c,f)),f.add(l)}get(l,c){const g=this.map.get(l);return g?g.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tf(o,l,c){const f=o.previousIndex;if(null===f)return f;let g=0;return c&&f<c.length&&(g=c[f]),f+l+g}class nf{constructor(){}supports(l){return l instanceof Map||Dl(l)}create(){return new SP}}class SP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Dl(l)))throw new A(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,g)=>{if(c&&c.key===g)this._maybeAddToChanges(c,f),this._appendAfter=c,c=c._next;else{const v=this._getOrCreateRecordForKey(g,f);c=this._insertBeforeOrAppend(c,v)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let f=c;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const f=l._prev;return c._next=l,c._prev=f,l._prev=c,f&&(f._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,c);const v=g._prev,S=g._next;return v&&(v._next=S),S&&(S._prev=v),g._next=null,g._prev=null,g}const f=new WT(l);return this._records.set(l,f),f.currentValue=c,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(f=>c(l[f],f))}}class WT{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ZT(){return new Fw([new Rl])}let Fw=(()=>{class o{constructor(c){this.factories=c}static create(c,f){if(null!=f){const g=f.factories.slice();c=c.concat(g)}return new o(c)}static extend(c){return{provide:o,useFactory:f=>o.create(c,f||ZT()),deps:[[o,new Qt,new lt]]}}find(c){const f=this.factories.find(g=>g.supports(c));if(null!=f)return f;throw new A(901,!1)}}return o.\u0275prov=jt({token:o,providedIn:"root",factory:ZT}),o})();function KT(){return new Md([new nf])}let Md=(()=>{class o{constructor(c){this.factories=c}static create(c,f){if(f){const g=f.factories.slice();c=c.concat(g)}return new o(c)}static extend(c){return{provide:o,useFactory:f=>o.create(c,f||KT()),deps:[[o,new Qt,new lt]]}}find(c){const f=this.factories.find(g=>g.supports(c));if(f)return f;throw new A(901,!1)}}return o.\u0275prov=jt({token:o,providedIn:"root",factory:KT}),o})();const rf=UT(null,"core",[]);let AP=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Sr(Cm))},o.\u0275mod=bn({type:o}),o.\u0275inj=Et({}),o})();function DP(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(d,h,p)=>{"use strict";p.d(h,{Z:()=>A});var s=p(2090),_=p(4859),w=p(9681),P=p(1877);class L{constructor(I,T){this._delegate=I,this.firebase=T,(0,w._addComponent)(I,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=I.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(I){this._delegate.automaticDataCollectionEnabled=I}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(I=>{this._delegate.checkDestroyed(),I()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,w.deleteApp)(this._delegate)))}_getService(I,T=w._DEFAULT_ENTRY_NAME){var W;this._delegate.checkDestroyed();const J=this._delegate.container.getProvider(I);return!J.isInitialized()&&"EXPLICIT"===(null===(W=J.getComponent())||void 0===W?void 0:W.instantiationMode)&&J.initialize(),J.getImmediate({identifier:T})}_removeServiceInstance(I,T=w._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(I).clearInstance(T)}_addComponent(I){(0,w._addComponent)(this._delegate,I)}_addOrOverwriteComponent(I){(0,w._addOrOverwriteComponent)(this._delegate,I)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const V=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),x=function Q(){const N=function z(N){const I={},T={__esModule:!0,initializeApp:function ne(_e,ve={}){const Ie=w.initializeApp(_e,ve);if((0,s.r3)(I,Ie.name))return I[Ie.name];const Ee=new N(Ie,T);return I[Ie.name]=Ee,Ee},app:J,registerVersion:w.registerVersion,setLogLevel:w.setLogLevel,onLog:w.onLog,apps:null,SDK_VERSION:w.SDK_VERSION,INTERNAL:{registerComponent:function me(_e){const ve=_e.name,Ie=ve.replace("-compat","");if(w._registerComponent(_e)&&"PUBLIC"===_e.type){const Ee=(de=J())=>{if("function"!=typeof de[Ie])throw V.create("invalid-app-argument",{appName:ve});return de[Ie]()};void 0!==_e.serviceProps&&(0,s.ZB)(Ee,_e.serviceProps),T[Ie]=Ee,N.prototype[Ie]=function(...de){return this._getService.bind(this,ve).apply(this,_e.multipleInstances?de:[])}}return"PUBLIC"===_e.type?T[Ie]:null},removeApp:function W(_e){delete I[_e]},useAsService:function Pe(_e,ve){return"serverAuth"===ve?null:ve},modularAPIs:w}};function J(_e){if(!(0,s.r3)(I,_e=_e||w._DEFAULT_ENTRY_NAME))throw V.create("no-app",{appName:_e});return I[_e]}return T.default=T,Object.defineProperty(T,"apps",{get:function re(){return Object.keys(I).map(_e=>I[_e])}}),J.App=N,T}(L);return N.INTERNAL=Object.assign(Object.assign({},N.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function I(T){(0,s.ZB)(N,T)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),N}(),j=new P.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const N=self.firebase.SDK_VERSION;N&&N.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const A=x;!function Y(N){(0,w.registerVersion)("@firebase/app-compat","0.1.39",N)}()},9681:(d,h,p)=>{"use strict";p.r(h),p.d(h,{FirebaseError:()=>P.ZR,SDK_VERSION:()=>or,_DEFAULT_ENTRY_NAME:()=>Ye,_addComponent:()=>yt,_addOrOverwriteComponent:()=>jt,_apps:()=>ot,_clearComponents:()=>In,_components:()=>Ot,_getProvider:()=>Et,_registerComponent:()=>At,_removeServiceInstance:()=>En,deleteApp:()=>Bn,getApp:()=>Mn,getApps:()=>Sn,initializeApp:()=>zn,onLog:()=>kn,registerVersion:()=>Xt,setLogLevel:()=>vn});var s=p(5861),_=p(4859),w=p(1877),P=p(2090),L=p(8766);class U{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function V(ft){return"VERSION"===ft.getComponent()?.type}(_t)){const Rt=_t.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(_t=>_t).join(" ")}}const z="@firebase/app",Q="0.8.4",x=new w.Yd("@firebase/app"),Ye="[DEFAULT]",$e={[z]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ot=new Map,Ot=new Map;function yt(ft,qe){try{ft.container.addComponent(qe)}catch(_t){x.debug(`Component ${qe.name} failed to register with FirebaseApp ${ft.name}`,_t)}}function jt(ft,qe){ft.container.addOrOverwriteComponent(qe)}function At(ft){const qe=ft.name;if(Ot.has(qe))return x.debug(`There were multiple attempts to register component ${qe}.`),!1;Ot.set(qe,ft);for(const _t of ot.values())yt(_t,ft);return!0}function Et(ft,qe){const _t=ft.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),ft.container.getProvider(qe)}function En(ft,qe,_t=Ye){Et(ft,qe).clearInstance(_t)}function In(){Ot.clear()}const st=new P.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _n{constructor(qe,_t,Rt){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw st.create("app-deleted",{appName:this._name})}}const or="9.14.0";function zn(ft,qe={}){let _t=ft;"object"!=typeof qe&&(qe={name:qe});const Rt=Object.assign({name:Ye,automaticDataCollectionEnabled:!1},qe),Nt=Rt.name;if("string"!=typeof Nt||!Nt)throw st.create("bad-app-name",{appName:String(Nt)});if(_t||(_t=(0,P.aH)()),!_t)throw st.create("no-options");const bn=ot.get(Nt);if(bn){if((0,P.vZ)(_t,bn.options)&&(0,P.vZ)(Rt,bn.config))return bn;throw st.create("duplicate-app",{appName:Nt})}const Ae=new _.H0(Nt);for(const xe of Ot.values())Ae.addComponent(xe);const Te=new _n(_t,Rt,Ae);return ot.set(Nt,Te),Te}function Mn(ft=Ye){const qe=ot.get(ft);if(!qe&&ft===Ye)return zn();if(!qe)throw st.create("no-app",{appName:ft});return qe}function Sn(){return Array.from(ot.values())}function Bn(ft){return at.apply(this,arguments)}function at(){return(at=(0,s.Z)(function*(ft){const qe=ft.name;ot.has(qe)&&(ot.delete(qe),yield Promise.all(ft.container.getProviders().map(_t=>_t.delete())),ft.isDeleted=!0)})).apply(this,arguments)}function Xt(ft,qe,_t){var Rt;let Nt=null!==(Rt=$e[ft])&&void 0!==Rt?Rt:ft;_t&&(Nt+=`-${_t}`);const bn=Nt.match(/\s|\//),Ae=qe.match(/\s|\//);if(bn||Ae){const Te=[`Unable to register library "${Nt}" with version "${qe}":`];return bn&&Te.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),bn&&Ae&&Te.push("and"),Ae&&Te.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void x.warn(Te.join(" "))}At(new _.wA(`${Nt}-version`,()=>({library:Nt,version:qe}),"VERSION"))}function kn(ft,qe){if(null!==ft&&"function"!=typeof ft)throw st.create("invalid-log-argument");(0,w.Am)(ft,qe)}function vn(ft){(0,w.Ub)(ft)}const $t="firebase-heartbeat-store";let ln=null;function dn(){return ln||(ln=(0,L.X3)("firebase-heartbeat-database",1,{upgrade:(ft,qe)=>{0===qe&&ft.createObjectStore($t)}}).catch(ft=>{throw st.create("idb-open",{originalErrorMessage:ft.message})})),ln}function mt(){return(mt=(0,s.Z)(function*(ft){var qe;try{return(yield dn()).transaction($t).objectStore($t).get(xn(ft))}catch(_t){if(_t instanceof P.ZR)x.warn(_t.message);else{const Rt=st.create("idb-get",{originalErrorMessage:null===(qe=_t)||void 0===qe?void 0:qe.message});x.warn(Rt.message)}}})).apply(this,arguments)}function zt(ft,qe){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,s.Z)(function*(ft,qe){var _t;try{const Nt=(yield dn()).transaction($t,"readwrite");return yield Nt.objectStore($t).put(qe,xn(ft)),Nt.done}catch(Rt){if(Rt instanceof P.ZR)x.warn(Rt.message);else{const Nt=st.create("idb-set",{originalErrorMessage:null===(_t=Rt)||void 0===_t?void 0:_t.message});x.warn(Nt.message)}}})).apply(this,arguments)}function xn(ft){return`${ft.name}!${ft.options.appId}`}class Fr{constructor(qe){this.container=qe,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new pn(_t),this._heartbeatsCachePromise=this._storage.read().then(Rt=>(this._heartbeatsCache=Rt,Rt))}triggerHeartbeat(){var qe=this;return(0,s.Z)(function*(){const Rt=qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=Kt();if(null===qe._heartbeatsCache&&(qe._heartbeatsCache=yield qe._heartbeatsCachePromise),qe._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!qe._heartbeatsCache.heartbeats.some(bn=>bn.date===Nt))return qe._heartbeatsCache.heartbeats.push({date:Nt,agent:Rt}),qe._heartbeatsCache.heartbeats=qe._heartbeatsCache.heartbeats.filter(bn=>{const Ae=new Date(bn.date).valueOf();return Date.now()-Ae<=2592e6}),qe._storage.overwrite(qe._heartbeatsCache)})()}getHeartbeatsHeader(){var qe=this;return(0,s.Z)(function*(){if(null===qe._heartbeatsCache&&(yield qe._heartbeatsCachePromise),null===qe._heartbeatsCache||0===qe._heartbeatsCache.heartbeats.length)return"";const _t=Kt(),{heartbeatsToSend:Rt,unsentEntries:Nt}=function ai(ft,qe=1024){const _t=[];let Rt=ft.slice();for(const Nt of ft){const bn=_t.find(Ae=>Ae.agent===Nt.agent);if(bn){if(bn.dates.push(Nt.date),br(_t)>qe){bn.dates.pop();break}}else if(_t.push({agent:Nt.agent,dates:[Nt.date]}),br(_t)>qe){_t.pop();break}Rt=Rt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:Rt}}(qe._heartbeatsCache.heartbeats),bn=(0,P.L)(JSON.stringify({version:2,heartbeats:Rt}));return qe._heartbeatsCache.lastSentHeartbeatDate=_t,Nt.length>0?(qe._heartbeatsCache.heartbeats=Nt,yield qe._storage.overwrite(qe._heartbeatsCache)):(qe._heartbeatsCache.heartbeats=[],qe._storage.overwrite(qe._heartbeatsCache)),bn})()}}function Kt(){return(new Date).toISOString().substring(0,10)}class pn{constructor(qe){this.app=qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,P.hl)()&&(0,P.eu)().then(()=>!0).catch(()=>!1)})()}read(){var qe=this;return(0,s.Z)(function*(){return(yield qe._canUseIndexedDBPromise)&&(yield function ct(ft){return mt.apply(this,arguments)}(qe.app))||{heartbeats:[]}})()}overwrite(qe){var _t=this;return(0,s.Z)(function*(){var Rt;if(yield _t._canUseIndexedDBPromise){const bn=yield _t.read();return zt(_t.app,{lastSentHeartbeatDate:null!==(Rt=qe.lastSentHeartbeatDate)&&void 0!==Rt?Rt:bn.lastSentHeartbeatDate,heartbeats:qe.heartbeats})}})()}add(qe){var _t=this;return(0,s.Z)(function*(){var Rt;if(yield _t._canUseIndexedDBPromise){const bn=yield _t.read();return zt(_t.app,{lastSentHeartbeatDate:null!==(Rt=qe.lastSentHeartbeatDate)&&void 0!==Rt?Rt:bn.lastSentHeartbeatDate,heartbeats:[...bn.heartbeats,...qe.heartbeats]})}})()}}function br(ft){return(0,P.L)(JSON.stringify({version:2,heartbeats:ft})).length}!function Jn(ft){At(new _.wA("platform-logger",qe=>new U(qe),"PRIVATE")),At(new _.wA("heartbeat",qe=>new Fr(qe),"PRIVATE")),Xt(z,Q,ft),Xt(z,Q,"esm2017"),Xt("fire-js","")}("")},4859:(d,h,p)=>{"use strict";p.d(h,{H0:()=>z,wA:()=>w,zt:()=>L});var s=p(5861),_=p(2090);class w{constructor(x,j,G){this.name=x,this.instanceFactory=j,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(x){return this.instantiationMode=x,this}setMultipleInstances(x){return this.multipleInstances=x,this}setServiceProps(x){return this.serviceProps=x,this}setInstanceCreatedCallback(x){return this.onInstanceCreated=x,this}}const P="[DEFAULT]";class L{constructor(x,j){this.name=x,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(x){const j=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(j)){const G=new _.BH;if(this.instancesDeferred.set(j,G),this.isInitialized(j)||this.shouldAutoInitialize())try{const k=this.getOrInitializeService({instanceIdentifier:j});k&&G.resolve(k)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(x){var j;const G=this.normalizeInstanceIdentifier(x?.identifier),k=null!==(j=x?.optional)&&void 0!==j&&j;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(k)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(Y){if(k)return null;throw Y}}getComponent(){return this.component}setComponent(x){if(x.name!==this.name)throw Error(`Mismatching Component ${x.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=x,this.shouldAutoInitialize()){if(function V(Q){return"EAGER"===Q.instantiationMode}(x))try{this.getOrInitializeService({instanceIdentifier:P})}catch{}for(const[j,G]of this.instancesDeferred.entries()){const k=this.normalizeInstanceIdentifier(j);try{const Y=this.getOrInitializeService({instanceIdentifier:k});G.resolve(Y)}catch{}}}}clearInstance(x=P){this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)}delete(){var x=this;return(0,s.Z)(function*(){const j=Array.from(x.instances.values());yield Promise.all([...j.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...j.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(x=P){return this.instances.has(x)}getOptions(x=P){return this.instancesOptions.get(x)||{}}initialize(x={}){const{options:j={}}=x,G=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const k=this.getOrInitializeService({instanceIdentifier:G,options:j});for(const[Y,A]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(Y)&&A.resolve(k);return k}onInit(x,j){var G;const k=this.normalizeInstanceIdentifier(j),Y=null!==(G=this.onInitCallbacks.get(k))&&void 0!==G?G:new Set;Y.add(x),this.onInitCallbacks.set(k,Y);const A=this.instances.get(k);return A&&x(A,k),()=>{Y.delete(x)}}invokeOnInitCallbacks(x,j){const G=this.onInitCallbacks.get(j);if(G)for(const k of G)try{k(x,j)}catch{}}getOrInitializeService({instanceIdentifier:x,options:j={}}){let G=this.instances.get(x);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=x,Q===P?void 0:Q),options:j}),this.instances.set(x,G),this.instancesOptions.set(x,j),this.invokeOnInitCallbacks(G,x),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,x,G)}catch{}var Q;return G||null}normalizeInstanceIdentifier(x=P){return this.component?this.component.multipleInstances?x:P:x}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(x){this.name=x,this.providers=new Map}addComponent(x){const j=this.getProvider(x.name);if(j.isComponentSet())throw new Error(`Component ${x.name} has already been registered with ${this.name}`);j.setComponent(x)}addOrOverwriteComponent(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.addComponent(x)}getProvider(x){if(this.providers.has(x))return this.providers.get(x);const j=new L(x,this);return this.providers.set(x,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(d,h,p)=>{"use strict";p.d(h,{Am:()=>Q,Ub:()=>z,Yd:()=>V,in:()=>_});const s=[];var _=(()=>{return(x=_||(_={}))[x.DEBUG=0]="DEBUG",x[x.VERBOSE=1]="VERBOSE",x[x.INFO=2]="INFO",x[x.WARN=3]="WARN",x[x.ERROR=4]="ERROR",x[x.SILENT=5]="SILENT",_;var x})();const w={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},P=_.INFO,L={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},U=(x,j,...G)=>{if(j<x.logLevel)return;const k=(new Date).toISOString(),Y=L[j];if(!Y)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Y](`[${k}]  ${x.name}:`,...G)};class V{constructor(j){this.name=j,this._logLevel=P,this._logHandler=U,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in _))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?w[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,...j),this._logHandler(this,_.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,...j),this._logHandler(this,_.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,_.INFO,...j),this._logHandler(this,_.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,_.WARN,...j),this._logHandler(this,_.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,_.ERROR,...j),this._logHandler(this,_.ERROR,...j)}}function z(x){s.forEach(j=>{j.setLogLevel(x)})}function Q(x,j){for(const G of s){let k=null;j&&j.level&&(k=w[j.level]),G.userLogHandler=null===x?null:(Y,A,...N)=>{const I=N.map(T=>{if(null==T)return null;if("string"==typeof T)return T;if("number"==typeof T||"boolean"==typeof T)return T.toString();if(T instanceof Error)return T.message;try{return JSON.stringify(T)}catch{return null}}).filter(T=>T).join(" ");A>=(k??Y.logLevel)&&x({level:_[A].toLowerCase(),message:I,args:N,type:Y.name})}}}},8766:(d,h,p)=>{"use strict";p.d(h,{Lj:()=>ne,X3:()=>J});var s=p(5861);let w,P;const V=new WeakMap,z=new WeakMap,Q=new WeakMap,x=new WeakMap,j=new WeakMap;let Y={get(ve,Ie,Ee){if(ve instanceof IDBTransaction){if("done"===Ie)return z.get(ve);if("objectStoreNames"===Ie)return ve.objectStoreNames||Q.get(ve);if("store"===Ie)return Ee.objectStoreNames[1]?void 0:Ee.objectStore(Ee.objectStoreNames[0])}return T(ve[Ie])},set:(ve,Ie,Ee)=>(ve[Ie]=Ee,!0),has:(ve,Ie)=>ve instanceof IDBTransaction&&("done"===Ie||"store"===Ie)||Ie in ve};function I(ve){return"function"==typeof ve?function N(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function U(){return P||(P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...Ie){return ve.apply(W(this),Ie),T(V.get(this))}:function(...Ie){return T(ve.apply(W(this),Ie))}:function(Ie,...Ee){const de=ve.call(W(this),Ie,...Ee);return Q.set(de,Ie.sort?Ie.sort():[Ie]),T(de)}}(ve):(ve instanceof IDBTransaction&&function k(ve){if(z.has(ve))return;const Ie=new Promise((Ee,de)=>{const se=()=>{ve.removeEventListener("complete",ee),ve.removeEventListener("error",te),ve.removeEventListener("abort",te)},ee=()=>{Ee(),se()},te=()=>{de(ve.error||new DOMException("AbortError","AbortError")),se()};ve.addEventListener("complete",ee),ve.addEventListener("error",te),ve.addEventListener("abort",te)});z.set(ve,Ie)}(ve),((ve,Ie)=>Ie.some(Ee=>ve instanceof Ee))(ve,function L(){return w||(w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,Y):ve)}function T(ve){if(ve instanceof IDBRequest)return function G(ve){const Ie=new Promise((Ee,de)=>{const se=()=>{ve.removeEventListener("success",ee),ve.removeEventListener("error",te)},ee=()=>{Ee(T(ve.result)),se()},te=()=>{de(ve.error),se()};ve.addEventListener("success",ee),ve.addEventListener("error",te)});return Ie.then(Ee=>{Ee instanceof IDBCursor&&V.set(Ee,ve)}).catch(()=>{}),j.set(Ie,ve),Ie}(ve);if(x.has(ve))return x.get(ve);const Ie=I(ve);return Ie!==ve&&(x.set(ve,Ie),j.set(Ie,ve)),Ie}const W=ve=>j.get(ve);function J(ve,Ie,{blocked:Ee,upgrade:de,blocking:se,terminated:ee}={}){const te=indexedDB.open(ve,Ie),ue=T(te);return de&&te.addEventListener("upgradeneeded",Re=>{de(T(te.result),Re.oldVersion,Re.newVersion,T(te.transaction))}),Ee&&te.addEventListener("blocked",()=>Ee()),ue.then(Re=>{ee&&Re.addEventListener("close",()=>ee()),se&&Re.addEventListener("versionchange",()=>se())}).catch(()=>{}),ue}function ne(ve,{blocked:Ie}={}){const Ee=indexedDB.deleteDatabase(ve);return Ie&&Ee.addEventListener("blocked",()=>Ie()),T(Ee).then(()=>{})}const re=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],Pe=new Map;function _e(ve,Ie){if(!(ve instanceof IDBDatabase)||Ie in ve||"string"!=typeof Ie)return;if(Pe.get(Ie))return Pe.get(Ie);const Ee=Ie.replace(/FromIndex$/,""),de=Ie!==Ee,se=me.includes(Ee);if(!(Ee in(de?IDBIndex:IDBObjectStore).prototype)||!se&&!re.includes(Ee))return;const ee=function(){var te=(0,s.Z)(function*(ue,...Re){const Oe=this.transaction(ue,se?"readwrite":"readonly");let Ye=Oe.store;return de&&(Ye=Ye.index(Re.shift())),(yield Promise.all([Ye[Ee](...Re),se&&Oe.done]))[0]});return function(Re){return te.apply(this,arguments)}}();return Pe.set(Ie,ee),ee}!function A(ve){Y=ve(Y)}(ve=>({...ve,get:(Ie,Ee,de)=>_e(Ie,Ee)||ve.get(Ie,Ee,de),has:(Ie,Ee)=>!!_e(Ie,Ee)||ve.has(Ie,Ee)}))},5861:(d,h,p)=>{"use strict";function s(w,P,L,U,V,z,Q){try{var x=w[z](Q),j=x.value}catch(G){return void L(G)}x.done?P(j):Promise.resolve(j).then(U,V)}function _(w){return function(){var P=this,L=arguments;return new Promise(function(U,V){var z=w.apply(P,L);function Q(j){s(z,U,V,Q,x,"next",j)}function x(j){s(z,U,V,Q,x,"throw",j)}Q(void 0)})}}p.d(h,{Z:()=>_})}},d=>{d(d.s=3272)}]);